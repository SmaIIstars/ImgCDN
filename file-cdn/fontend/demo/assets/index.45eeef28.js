var dS=Object.defineProperty;var pS=(_e,j,et)=>j in _e?dS(_e,j,{enumerable:!0,configurable:!0,writable:!0,value:et}):_e[j]=et;var mS=(_e,j)=>()=>(j||_e((j={exports:{}}).exports,j),j.exports);var is=(_e,j,et)=>(pS(_e,typeof j!="symbol"?j+"":j,et),et),gy=(_e,j,et)=>{if(!j.has(_e))throw TypeError("Cannot "+et)};var Bv=(_e,j,et)=>(gy(_e,j,"read from private field"),et?et.call(_e):j.get(_e)),yy=(_e,j,et)=>{if(j.has(_e))throw TypeError("Cannot add the same private member more than once");j instanceof WeakSet?j.add(_e):j.set(_e,et)},xy=(_e,j,et,tt)=>(gy(_e,j,"write to private field"),tt?tt.call(_e,et):j.set(_e,et),et);var gS=mS((exports,module)=>{const p$4=function(){const j=document.createElement("link").relList;if(j&&j.supports&&j.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))tt(nt);new MutationObserver(nt=>{for(const rt of nt)if(rt.type==="childList")for(const it of rt.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&tt(it)}).observe(document,{childList:!0,subtree:!0});function et(nt){const rt={};return nt.integrity&&(rt.integrity=nt.integrity),nt.referrerpolicy&&(rt.referrerPolicy=nt.referrerpolicy),nt.crossorigin==="use-credentials"?rt.credentials="include":nt.crossorigin==="anonymous"?rt.credentials="omit":rt.credentials="same-origin",rt}function tt(nt){if(nt.ep)return;nt.ep=!0;const rt=et(nt);fetch(nt.href,rt)}};p$4();var commonjsGlobal$2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var j=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(_e).forEach(function(et){var tt=Object.getOwnPropertyDescriptor(_e,et);Object.defineProperty(j,et,tt.get?tt:{enumerable:!0,get:function(){return _e[et]}})}),j}var reactDom={exports:{}},reactDom_production_min={},react={exports:{}},react_production_min={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols$1=Object.getOwnPropertySymbols,hasOwnProperty$3=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject$1(_e){if(_e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(_e)}function shouldUseNative(){try{if(!Object.assign)return!1;var _e=new String("abc");if(_e[5]="de",Object.getOwnPropertyNames(_e)[0]==="5")return!1;for(var j={},et=0;et<10;et++)j["_"+String.fromCharCode(et)]=et;var tt=Object.getOwnPropertyNames(j).map(function(rt){return j[rt]});if(tt.join("")!=="0123456789")return!1;var nt={};return"abcdefghijklmnopqrst".split("").forEach(function(rt){nt[rt]=rt}),Object.keys(Object.assign({},nt)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function(_e,j){for(var et,tt=toObject$1(_e),nt,rt=1;rt<arguments.length;rt++){et=Object(arguments[rt]);for(var it in et)hasOwnProperty$3.call(et,it)&&(tt[it]=et[it]);if(getOwnPropertySymbols$1){nt=getOwnPropertySymbols$1(et);for(var st=0;st<nt.length;st++)propIsEnumerable.call(et,nt[st])&&(tt[nt[st]]=et[nt[st]])}}return tt};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=objectAssign,n$3=60103,p$3=60106;react_production_min.Fragment=60107;react_production_min.StrictMode=60108;react_production_min.Profiler=60114;var q$2=60109,r$2=60110,t$1=60112;react_production_min.Suspense=60113;var u=60115,v$1=60116;if(typeof Symbol=="function"&&Symbol.for){var w$1=Symbol.for;n$3=w$1("react.element"),p$3=w$1("react.portal"),react_production_min.Fragment=w$1("react.fragment"),react_production_min.StrictMode=w$1("react.strict_mode"),react_production_min.Profiler=w$1("react.profiler"),q$2=w$1("react.provider"),r$2=w$1("react.context"),t$1=w$1("react.forward_ref"),react_production_min.Suspense=w$1("react.suspense"),u=w$1("react.memo"),v$1=w$1("react.lazy")}var x$3=typeof Symbol=="function"&&Symbol.iterator;function y$3(_e){return _e===null||typeof _e!="object"?null:(_e=x$3&&_e[x$3]||_e["@@iterator"],typeof _e=="function"?_e:null)}function z$1(_e){for(var j="https://reactjs.org/docs/error-decoder.html?invariant="+_e,et=1;et<arguments.length;et++)j+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+_e+"; visit "+j+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B$1={};function C(_e,j,et){this.props=_e,this.context=j,this.refs=B$1,this.updater=et||A$1}C.prototype.isReactComponent={};C.prototype.setState=function(_e,j){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error(z$1(85));this.updater.enqueueSetState(this,_e,j,"setState")};C.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function D$1(){}D$1.prototype=C.prototype;function E$1(_e,j,et){this.props=_e,this.context=j,this.refs=B$1,this.updater=et||A$1}var F$1=E$1.prototype=new D$1;F$1.constructor=E$1;l$2(F$1,C.prototype);F$1.isPureReactComponent=!0;var G$1={current:null},H$1=Object.prototype.hasOwnProperty,I$1={key:!0,ref:!0,__self:!0,__source:!0};function J(_e,j,et){var tt,nt={},rt=null,it=null;if(j!=null)for(tt in j.ref!==void 0&&(it=j.ref),j.key!==void 0&&(rt=""+j.key),j)H$1.call(j,tt)&&!I$1.hasOwnProperty(tt)&&(nt[tt]=j[tt]);var st=arguments.length-2;if(st===1)nt.children=et;else if(1<st){for(var at=Array(st),ot=0;ot<st;ot++)at[ot]=arguments[ot+2];nt.children=at}if(_e&&_e.defaultProps)for(tt in st=_e.defaultProps,st)nt[tt]===void 0&&(nt[tt]=st[tt]);return{$$typeof:n$3,type:_e,key:rt,ref:it,props:nt,_owner:G$1.current}}function K(_e,j){return{$$typeof:n$3,type:_e.type,key:j,ref:_e.ref,props:_e.props,_owner:_e._owner}}function L(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===n$3}function escape$1(_e){var j={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(et){return j[et]})}var M$1=/\/+/g;function N$1(_e,j){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):j.toString(36)}function O$1(_e,j,et,tt,nt){var rt=typeof _e;(rt==="undefined"||rt==="boolean")&&(_e=null);var it=!1;if(_e===null)it=!0;else switch(rt){case"string":case"number":it=!0;break;case"object":switch(_e.$$typeof){case n$3:case p$3:it=!0}}if(it)return it=_e,nt=nt(it),_e=tt===""?"."+N$1(it,0):tt,Array.isArray(nt)?(et="",_e!=null&&(et=_e.replace(M$1,"$&/")+"/"),O$1(nt,j,et,"",function(ot){return ot})):nt!=null&&(L(nt)&&(nt=K(nt,et+(!nt.key||it&&it.key===nt.key?"":(""+nt.key).replace(M$1,"$&/")+"/")+_e)),j.push(nt)),1;if(it=0,tt=tt===""?".":tt+":",Array.isArray(_e))for(var st=0;st<_e.length;st++){rt=_e[st];var at=tt+N$1(rt,st);it+=O$1(rt,j,et,at,nt)}else if(at=y$3(_e),typeof at=="function")for(_e=at.call(_e),st=0;!(rt=_e.next()).done;)rt=rt.value,at=tt+N$1(rt,st++),it+=O$1(rt,j,et,at,nt);else if(rt==="object")throw j=""+_e,Error(z$1(31,j==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":j));return it}function P$1(_e,j,et){if(_e==null)return _e;var tt=[],nt=0;return O$1(_e,tt,"","",function(rt){return j.call(et,rt,nt++)}),tt}function Q(_e){if(_e._status===-1){var j=_e._result;j=j(),_e._status=0,_e._result=j,j.then(function(et){_e._status===0&&(et=et.default,_e._status=1,_e._result=et)},function(et){_e._status===0&&(_e._status=2,_e._result=et)})}if(_e._status===1)return _e._result;throw _e._result}var R$1={current:null};function S$1(){var _e=R$1.current;if(_e===null)throw Error(z$1(321));return _e}var T$1={ReactCurrentDispatcher:R$1,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G$1,IsSomeRendererActing:{current:!1},assign:l$2};react_production_min.Children={map:P$1,forEach:function(_e,j,et){P$1(_e,function(){j.apply(this,arguments)},et)},count:function(_e){var j=0;return P$1(_e,function(){j++}),j},toArray:function(_e){return P$1(_e,function(j){return j})||[]},only:function(_e){if(!L(_e))throw Error(z$1(143));return _e}};react_production_min.Component=C;react_production_min.PureComponent=E$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T$1;react_production_min.cloneElement=function(_e,j,et){if(_e==null)throw Error(z$1(267,_e));var tt=l$2({},_e.props),nt=_e.key,rt=_e.ref,it=_e._owner;if(j!=null){if(j.ref!==void 0&&(rt=j.ref,it=G$1.current),j.key!==void 0&&(nt=""+j.key),_e.type&&_e.type.defaultProps)var st=_e.type.defaultProps;for(at in j)H$1.call(j,at)&&!I$1.hasOwnProperty(at)&&(tt[at]=j[at]===void 0&&st!==void 0?st[at]:j[at])}var at=arguments.length-2;if(at===1)tt.children=et;else if(1<at){st=Array(at);for(var ot=0;ot<at;ot++)st[ot]=arguments[ot+2];tt.children=st}return{$$typeof:n$3,type:_e.type,key:nt,ref:rt,props:tt,_owner:it}};react_production_min.createContext=function(_e,j){return j===void 0&&(j=null),_e={$$typeof:r$2,_calculateChangedBits:j,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null},_e.Provider={$$typeof:q$2,_context:_e},_e.Consumer=_e};react_production_min.createElement=J;react_production_min.createFactory=function(_e){var j=J.bind(null,_e);return j.type=_e,j};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:t$1,render:_e}};react_production_min.isValidElement=L;react_production_min.lazy=function(_e){return{$$typeof:v$1,_payload:{_status:-1,_result:_e},_init:Q}};react_production_min.memo=function(_e,j){return{$$typeof:u,type:_e,compare:j===void 0?null:j}};react_production_min.useCallback=function(_e,j){return S$1().useCallback(_e,j)};react_production_min.useContext=function(_e,j){return S$1().useContext(_e,j)};react_production_min.useDebugValue=function(){};react_production_min.useEffect=function(_e,j){return S$1().useEffect(_e,j)};react_production_min.useImperativeHandle=function(_e,j,et){return S$1().useImperativeHandle(_e,j,et)};react_production_min.useLayoutEffect=function(_e,j){return S$1().useLayoutEffect(_e,j)};react_production_min.useMemo=function(_e,j){return S$1().useMemo(_e,j)};react_production_min.useReducer=function(_e,j,et){return S$1().useReducer(_e,j,et)};react_production_min.useRef=function(_e){return S$1().useRef(_e)};react_production_min.useState=function(_e){return S$1().useState(_e)};react_production_min.version="17.0.2";react.exports=react_production_min;var React=react.exports,scheduler={exports:{}},scheduler_production_min={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){var j,et,tt,nt;if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;_e.unstable_now=function(){return rt.now()}}else{var it=Date,st=it.now();_e.unstable_now=function(){return it.now()-st}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var at=null,ot=null,lt=function(){if(at!==null)try{var Vt=_e.unstable_now();at(!0,Vt),at=null}catch(qt){throw setTimeout(lt,0),qt}};j=function(Vt){at!==null?setTimeout(j,0,Vt):(at=Vt,setTimeout(lt,0))},et=function(Vt,qt){ot=setTimeout(Vt,qt)},tt=function(){clearTimeout(ot)},_e.unstable_shouldYield=function(){return!1},nt=_e.unstable_forceFrameRate=function(){}}else{var ut=window.setTimeout,ct=window.clearTimeout;if(typeof console!="undefined"){var ht=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof ht!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var pt=!1,gt=null,vt=-1,ft=5,mt=0;_e.unstable_shouldYield=function(){return _e.unstable_now()>=mt},nt=function(){},_e.unstable_forceFrameRate=function(Vt){0>Vt||125<Vt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<Vt?Math.floor(1e3/Vt):5};var xt=new MessageChannel,_t=xt.port2;xt.port1.onmessage=function(){if(gt!==null){var Vt=_e.unstable_now();mt=Vt+ft;try{gt(!0,Vt)?_t.postMessage(null):(pt=!1,gt=null)}catch(qt){throw _t.postMessage(null),qt}}else pt=!1},j=function(Vt){gt=Vt,pt||(pt=!0,_t.postMessage(null))},et=function(Vt,qt){vt=ut(function(){Vt(_e.unstable_now())},qt)},tt=function(){ct(vt),vt=-1}}function Tt(Vt,qt){var an=Vt.length;Vt.push(qt);e:for(;;){var gn=an-1>>>1,yn=Vt[gn];if(yn!==void 0&&0<Ct(yn,qt))Vt[gn]=qt,Vt[an]=yn,an=gn;else break e}}function wt(Vt){return Vt=Vt[0],Vt===void 0?null:Vt}function bt(Vt){var qt=Vt[0];if(qt!==void 0){var an=Vt.pop();if(an!==qt){Vt[0]=an;e:for(var gn=0,yn=Vt.length;gn<yn;){var fn=2*(gn+1)-1,In=Vt[fn],Dn=fn+1,Mn=Vt[Dn];if(In!==void 0&&0>Ct(In,an))Mn!==void 0&&0>Ct(Mn,In)?(Vt[gn]=Mn,Vt[Dn]=an,gn=Dn):(Vt[gn]=In,Vt[fn]=an,gn=fn);else if(Mn!==void 0&&0>Ct(Mn,an))Vt[gn]=Mn,Vt[Dn]=an,gn=Dn;else break e}}return qt}return null}function Ct(Vt,qt){var an=Vt.sortIndex-qt.sortIndex;return an!==0?an:Vt.id-qt.id}var Lt=[],$t=[],Rt=1,Bt=null,Gt=3,Ft=!1,kt=!1,It=!1;function Ot(Vt){for(var qt=wt($t);qt!==null;){if(qt.callback===null)bt($t);else if(qt.startTime<=Vt)bt($t),qt.sortIndex=qt.expirationTime,Tt(Lt,qt);else break;qt=wt($t)}}function Ut(Vt){if(It=!1,Ot(Vt),!kt)if(wt(Lt)!==null)kt=!0,j(zt);else{var qt=wt($t);qt!==null&&et(Ut,qt.startTime-Vt)}}function zt(Vt,qt){kt=!1,It&&(It=!1,tt()),Ft=!0;var an=Gt;try{for(Ot(qt),Bt=wt(Lt);Bt!==null&&(!(Bt.expirationTime>qt)||Vt&&!_e.unstable_shouldYield());){var gn=Bt.callback;if(typeof gn=="function"){Bt.callback=null,Gt=Bt.priorityLevel;var yn=gn(Bt.expirationTime<=qt);qt=_e.unstable_now(),typeof yn=="function"?Bt.callback=yn:Bt===wt(Lt)&&bt(Lt),Ot(qt)}else bt(Lt);Bt=wt(Lt)}if(Bt!==null)var fn=!0;else{var In=wt($t);In!==null&&et(Ut,In.startTime-qt),fn=!1}return fn}finally{Bt=null,Gt=an,Ft=!1}}var Ht=nt;_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Vt){Vt.callback=null},_e.unstable_continueExecution=function(){kt||Ft||(kt=!0,j(zt))},_e.unstable_getCurrentPriorityLevel=function(){return Gt},_e.unstable_getFirstCallbackNode=function(){return wt(Lt)},_e.unstable_next=function(Vt){switch(Gt){case 1:case 2:case 3:var qt=3;break;default:qt=Gt}var an=Gt;Gt=qt;try{return Vt()}finally{Gt=an}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=Ht,_e.unstable_runWithPriority=function(Vt,qt){switch(Vt){case 1:case 2:case 3:case 4:case 5:break;default:Vt=3}var an=Gt;Gt=Vt;try{return qt()}finally{Gt=an}},_e.unstable_scheduleCallback=function(Vt,qt,an){var gn=_e.unstable_now();switch(typeof an=="object"&&an!==null?(an=an.delay,an=typeof an=="number"&&0<an?gn+an:gn):an=gn,Vt){case 1:var yn=-1;break;case 2:yn=250;break;case 5:yn=1073741823;break;case 4:yn=1e4;break;default:yn=5e3}return yn=an+yn,Vt={id:Rt++,callback:qt,priorityLevel:Vt,startTime:an,expirationTime:yn,sortIndex:-1},an>gn?(Vt.sortIndex=an,Tt($t,Vt),wt(Lt)===null&&Vt===wt($t)&&(It?tt():It=!0,et(Ut,an-gn))):(Vt.sortIndex=yn,Tt(Lt,Vt),kt||Ft||(kt=!0,j(zt))),Vt},_e.unstable_wrapCallback=function(Vt){var qt=Gt;return function(){var an=Gt;Gt=qt;try{return Vt.apply(this,arguments)}finally{Gt=an}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,m$3=objectAssign,r$1=scheduler.exports;function y$2(_e){for(var j="https://reactjs.org/docs/error-decoder.html?invariant="+_e,et=1;et<arguments.length;et++)j+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+_e+"; visit "+j+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!aa)throw Error(y$2(227));var ba=new Set,ca={};function da(_e,j){ea(_e,j),ea(_e+"Capture",j)}function ea(_e,j){for(ca[_e]=j,_e=0;_e<j.length;_e++)ba.add(j[_e])}var fa=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ha=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia=Object.prototype.hasOwnProperty,ja={},ka={};function la(_e){return ia.call(ka,_e)?!0:ia.call(ja,_e)?!1:ha.test(_e)?ka[_e]=!0:(ja[_e]=!0,!1)}function ma(_e,j,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof j){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function na(_e,j,et,tt){if(j===null||typeof j=="undefined"||ma(_e,j,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!j;case 4:return j===!1;case 5:return isNaN(j);case 6:return isNaN(j)||1>j}return!1}function B(_e,j,et,tt,nt,rt,it){this.acceptsBooleans=j===2||j===3||j===4,this.attributeName=tt,this.attributeNamespace=nt,this.mustUseProperty=et,this.propertyName=_e,this.type=j,this.sanitizeURL=rt,this.removeEmptyString=it}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){D[_e]=new B(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var j=_e[0];D[j]=new B(j,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){D[_e]=new B(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){D[_e]=new B(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){D[_e]=new B(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){D[_e]=new B(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){D[_e]=new B(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){D[_e]=new B(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){D[_e]=new B(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var oa=/[\-:]([a-z])/g;function pa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var j=_e.replace(oa,pa);D[j]=new B(j,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var j=_e.replace(oa,pa);D[j]=new B(j,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var j=_e.replace(oa,pa);D[j]=new B(j,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){D[_e]=new B(_e,1,!1,_e.toLowerCase(),null,!1,!1)});D.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){D[_e]=new B(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function qa(_e,j,et,tt){var nt=D.hasOwnProperty(j)?D[j]:null,rt=nt!==null?nt.type===0:tt?!1:!(!(2<j.length)||j[0]!=="o"&&j[0]!=="O"||j[1]!=="n"&&j[1]!=="N");rt||(na(j,et,nt,tt)&&(et=null),tt||nt===null?la(j)&&(et===null?_e.removeAttribute(j):_e.setAttribute(j,""+et)):nt.mustUseProperty?_e[nt.propertyName]=et===null?nt.type===3?!1:"":et:(j=nt.attributeName,tt=nt.attributeNamespace,et===null?_e.removeAttribute(j):(nt=nt.type,et=nt===3||nt===4&&et===!0?"":""+et,tt?_e.setAttributeNS(tt,j,et):_e.setAttribute(j,et))))}var ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;if(typeof Symbol=="function"&&Symbol.for){var E=Symbol.for;sa=E("react.element"),ta=E("react.portal"),ua=E("react.fragment"),wa=E("react.strict_mode"),xa=E("react.profiler"),ya=E("react.provider"),za=E("react.context"),Aa=E("react.forward_ref"),Ba=E("react.suspense"),Ca=E("react.suspense_list"),Da=E("react.memo"),Ea=E("react.lazy"),Fa=E("react.block"),E("react.scope"),Ga=E("react.opaque.id"),Ha=E("react.debug_trace_mode"),Ia=E("react.offscreen"),Ja=E("react.legacy_hidden")}var Ka=typeof Symbol=="function"&&Symbol.iterator;function La(_e){return _e===null||typeof _e!="object"?null:(_e=Ka&&_e[Ka]||_e["@@iterator"],typeof _e=="function"?_e:null)}var Ma;function Na(_e){if(Ma===void 0)try{throw Error()}catch(et){var j=et.stack.trim().match(/\n( *(at )?)/);Ma=j&&j[1]||""}return`
`+Ma+_e}var Oa=!1;function Pa(_e,j){if(!_e||Oa)return"";Oa=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(j)if(j=function(){throw Error()},Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(at){var tt=at}Reflect.construct(_e,[],j)}else{try{j.call()}catch(at){tt=at}_e.call(j.prototype)}else{try{throw Error()}catch(at){tt=at}_e()}}catch(at){if(at&&tt&&typeof at.stack=="string"){for(var nt=at.stack.split(`
`),rt=tt.stack.split(`
`),it=nt.length-1,st=rt.length-1;1<=it&&0<=st&&nt[it]!==rt[st];)st--;for(;1<=it&&0<=st;it--,st--)if(nt[it]!==rt[st]){if(it!==1||st!==1)do if(it--,st--,0>st||nt[it]!==rt[st])return`
`+nt[it].replace(" at new "," at ");while(1<=it&&0<=st);break}}}finally{Oa=!1,Error.prepareStackTrace=et}return(_e=_e?_e.displayName||_e.name:"")?Na(_e):""}function Qa(_e){switch(_e.tag){case 5:return Na(_e.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return _e=Pa(_e.type,!1),_e;case 11:return _e=Pa(_e.type.render,!1),_e;case 22:return _e=Pa(_e.type._render,!1),_e;case 1:return _e=Pa(_e.type,!0),_e;default:return""}}function Ra(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ua:return"Fragment";case ta:return"Portal";case xa:return"Profiler";case wa:return"StrictMode";case Ba:return"Suspense";case Ca:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case za:return(_e.displayName||"Context")+".Consumer";case ya:return(_e._context.displayName||"Context")+".Provider";case Aa:var j=_e.render;return j=j.displayName||j.name||"",_e.displayName||(j!==""?"ForwardRef("+j+")":"ForwardRef");case Da:return Ra(_e.type);case Fa:return Ra(_e._render);case Ea:j=_e._payload,_e=_e._init;try{return Ra(_e(j))}catch{}}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"object":case"string":case"undefined":return _e;default:return""}}function Ta(_e){var j=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(j==="checkbox"||j==="radio")}function Ua(_e){var j=Ta(_e)?"checked":"value",et=Object.getOwnPropertyDescriptor(_e.constructor.prototype,j),tt=""+_e[j];if(!_e.hasOwnProperty(j)&&typeof et!="undefined"&&typeof et.get=="function"&&typeof et.set=="function"){var nt=et.get,rt=et.set;return Object.defineProperty(_e,j,{configurable:!0,get:function(){return nt.call(this)},set:function(it){tt=""+it,rt.call(this,it)}}),Object.defineProperty(_e,j,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(it){tt=""+it},stopTracking:function(){_e._valueTracker=null,delete _e[j]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var j=_e._valueTracker;if(!j)return!0;var et=j.getValue(),tt="";return _e&&(tt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=tt,_e!==et?(j.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document!="undefined"?document:void 0),typeof _e=="undefined")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,j){var et=j.checked;return m$3({},j,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et!=null?et:_e._wrapperState.initialChecked})}function Za(_e,j){var et=j.defaultValue==null?"":j.defaultValue,tt=j.checked!=null?j.checked:j.defaultChecked;et=Sa(j.value!=null?j.value:et),_e._wrapperState={initialChecked:tt,initialValue:et,controlled:j.type==="checkbox"||j.type==="radio"?j.checked!=null:j.value!=null}}function $a(_e,j){j=j.checked,j!=null&&qa(_e,"checked",j,!1)}function ab(_e,j){$a(_e,j);var et=Sa(j.value),tt=j.type;if(et!=null)tt==="number"?(et===0&&_e.value===""||_e.value!=et)&&(_e.value=""+et):_e.value!==""+et&&(_e.value=""+et);else if(tt==="submit"||tt==="reset"){_e.removeAttribute("value");return}j.hasOwnProperty("value")?bb(_e,j.type,et):j.hasOwnProperty("defaultValue")&&bb(_e,j.type,Sa(j.defaultValue)),j.checked==null&&j.defaultChecked!=null&&(_e.defaultChecked=!!j.defaultChecked)}function cb(_e,j,et){if(j.hasOwnProperty("value")||j.hasOwnProperty("defaultValue")){var tt=j.type;if(!(tt!=="submit"&&tt!=="reset"||j.value!==void 0&&j.value!==null))return;j=""+_e._wrapperState.initialValue,et||j===_e.value||(_e.value=j),_e.defaultValue=j}et=_e.name,et!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,et!==""&&(_e.name=et)}function bb(_e,j,et){(j!=="number"||Xa(_e.ownerDocument)!==_e)&&(et==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+et&&(_e.defaultValue=""+et))}function db(_e){var j="";return aa.Children.forEach(_e,function(et){et!=null&&(j+=et)}),j}function eb(_e,j){return _e=m$3({children:void 0},j),(j=db(j.children))&&(_e.children=j),_e}function fb(_e,j,et,tt){if(_e=_e.options,j){j={};for(var nt=0;nt<et.length;nt++)j["$"+et[nt]]=!0;for(et=0;et<_e.length;et++)nt=j.hasOwnProperty("$"+_e[et].value),_e[et].selected!==nt&&(_e[et].selected=nt),nt&&tt&&(_e[et].defaultSelected=!0)}else{for(et=""+Sa(et),j=null,nt=0;nt<_e.length;nt++){if(_e[nt].value===et){_e[nt].selected=!0,tt&&(_e[nt].defaultSelected=!0);return}j!==null||_e[nt].disabled||(j=_e[nt])}j!==null&&(j.selected=!0)}}function gb(_e,j){if(j.dangerouslySetInnerHTML!=null)throw Error(y$2(91));return m$3({},j,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,j){var et=j.value;if(et==null){if(et=j.children,j=j.defaultValue,et!=null){if(j!=null)throw Error(y$2(92));if(Array.isArray(et)){if(!(1>=et.length))throw Error(y$2(93));et=et[0]}j=et}j==null&&(j=""),et=j}_e._wrapperState={initialValue:Sa(et)}}function ib(_e,j){var et=Sa(j.value),tt=Sa(j.defaultValue);et!=null&&(et=""+et,et!==_e.value&&(_e.value=et),j.defaultValue==null&&_e.defaultValue!==et&&(_e.defaultValue=et)),tt!=null&&(_e.defaultValue=""+tt)}function jb(_e){var j=_e.textContent;j===_e._wrapperState.initialValue&&j!==""&&j!==null&&(_e.value=j)}var kb={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function lb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mb(_e,j){return _e==null||_e==="http://www.w3.org/1999/xhtml"?lb(j):_e==="http://www.w3.org/2000/svg"&&j==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var nb,ob=function(_e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(j,et,tt,nt){MSApp.execUnsafeLocalFunction(function(){return _e(j,et,tt,nt)})}:_e}(function(_e,j){if(_e.namespaceURI!==kb.svg||"innerHTML"in _e)_e.innerHTML=j;else{for(nb=nb||document.createElement("div"),nb.innerHTML="<svg>"+j.valueOf().toString()+"</svg>",j=nb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;j.firstChild;)_e.appendChild(j.firstChild)}});function pb(_e,j){if(j){var et=_e.firstChild;if(et&&et===_e.lastChild&&et.nodeType===3){et.nodeValue=j;return}}_e.textContent=j}var qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(qb).forEach(function(_e){rb.forEach(function(j){j=j+_e.charAt(0).toUpperCase()+_e.substring(1),qb[j]=qb[_e]})});function sb(_e,j,et){return j==null||typeof j=="boolean"||j===""?"":et||typeof j!="number"||j===0||qb.hasOwnProperty(_e)&&qb[_e]?(""+j).trim():j+"px"}function tb(_e,j){_e=_e.style;for(var et in j)if(j.hasOwnProperty(et)){var tt=et.indexOf("--")===0,nt=sb(et,j[et],tt);et==="float"&&(et="cssFloat"),tt?_e.setProperty(et,nt):_e[et]=nt}}var ub=m$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vb(_e,j){if(j){if(ub[_e]&&(j.children!=null||j.dangerouslySetInnerHTML!=null))throw Error(y$2(137,_e));if(j.dangerouslySetInnerHTML!=null){if(j.children!=null)throw Error(y$2(60));if(!(typeof j.dangerouslySetInnerHTML=="object"&&"__html"in j.dangerouslySetInnerHTML))throw Error(y$2(61))}if(j.style!=null&&typeof j.style!="object")throw Error(y$2(62))}}function wb(_e,j){if(_e.indexOf("-")===-1)return typeof j.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(y$2(280));var j=_e.stateNode;j&&(j=Db(j),yb(_e.stateNode,_e.type,j))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,j=Ab;if(Ab=zb=null,Bb(_e),j)for(_e=0;_e<j.length;_e++)Bb(j[_e])}}function Gb(_e,j){return _e(j)}function Hb(_e,j,et,tt,nt){return _e(j,et,tt,nt)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){(zb!==null||Ab!==null)&&(Ib(),Fb())}function Nb(_e,j,et){if(Lb)return _e(j,et);Lb=!0;try{return Jb(_e,j,et)}finally{Lb=!1,Mb()}}function Ob(_e,j){var et=_e.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[j];e:switch(j){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||(_e=_e.type,tt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!tt;break e;default:_e=!1}if(_e)return null;if(et&&typeof et!="function")throw Error(y$2(231,j,typeof et));return et}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,"passive",{get:function(){Pb=!0}}),window.addEventListener("test",Qb,Qb),window.removeEventListener("test",Qb,Qb)}catch{Pb=!1}function Rb(_e,j,et,tt,nt,rt,it,st,at){var ot=Array.prototype.slice.call(arguments,3);try{j.apply(et,ot)}catch(lt){this.onError(lt)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(_e){Sb=!0,Tb=_e}};function Xb(_e,j,et,tt,nt,rt,it,st,at){Sb=!1,Tb=null,Rb.apply(Wb,arguments)}function Yb(_e,j,et,tt,nt,rt,it,st,at){if(Xb.apply(this,arguments),Sb){if(Sb){var ot=Tb;Sb=!1,Tb=null}else throw Error(y$2(198));Ub||(Ub=!0,Vb=ot)}}function Zb(_e){var j=_e,et=_e;if(_e.alternate)for(;j.return;)j=j.return;else{_e=j;do j=_e,(j.flags&1026)!==0&&(et=j.return),_e=j.return;while(_e)}return j.tag===3?et:null}function $b(_e){if(_e.tag===13){var j=_e.memoizedState;if(j===null&&(_e=_e.alternate,_e!==null&&(j=_e.memoizedState)),j!==null)return j.dehydrated}return null}function ac(_e){if(Zb(_e)!==_e)throw Error(y$2(188))}function bc(_e){var j=_e.alternate;if(!j){if(j=Zb(_e),j===null)throw Error(y$2(188));return j!==_e?null:_e}for(var et=_e,tt=j;;){var nt=et.return;if(nt===null)break;var rt=nt.alternate;if(rt===null){if(tt=nt.return,tt!==null){et=tt;continue}break}if(nt.child===rt.child){for(rt=nt.child;rt;){if(rt===et)return ac(nt),_e;if(rt===tt)return ac(nt),j;rt=rt.sibling}throw Error(y$2(188))}if(et.return!==tt.return)et=nt,tt=rt;else{for(var it=!1,st=nt.child;st;){if(st===et){it=!0,et=nt,tt=rt;break}if(st===tt){it=!0,tt=nt,et=rt;break}st=st.sibling}if(!it){for(st=rt.child;st;){if(st===et){it=!0,et=rt,tt=nt;break}if(st===tt){it=!0,tt=rt,et=nt;break}st=st.sibling}if(!it)throw Error(y$2(189))}}if(et.alternate!==tt)throw Error(y$2(190))}if(et.tag!==3)throw Error(y$2(188));return et.stateNode.current===et?_e:j}function cc(_e){if(_e=bc(_e),!_e)return null;for(var j=_e;;){if(j.tag===5||j.tag===6)return j;if(j.child)j.child.return=j,j=j.child;else{if(j===_e)break;for(;!j.sibling;){if(!j.return||j.return===_e)return null;j=j.return}j.sibling.return=j.return,j=j.sibling}}return null}function dc(_e,j){for(var et=_e.alternate;j!==null;){if(j===_e||j===et)return!0;j=j.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc$1(_e,j,et,tt,nt){return{blockedOn:_e,domEventName:j,eventSystemFlags:et|16,nativeEvent:nt,targetContainers:[tt]}}function sc(_e,j){switch(_e){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":mc=null;break;case"pointerover":case"pointerout":nc.delete(j.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(j.pointerId)}}function tc(_e,j,et,tt,nt,rt){return _e===null||_e.nativeEvent!==rt?(_e=rc$1(j,et,tt,nt,rt),j!==null&&(j=Cb(j),j!==null&&fc(j)),_e):(_e.eventSystemFlags|=tt,j=_e.targetContainers,nt!==null&&j.indexOf(nt)===-1&&j.push(nt),_e)}function uc(_e,j,et,tt,nt){switch(j){case"focusin":return kc=tc(kc,_e,j,et,tt,nt),!0;case"dragenter":return lc=tc(lc,_e,j,et,tt,nt),!0;case"mouseover":return mc=tc(mc,_e,j,et,tt,nt),!0;case"pointerover":var rt=nt.pointerId;return nc.set(rt,tc(nc.get(rt)||null,_e,j,et,tt,nt)),!0;case"gotpointercapture":return rt=nt.pointerId,oc.set(rt,tc(oc.get(rt)||null,_e,j,et,tt,nt)),!0}return!1}function vc(_e){var j=wc(_e.target);if(j!==null){var et=Zb(j);if(et!==null){if(j=et.tag,j===13){if(j=$b(et),j!==null){_e.blockedOn=j,hc(_e.lanePriority,function(){r$1.unstable_runWithPriority(_e.priority,function(){gc(et)})});return}}else if(j===3&&et.stateNode.hydrate){_e.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function xc(_e){if(_e.blockedOn!==null)return!1;for(var j=_e.targetContainers;0<j.length;){var et=yc(_e.domEventName,_e.eventSystemFlags,j[0],_e.nativeEvent);if(et!==null)return j=Cb(et),j!==null&&fc(j),_e.blockedOn=et,!1;j.shift()}return!0}function zc(_e,j,et){xc(_e)&&et.delete(j)}function Ac(){for(ic=!1;0<jc.length;){var _e=jc[0];if(_e.blockedOn!==null){_e=Cb(_e.blockedOn),_e!==null&&ec(_e);break}for(var j=_e.targetContainers;0<j.length;){var et=yc(_e.domEventName,_e.eventSystemFlags,j[0],_e.nativeEvent);if(et!==null){_e.blockedOn=et;break}j.shift()}_e.blockedOn===null&&jc.shift()}kc!==null&&xc(kc)&&(kc=null),lc!==null&&xc(lc)&&(lc=null),mc!==null&&xc(mc)&&(mc=null),nc.forEach(zc),oc.forEach(zc)}function Bc(_e,j){_e.blockedOn===j&&(_e.blockedOn=null,ic||(ic=!0,r$1.unstable_scheduleCallback(r$1.unstable_NormalPriority,Ac)))}function Cc(_e){function j(nt){return Bc(nt,_e)}if(0<jc.length){Bc(jc[0],_e);for(var et=1;et<jc.length;et++){var tt=jc[et];tt.blockedOn===_e&&(tt.blockedOn=null)}}for(kc!==null&&Bc(kc,_e),lc!==null&&Bc(lc,_e),mc!==null&&Bc(mc,_e),nc.forEach(j),oc.forEach(j),et=0;et<pc.length;et++)tt=pc[et],tt.blockedOn===_e&&(tt.blockedOn=null);for(;0<pc.length&&(et=pc[0],et.blockedOn===null);)vc(et),et.blockedOn===null&&pc.shift()}function Dc(_e,j){var et={};return et[_e.toLowerCase()]=j.toLowerCase(),et["Webkit"+_e]="webkit"+j,et["Moz"+_e]="moz"+j,et}var Ec={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Fc={},Gc={};fa&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Hc(_e){if(Fc[_e])return Fc[_e];if(!Ec[_e])return _e;var j=Ec[_e],et;for(et in j)if(j.hasOwnProperty(et)&&et in Gc)return Fc[_e]=j[et];return _e}var Ic=Hc("animationend"),Jc=Hc("animationiteration"),Kc=Hc("animationstart"),Lc=Hc("transitionend"),Mc=new Map,Nc=new Map,Oc=["abort","abort",Ic,"animationEnd",Jc,"animationIteration",Kc,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lc,"transitionEnd","waiting","waiting"];function Pc(_e,j){for(var et=0;et<_e.length;et+=2){var tt=_e[et],nt=_e[et+1];nt="on"+(nt[0].toUpperCase()+nt.slice(1)),Nc.set(tt,j),Mc.set(tt,nt),da(nt,[tt])}}var Qc=r$1.unstable_now;Qc();var F=8;function Rc(_e){if((1&_e)!==0)return F=15,1;if((2&_e)!==0)return F=14,2;if((4&_e)!==0)return F=13,4;var j=24&_e;return j!==0?(F=12,j):(_e&32)!==0?(F=11,32):(j=192&_e,j!==0?(F=10,j):(_e&256)!==0?(F=9,256):(j=3584&_e,j!==0?(F=8,j):(_e&4096)!==0?(F=7,4096):(j=4186112&_e,j!==0?(F=6,j):(j=62914560&_e,j!==0?(F=5,j):_e&67108864?(F=4,67108864):(_e&134217728)!==0?(F=3,134217728):(j=805306368&_e,j!==0?(F=2,j):(1073741824&_e)!==0?(F=1,1073741824):(F=8,_e))))))}function Sc(_e){switch(_e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(_e){switch(_e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y$2(358,_e))}}function Uc(_e,j){var et=_e.pendingLanes;if(et===0)return F=0;var tt=0,nt=0,rt=_e.expiredLanes,it=_e.suspendedLanes,st=_e.pingedLanes;if(rt!==0)tt=rt,nt=F=15;else if(rt=et&134217727,rt!==0){var at=rt&~it;at!==0?(tt=Rc(at),nt=F):(st&=rt,st!==0&&(tt=Rc(st),nt=F))}else rt=et&~it,rt!==0?(tt=Rc(rt),nt=F):st!==0&&(tt=Rc(st),nt=F);if(tt===0)return 0;if(tt=31-Vc(tt),tt=et&((0>tt?0:1<<tt)<<1)-1,j!==0&&j!==tt&&(j&it)===0){if(Rc(j),nt<=F)return j;F=nt}if(j=_e.entangledLanes,j!==0)for(_e=_e.entanglements,j&=tt;0<j;)et=31-Vc(j),nt=1<<et,tt|=_e[et],j&=~nt;return tt}function Wc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function Xc(_e,j){switch(_e){case 15:return 1;case 14:return 2;case 12:return _e=Yc(24&~j),_e===0?Xc(10,j):_e;case 10:return _e=Yc(192&~j),_e===0?Xc(8,j):_e;case 8:return _e=Yc(3584&~j),_e===0&&(_e=Yc(4186112&~j),_e===0&&(_e=512)),_e;case 2:return j=Yc(805306368&~j),j===0&&(j=268435456),j}throw Error(y$2(358,_e))}function Yc(_e){return _e&-_e}function Zc(_e){for(var j=[],et=0;31>et;et++)j.push(_e);return j}function $c(_e,j,et){_e.pendingLanes|=j;var tt=j-1;_e.suspendedLanes&=tt,_e.pingedLanes&=tt,_e=_e.eventTimes,j=31-Vc(j),_e[j]=et}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(_e){return _e===0?32:31-(bd(_e)/cd|0)|0}var dd=r$1.unstable_UserBlockingPriority,ed=r$1.unstable_runWithPriority,fd=!0;function gd(_e,j,et,tt){Kb||Ib();var nt=hd,rt=Kb;Kb=!0;try{Hb(nt,_e,j,et,tt)}finally{(Kb=rt)||Mb()}}function id$1(_e,j,et,tt){ed(dd,hd.bind(null,_e,j,et,tt))}function hd(_e,j,et,tt){if(fd){var nt;if((nt=(j&4)===0)&&0<jc.length&&-1<qc.indexOf(_e))_e=rc$1(null,_e,j,et,tt),jc.push(_e);else{var rt=yc(_e,j,et,tt);if(rt===null)nt&&sc(_e,tt);else{if(nt){if(-1<qc.indexOf(_e)){_e=rc$1(rt,_e,j,et,tt),jc.push(_e);return}if(uc(rt,_e,j,et,tt))return;sc(_e,tt)}jd(_e,j,tt,null,et)}}}}function yc(_e,j,et,tt){var nt=xb(tt);if(nt=wc(nt),nt!==null){var rt=Zb(nt);if(rt===null)nt=null;else{var it=rt.tag;if(it===13){if(nt=$b(rt),nt!==null)return nt;nt=null}else if(it===3){if(rt.stateNode.hydrate)return rt.tag===3?rt.stateNode.containerInfo:null;nt=null}else rt!==nt&&(nt=null)}}return jd(_e,j,tt,nt,et),null}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,j=ld,et=j.length,tt,nt="value"in kd?kd.value:kd.textContent,rt=nt.length;for(_e=0;_e<et&&j[_e]===nt[_e];_e++);var it=et-_e;for(tt=1;tt<=it&&j[et-tt]===nt[rt-tt];tt++);return md=nt.slice(_e,1<tt?1-tt:void 0)}function od(_e){var j=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&j===13&&(_e=13)):_e=j,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function j(et,tt,nt,rt,it){this._reactName=et,this._targetInst=nt,this.type=tt,this.nativeEvent=rt,this.target=it,this.currentTarget=null;for(var st in _e)_e.hasOwnProperty(st)&&(et=_e[st],this[st]=et?et(rt):rt[st]);return this.isDefaultPrevented=(rt.defaultPrevented!=null?rt.defaultPrevented:rt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return m$3(j.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),j}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=m$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m$3({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var j=this.nativeEvent;return j.getModifierState?j.getModifierState(_e):(_e=Od[_e])?!!j[_e]:!1}function zd(){return Pd}var Qd=m$3({},ud,{key:function(_e){if(_e.key){var j=Md[_e.key]||_e.key;if(j!=="Unidentified")return j}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=m$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m$3({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&"CompositionEvent"in window,be=null;fa&&"documentMode"in document&&(be=document.documentMode);var ce=fa&&"TextEvent"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(_e,j){switch(_e){case"keyup":return $d.indexOf(j.keyCode)!==-1;case"keydown":return j.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,j){switch(_e){case"compositionend":return he(j);case"keypress":return j.which!==32?null:(fe=!0,ee);case"textInput":return _e=j.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,j){if(ie)return _e==="compositionend"||!ae&&ge(_e,j)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(j.ctrlKey||j.altKey||j.metaKey)||j.ctrlKey&&j.altKey){if(j.char&&1<j.char.length)return j.char;if(j.which)return String.fromCharCode(j.which)}return null;case"compositionend":return de&&j.locale!=="ko"?null:j.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var j=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return j==="input"?!!le[_e.type]:j==="textarea"}function ne(_e,j,et,tt){Eb(tt),j=oe(j,"onChange"),0<j.length&&(et=new td("onChange","change",null,et,tt),_e.push({event:et,listeners:j}))}var pe=null,qe=null;function re$1(_e){se(_e,0)}function te(_e){var j=ue(_e);if(Wa(j))return _e}function ve(_e,j){if(_e==="change")return j}var we=!1;if(fa){var xe;if(fa){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(_e){if(_e.propertyName==="value"&&te(qe)){var j=[];if(ne(j,qe,_e,xb(_e)),_e=re$1,Kb)_e(j);else{Kb=!0;try{Gb(_e,j)}finally{Kb=!1,Mb()}}}}function Ce(_e,j,et){_e==="focusin"?(Ae(),pe=j,qe=et,pe.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te(qe)}function Ee(_e,j){if(_e==="click")return te(j)}function Fe(_e,j){if(_e==="input"||_e==="change")return te(j)}function Ge(_e,j){return _e===j&&(_e!==0||1/_e===1/j)||_e!==_e&&j!==j}var He=typeof Object.is=="function"?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;function Je(_e,j){if(He(_e,j))return!0;if(typeof _e!="object"||_e===null||typeof j!="object"||j===null)return!1;var et=Object.keys(_e),tt=Object.keys(j);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++)if(!Ie.call(j,et[tt])||!He(_e[et[tt]],j[et[tt]]))return!1;return!0}function Ke(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Le(_e,j){var et=Ke(_e);_e=0;for(var tt;et;){if(et.nodeType===3){if(tt=_e+et.textContent.length,_e<=j&&tt>=j)return{node:et,offset:j-_e};_e=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Ke(et)}}function Me(_e,j){return _e&&j?_e===j?!0:_e&&_e.nodeType===3?!1:j&&j.nodeType===3?Me(_e,j.parentNode):"contains"in _e?_e.contains(j):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(j)&16):!1:!1}function Ne(){for(var _e=window,j=Xa();j instanceof _e.HTMLIFrameElement;){try{var et=typeof j.contentWindow.location.href=="string"}catch{et=!1}if(et)_e=j.contentWindow;else break;j=Xa(_e.document)}return j}function Oe(_e){var j=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return j&&(j==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||j==="textarea"||_e.contentEditable==="true")}var Pe=fa&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(_e,j,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Oe(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Je(Se,tt)||(Se=tt,tt=oe(Re,"onSelect"),0<tt.length&&(j=new td("onSelect","select",null,j,et),_e.push({event:j,listeners:tt}),j.target=Qe)))}Pc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Pc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Pc(Oc,2);for(var Ve="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xe));function Ze(_e,j,et){var tt=_e.type||"unknown-event";_e.currentTarget=et,Yb(tt,j,void 0,_e),_e.currentTarget=null}function se(_e,j){j=(j&4)!==0;for(var et=0;et<_e.length;et++){var tt=_e[et],nt=tt.event;tt=tt.listeners;e:{var rt=void 0;if(j)for(var it=tt.length-1;0<=it;it--){var st=tt[it],at=st.instance,ot=st.currentTarget;if(st=st.listener,at!==rt&&nt.isPropagationStopped())break e;Ze(nt,st,ot),rt=at}else for(it=0;it<tt.length;it++){if(st=tt[it],at=st.instance,ot=st.currentTarget,st=st.listener,at!==rt&&nt.isPropagationStopped())break e;Ze(nt,st,ot),rt=at}}}if(Ub)throw _e=Vb,Ub=!1,Vb=null,_e}function G(_e,j){var et=$e(j),tt=_e+"__bubble";et.has(tt)||(af(j,_e,2,!1),et.add(tt))}var bf="_reactListening"+Math.random().toString(36).slice(2);function cf(_e){_e[bf]||(_e[bf]=!0,ba.forEach(function(j){Ye.has(j)||df(j,!1,_e,null),df(j,!0,_e,null)}))}function df(_e,j,et,tt){var nt=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,rt=et;if(_e==="selectionchange"&&et.nodeType!==9&&(rt=et.ownerDocument),tt!==null&&!j&&Ye.has(_e)){if(_e!=="scroll")return;nt|=2,rt=tt}var it=$e(rt),st=_e+"__"+(j?"capture":"bubble");it.has(st)||(j&&(nt|=4),af(rt,_e,nt,j),it.add(st))}function af(_e,j,et,tt){var nt=Nc.get(j);switch(nt===void 0?2:nt){case 0:nt=gd;break;case 1:nt=id$1;break;default:nt=hd}et=nt.bind(null,j,et,_e),nt=void 0,!Pb||j!=="touchstart"&&j!=="touchmove"&&j!=="wheel"||(nt=!0),tt?nt!==void 0?_e.addEventListener(j,et,{capture:!0,passive:nt}):_e.addEventListener(j,et,!0):nt!==void 0?_e.addEventListener(j,et,{passive:nt}):_e.addEventListener(j,et,!1)}function jd(_e,j,et,tt,nt){var rt=tt;if((j&1)===0&&(j&2)===0&&tt!==null)e:for(;;){if(tt===null)return;var it=tt.tag;if(it===3||it===4){var st=tt.stateNode.containerInfo;if(st===nt||st.nodeType===8&&st.parentNode===nt)break;if(it===4)for(it=tt.return;it!==null;){var at=it.tag;if((at===3||at===4)&&(at=it.stateNode.containerInfo,at===nt||at.nodeType===8&&at.parentNode===nt))return;it=it.return}for(;st!==null;){if(it=wc(st),it===null)return;if(at=it.tag,at===5||at===6){tt=rt=it;continue e}st=st.parentNode}}tt=tt.return}Nb(function(){var ot=rt,lt=xb(et),ut=[];e:{var ct=Mc.get(_e);if(ct!==void 0){var ht=td,pt=_e;switch(_e){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":ht=Rd;break;case"focusin":pt="focus",ht=Fd;break;case"focusout":pt="blur",ht=Fd;break;case"beforeblur":case"afterblur":ht=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Vd;break;case Ic:case Jc:case Kc:ht=Hd;break;case Lc:ht=Xd;break;case"scroll":ht=vd;break;case"wheel":ht=Zd;break;case"copy":case"cut":case"paste":ht=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Td}var gt=(j&4)!==0,vt=!gt&&_e==="scroll",ft=gt?ct!==null?ct+"Capture":null:ct;gt=[];for(var mt=ot,xt;mt!==null;){xt=mt;var _t=xt.stateNode;if(xt.tag===5&&_t!==null&&(xt=_t,ft!==null&&(_t=Ob(mt,ft),_t!=null&&gt.push(ef(mt,_t,xt)))),vt)break;mt=mt.return}0<gt.length&&(ct=new ht(ct,pt,null,et,lt),ut.push({event:ct,listeners:gt}))}}if((j&7)===0){e:{if(ct=_e==="mouseover"||_e==="pointerover",ht=_e==="mouseout"||_e==="pointerout",ct&&(j&16)===0&&(pt=et.relatedTarget||et.fromElement)&&(wc(pt)||pt[ff]))break e;if((ht||ct)&&(ct=lt.window===lt?lt:(ct=lt.ownerDocument)?ct.defaultView||ct.parentWindow:window,ht?(pt=et.relatedTarget||et.toElement,ht=ot,pt=pt?wc(pt):null,pt!==null&&(vt=Zb(pt),pt!==vt||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(ht=null,pt=ot),ht!==pt)){if(gt=Bd,_t="onMouseLeave",ft="onMouseEnter",mt="mouse",(_e==="pointerout"||_e==="pointerover")&&(gt=Td,_t="onPointerLeave",ft="onPointerEnter",mt="pointer"),vt=ht==null?ct:ue(ht),xt=pt==null?ct:ue(pt),ct=new gt(_t,mt+"leave",ht,et,lt),ct.target=vt,ct.relatedTarget=xt,_t=null,wc(lt)===ot&&(gt=new gt(ft,mt+"enter",pt,et,lt),gt.target=xt,gt.relatedTarget=vt,_t=gt),vt=_t,ht&&pt)t:{for(gt=ht,ft=pt,mt=0,xt=gt;xt;xt=gf(xt))mt++;for(xt=0,_t=ft;_t;_t=gf(_t))xt++;for(;0<mt-xt;)gt=gf(gt),mt--;for(;0<xt-mt;)ft=gf(ft),xt--;for(;mt--;){if(gt===ft||ft!==null&&gt===ft.alternate)break t;gt=gf(gt),ft=gf(ft)}gt=null}else gt=null;ht!==null&&hf(ut,ct,ht,gt,!1),pt!==null&&vt!==null&&hf(ut,vt,pt,gt,!0)}}e:{if(ct=ot?ue(ot):window,ht=ct.nodeName&&ct.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ct.type==="file")var Tt=ve;else if(me(ct))if(we)Tt=Fe;else{Tt=De;var wt=Ce}else(ht=ct.nodeName)&&ht.toLowerCase()==="input"&&(ct.type==="checkbox"||ct.type==="radio")&&(Tt=Ee);if(Tt&&(Tt=Tt(_e,ot))){ne(ut,Tt,et,lt);break e}wt&&wt(_e,ct,ot),_e==="focusout"&&(wt=ct._wrapperState)&&wt.controlled&&ct.type==="number"&&bb(ct,"number",ct.value)}switch(wt=ot?ue(ot):window,_e){case"focusin":(me(wt)||wt.contentEditable==="true")&&(Qe=wt,Re=ot,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ut,et,lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ut,et,lt)}var bt;if(ae)e:{switch(_e){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else ie?ge(_e,et)&&(Ct="onCompositionEnd"):_e==="keydown"&&et.keyCode===229&&(Ct="onCompositionStart");Ct&&(de&&et.locale!=="ko"&&(ie||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ie&&(bt=nd()):(kd=lt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),wt=oe(ot,Ct),0<wt.length&&(Ct=new Ld(Ct,_e,null,et,lt),ut.push({event:Ct,listeners:wt}),bt?Ct.data=bt:(bt=he(et),bt!==null&&(Ct.data=bt)))),(bt=ce?je(_e,et):ke(_e,et))&&(ot=oe(ot,"onBeforeInput"),0<ot.length&&(lt=new Ld("onBeforeInput","beforeinput",null,et,lt),ut.push({event:lt,listeners:ot}),lt.data=bt))}se(ut,j)})}function ef(_e,j,et){return{instance:_e,listener:j,currentTarget:et}}function oe(_e,j){for(var et=j+"Capture",tt=[];_e!==null;){var nt=_e,rt=nt.stateNode;nt.tag===5&&rt!==null&&(nt=rt,rt=Ob(_e,et),rt!=null&&tt.unshift(ef(_e,rt,nt)),rt=Ob(_e,j),rt!=null&&tt.push(ef(_e,rt,nt))),_e=_e.return}return tt}function gf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function hf(_e,j,et,tt,nt){for(var rt=j._reactName,it=[];et!==null&&et!==tt;){var st=et,at=st.alternate,ot=st.stateNode;if(at!==null&&at===tt)break;st.tag===5&&ot!==null&&(st=ot,nt?(at=Ob(et,rt),at!=null&&it.unshift(ef(et,at,st))):nt||(at=Ob(et,rt),at!=null&&it.push(ef(et,at,st)))),et=et.return}it.length!==0&&_e.push({event:j,listeners:it})}function jf(){}var kf=null,lf=null;function mf(_e,j){switch(_e){case"button":case"input":case"select":case"textarea":return!!j.autoFocus}return!1}function nf(_e,j){return _e==="textarea"||_e==="option"||_e==="noscript"||typeof j.children=="string"||typeof j.children=="number"||typeof j.dangerouslySetInnerHTML=="object"&&j.dangerouslySetInnerHTML!==null&&j.dangerouslySetInnerHTML.__html!=null}var of=typeof setTimeout=="function"?setTimeout:void 0,pf=typeof clearTimeout=="function"?clearTimeout:void 0;function qf(_e){_e.nodeType===1?_e.textContent="":_e.nodeType===9&&(_e=_e.body,_e!=null&&(_e.textContent=""))}function rf(_e){for(;_e!=null;_e=_e.nextSibling){var j=_e.nodeType;if(j===1||j===3)break}return _e}function sf(_e){_e=_e.previousSibling;for(var j=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="$"||et==="$!"||et==="$?"){if(j===0)return _e;j--}else et==="/$"&&j++}_e=_e.previousSibling}return null}var tf=0;function uf(_e){return{$$typeof:Ga,toString:_e,valueOf:_e}}var vf=Math.random().toString(36).slice(2),wf="__reactFiber$"+vf,xf="__reactProps$"+vf,ff="__reactContainer$"+vf,yf="__reactEvents$"+vf;function wc(_e){var j=_e[wf];if(j)return j;for(var et=_e.parentNode;et;){if(j=et[ff]||et[wf]){if(et=j.alternate,j.child!==null||et!==null&&et.child!==null)for(_e=sf(_e);_e!==null;){if(et=_e[wf])return et;_e=sf(_e)}return j}_e=et,et=_e.parentNode}return null}function Cb(_e){return _e=_e[wf]||_e[ff],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(y$2(33))}function Db(_e){return _e[xf]||null}function $e(_e){var j=_e[yf];return j===void 0&&(j=_e[yf]=new Set),j}var zf=[],Af=-1;function Bf(_e){return{current:_e}}function H(_e){0>Af||(_e.current=zf[Af],zf[Af]=null,Af--)}function I(_e,j){Af++,zf[Af]=_e.current,_e.current=j}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;function Ef(_e,j){var et=_e.type.contextTypes;if(!et)return Cf;var tt=_e.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===j)return tt.__reactInternalMemoizedMaskedChildContext;var nt={},rt;for(rt in et)nt[rt]=j[rt];return tt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=j,_e.__reactInternalMemoizedMaskedChildContext=nt),nt}function Ff(_e){return _e=_e.childContextTypes,_e!=null}function Gf(){H(N),H(M)}function Hf(_e,j,et){if(M.current!==Cf)throw Error(y$2(168));I(M,j),I(N,et)}function If(_e,j,et){var tt=_e.stateNode;if(_e=j.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var nt in tt)if(!(nt in _e))throw Error(y$2(108,Ra(j)||"Unknown",nt));return m$3({},et,tt)}function Jf(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Cf,Df=M.current,I(M,_e),I(N,N.current),!0}function Kf(_e,j,et){var tt=_e.stateNode;if(!tt)throw Error(y$2(169));et?(_e=If(_e,j,Df),tt.__reactInternalMemoizedMergedChildContext=_e,H(N),H(M),I(M,_e)):H(N),I(N,et)}var Lf=null,Mf=null,Nf=r$1.unstable_runWithPriority,Of=r$1.unstable_scheduleCallback,Pf=r$1.unstable_cancelCallback,Qf=r$1.unstable_shouldYield,Rf=r$1.unstable_requestPaint,Sf=r$1.unstable_now,Tf=r$1.unstable_getCurrentPriorityLevel,Uf=r$1.unstable_ImmediatePriority,Vf=r$1.unstable_UserBlockingPriority,Wf=r$1.unstable_NormalPriority,Xf=r$1.unstable_LowPriority,Yf=r$1.unstable_IdlePriority,Zf={},$f=Rf!==void 0?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1e4>dg?Sf:function(){return Sf()-dg};function eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y$2(332))}}function fg(_e){switch(_e){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y$2(332))}}function gg(_e,j){return _e=fg(_e),Nf(_e,j)}function hg(_e,j,et){return _e=fg(_e),Of(_e,j,et)}function ig(){if(bg!==null){var _e=bg;bg=null,Pf(_e)}jg()}function jg(){if(!cg&&ag!==null){cg=!0;var _e=0;try{var j=ag;gg(99,function(){for(;_e<j.length;_e++){var et=j[_e];do et=et(!0);while(et!==null)}}),ag=null}catch(et){throw ag!==null&&(ag=ag.slice(_e+1)),Of(Uf,ig),et}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(_e,j){if(_e&&_e.defaultProps){j=m$3({},j),_e=_e.defaultProps;for(var et in _e)j[et]===void 0&&(j[et]=_e[et]);return j}return j}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}function rg(_e){var j=mg.current;H(mg),_e.type._context._currentValue=j}function sg(_e,j){for(;_e!==null;){var et=_e.alternate;if((_e.childLanes&j)===j){if(et===null||(et.childLanes&j)===j)break;et.childLanes|=j}else _e.childLanes|=j,et!==null&&(et.childLanes|=j);_e=_e.return}}function tg(_e,j){ng=_e,pg=og=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&((_e.lanes&j)!==0&&(ug=!0),_e.firstContext=null)}function vg(_e,j){if(pg!==_e&&j!==!1&&j!==0)if((typeof j!="number"||j===1073741823)&&(pg=_e,j=1073741823),j={context:_e,observedBits:j,next:null},og===null){if(ng===null)throw Error(y$2(308));og=j,ng.dependencies={lanes:0,firstContext:j,responders:null}}else og=og.next=j;return _e._currentValue}var wg=!1;function xg(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function yg(_e,j){_e=_e.updateQueue,j.updateQueue===_e&&(j.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function zg(_e,j){return{eventTime:_e,lane:j,tag:0,payload:null,callback:null,next:null}}function Ag(_e,j){if(_e=_e.updateQueue,_e!==null){_e=_e.shared;var et=_e.pending;et===null?j.next=j:(j.next=et.next,et.next=j),_e.pending=j}}function Bg(_e,j){var et=_e.updateQueue,tt=_e.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var nt=null,rt=null;if(et=et.firstBaseUpdate,et!==null){do{var it={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};rt===null?nt=rt=it:rt=rt.next=it,et=et.next}while(et!==null);rt===null?nt=rt=j:rt=rt.next=j}else nt=rt=j;et={baseState:tt.baseState,firstBaseUpdate:nt,lastBaseUpdate:rt,shared:tt.shared,effects:tt.effects},_e.updateQueue=et;return}_e=et.lastBaseUpdate,_e===null?et.firstBaseUpdate=j:_e.next=j,et.lastBaseUpdate=j}function Cg(_e,j,et,tt){var nt=_e.updateQueue;wg=!1;var rt=nt.firstBaseUpdate,it=nt.lastBaseUpdate,st=nt.shared.pending;if(st!==null){nt.shared.pending=null;var at=st,ot=at.next;at.next=null,it===null?rt=ot:it.next=ot,it=at;var lt=_e.alternate;if(lt!==null){lt=lt.updateQueue;var ut=lt.lastBaseUpdate;ut!==it&&(ut===null?lt.firstBaseUpdate=ot:ut.next=ot,lt.lastBaseUpdate=at)}}if(rt!==null){ut=nt.baseState,it=0,lt=ot=at=null;do{st=rt.lane;var ct=rt.eventTime;if((tt&st)===st){lt!==null&&(lt=lt.next={eventTime:ct,lane:0,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null});e:{var ht=_e,pt=rt;switch(st=j,ct=et,pt.tag){case 1:if(ht=pt.payload,typeof ht=="function"){ut=ht.call(ct,ut,st);break e}ut=ht;break e;case 3:ht.flags=ht.flags&-4097|64;case 0:if(ht=pt.payload,st=typeof ht=="function"?ht.call(ct,ut,st):ht,st==null)break e;ut=m$3({},ut,st);break e;case 2:wg=!0}}rt.callback!==null&&(_e.flags|=32,st=nt.effects,st===null?nt.effects=[rt]:st.push(rt))}else ct={eventTime:ct,lane:st,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null},lt===null?(ot=lt=ct,at=ut):lt=lt.next=ct,it|=st;if(rt=rt.next,rt===null){if(st=nt.shared.pending,st===null)break;rt=st.next,st.next=null,nt.lastBaseUpdate=st,nt.shared.pending=null}}while(1);lt===null&&(at=ut),nt.baseState=at,nt.firstBaseUpdate=ot,nt.lastBaseUpdate=lt,Dg|=it,_e.lanes=it,_e.memoizedState=ut}}function Eg(_e,j,et){if(_e=j.effects,j.effects=null,_e!==null)for(j=0;j<_e.length;j++){var tt=_e[j],nt=tt.callback;if(nt!==null){if(tt.callback=null,tt=et,typeof nt!="function")throw Error(y$2(191,nt));nt.call(tt)}}}var Fg=new aa.Component().refs;function Gg(_e,j,et,tt){j=_e.memoizedState,et=et(tt,j),et=et==null?j:m$3({},j,et),_e.memoizedState=et,_e.lanes===0&&(_e.updateQueue.baseState=et)}var Kg={isMounted:function(_e){return(_e=_e._reactInternals)?Zb(_e)===_e:!1},enqueueSetState:function(_e,j,et){_e=_e._reactInternals;var tt=Hg(),nt=Ig(_e),rt=zg(tt,nt);rt.payload=j,et!=null&&(rt.callback=et),Ag(_e,rt),Jg(_e,nt,tt)},enqueueReplaceState:function(_e,j,et){_e=_e._reactInternals;var tt=Hg(),nt=Ig(_e),rt=zg(tt,nt);rt.tag=1,rt.payload=j,et!=null&&(rt.callback=et),Ag(_e,rt),Jg(_e,nt,tt)},enqueueForceUpdate:function(_e,j){_e=_e._reactInternals;var et=Hg(),tt=Ig(_e),nt=zg(et,tt);nt.tag=2,j!=null&&(nt.callback=j),Ag(_e,nt),Jg(_e,tt,et)}};function Lg(_e,j,et,tt,nt,rt,it){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(tt,rt,it):j.prototype&&j.prototype.isPureReactComponent?!Je(et,tt)||!Je(nt,rt):!0}function Mg(_e,j,et){var tt=!1,nt=Cf,rt=j.contextType;return typeof rt=="object"&&rt!==null?rt=vg(rt):(nt=Ff(j)?Df:M.current,tt=j.contextTypes,rt=(tt=tt!=null)?Ef(_e,nt):Cf),j=new j(et,rt),_e.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Kg,_e.stateNode=j,j._reactInternals=_e,tt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=nt,_e.__reactInternalMemoizedMaskedChildContext=rt),j}function Ng(_e,j,et,tt){_e=j.state,typeof j.componentWillReceiveProps=="function"&&j.componentWillReceiveProps(et,tt),typeof j.UNSAFE_componentWillReceiveProps=="function"&&j.UNSAFE_componentWillReceiveProps(et,tt),j.state!==_e&&Kg.enqueueReplaceState(j,j.state,null)}function Og(_e,j,et,tt){var nt=_e.stateNode;nt.props=et,nt.state=_e.memoizedState,nt.refs=Fg,xg(_e);var rt=j.contextType;typeof rt=="object"&&rt!==null?nt.context=vg(rt):(rt=Ff(j)?Df:M.current,nt.context=Ef(_e,rt)),Cg(_e,et,nt,tt),nt.state=_e.memoizedState,rt=j.getDerivedStateFromProps,typeof rt=="function"&&(Gg(_e,j,rt,et),nt.state=_e.memoizedState),typeof j.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(j=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),j!==nt.state&&Kg.enqueueReplaceState(nt,nt.state,null),Cg(_e,et,nt,tt),nt.state=_e.memoizedState),typeof nt.componentDidMount=="function"&&(_e.flags|=4)}var Pg=Array.isArray;function Qg(_e,j,et){if(_e=et.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(y$2(309));var tt=et.stateNode}if(!tt)throw Error(y$2(147,_e));var nt=""+_e;return j!==null&&j.ref!==null&&typeof j.ref=="function"&&j.ref._stringRef===nt?j.ref:(j=function(rt){var it=tt.refs;it===Fg&&(it=tt.refs={}),rt===null?delete it[nt]:it[nt]=rt},j._stringRef=nt,j)}if(typeof _e!="string")throw Error(y$2(284));if(!et._owner)throw Error(y$2(290,_e))}return _e}function Rg(_e,j){if(_e.type!=="textarea")throw Error(y$2(31,Object.prototype.toString.call(j)==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":j))}function Sg(_e){function j(vt,ft){if(_e){var mt=vt.lastEffect;mt!==null?(mt.nextEffect=ft,vt.lastEffect=ft):vt.firstEffect=vt.lastEffect=ft,ft.nextEffect=null,ft.flags=8}}function et(vt,ft){if(!_e)return null;for(;ft!==null;)j(vt,ft),ft=ft.sibling;return null}function tt(vt,ft){for(vt=new Map;ft!==null;)ft.key!==null?vt.set(ft.key,ft):vt.set(ft.index,ft),ft=ft.sibling;return vt}function nt(vt,ft){return vt=Tg(vt,ft),vt.index=0,vt.sibling=null,vt}function rt(vt,ft,mt){return vt.index=mt,_e?(mt=vt.alternate,mt!==null?(mt=mt.index,mt<ft?(vt.flags=2,ft):mt):(vt.flags=2,ft)):ft}function it(vt){return _e&&vt.alternate===null&&(vt.flags=2),vt}function st(vt,ft,mt,xt){return ft===null||ft.tag!==6?(ft=Ug(mt,vt.mode,xt),ft.return=vt,ft):(ft=nt(ft,mt),ft.return=vt,ft)}function at(vt,ft,mt,xt){return ft!==null&&ft.elementType===mt.type?(xt=nt(ft,mt.props),xt.ref=Qg(vt,ft,mt),xt.return=vt,xt):(xt=Vg(mt.type,mt.key,mt.props,null,vt.mode,xt),xt.ref=Qg(vt,ft,mt),xt.return=vt,xt)}function ot(vt,ft,mt,xt){return ft===null||ft.tag!==4||ft.stateNode.containerInfo!==mt.containerInfo||ft.stateNode.implementation!==mt.implementation?(ft=Wg(mt,vt.mode,xt),ft.return=vt,ft):(ft=nt(ft,mt.children||[]),ft.return=vt,ft)}function lt(vt,ft,mt,xt,_t){return ft===null||ft.tag!==7?(ft=Xg(mt,vt.mode,xt,_t),ft.return=vt,ft):(ft=nt(ft,mt),ft.return=vt,ft)}function ut(vt,ft,mt){if(typeof ft=="string"||typeof ft=="number")return ft=Ug(""+ft,vt.mode,mt),ft.return=vt,ft;if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case sa:return mt=Vg(ft.type,ft.key,ft.props,null,vt.mode,mt),mt.ref=Qg(vt,null,ft),mt.return=vt,mt;case ta:return ft=Wg(ft,vt.mode,mt),ft.return=vt,ft}if(Pg(ft)||La(ft))return ft=Xg(ft,vt.mode,mt,null),ft.return=vt,ft;Rg(vt,ft)}return null}function ct(vt,ft,mt,xt){var _t=ft!==null?ft.key:null;if(typeof mt=="string"||typeof mt=="number")return _t!==null?null:st(vt,ft,""+mt,xt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case sa:return mt.key===_t?mt.type===ua?lt(vt,ft,mt.props.children,xt,_t):at(vt,ft,mt,xt):null;case ta:return mt.key===_t?ot(vt,ft,mt,xt):null}if(Pg(mt)||La(mt))return _t!==null?null:lt(vt,ft,mt,xt,null);Rg(vt,mt)}return null}function ht(vt,ft,mt,xt,_t){if(typeof xt=="string"||typeof xt=="number")return vt=vt.get(mt)||null,st(ft,vt,""+xt,_t);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case sa:return vt=vt.get(xt.key===null?mt:xt.key)||null,xt.type===ua?lt(ft,vt,xt.props.children,_t,xt.key):at(ft,vt,xt,_t);case ta:return vt=vt.get(xt.key===null?mt:xt.key)||null,ot(ft,vt,xt,_t)}if(Pg(xt)||La(xt))return vt=vt.get(mt)||null,lt(ft,vt,xt,_t,null);Rg(ft,xt)}return null}function pt(vt,ft,mt,xt){for(var _t=null,Tt=null,wt=ft,bt=ft=0,Ct=null;wt!==null&&bt<mt.length;bt++){wt.index>bt?(Ct=wt,wt=null):Ct=wt.sibling;var Lt=ct(vt,wt,mt[bt],xt);if(Lt===null){wt===null&&(wt=Ct);break}_e&&wt&&Lt.alternate===null&&j(vt,wt),ft=rt(Lt,ft,bt),Tt===null?_t=Lt:Tt.sibling=Lt,Tt=Lt,wt=Ct}if(bt===mt.length)return et(vt,wt),_t;if(wt===null){for(;bt<mt.length;bt++)wt=ut(vt,mt[bt],xt),wt!==null&&(ft=rt(wt,ft,bt),Tt===null?_t=wt:Tt.sibling=wt,Tt=wt);return _t}for(wt=tt(vt,wt);bt<mt.length;bt++)Ct=ht(wt,vt,bt,mt[bt],xt),Ct!==null&&(_e&&Ct.alternate!==null&&wt.delete(Ct.key===null?bt:Ct.key),ft=rt(Ct,ft,bt),Tt===null?_t=Ct:Tt.sibling=Ct,Tt=Ct);return _e&&wt.forEach(function($t){return j(vt,$t)}),_t}function gt(vt,ft,mt,xt){var _t=La(mt);if(typeof _t!="function")throw Error(y$2(150));if(mt=_t.call(mt),mt==null)throw Error(y$2(151));for(var Tt=_t=null,wt=ft,bt=ft=0,Ct=null,Lt=mt.next();wt!==null&&!Lt.done;bt++,Lt=mt.next()){wt.index>bt?(Ct=wt,wt=null):Ct=wt.sibling;var $t=ct(vt,wt,Lt.value,xt);if($t===null){wt===null&&(wt=Ct);break}_e&&wt&&$t.alternate===null&&j(vt,wt),ft=rt($t,ft,bt),Tt===null?_t=$t:Tt.sibling=$t,Tt=$t,wt=Ct}if(Lt.done)return et(vt,wt),_t;if(wt===null){for(;!Lt.done;bt++,Lt=mt.next())Lt=ut(vt,Lt.value,xt),Lt!==null&&(ft=rt(Lt,ft,bt),Tt===null?_t=Lt:Tt.sibling=Lt,Tt=Lt);return _t}for(wt=tt(vt,wt);!Lt.done;bt++,Lt=mt.next())Lt=ht(wt,vt,bt,Lt.value,xt),Lt!==null&&(_e&&Lt.alternate!==null&&wt.delete(Lt.key===null?bt:Lt.key),ft=rt(Lt,ft,bt),Tt===null?_t=Lt:Tt.sibling=Lt,Tt=Lt);return _e&&wt.forEach(function(Rt){return j(vt,Rt)}),_t}return function(vt,ft,mt,xt){var _t=typeof mt=="object"&&mt!==null&&mt.type===ua&&mt.key===null;_t&&(mt=mt.props.children);var Tt=typeof mt=="object"&&mt!==null;if(Tt)switch(mt.$$typeof){case sa:e:{for(Tt=mt.key,_t=ft;_t!==null;){if(_t.key===Tt){switch(_t.tag){case 7:if(mt.type===ua){et(vt,_t.sibling),ft=nt(_t,mt.props.children),ft.return=vt,vt=ft;break e}break;default:if(_t.elementType===mt.type){et(vt,_t.sibling),ft=nt(_t,mt.props),ft.ref=Qg(vt,_t,mt),ft.return=vt,vt=ft;break e}}et(vt,_t);break}else j(vt,_t);_t=_t.sibling}mt.type===ua?(ft=Xg(mt.props.children,vt.mode,xt,mt.key),ft.return=vt,vt=ft):(xt=Vg(mt.type,mt.key,mt.props,null,vt.mode,xt),xt.ref=Qg(vt,ft,mt),xt.return=vt,vt=xt)}return it(vt);case ta:e:{for(_t=mt.key;ft!==null;){if(ft.key===_t)if(ft.tag===4&&ft.stateNode.containerInfo===mt.containerInfo&&ft.stateNode.implementation===mt.implementation){et(vt,ft.sibling),ft=nt(ft,mt.children||[]),ft.return=vt,vt=ft;break e}else{et(vt,ft);break}else j(vt,ft);ft=ft.sibling}ft=Wg(mt,vt.mode,xt),ft.return=vt,vt=ft}return it(vt)}if(typeof mt=="string"||typeof mt=="number")return mt=""+mt,ft!==null&&ft.tag===6?(et(vt,ft.sibling),ft=nt(ft,mt),ft.return=vt,vt=ft):(et(vt,ft),ft=Ug(mt,vt.mode,xt),ft.return=vt,vt=ft),it(vt);if(Pg(mt))return pt(vt,ft,mt,xt);if(La(mt))return gt(vt,ft,mt,xt);if(Tt&&Rg(vt,mt),typeof mt=="undefined"&&!_t)switch(vt.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y$2(152,Ra(vt.type)||"Component"))}return et(vt,ft)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);function dh(_e){if(_e===$g)throw Error(y$2(174));return _e}function eh(_e,j){switch(I(ch,j),I(bh,_e),I(ah,$g),_e=j.nodeType,_e){case 9:case 11:j=(j=j.documentElement)?j.namespaceURI:mb(null,"");break;default:_e=_e===8?j.parentNode:j,j=_e.namespaceURI||null,_e=_e.tagName,j=mb(j,_e)}H(ah),I(ah,j)}function fh(){H(ah),H(bh),H(ch)}function gh(_e){dh(ch.current);var j=dh(ah.current),et=mb(j,_e.type);j!==et&&(I(bh,_e),I(ah,et))}function hh(_e){bh.current===_e&&(H(ah),H(bh))}var P=Bf(0);function ih(_e){for(var j=_e;j!==null;){if(j.tag===13){var et=j.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return j}else if(j.tag===19&&j.memoizedProps.revealOrder!==void 0){if((j.flags&64)!==0)return j}else if(j.child!==null){j.child.return=j,j=j.child;continue}if(j===_e)break;for(;j.sibling===null;){if(j.return===null||j.return===_e)return null;j=j.return}j.sibling.return=j.return,j=j.sibling}return null}var jh=null,kh=null,lh=!1;function mh(_e,j){var et=nh(5,null,null,0);et.elementType="DELETED",et.type="DELETED",et.stateNode=j,et.return=_e,et.flags=8,_e.lastEffect!==null?(_e.lastEffect.nextEffect=et,_e.lastEffect=et):_e.firstEffect=_e.lastEffect=et}function oh(_e,j){switch(_e.tag){case 5:var et=_e.type;return j=j.nodeType!==1||et.toLowerCase()!==j.nodeName.toLowerCase()?null:j,j!==null?(_e.stateNode=j,!0):!1;case 6:return j=_e.pendingProps===""||j.nodeType!==3?null:j,j!==null?(_e.stateNode=j,!0):!1;case 13:return!1;default:return!1}}function ph(_e){if(lh){var j=kh;if(j){var et=j;if(!oh(_e,j)){if(j=rf(et.nextSibling),!j||!oh(_e,j)){_e.flags=_e.flags&-1025|2,lh=!1,jh=_e;return}mh(jh,et)}jh=_e,kh=rf(j.firstChild)}else _e.flags=_e.flags&-1025|2,lh=!1,jh=_e}}function qh(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;jh=_e}function rh(_e){if(_e!==jh)return!1;if(!lh)return qh(_e),lh=!0,!1;var j=_e.type;if(_e.tag!==5||j!=="head"&&j!=="body"&&!nf(j,_e.memoizedProps))for(j=kh;j;)mh(_e,j),j=rf(j.nextSibling);if(qh(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(y$2(317));e:{for(_e=_e.nextSibling,j=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="/$"){if(j===0){kh=rf(_e.nextSibling);break e}j--}else et!=="$"&&et!=="$!"&&et!=="$?"||j++}_e=_e.nextSibling}kh=null}}else kh=jh?rf(_e.stateNode.nextSibling):null;return!0}function sh(){kh=jh=null,lh=!1}var th=[];function uh(){for(var _e=0;_e<th.length;_e++)th[_e]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y$2(321))}function Bh(_e,j){if(j===null)return!1;for(var et=0;et<j.length&&et<_e.length;et++)if(!He(_e[et],j[et]))return!1;return!0}function Ch(_e,j,et,tt,nt,rt){if(xh=rt,R=j,j.memoizedState=null,j.updateQueue=null,j.lanes=0,vh.current=_e===null||_e.memoizedState===null?Dh:Eh,_e=et(tt,nt),zh){rt=0;do{if(zh=!1,!(25>rt))throw Error(y$2(301));rt+=1,T=S=null,j.updateQueue=null,vh.current=Fh,_e=et(tt,nt)}while(zh)}if(vh.current=Gh,j=S!==null&&S.next!==null,xh=0,T=S=R=null,yh=!1,j)throw Error(y$2(300));return _e}function Hh(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return T===null?R.memoizedState=T=_e:T=T.next=_e,T}function Ih(){if(S===null){var _e=R.alternate;_e=_e!==null?_e.memoizedState:null}else _e=S.next;var j=T===null?R.memoizedState:T.next;if(j!==null)T=j,S=_e;else{if(_e===null)throw Error(y$2(310));S=_e,_e={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null},T===null?R.memoizedState=T=_e:T=T.next=_e}return T}function Jh(_e,j){return typeof j=="function"?j(_e):j}function Kh(_e){var j=Ih(),et=j.queue;if(et===null)throw Error(y$2(311));et.lastRenderedReducer=_e;var tt=S,nt=tt.baseQueue,rt=et.pending;if(rt!==null){if(nt!==null){var it=nt.next;nt.next=rt.next,rt.next=it}tt.baseQueue=nt=rt,et.pending=null}if(nt!==null){nt=nt.next,tt=tt.baseState;var st=it=rt=null,at=nt;do{var ot=at.lane;if((xh&ot)===ot)st!==null&&(st=st.next={lane:0,action:at.action,eagerReducer:at.eagerReducer,eagerState:at.eagerState,next:null}),tt=at.eagerReducer===_e?at.eagerState:_e(tt,at.action);else{var lt={lane:ot,action:at.action,eagerReducer:at.eagerReducer,eagerState:at.eagerState,next:null};st===null?(it=st=lt,rt=tt):st=st.next=lt,R.lanes|=ot,Dg|=ot}at=at.next}while(at!==null&&at!==nt);st===null?rt=tt:st.next=it,He(tt,j.memoizedState)||(ug=!0),j.memoizedState=tt,j.baseState=rt,j.baseQueue=st,et.lastRenderedState=tt}return[j.memoizedState,et.dispatch]}function Lh(_e){var j=Ih(),et=j.queue;if(et===null)throw Error(y$2(311));et.lastRenderedReducer=_e;var tt=et.dispatch,nt=et.pending,rt=j.memoizedState;if(nt!==null){et.pending=null;var it=nt=nt.next;do rt=_e(rt,it.action),it=it.next;while(it!==nt);He(rt,j.memoizedState)||(ug=!0),j.memoizedState=rt,j.baseQueue===null&&(j.baseState=rt),et.lastRenderedState=rt}return[rt,tt]}function Mh(_e,j,et){var tt=j._getVersion;tt=tt(j._source);var nt=j._workInProgressVersionPrimary;if(nt!==null?_e=nt===tt:(_e=_e.mutableReadLanes,(_e=(xh&_e)===_e)&&(j._workInProgressVersionPrimary=tt,th.push(j))),_e)return et(j._source);throw th.push(j),Error(y$2(350))}function Nh(_e,j,et,tt){var nt=U;if(nt===null)throw Error(y$2(349));var rt=j._getVersion,it=rt(j._source),st=vh.current,at=st.useState(function(){return Mh(nt,j,et)}),ot=at[1],lt=at[0];at=T;var ut=_e.memoizedState,ct=ut.refs,ht=ct.getSnapshot,pt=ut.source;ut=ut.subscribe;var gt=R;return _e.memoizedState={refs:ct,source:j,subscribe:tt},st.useEffect(function(){ct.getSnapshot=et,ct.setSnapshot=ot;var vt=rt(j._source);if(!He(it,vt)){vt=et(j._source),He(lt,vt)||(ot(vt),vt=Ig(gt),nt.mutableReadLanes|=vt&nt.pendingLanes),vt=nt.mutableReadLanes,nt.entangledLanes|=vt;for(var ft=nt.entanglements,mt=vt;0<mt;){var xt=31-Vc(mt),_t=1<<xt;ft[xt]|=vt,mt&=~_t}}},[et,j,tt]),st.useEffect(function(){return tt(j._source,function(){var vt=ct.getSnapshot,ft=ct.setSnapshot;try{ft(vt(j._source));var mt=Ig(gt);nt.mutableReadLanes|=mt&nt.pendingLanes}catch(xt){ft(function(){throw xt})}})},[j,tt]),He(ht,et)&&He(pt,j)&&He(ut,tt)||(_e={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:lt},_e.dispatch=ot=Oh.bind(null,R,_e),at.queue=_e,at.baseQueue=null,lt=Mh(nt,j,et),at.memoizedState=at.baseState=lt),lt}function Ph(_e,j,et){var tt=Ih();return Nh(tt,_e,j,et)}function Qh(_e){var j=Hh();return typeof _e=="function"&&(_e=_e()),j.memoizedState=j.baseState=_e,_e=j.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:_e},_e=_e.dispatch=Oh.bind(null,R,_e),[j.memoizedState,_e]}function Rh(_e,j,et,tt){return _e={tag:_e,create:j,destroy:et,deps:tt,next:null},j=R.updateQueue,j===null?(j={lastEffect:null},R.updateQueue=j,j.lastEffect=_e.next=_e):(et=j.lastEffect,et===null?j.lastEffect=_e.next=_e:(tt=et.next,et.next=_e,_e.next=tt,j.lastEffect=_e)),_e}function Sh(_e){var j=Hh();return _e={current:_e},j.memoizedState=_e}function Th(){return Ih().memoizedState}function Uh(_e,j,et,tt){var nt=Hh();R.flags|=_e,nt.memoizedState=Rh(1|j,et,void 0,tt===void 0?null:tt)}function Vh(_e,j,et,tt){var nt=Ih();tt=tt===void 0?null:tt;var rt=void 0;if(S!==null){var it=S.memoizedState;if(rt=it.destroy,tt!==null&&Bh(tt,it.deps)){Rh(j,et,rt,tt);return}}R.flags|=_e,nt.memoizedState=Rh(1|j,et,rt,tt)}function Wh(_e,j){return Uh(516,4,_e,j)}function Xh(_e,j){return Vh(516,4,_e,j)}function Yh(_e,j){return Vh(4,2,_e,j)}function Zh(_e,j){if(typeof j=="function")return _e=_e(),j(_e),function(){j(null)};if(j!=null)return _e=_e(),j.current=_e,function(){j.current=null}}function $h(_e,j,et){return et=et!=null?et.concat([_e]):null,Vh(4,2,Zh.bind(null,j,_e),et)}function ai(){}function bi(_e,j){var et=Ih();j=j===void 0?null:j;var tt=et.memoizedState;return tt!==null&&j!==null&&Bh(j,tt[1])?tt[0]:(et.memoizedState=[_e,j],_e)}function ci(_e,j){var et=Ih();j=j===void 0?null:j;var tt=et.memoizedState;return tt!==null&&j!==null&&Bh(j,tt[1])?tt[0]:(_e=_e(),et.memoizedState=[_e,j],_e)}function di(_e,j){var et=eg();gg(98>et?98:et,function(){_e(!0)}),gg(97<et?97:et,function(){var tt=wh.transition;wh.transition=1;try{_e(!1),j()}finally{wh.transition=tt}})}function Oh(_e,j,et){var tt=Hg(),nt=Ig(_e),rt={lane:nt,action:et,eagerReducer:null,eagerState:null,next:null},it=j.pending;if(it===null?rt.next=rt:(rt.next=it.next,it.next=rt),j.pending=rt,it=_e.alternate,_e===R||it!==null&&it===R)zh=yh=!0;else{if(_e.lanes===0&&(it===null||it.lanes===0)&&(it=j.lastRenderedReducer,it!==null))try{var st=j.lastRenderedState,at=it(st,et);if(rt.eagerReducer=it,rt.eagerState=at,He(at,st))return}catch{}finally{}Jg(_e,nt,tt)}}var Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(_e,j){return Hh().memoizedState=[_e,j===void 0?null:j],_e},useContext:vg,useEffect:Wh,useImperativeHandle:function(_e,j,et){return et=et!=null?et.concat([_e]):null,Uh(4,2,Zh.bind(null,j,_e),et)},useLayoutEffect:function(_e,j){return Uh(4,2,_e,j)},useMemo:function(_e,j){var et=Hh();return j=j===void 0?null:j,_e=_e(),et.memoizedState=[_e,j],_e},useReducer:function(_e,j,et){var tt=Hh();return j=et!==void 0?et(j):j,tt.memoizedState=tt.baseState=j,_e=tt.queue={pending:null,dispatch:null,lastRenderedReducer:_e,lastRenderedState:j},_e=_e.dispatch=Oh.bind(null,R,_e),[tt.memoizedState,_e]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(_e){var j=Qh(_e),et=j[0],tt=j[1];return Wh(function(){var nt=wh.transition;wh.transition=1;try{tt(_e)}finally{wh.transition=nt}},[_e]),et},useTransition:function(){var _e=Qh(!1),j=_e[0];return _e=di.bind(null,_e[1]),Sh(_e),[_e,j]},useMutableSource:function(_e,j,et){var tt=Hh();return tt.memoizedState={refs:{getSnapshot:j,setSnapshot:null},source:_e,subscribe:et},Nh(tt,_e,j,et)},useOpaqueIdentifier:function(){if(lh){var _e=!1,j=uf(function(){throw _e||(_e=!0,et("r:"+(tf++).toString(36))),Error(y$2(355))}),et=Qh(j)[1];return(R.mode&2)===0&&(R.flags|=516,Rh(5,function(){et("r:"+(tf++).toString(36))},void 0,null)),j}return j="r:"+(tf++).toString(36),Qh(j),j},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(_e){var j=Kh(Jh),et=j[0],tt=j[1];return Xh(function(){var nt=wh.transition;wh.transition=1;try{tt(_e)}finally{wh.transition=nt}},[_e]),et},useTransition:function(){var _e=Kh(Jh)[0];return[Th().current,_e]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(_e){var j=Lh(Jh),et=j[0],tt=j[1];return Xh(function(){var nt=wh.transition;wh.transition=1;try{tt(_e)}finally{wh.transition=nt}},[_e]),et},useTransition:function(){var _e=Lh(Jh)[0];return[Th().current,_e]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(_e,j,et,tt){j.child=_e===null?Zg(j,null,et,tt):Yg(j,_e.child,et,tt)}function gi(_e,j,et,tt,nt){et=et.render;var rt=j.ref;return tg(j,nt),tt=Ch(_e,j,et,tt,rt,nt),_e!==null&&!ug?(j.updateQueue=_e.updateQueue,j.flags&=-517,_e.lanes&=~nt,hi(_e,j,nt)):(j.flags|=1,fi(_e,j,tt,nt),j.child)}function ii(_e,j,et,tt,nt,rt){if(_e===null){var it=et.type;return typeof it=="function"&&!ji(it)&&it.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(j.tag=15,j.type=it,ki(_e,j,it,tt,nt,rt)):(_e=Vg(et.type,null,tt,j,j.mode,rt),_e.ref=j.ref,_e.return=j,j.child=_e)}return it=_e.child,(nt&rt)===0&&(nt=it.memoizedProps,et=et.compare,et=et!==null?et:Je,et(nt,tt)&&_e.ref===j.ref)?hi(_e,j,rt):(j.flags|=1,_e=Tg(it,tt),_e.ref=j.ref,_e.return=j,j.child=_e)}function ki(_e,j,et,tt,nt,rt){if(_e!==null&&Je(_e.memoizedProps,tt)&&_e.ref===j.ref)if(ug=!1,(rt&nt)!==0)(_e.flags&16384)!==0&&(ug=!0);else return j.lanes=_e.lanes,hi(_e,j,rt);return li(_e,j,et,tt,rt)}function mi(_e,j,et){var tt=j.pendingProps,nt=tt.children,rt=_e!==null?_e.memoizedState:null;if(tt.mode==="hidden"||tt.mode==="unstable-defer-without-hiding")if((j.mode&4)===0)j.memoizedState={baseLanes:0},ni(j,et);else if((et&1073741824)!==0)j.memoizedState={baseLanes:0},ni(j,rt!==null?rt.baseLanes:et);else return _e=rt!==null?rt.baseLanes|et:et,j.lanes=j.childLanes=1073741824,j.memoizedState={baseLanes:_e},ni(j,_e),null;else rt!==null?(tt=rt.baseLanes|et,j.memoizedState=null):tt=et,ni(j,tt);return fi(_e,j,nt,et),j.child}function oi(_e,j){var et=j.ref;(_e===null&&et!==null||_e!==null&&_e.ref!==et)&&(j.flags|=128)}function li(_e,j,et,tt,nt){var rt=Ff(et)?Df:M.current;return rt=Ef(j,rt),tg(j,nt),et=Ch(_e,j,et,tt,rt,nt),_e!==null&&!ug?(j.updateQueue=_e.updateQueue,j.flags&=-517,_e.lanes&=~nt,hi(_e,j,nt)):(j.flags|=1,fi(_e,j,et,nt),j.child)}function pi(_e,j,et,tt,nt){if(Ff(et)){var rt=!0;Jf(j)}else rt=!1;if(tg(j,nt),j.stateNode===null)_e!==null&&(_e.alternate=null,j.alternate=null,j.flags|=2),Mg(j,et,tt),Og(j,et,tt,nt),tt=!0;else if(_e===null){var it=j.stateNode,st=j.memoizedProps;it.props=st;var at=it.context,ot=et.contextType;typeof ot=="object"&&ot!==null?ot=vg(ot):(ot=Ff(et)?Df:M.current,ot=Ef(j,ot));var lt=et.getDerivedStateFromProps,ut=typeof lt=="function"||typeof it.getSnapshotBeforeUpdate=="function";ut||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(st!==tt||at!==ot)&&Ng(j,it,tt,ot),wg=!1;var ct=j.memoizedState;it.state=ct,Cg(j,tt,it,nt),at=j.memoizedState,st!==tt||ct!==at||N.current||wg?(typeof lt=="function"&&(Gg(j,et,lt,tt),at=j.memoizedState),(st=wg||Lg(j,et,st,tt,ct,at,ot))?(ut||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount()),typeof it.componentDidMount=="function"&&(j.flags|=4)):(typeof it.componentDidMount=="function"&&(j.flags|=4),j.memoizedProps=tt,j.memoizedState=at),it.props=tt,it.state=at,it.context=ot,tt=st):(typeof it.componentDidMount=="function"&&(j.flags|=4),tt=!1)}else{it=j.stateNode,yg(_e,j),st=j.memoizedProps,ot=j.type===j.elementType?st:lg(j.type,st),it.props=ot,ut=j.pendingProps,ct=it.context,at=et.contextType,typeof at=="object"&&at!==null?at=vg(at):(at=Ff(et)?Df:M.current,at=Ef(j,at));var ht=et.getDerivedStateFromProps;(lt=typeof ht=="function"||typeof it.getSnapshotBeforeUpdate=="function")||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(st!==ut||ct!==at)&&Ng(j,it,tt,at),wg=!1,ct=j.memoizedState,it.state=ct,Cg(j,tt,it,nt);var pt=j.memoizedState;st!==ut||ct!==pt||N.current||wg?(typeof ht=="function"&&(Gg(j,et,ht,tt),pt=j.memoizedState),(ot=wg||Lg(j,et,ot,tt,ct,pt,at))?(lt||typeof it.UNSAFE_componentWillUpdate!="function"&&typeof it.componentWillUpdate!="function"||(typeof it.componentWillUpdate=="function"&&it.componentWillUpdate(tt,pt,at),typeof it.UNSAFE_componentWillUpdate=="function"&&it.UNSAFE_componentWillUpdate(tt,pt,at)),typeof it.componentDidUpdate=="function"&&(j.flags|=4),typeof it.getSnapshotBeforeUpdate=="function"&&(j.flags|=256)):(typeof it.componentDidUpdate!="function"||st===_e.memoizedProps&&ct===_e.memoizedState||(j.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||st===_e.memoizedProps&&ct===_e.memoizedState||(j.flags|=256),j.memoizedProps=tt,j.memoizedState=pt),it.props=tt,it.state=pt,it.context=at,tt=ot):(typeof it.componentDidUpdate!="function"||st===_e.memoizedProps&&ct===_e.memoizedState||(j.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||st===_e.memoizedProps&&ct===_e.memoizedState||(j.flags|=256),tt=!1)}return qi(_e,j,et,tt,rt,nt)}function qi(_e,j,et,tt,nt,rt){oi(_e,j);var it=(j.flags&64)!==0;if(!tt&&!it)return nt&&Kf(j,et,!1),hi(_e,j,rt);tt=j.stateNode,ei.current=j;var st=it&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return j.flags|=1,_e!==null&&it?(j.child=Yg(j,_e.child,null,rt),j.child=Yg(j,null,st,rt)):fi(_e,j,st,rt),j.memoizedState=tt.state,nt&&Kf(j,et,!0),j.child}function ri(_e){var j=_e.stateNode;j.pendingContext?Hf(_e,j.pendingContext,j.pendingContext!==j.context):j.context&&Hf(_e,j.context,!1),eh(_e,j.containerInfo)}var si={dehydrated:null,retryLane:0};function ti(_e,j,et){var tt=j.pendingProps,nt=P.current,rt=!1,it;return(it=(j.flags&64)!==0)||(it=_e!==null&&_e.memoizedState===null?!1:(nt&2)!==0),it?(rt=!0,j.flags&=-65):_e!==null&&_e.memoizedState===null||tt.fallback===void 0||tt.unstable_avoidThisFallback===!0||(nt|=1),I(P,nt&1),_e===null?(tt.fallback!==void 0&&ph(j),_e=tt.children,nt=tt.fallback,rt?(_e=ui(j,_e,nt,et),j.child.memoizedState={baseLanes:et},j.memoizedState=si,_e):typeof tt.unstable_expectedLoadTime=="number"?(_e=ui(j,_e,nt,et),j.child.memoizedState={baseLanes:et},j.memoizedState=si,j.lanes=33554432,_e):(et=vi({mode:"visible",children:_e},j.mode,et,null),et.return=j,j.child=et)):_e.memoizedState!==null?rt?(tt=wi(_e,j,tt.children,tt.fallback,et),rt=j.child,nt=_e.child.memoizedState,rt.memoizedState=nt===null?{baseLanes:et}:{baseLanes:nt.baseLanes|et},rt.childLanes=_e.childLanes&~et,j.memoizedState=si,tt):(et=xi(_e,j,tt.children,et),j.memoizedState=null,et):rt?(tt=wi(_e,j,tt.children,tt.fallback,et),rt=j.child,nt=_e.child.memoizedState,rt.memoizedState=nt===null?{baseLanes:et}:{baseLanes:nt.baseLanes|et},rt.childLanes=_e.childLanes&~et,j.memoizedState=si,tt):(et=xi(_e,j,tt.children,et),j.memoizedState=null,et)}function ui(_e,j,et,tt){var nt=_e.mode,rt=_e.child;return j={mode:"hidden",children:j},(nt&2)===0&&rt!==null?(rt.childLanes=0,rt.pendingProps=j):rt=vi(j,nt,0,null),et=Xg(et,nt,tt,null),rt.return=_e,et.return=_e,rt.sibling=et,_e.child=rt,et}function xi(_e,j,et,tt){var nt=_e.child;return _e=nt.sibling,et=Tg(nt,{mode:"visible",children:et}),(j.mode&2)===0&&(et.lanes=tt),et.return=j,et.sibling=null,_e!==null&&(_e.nextEffect=null,_e.flags=8,j.firstEffect=j.lastEffect=_e),j.child=et}function wi(_e,j,et,tt,nt){var rt=j.mode,it=_e.child;_e=it.sibling;var st={mode:"hidden",children:et};return(rt&2)===0&&j.child!==it?(et=j.child,et.childLanes=0,et.pendingProps=st,it=et.lastEffect,it!==null?(j.firstEffect=et.firstEffect,j.lastEffect=it,it.nextEffect=null):j.firstEffect=j.lastEffect=null):et=Tg(it,st),_e!==null?tt=Tg(_e,tt):(tt=Xg(tt,rt,nt,null),tt.flags|=2),tt.return=j,et.return=j,et.sibling=tt,j.child=et,tt}function yi(_e,j){_e.lanes|=j;var et=_e.alternate;et!==null&&(et.lanes|=j),sg(_e.return,j)}function zi(_e,j,et,tt,nt,rt){var it=_e.memoizedState;it===null?_e.memoizedState={isBackwards:j,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:nt,lastEffect:rt}:(it.isBackwards=j,it.rendering=null,it.renderingStartTime=0,it.last=tt,it.tail=et,it.tailMode=nt,it.lastEffect=rt)}function Ai(_e,j,et){var tt=j.pendingProps,nt=tt.revealOrder,rt=tt.tail;if(fi(_e,j,tt.children,et),tt=P.current,(tt&2)!==0)tt=tt&1|2,j.flags|=64;else{if(_e!==null&&(_e.flags&64)!==0)e:for(_e=j.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&yi(_e,et);else if(_e.tag===19)yi(_e,et);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===j)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===j)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}tt&=1}if(I(P,tt),(j.mode&2)===0)j.memoizedState=null;else switch(nt){case"forwards":for(et=j.child,nt=null;et!==null;)_e=et.alternate,_e!==null&&ih(_e)===null&&(nt=et),et=et.sibling;et=nt,et===null?(nt=j.child,j.child=null):(nt=et.sibling,et.sibling=null),zi(j,!1,nt,et,rt,j.lastEffect);break;case"backwards":for(et=null,nt=j.child,j.child=null;nt!==null;){if(_e=nt.alternate,_e!==null&&ih(_e)===null){j.child=nt;break}_e=nt.sibling,nt.sibling=et,et=nt,nt=_e}zi(j,!0,et,null,rt,j.lastEffect);break;case"together":zi(j,!1,null,null,void 0,j.lastEffect);break;default:j.memoizedState=null}return j.child}function hi(_e,j,et){if(_e!==null&&(j.dependencies=_e.dependencies),Dg|=j.lanes,(et&j.childLanes)!==0){if(_e!==null&&j.child!==_e.child)throw Error(y$2(153));if(j.child!==null){for(_e=j.child,et=Tg(_e,_e.pendingProps),j.child=et,et.return=j;_e.sibling!==null;)_e=_e.sibling,et=et.sibling=Tg(_e,_e.pendingProps),et.return=j;et.sibling=null}return j.child}return null}var Bi,Ci,Di,Ei;Bi=function(_e,j){for(var et=j.child;et!==null;){if(et.tag===5||et.tag===6)_e.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===j)break;for(;et.sibling===null;){if(et.return===null||et.return===j)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Ci=function(){};Di=function(_e,j,et,tt){var nt=_e.memoizedProps;if(nt!==tt){_e=j.stateNode,dh(ah.current);var rt=null;switch(et){case"input":nt=Ya(_e,nt),tt=Ya(_e,tt),rt=[];break;case"option":nt=eb(_e,nt),tt=eb(_e,tt),rt=[];break;case"select":nt=m$3({},nt,{value:void 0}),tt=m$3({},tt,{value:void 0}),rt=[];break;case"textarea":nt=gb(_e,nt),tt=gb(_e,tt),rt=[];break;default:typeof nt.onClick!="function"&&typeof tt.onClick=="function"&&(_e.onclick=jf)}vb(et,tt);var it;et=null;for(ot in nt)if(!tt.hasOwnProperty(ot)&&nt.hasOwnProperty(ot)&&nt[ot]!=null)if(ot==="style"){var st=nt[ot];for(it in st)st.hasOwnProperty(it)&&(et||(et={}),et[it]="")}else ot!=="dangerouslySetInnerHTML"&&ot!=="children"&&ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(ca.hasOwnProperty(ot)?rt||(rt=[]):(rt=rt||[]).push(ot,null));for(ot in tt){var at=tt[ot];if(st=nt!=null?nt[ot]:void 0,tt.hasOwnProperty(ot)&&at!==st&&(at!=null||st!=null))if(ot==="style")if(st){for(it in st)!st.hasOwnProperty(it)||at&&at.hasOwnProperty(it)||(et||(et={}),et[it]="");for(it in at)at.hasOwnProperty(it)&&st[it]!==at[it]&&(et||(et={}),et[it]=at[it])}else et||(rt||(rt=[]),rt.push(ot,et)),et=at;else ot==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,st=st?st.__html:void 0,at!=null&&st!==at&&(rt=rt||[]).push(ot,at)):ot==="children"?typeof at!="string"&&typeof at!="number"||(rt=rt||[]).push(ot,""+at):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&(ca.hasOwnProperty(ot)?(at!=null&&ot==="onScroll"&&G("scroll",_e),rt||st===at||(rt=[])):typeof at=="object"&&at!==null&&at.$$typeof===Ga?at.toString():(rt=rt||[]).push(ot,at))}et&&(rt=rt||[]).push("style",et);var ot=rt;(j.updateQueue=ot)&&(j.flags|=4)}};Ei=function(_e,j,et,tt){et!==tt&&(j.flags|=4)};function Fi(_e,j){if(!lh)switch(_e.tailMode){case"hidden":j=_e.tail;for(var et=null;j!==null;)j.alternate!==null&&(et=j),j=j.sibling;et===null?_e.tail=null:et.sibling=null;break;case"collapsed":et=_e.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?j||_e.tail===null?_e.tail=null:_e.tail.sibling=null:tt.sibling=null}}function Gi(_e,j,et){var tt=j.pendingProps;switch(j.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(j.type)&&Gf(),null;case 3:return fh(),H(N),H(M),uh(),tt=j.stateNode,tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),(_e===null||_e.child===null)&&(rh(j)?j.flags|=4:tt.hydrate||(j.flags|=256)),Ci(j),null;case 5:hh(j);var nt=dh(ch.current);if(et=j.type,_e!==null&&j.stateNode!=null)Di(_e,j,et,tt,nt),_e.ref!==j.ref&&(j.flags|=128);else{if(!tt){if(j.stateNode===null)throw Error(y$2(166));return null}if(_e=dh(ah.current),rh(j)){tt=j.stateNode,et=j.type;var rt=j.memoizedProps;switch(tt[wf]=j,tt[xf]=rt,et){case"dialog":G("cancel",tt),G("close",tt);break;case"iframe":case"object":case"embed":G("load",tt);break;case"video":case"audio":for(_e=0;_e<Xe.length;_e++)G(Xe[_e],tt);break;case"source":G("error",tt);break;case"img":case"image":case"link":G("error",tt),G("load",tt);break;case"details":G("toggle",tt);break;case"input":Za(tt,rt),G("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!rt.multiple},G("invalid",tt);break;case"textarea":hb(tt,rt),G("invalid",tt)}vb(et,rt),_e=null;for(var it in rt)rt.hasOwnProperty(it)&&(nt=rt[it],it==="children"?typeof nt=="string"?tt.textContent!==nt&&(_e=["children",nt]):typeof nt=="number"&&tt.textContent!==""+nt&&(_e=["children",""+nt]):ca.hasOwnProperty(it)&&nt!=null&&it==="onScroll"&&G("scroll",tt));switch(et){case"input":Va(tt),cb(tt,rt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof rt.onClick=="function"&&(tt.onclick=jf)}tt=_e,j.updateQueue=tt,tt!==null&&(j.flags|=4)}else{switch(it=nt.nodeType===9?nt:nt.ownerDocument,_e===kb.html&&(_e=lb(et)),_e===kb.html?et==="script"?(_e=it.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof tt.is=="string"?_e=it.createElement(et,{is:tt.is}):(_e=it.createElement(et),et==="select"&&(it=_e,tt.multiple?it.multiple=!0:tt.size&&(it.size=tt.size))):_e=it.createElementNS(_e,et),_e[wf]=j,_e[xf]=tt,Bi(_e,j,!1,!1),j.stateNode=_e,it=wb(et,tt),et){case"dialog":G("cancel",_e),G("close",_e),nt=tt;break;case"iframe":case"object":case"embed":G("load",_e),nt=tt;break;case"video":case"audio":for(nt=0;nt<Xe.length;nt++)G(Xe[nt],_e);nt=tt;break;case"source":G("error",_e),nt=tt;break;case"img":case"image":case"link":G("error",_e),G("load",_e),nt=tt;break;case"details":G("toggle",_e),nt=tt;break;case"input":Za(_e,tt),nt=Ya(_e,tt),G("invalid",_e);break;case"option":nt=eb(_e,tt);break;case"select":_e._wrapperState={wasMultiple:!!tt.multiple},nt=m$3({},tt,{value:void 0}),G("invalid",_e);break;case"textarea":hb(_e,tt),nt=gb(_e,tt),G("invalid",_e);break;default:nt=tt}vb(et,nt);var st=nt;for(rt in st)if(st.hasOwnProperty(rt)){var at=st[rt];rt==="style"?tb(_e,at):rt==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,at!=null&&ob(_e,at)):rt==="children"?typeof at=="string"?(et!=="textarea"||at!=="")&&pb(_e,at):typeof at=="number"&&pb(_e,""+at):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ca.hasOwnProperty(rt)?at!=null&&rt==="onScroll"&&G("scroll",_e):at!=null&&qa(_e,rt,at,it))}switch(et){case"input":Va(_e),cb(_e,tt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":tt.value!=null&&_e.setAttribute("value",""+Sa(tt.value));break;case"select":_e.multiple=!!tt.multiple,rt=tt.value,rt!=null?fb(_e,!!tt.multiple,rt,!1):tt.defaultValue!=null&&fb(_e,!!tt.multiple,tt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(_e.onclick=jf)}mf(et,tt)&&(j.flags|=4)}j.ref!==null&&(j.flags|=128)}return null;case 6:if(_e&&j.stateNode!=null)Ei(_e,j,_e.memoizedProps,tt);else{if(typeof tt!="string"&&j.stateNode===null)throw Error(y$2(166));et=dh(ch.current),dh(ah.current),rh(j)?(tt=j.stateNode,et=j.memoizedProps,tt[wf]=j,tt.nodeValue!==et&&(j.flags|=4)):(tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[wf]=j,j.stateNode=tt)}return null;case 13:return H(P),tt=j.memoizedState,(j.flags&64)!==0?(j.lanes=et,j):(tt=tt!==null,et=!1,_e===null?j.memoizedProps.fallback!==void 0&&rh(j):et=_e.memoizedState!==null,tt&&!et&&(j.mode&2)!==0&&(_e===null&&j.memoizedProps.unstable_avoidThisFallback!==!0||(P.current&1)!==0?V===0&&(V=3):((V===0||V===3)&&(V=4),U===null||(Dg&134217727)===0&&(Hi&134217727)===0||Ii(U,W))),(tt||et)&&(j.flags|=4),null);case 4:return fh(),Ci(j),_e===null&&cf(j.stateNode.containerInfo),null;case 10:return rg(j),null;case 17:return Ff(j.type)&&Gf(),null;case 19:if(H(P),tt=j.memoizedState,tt===null)return null;if(rt=(j.flags&64)!==0,it=tt.rendering,it===null)if(rt)Fi(tt,!1);else{if(V!==0||_e!==null&&(_e.flags&64)!==0)for(_e=j.child;_e!==null;){if(it=ih(_e),it!==null){for(j.flags|=64,Fi(tt,!1),rt=it.updateQueue,rt!==null&&(j.updateQueue=rt,j.flags|=4),tt.lastEffect===null&&(j.firstEffect=null),j.lastEffect=tt.lastEffect,tt=et,et=j.child;et!==null;)rt=et,_e=tt,rt.flags&=2,rt.nextEffect=null,rt.firstEffect=null,rt.lastEffect=null,it=rt.alternate,it===null?(rt.childLanes=0,rt.lanes=_e,rt.child=null,rt.memoizedProps=null,rt.memoizedState=null,rt.updateQueue=null,rt.dependencies=null,rt.stateNode=null):(rt.childLanes=it.childLanes,rt.lanes=it.lanes,rt.child=it.child,rt.memoizedProps=it.memoizedProps,rt.memoizedState=it.memoizedState,rt.updateQueue=it.updateQueue,rt.type=it.type,_e=it.dependencies,rt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),et=et.sibling;return I(P,P.current&1|2),j.child}_e=_e.sibling}tt.tail!==null&&O()>Ji&&(j.flags|=64,rt=!0,Fi(tt,!1),j.lanes=33554432)}else{if(!rt)if(_e=ih(it),_e!==null){if(j.flags|=64,rt=!0,et=_e.updateQueue,et!==null&&(j.updateQueue=et,j.flags|=4),Fi(tt,!0),tt.tail===null&&tt.tailMode==="hidden"&&!it.alternate&&!lh)return j=j.lastEffect=tt.lastEffect,j!==null&&(j.nextEffect=null),null}else 2*O()-tt.renderingStartTime>Ji&&et!==1073741824&&(j.flags|=64,rt=!0,Fi(tt,!1),j.lanes=33554432);tt.isBackwards?(it.sibling=j.child,j.child=it):(et=tt.last,et!==null?et.sibling=it:j.child=it,tt.last=it)}return tt.tail!==null?(et=tt.tail,tt.rendering=et,tt.tail=et.sibling,tt.lastEffect=j.lastEffect,tt.renderingStartTime=O(),et.sibling=null,j=P.current,I(P,rt?j&1|2:j&1),et):null;case 23:case 24:return Ki(),_e!==null&&_e.memoizedState!==null!=(j.memoizedState!==null)&&tt.mode!=="unstable-defer-without-hiding"&&(j.flags|=4),null}throw Error(y$2(156,j.tag))}function Li(_e){switch(_e.tag){case 1:Ff(_e.type)&&Gf();var j=_e.flags;return j&4096?(_e.flags=j&-4097|64,_e):null;case 3:if(fh(),H(N),H(M),uh(),j=_e.flags,(j&64)!==0)throw Error(y$2(285));return _e.flags=j&-4097|64,_e;case 5:return hh(_e),null;case 13:return H(P),j=_e.flags,j&4096?(_e.flags=j&-4097|64,_e):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(_e),null;case 23:case 24:return Ki(),null;default:return null}}function Mi(_e,j){try{var et="",tt=j;do et+=Qa(tt),tt=tt.return;while(tt);var nt=et}catch(rt){nt=`
Error generating stack: `+rt.message+`
`+rt.stack}return{value:_e,source:j,stack:nt}}function Ni(_e,j){try{console.error(j.value)}catch(et){setTimeout(function(){throw et})}}var Oi=typeof WeakMap=="function"?WeakMap:Map;function Pi(_e,j,et){et=zg(-1,et),et.tag=3,et.payload={element:null};var tt=j.value;return et.callback=function(){Qi||(Qi=!0,Ri=tt),Ni(_e,j)},et}function Si(_e,j,et){et=zg(-1,et),et.tag=3;var tt=_e.type.getDerivedStateFromError;if(typeof tt=="function"){var nt=j.value;et.payload=function(){return Ni(_e,j),tt(nt)}}var rt=_e.stateNode;return rt!==null&&typeof rt.componentDidCatch=="function"&&(et.callback=function(){typeof tt!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this),Ni(_e,j));var it=j.stack;this.componentDidCatch(j.value,{componentStack:it!==null?it:""})}),et}var Ui=typeof WeakSet=="function"?WeakSet:Set;function Vi(_e){var j=_e.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch(et){Wi(_e,et)}else j.current=null}function Xi(_e,j){switch(j.tag){case 0:case 11:case 15:case 22:return;case 1:if(j.flags&256&&_e!==null){var et=_e.memoizedProps,tt=_e.memoizedState;_e=j.stateNode,j=_e.getSnapshotBeforeUpdate(j.elementType===j.type?et:lg(j.type,et),tt),_e.__reactInternalSnapshotBeforeUpdate=j}return;case 3:j.flags&256&&qf(j.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y$2(163))}function Yi(_e,j,et){switch(et.tag){case 0:case 11:case 15:case 22:if(j=et.updateQueue,j=j!==null?j.lastEffect:null,j!==null){_e=j=j.next;do{if((_e.tag&3)===3){var tt=_e.create;_e.destroy=tt()}_e=_e.next}while(_e!==j)}if(j=et.updateQueue,j=j!==null?j.lastEffect:null,j!==null){_e=j=j.next;do{var nt=_e;tt=nt.next,nt=nt.tag,(nt&4)!==0&&(nt&1)!==0&&(Zi(et,_e),$i(et,_e)),_e=tt}while(_e!==j)}return;case 1:_e=et.stateNode,et.flags&4&&(j===null?_e.componentDidMount():(tt=et.elementType===et.type?j.memoizedProps:lg(et.type,j.memoizedProps),_e.componentDidUpdate(tt,j.memoizedState,_e.__reactInternalSnapshotBeforeUpdate))),j=et.updateQueue,j!==null&&Eg(et,j,_e);return;case 3:if(j=et.updateQueue,j!==null){if(_e=null,et.child!==null)switch(et.child.tag){case 5:_e=et.child.stateNode;break;case 1:_e=et.child.stateNode}Eg(et,j,_e)}return;case 5:_e=et.stateNode,j===null&&et.flags&4&&mf(et.type,et.memoizedProps)&&_e.focus();return;case 6:return;case 4:return;case 12:return;case 13:et.memoizedState===null&&(et=et.alternate,et!==null&&(et=et.memoizedState,et!==null&&(et=et.dehydrated,et!==null&&Cc(et))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y$2(163))}function aj(_e,j){for(var et=_e;;){if(et.tag===5){var tt=et.stateNode;if(j)tt=tt.style,typeof tt.setProperty=="function"?tt.setProperty("display","none","important"):tt.display="none";else{tt=et.stateNode;var nt=et.memoizedProps.style;nt=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,tt.style.display=sb("display",nt)}}else if(et.tag===6)et.stateNode.nodeValue=j?"":et.memoizedProps;else if((et.tag!==23&&et.tag!==24||et.memoizedState===null||et===_e)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return;et=et.return}et.sibling.return=et.return,et=et.sibling}}function bj(_e,j){if(Mf&&typeof Mf.onCommitFiberUnmount=="function")try{Mf.onCommitFiberUnmount(Lf,j)}catch{}switch(j.tag){case 0:case 11:case 14:case 15:case 22:if(_e=j.updateQueue,_e!==null&&(_e=_e.lastEffect,_e!==null)){var et=_e=_e.next;do{var tt=et,nt=tt.destroy;if(tt=tt.tag,nt!==void 0)if((tt&4)!==0)Zi(j,et);else{tt=j;try{nt()}catch(rt){Wi(tt,rt)}}et=et.next}while(et!==_e)}break;case 1:if(Vi(j),_e=j.stateNode,typeof _e.componentWillUnmount=="function")try{_e.props=j.memoizedProps,_e.state=j.memoizedState,_e.componentWillUnmount()}catch(rt){Wi(j,rt)}break;case 5:Vi(j);break;case 4:cj(_e,j)}}function dj(_e){_e.alternate=null,_e.child=null,_e.dependencies=null,_e.firstEffect=null,_e.lastEffect=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.return=null,_e.updateQueue=null}function ej(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function fj(_e){e:{for(var j=_e.return;j!==null;){if(ej(j))break e;j=j.return}throw Error(y$2(160))}var et=j;switch(j=et.stateNode,et.tag){case 5:var tt=!1;break;case 3:j=j.containerInfo,tt=!0;break;case 4:j=j.containerInfo,tt=!0;break;default:throw Error(y$2(161))}et.flags&16&&(pb(j,""),et.flags&=-17);e:t:for(et=_e;;){for(;et.sibling===null;){if(et.return===null||ej(et.return)){et=null;break e}et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue t;et.child.return=et,et=et.child}if(!(et.flags&2)){et=et.stateNode;break e}}tt?gj(_e,et,j):hj(_e,et,j)}function gj(_e,j,et){var tt=_e.tag,nt=tt===5||tt===6;if(nt)_e=nt?_e.stateNode:_e.stateNode.instance,j?et.nodeType===8?et.parentNode.insertBefore(_e,j):et.insertBefore(_e,j):(et.nodeType===8?(j=et.parentNode,j.insertBefore(_e,et)):(j=et,j.appendChild(_e)),et=et._reactRootContainer,et!=null||j.onclick!==null||(j.onclick=jf));else if(tt!==4&&(_e=_e.child,_e!==null))for(gj(_e,j,et),_e=_e.sibling;_e!==null;)gj(_e,j,et),_e=_e.sibling}function hj(_e,j,et){var tt=_e.tag,nt=tt===5||tt===6;if(nt)_e=nt?_e.stateNode:_e.stateNode.instance,j?et.insertBefore(_e,j):et.appendChild(_e);else if(tt!==4&&(_e=_e.child,_e!==null))for(hj(_e,j,et),_e=_e.sibling;_e!==null;)hj(_e,j,et),_e=_e.sibling}function cj(_e,j){for(var et=j,tt=!1,nt,rt;;){if(!tt){tt=et.return;e:for(;;){if(tt===null)throw Error(y$2(160));switch(nt=tt.stateNode,tt.tag){case 5:rt=!1;break e;case 3:nt=nt.containerInfo,rt=!0;break e;case 4:nt=nt.containerInfo,rt=!0;break e}tt=tt.return}tt=!0}if(et.tag===5||et.tag===6){e:for(var it=_e,st=et,at=st;;)if(bj(it,at),at.child!==null&&at.tag!==4)at.child.return=at,at=at.child;else{if(at===st)break e;for(;at.sibling===null;){if(at.return===null||at.return===st)break e;at=at.return}at.sibling.return=at.return,at=at.sibling}rt?(it=nt,st=et.stateNode,it.nodeType===8?it.parentNode.removeChild(st):it.removeChild(st)):nt.removeChild(et.stateNode)}else if(et.tag===4){if(et.child!==null){nt=et.stateNode.containerInfo,rt=!0,et.child.return=et,et=et.child;continue}}else if(bj(_e,et),et.child!==null){et.child.return=et,et=et.child;continue}if(et===j)break;for(;et.sibling===null;){if(et.return===null||et.return===j)return;et=et.return,et.tag===4&&(tt=!1)}et.sibling.return=et.return,et=et.sibling}}function ij(_e,j){switch(j.tag){case 0:case 11:case 14:case 15:case 22:var et=j.updateQueue;if(et=et!==null?et.lastEffect:null,et!==null){var tt=et=et.next;do(tt.tag&3)===3&&(_e=tt.destroy,tt.destroy=void 0,_e!==void 0&&_e()),tt=tt.next;while(tt!==et)}return;case 1:return;case 5:if(et=j.stateNode,et!=null){tt=j.memoizedProps;var nt=_e!==null?_e.memoizedProps:tt;_e=j.type;var rt=j.updateQueue;if(j.updateQueue=null,rt!==null){for(et[xf]=tt,_e==="input"&&tt.type==="radio"&&tt.name!=null&&$a(et,tt),wb(_e,nt),j=wb(_e,tt),nt=0;nt<rt.length;nt+=2){var it=rt[nt],st=rt[nt+1];it==="style"?tb(et,st):it==="dangerouslySetInnerHTML"?ob(et,st):it==="children"?pb(et,st):qa(et,it,st,j)}switch(_e){case"input":ab(et,tt);break;case"textarea":ib(et,tt);break;case"select":_e=et._wrapperState.wasMultiple,et._wrapperState.wasMultiple=!!tt.multiple,rt=tt.value,rt!=null?fb(et,!!tt.multiple,rt,!1):_e!==!!tt.multiple&&(tt.defaultValue!=null?fb(et,!!tt.multiple,tt.defaultValue,!0):fb(et,!!tt.multiple,tt.multiple?[]:"",!1))}}}return;case 6:if(j.stateNode===null)throw Error(y$2(162));j.stateNode.nodeValue=j.memoizedProps;return;case 3:et=j.stateNode,et.hydrate&&(et.hydrate=!1,Cc(et.containerInfo));return;case 12:return;case 13:j.memoizedState!==null&&(jj=O(),aj(j.child,!0)),kj(j);return;case 19:kj(j);return;case 17:return;case 23:case 24:aj(j,j.memoizedState!==null);return}throw Error(y$2(163))}function kj(_e){var j=_e.updateQueue;if(j!==null){_e.updateQueue=null;var et=_e.stateNode;et===null&&(et=_e.stateNode=new Ui),j.forEach(function(tt){var nt=lj.bind(null,_e,tt);et.has(tt)||(et.add(tt),tt.then(nt,nt))})}}function mj(_e,j){return _e!==null&&(_e=_e.memoizedState,_e===null||_e.dehydrated!==null)?(j=j.memoizedState,j!==null&&j.dehydrated===null):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=1/0;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return(X&48)!==0?O():Fj!==-1?Fj:Fj=O()}function Ig(_e){if(_e=_e.mode,(_e&2)===0)return 1;if((_e&4)===0)return eg()===99?1:2;if(Gj===0&&(Gj=tj),kg.transition!==0){Hj!==0&&(Hj=vj!==null?vj.pendingLanes:0),_e=Gj;var j=4186112&~Hj;return j&=-j,j===0&&(_e=4186112&~_e,j=_e&-_e,j===0&&(j=8192)),j}return _e=eg(),(X&4)!==0&&_e===98?_e=Xc(12,Gj):(_e=Sc(_e),_e=Xc(_e,Gj)),_e}function Jg(_e,j,et){if(50<Dj)throw Dj=0,Ej=null,Error(y$2(185));if(_e=Kj(_e,j),_e===null)return null;$c(_e,j,et),_e===U&&(Hi|=j,V===4&&Ii(_e,W));var tt=eg();j===1?(X&8)!==0&&(X&48)===0?Lj(_e):(Mj(_e,et),X===0&&(wj(),ig())):((X&4)===0||tt!==98&&tt!==99||(Cj===null?Cj=new Set([_e]):Cj.add(_e)),Mj(_e,et)),vj=_e}function Kj(_e,j){_e.lanes|=j;var et=_e.alternate;for(et!==null&&(et.lanes|=j),et=_e,_e=_e.return;_e!==null;)_e.childLanes|=j,et=_e.alternate,et!==null&&(et.childLanes|=j),et=_e,_e=_e.return;return et.tag===3?et.stateNode:null}function Mj(_e,j){for(var et=_e.callbackNode,tt=_e.suspendedLanes,nt=_e.pingedLanes,rt=_e.expirationTimes,it=_e.pendingLanes;0<it;){var st=31-Vc(it),at=1<<st,ot=rt[st];if(ot===-1){if((at&tt)===0||(at&nt)!==0){ot=j,Rc(at);var lt=F;rt[st]=10<=lt?ot+250:6<=lt?ot+5e3:-1}}else ot<=j&&(_e.expiredLanes|=at);it&=~at}if(tt=Uc(_e,_e===U?W:0),j=F,tt===0)et!==null&&(et!==Zf&&Pf(et),_e.callbackNode=null,_e.callbackPriority=0);else{if(et!==null){if(_e.callbackPriority===j)return;et!==Zf&&Pf(et)}j===15?(et=Lj.bind(null,_e),ag===null?(ag=[et],bg=Of(Uf,jg)):ag.push(et),et=Zf):j===14?et=hg(99,Lj.bind(null,_e)):(et=Tc(j),et=hg(et,Nj.bind(null,_e))),_e.callbackPriority=j,_e.callbackNode=et}}function Nj(_e){if(Fj=-1,Hj=Gj=0,(X&48)!==0)throw Error(y$2(327));var j=_e.callbackNode;if(Oj()&&_e.callbackNode!==j)return null;var et=Uc(_e,_e===U?W:0);if(et===0)return null;var tt=et,nt=X;X|=16;var rt=Pj();(U!==_e||W!==tt)&&(wj(),Qj(_e,tt));do try{Rj();break}catch(st){Sj(_e,st)}while(1);if(qg(),oj.current=rt,X=nt,Y!==null?tt=0:(U=null,W=0,tt=V),(tj&Hi)!==0)Qj(_e,0);else if(tt!==0){if(tt===2&&(X|=64,_e.hydrate&&(_e.hydrate=!1,qf(_e.containerInfo)),et=Wc(_e),et!==0&&(tt=Tj(_e,et))),tt===1)throw j=sj,Qj(_e,0),Ii(_e,et),Mj(_e,O()),j;switch(_e.finishedWork=_e.current.alternate,_e.finishedLanes=et,tt){case 0:case 1:throw Error(y$2(345));case 2:Uj(_e);break;case 3:if(Ii(_e,et),(et&62914560)===et&&(tt=jj+500-O(),10<tt)){if(Uc(_e,0)!==0)break;if(nt=_e.suspendedLanes,(nt&et)!==et){Hg(),_e.pingedLanes|=_e.suspendedLanes&nt;break}_e.timeoutHandle=of(Uj.bind(null,_e),tt);break}Uj(_e);break;case 4:if(Ii(_e,et),(et&4186112)===et)break;for(tt=_e.eventTimes,nt=-1;0<et;){var it=31-Vc(et);rt=1<<it,it=tt[it],it>nt&&(nt=it),et&=~rt}if(et=nt,et=O()-et,et=(120>et?120:480>et?480:1080>et?1080:1920>et?1920:3e3>et?3e3:4320>et?4320:1960*nj(et/1960))-et,10<et){_e.timeoutHandle=of(Uj.bind(null,_e),et);break}Uj(_e);break;case 5:Uj(_e);break;default:throw Error(y$2(329))}}return Mj(_e,O()),_e.callbackNode===j?Nj.bind(null,_e):null}function Ii(_e,j){for(j&=~uj,j&=~Hi,_e.suspendedLanes|=j,_e.pingedLanes&=~j,_e=_e.expirationTimes;0<j;){var et=31-Vc(j),tt=1<<et;_e[et]=-1,j&=~tt}}function Lj(_e){if((X&48)!==0)throw Error(y$2(327));if(Oj(),_e===U&&(_e.expiredLanes&W)!==0){var j=W,et=Tj(_e,j);(tj&Hi)!==0&&(j=Uc(_e,j),et=Tj(_e,j))}else j=Uc(_e,0),et=Tj(_e,j);if(_e.tag!==0&&et===2&&(X|=64,_e.hydrate&&(_e.hydrate=!1,qf(_e.containerInfo)),j=Wc(_e),j!==0&&(et=Tj(_e,j))),et===1)throw et=sj,Qj(_e,0),Ii(_e,j),Mj(_e,O()),et;return _e.finishedWork=_e.current.alternate,_e.finishedLanes=j,Uj(_e),Mj(_e,O()),null}function Vj(){if(Cj!==null){var _e=Cj;Cj=null,_e.forEach(function(j){j.expiredLanes|=24&j.pendingLanes,Mj(j,O())})}ig()}function Wj(_e,j){var et=X;X|=1;try{return _e(j)}finally{X=et,X===0&&(wj(),ig())}}function Xj(_e,j){var et=X;X&=-2,X|=8;try{return _e(j)}finally{X=et,X===0&&(wj(),ig())}}function ni(_e,j){I(rj,qj),qj|=j,tj|=j}function Ki(){qj=rj.current,H(rj)}function Qj(_e,j){_e.finishedWork=null,_e.finishedLanes=0;var et=_e.timeoutHandle;if(et!==-1&&(_e.timeoutHandle=-1,pf(et)),Y!==null)for(et=Y.return;et!==null;){var tt=et;switch(tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&Gf();break;case 3:fh(),H(N),H(M),uh();break;case 5:hh(tt);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(tt);break;case 23:case 24:Ki()}et=et.return}U=_e,Y=Tg(_e.current,null),W=qj=tj=j,V=0,sj=null,uj=Hi=Dg=0}function Sj(_e,j){do{var et=Y;try{if(qg(),vh.current=Gh,yh){for(var tt=R.memoizedState;tt!==null;){var nt=tt.queue;nt!==null&&(nt.pending=null),tt=tt.next}yh=!1}if(xh=0,T=S=R=null,zh=!1,pj.current=null,et===null||et.return===null){V=1,sj=j,Y=null;break}e:{var rt=_e,it=et.return,st=et,at=j;if(j=W,st.flags|=2048,st.firstEffect=st.lastEffect=null,at!==null&&typeof at=="object"&&typeof at.then=="function"){var ot=at;if((st.mode&2)===0){var lt=st.alternate;lt?(st.updateQueue=lt.updateQueue,st.memoizedState=lt.memoizedState,st.lanes=lt.lanes):(st.updateQueue=null,st.memoizedState=null)}var ut=(P.current&1)!==0,ct=it;do{var ht;if(ht=ct.tag===13){var pt=ct.memoizedState;if(pt!==null)ht=pt.dehydrated!==null;else{var gt=ct.memoizedProps;ht=gt.fallback===void 0?!1:gt.unstable_avoidThisFallback!==!0?!0:!ut}}if(ht){var vt=ct.updateQueue;if(vt===null){var ft=new Set;ft.add(ot),ct.updateQueue=ft}else vt.add(ot);if((ct.mode&2)===0){if(ct.flags|=64,st.flags|=16384,st.flags&=-2981,st.tag===1)if(st.alternate===null)st.tag=17;else{var mt=zg(-1,1);mt.tag=2,Ag(st,mt)}st.lanes|=1;break e}at=void 0,st=j;var xt=rt.pingCache;if(xt===null?(xt=rt.pingCache=new Oi,at=new Set,xt.set(ot,at)):(at=xt.get(ot),at===void 0&&(at=new Set,xt.set(ot,at))),!at.has(st)){at.add(st);var _t=Yj.bind(null,rt,ot,st);ot.then(_t,_t)}ct.flags|=4096,ct.lanes=j;break e}ct=ct.return}while(ct!==null);at=Error((Ra(st.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}V!==5&&(V=2),at=Mi(at,st),ct=it;do{switch(ct.tag){case 3:rt=at,ct.flags|=4096,j&=-j,ct.lanes|=j;var Tt=Pi(ct,rt,j);Bg(ct,Tt);break e;case 1:rt=at;var wt=ct.type,bt=ct.stateNode;if((ct.flags&64)===0&&(typeof wt.getDerivedStateFromError=="function"||bt!==null&&typeof bt.componentDidCatch=="function"&&(Ti===null||!Ti.has(bt)))){ct.flags|=4096,j&=-j,ct.lanes|=j;var Ct=Si(ct,rt,j);Bg(ct,Ct);break e}}ct=ct.return}while(ct!==null)}Zj(et)}catch(Lt){j=Lt,Y===et&&et!==null&&(Y=et=et.return);continue}break}while(1)}function Pj(){var _e=oj.current;return oj.current=Gh,_e===null?Gh:_e}function Tj(_e,j){var et=X;X|=16;var tt=Pj();U===_e&&W===j||Qj(_e,j);do try{ak();break}catch(nt){Sj(_e,nt)}while(1);if(qg(),X=et,oj.current=tt,Y!==null)throw Error(y$2(261));return U=null,W=0,V}function ak(){for(;Y!==null;)bk(Y)}function Rj(){for(;Y!==null&&!Qf();)bk(Y)}function bk(_e){var j=ck(_e.alternate,_e,qj);_e.memoizedProps=_e.pendingProps,j===null?Zj(_e):Y=j,pj.current=null}function Zj(_e){var j=_e;do{var et=j.alternate;if(_e=j.return,(j.flags&2048)===0){if(et=Gi(et,j,qj),et!==null){Y=et;return}if(et=j,et.tag!==24&&et.tag!==23||et.memoizedState===null||(qj&1073741824)!==0||(et.mode&4)===0){for(var tt=0,nt=et.child;nt!==null;)tt|=nt.lanes|nt.childLanes,nt=nt.sibling;et.childLanes=tt}_e!==null&&(_e.flags&2048)===0&&(_e.firstEffect===null&&(_e.firstEffect=j.firstEffect),j.lastEffect!==null&&(_e.lastEffect!==null&&(_e.lastEffect.nextEffect=j.firstEffect),_e.lastEffect=j.lastEffect),1<j.flags&&(_e.lastEffect!==null?_e.lastEffect.nextEffect=j:_e.firstEffect=j,_e.lastEffect=j))}else{if(et=Li(j),et!==null){et.flags&=2047,Y=et;return}_e!==null&&(_e.firstEffect=_e.lastEffect=null,_e.flags|=2048)}if(j=j.sibling,j!==null){Y=j;return}Y=j=_e}while(j!==null);V===0&&(V=5)}function Uj(_e){var j=eg();return gg(99,dk.bind(null,_e,j)),null}function dk(_e,j){do Oj();while(yj!==null);if((X&48)!==0)throw Error(y$2(327));var et=_e.finishedWork;if(et===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,et===_e.current)throw Error(y$2(177));_e.callbackNode=null;var tt=et.lanes|et.childLanes,nt=tt,rt=_e.pendingLanes&~nt;_e.pendingLanes=nt,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=nt,_e.mutableReadLanes&=nt,_e.entangledLanes&=nt,nt=_e.entanglements;for(var it=_e.eventTimes,st=_e.expirationTimes;0<rt;){var at=31-Vc(rt),ot=1<<at;nt[at]=0,it[at]=-1,st[at]=-1,rt&=~ot}if(Cj!==null&&(tt&24)===0&&Cj.has(_e)&&Cj.delete(_e),_e===U&&(Y=U=null,W=0),1<et.flags?et.lastEffect!==null?(et.lastEffect.nextEffect=et,tt=et.firstEffect):tt=et:tt=et.firstEffect,tt!==null){if(nt=X,X|=32,pj.current=null,kf=fd,it=Ne(),Oe(it)){if("selectionStart"in it)st={start:it.selectionStart,end:it.selectionEnd};else e:if(st=(st=it.ownerDocument)&&st.defaultView||window,(ot=st.getSelection&&st.getSelection())&&ot.rangeCount!==0){st=ot.anchorNode,rt=ot.anchorOffset,at=ot.focusNode,ot=ot.focusOffset;try{st.nodeType,at.nodeType}catch{st=null;break e}var lt=0,ut=-1,ct=-1,ht=0,pt=0,gt=it,vt=null;t:for(;;){for(var ft;gt!==st||rt!==0&&gt.nodeType!==3||(ut=lt+rt),gt!==at||ot!==0&&gt.nodeType!==3||(ct=lt+ot),gt.nodeType===3&&(lt+=gt.nodeValue.length),(ft=gt.firstChild)!==null;)vt=gt,gt=ft;for(;;){if(gt===it)break t;if(vt===st&&++ht===rt&&(ut=lt),vt===at&&++pt===ot&&(ct=lt),(ft=gt.nextSibling)!==null)break;gt=vt,vt=gt.parentNode}gt=ft}st=ut===-1||ct===-1?null:{start:ut,end:ct}}else st=null;st=st||{start:0,end:0}}else st=null;lf={focusedElem:it,selectionRange:st},fd=!1,Ij=null,Jj=!1,Z=tt;do try{ek()}catch(Lt){if(Z===null)throw Error(y$2(330));Wi(Z,Lt),Z=Z.nextEffect}while(Z!==null);Ij=null,Z=tt;do try{for(it=_e;Z!==null;){var mt=Z.flags;if(mt&16&&pb(Z.stateNode,""),mt&128){var xt=Z.alternate;if(xt!==null){var _t=xt.ref;_t!==null&&(typeof _t=="function"?_t(null):_t.current=null)}}switch(mt&1038){case 2:fj(Z),Z.flags&=-3;break;case 6:fj(Z),Z.flags&=-3,ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025,ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:st=Z,cj(it,st);var Tt=st.alternate;dj(st),Tt!==null&&dj(Tt)}Z=Z.nextEffect}}catch(Lt){if(Z===null)throw Error(y$2(330));Wi(Z,Lt),Z=Z.nextEffect}while(Z!==null);if(_t=lf,xt=Ne(),mt=_t.focusedElem,it=_t.selectionRange,xt!==mt&&mt&&mt.ownerDocument&&Me(mt.ownerDocument.documentElement,mt)){for(it!==null&&Oe(mt)&&(xt=it.start,_t=it.end,_t===void 0&&(_t=xt),"selectionStart"in mt?(mt.selectionStart=xt,mt.selectionEnd=Math.min(_t,mt.value.length)):(_t=(xt=mt.ownerDocument||document)&&xt.defaultView||window,_t.getSelection&&(_t=_t.getSelection(),st=mt.textContent.length,Tt=Math.min(it.start,st),it=it.end===void 0?Tt:Math.min(it.end,st),!_t.extend&&Tt>it&&(st=it,it=Tt,Tt=st),st=Le(mt,Tt),rt=Le(mt,it),st&&rt&&(_t.rangeCount!==1||_t.anchorNode!==st.node||_t.anchorOffset!==st.offset||_t.focusNode!==rt.node||_t.focusOffset!==rt.offset)&&(xt=xt.createRange(),xt.setStart(st.node,st.offset),_t.removeAllRanges(),Tt>it?(_t.addRange(xt),_t.extend(rt.node,rt.offset)):(xt.setEnd(rt.node,rt.offset),_t.addRange(xt)))))),xt=[],_t=mt;_t=_t.parentNode;)_t.nodeType===1&&xt.push({element:_t,left:_t.scrollLeft,top:_t.scrollTop});for(typeof mt.focus=="function"&&mt.focus(),mt=0;mt<xt.length;mt++)_t=xt[mt],_t.element.scrollLeft=_t.left,_t.element.scrollTop=_t.top}fd=!!kf,lf=kf=null,_e.current=et,Z=tt;do try{for(mt=_e;Z!==null;){var wt=Z.flags;if(wt&36&&Yi(mt,Z.alternate,Z),wt&128){xt=void 0;var bt=Z.ref;if(bt!==null){var Ct=Z.stateNode;switch(Z.tag){case 5:xt=Ct;break;default:xt=Ct}typeof bt=="function"?bt(xt):bt.current=xt}}Z=Z.nextEffect}}catch(Lt){if(Z===null)throw Error(y$2(330));Wi(Z,Lt),Z=Z.nextEffect}while(Z!==null);Z=null,$f(),X=nt}else _e.current=et;if(xj)xj=!1,yj=_e,zj=j;else for(Z=tt;Z!==null;)j=Z.nextEffect,Z.nextEffect=null,Z.flags&8&&(wt=Z,wt.sibling=null,wt.stateNode=null),Z=j;if(tt=_e.pendingLanes,tt===0&&(Ti=null),tt===1?_e===Ej?Dj++:(Dj=0,Ej=_e):Dj=0,et=et.stateNode,Mf&&typeof Mf.onCommitFiberRoot=="function")try{Mf.onCommitFiberRoot(Lf,et,void 0,(et.current.flags&64)===64)}catch{}if(Mj(_e,O()),Qi)throw Qi=!1,_e=Ri,Ri=null,_e;return(X&8)!==0||ig(),null}function ek(){for(;Z!==null;){var _e=Z.alternate;Jj||Ij===null||((Z.flags&8)!==0?dc(Z,Ij)&&(Jj=!0):Z.tag===13&&mj(_e,Z)&&dc(Z,Ij)&&(Jj=!0));var j=Z.flags;(j&256)!==0&&Xi(_e,Z),(j&512)===0||xj||(xj=!0,hg(97,function(){return Oj(),null})),Z=Z.nextEffect}}function Oj(){if(zj!==90){var _e=97<zj?97:zj;return zj=90,gg(_e,fk)}return!1}function $i(_e,j){Aj.push(j,_e),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function Zi(_e,j){Bj.push(j,_e),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function fk(){if(yj===null)return!1;var _e=yj;if(yj=null,(X&48)!==0)throw Error(y$2(331));var j=X;X|=32;var et=Bj;Bj=[];for(var tt=0;tt<et.length;tt+=2){var nt=et[tt],rt=et[tt+1],it=nt.destroy;if(nt.destroy=void 0,typeof it=="function")try{it()}catch(at){if(rt===null)throw Error(y$2(330));Wi(rt,at)}}for(et=Aj,Aj=[],tt=0;tt<et.length;tt+=2){nt=et[tt],rt=et[tt+1];try{var st=nt.create;nt.destroy=st()}catch(at){if(rt===null)throw Error(y$2(330));Wi(rt,at)}}for(st=_e.current.firstEffect;st!==null;)_e=st.nextEffect,st.nextEffect=null,st.flags&8&&(st.sibling=null,st.stateNode=null),st=_e;return X=j,ig(),!0}function gk(_e,j,et){j=Mi(et,j),j=Pi(_e,j,1),Ag(_e,j),j=Hg(),_e=Kj(_e,1),_e!==null&&($c(_e,1,j),Mj(_e,j))}function Wi(_e,j){if(_e.tag===3)gk(_e,_e,j);else for(var et=_e.return;et!==null;){if(et.tag===3){gk(et,_e,j);break}else if(et.tag===1){var tt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Ti===null||!Ti.has(tt))){_e=Mi(j,_e);var nt=Si(et,_e,1);if(Ag(et,nt),nt=Hg(),et=Kj(et,1),et!==null)$c(et,1,nt),Mj(et,nt);else if(typeof tt.componentDidCatch=="function"&&(Ti===null||!Ti.has(tt)))try{tt.componentDidCatch(j,_e)}catch{}break}}et=et.return}}function Yj(_e,j,et){var tt=_e.pingCache;tt!==null&&tt.delete(j),j=Hg(),_e.pingedLanes|=_e.suspendedLanes&et,U===_e&&(W&et)===et&&(V===4||V===3&&(W&62914560)===W&&500>O()-jj?Qj(_e,0):uj|=et),Mj(_e,j)}function lj(_e,j){var et=_e.stateNode;et!==null&&et.delete(j),j=0,j===0&&(j=_e.mode,(j&2)===0?j=1:(j&4)===0?j=eg()===99?1:2:(Gj===0&&(Gj=tj),j=Yc(62914560&~Gj),j===0&&(j=4194304))),et=Hg(),_e=Kj(_e,j),_e!==null&&($c(_e,j,et),Mj(_e,et))}var ck;ck=function(_e,j,et){var tt=j.lanes;if(_e!==null)if(_e.memoizedProps!==j.pendingProps||N.current)ug=!0;else if((et&tt)!==0)ug=(_e.flags&16384)!==0;else{switch(ug=!1,j.tag){case 3:ri(j),sh();break;case 5:gh(j);break;case 1:Ff(j.type)&&Jf(j);break;case 4:eh(j,j.stateNode.containerInfo);break;case 10:tt=j.memoizedProps.value;var nt=j.type._context;I(mg,nt._currentValue),nt._currentValue=tt;break;case 13:if(j.memoizedState!==null)return(et&j.child.childLanes)!==0?ti(_e,j,et):(I(P,P.current&1),j=hi(_e,j,et),j!==null?j.sibling:null);I(P,P.current&1);break;case 19:if(tt=(et&j.childLanes)!==0,(_e.flags&64)!==0){if(tt)return Ai(_e,j,et);j.flags|=64}if(nt=j.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),I(P,P.current),tt)break;return null;case 23:case 24:return j.lanes=0,mi(_e,j,et)}return hi(_e,j,et)}else ug=!1;switch(j.lanes=0,j.tag){case 2:if(tt=j.type,_e!==null&&(_e.alternate=null,j.alternate=null,j.flags|=2),_e=j.pendingProps,nt=Ef(j,M.current),tg(j,et),nt=Ch(null,j,tt,_e,nt,et),j.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0){if(j.tag=1,j.memoizedState=null,j.updateQueue=null,Ff(tt)){var rt=!0;Jf(j)}else rt=!1;j.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,xg(j);var it=tt.getDerivedStateFromProps;typeof it=="function"&&Gg(j,tt,it,_e),nt.updater=Kg,j.stateNode=nt,nt._reactInternals=j,Og(j,tt,_e,et),j=qi(null,j,tt,!0,rt,et)}else j.tag=0,fi(null,j,nt,et),j=j.child;return j;case 16:nt=j.elementType;e:{switch(_e!==null&&(_e.alternate=null,j.alternate=null,j.flags|=2),_e=j.pendingProps,rt=nt._init,nt=rt(nt._payload),j.type=nt,rt=j.tag=hk(nt),_e=lg(nt,_e),rt){case 0:j=li(null,j,nt,_e,et);break e;case 1:j=pi(null,j,nt,_e,et);break e;case 11:j=gi(null,j,nt,_e,et);break e;case 14:j=ii(null,j,nt,lg(nt.type,_e),tt,et);break e}throw Error(y$2(306,nt,""))}return j;case 0:return tt=j.type,nt=j.pendingProps,nt=j.elementType===tt?nt:lg(tt,nt),li(_e,j,tt,nt,et);case 1:return tt=j.type,nt=j.pendingProps,nt=j.elementType===tt?nt:lg(tt,nt),pi(_e,j,tt,nt,et);case 3:if(ri(j),tt=j.updateQueue,_e===null||tt===null)throw Error(y$2(282));if(tt=j.pendingProps,nt=j.memoizedState,nt=nt!==null?nt.element:null,yg(_e,j),Cg(j,tt,null,et),tt=j.memoizedState.element,tt===nt)sh(),j=hi(_e,j,et);else{if(nt=j.stateNode,(rt=nt.hydrate)&&(kh=rf(j.stateNode.containerInfo.firstChild),jh=j,rt=lh=!0),rt){if(_e=nt.mutableSourceEagerHydrationData,_e!=null)for(nt=0;nt<_e.length;nt+=2)rt=_e[nt],rt._workInProgressVersionPrimary=_e[nt+1],th.push(rt);for(et=Zg(j,null,tt,et),j.child=et;et;)et.flags=et.flags&-3|1024,et=et.sibling}else fi(_e,j,tt,et),sh();j=j.child}return j;case 5:return gh(j),_e===null&&ph(j),tt=j.type,nt=j.pendingProps,rt=_e!==null?_e.memoizedProps:null,it=nt.children,nf(tt,nt)?it=null:rt!==null&&nf(tt,rt)&&(j.flags|=16),oi(_e,j),fi(_e,j,it,et),j.child;case 6:return _e===null&&ph(j),null;case 13:return ti(_e,j,et);case 4:return eh(j,j.stateNode.containerInfo),tt=j.pendingProps,_e===null?j.child=Yg(j,null,tt,et):fi(_e,j,tt,et),j.child;case 11:return tt=j.type,nt=j.pendingProps,nt=j.elementType===tt?nt:lg(tt,nt),gi(_e,j,tt,nt,et);case 7:return fi(_e,j,j.pendingProps,et),j.child;case 8:return fi(_e,j,j.pendingProps.children,et),j.child;case 12:return fi(_e,j,j.pendingProps.children,et),j.child;case 10:e:{tt=j.type._context,nt=j.pendingProps,it=j.memoizedProps,rt=nt.value;var st=j.type._context;if(I(mg,st._currentValue),st._currentValue=rt,it!==null)if(st=it.value,rt=He(st,rt)?0:(typeof tt._calculateChangedBits=="function"?tt._calculateChangedBits(st,rt):1073741823)|0,rt===0){if(it.children===nt.children&&!N.current){j=hi(_e,j,et);break e}}else for(st=j.child,st!==null&&(st.return=j);st!==null;){var at=st.dependencies;if(at!==null){it=st.child;for(var ot=at.firstContext;ot!==null;){if(ot.context===tt&&(ot.observedBits&rt)!==0){st.tag===1&&(ot=zg(-1,et&-et),ot.tag=2,Ag(st,ot)),st.lanes|=et,ot=st.alternate,ot!==null&&(ot.lanes|=et),sg(st.return,et),at.lanes|=et;break}ot=ot.next}}else it=st.tag===10&&st.type===j.type?null:st.child;if(it!==null)it.return=st;else for(it=st;it!==null;){if(it===j){it=null;break}if(st=it.sibling,st!==null){st.return=it.return,it=st;break}it=it.return}st=it}fi(_e,j,nt.children,et),j=j.child}return j;case 9:return nt=j.type,rt=j.pendingProps,tt=rt.children,tg(j,et),nt=vg(nt,rt.unstable_observedBits),tt=tt(nt),j.flags|=1,fi(_e,j,tt,et),j.child;case 14:return nt=j.type,rt=lg(nt,j.pendingProps),rt=lg(nt.type,rt),ii(_e,j,nt,rt,tt,et);case 15:return ki(_e,j,j.type,j.pendingProps,tt,et);case 17:return tt=j.type,nt=j.pendingProps,nt=j.elementType===tt?nt:lg(tt,nt),_e!==null&&(_e.alternate=null,j.alternate=null,j.flags|=2),j.tag=1,Ff(tt)?(_e=!0,Jf(j)):_e=!1,tg(j,et),Mg(j,tt,nt),Og(j,tt,nt,et),qi(null,j,tt,!0,_e,et);case 19:return Ai(_e,j,et);case 23:return mi(_e,j,et);case 24:return mi(_e,j,et)}throw Error(y$2(156,j.tag))};function ik(_e,j,et,tt){this.tag=_e,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=j,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function nh(_e,j,et,tt){return new ik(_e,j,et,tt)}function ji(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function hk(_e){if(typeof _e=="function")return ji(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Aa)return 11;if(_e===Da)return 14}return 2}function Tg(_e,j){var et=_e.alternate;return et===null?(et=nh(_e.tag,j,_e.key,_e.mode),et.elementType=_e.elementType,et.type=_e.type,et.stateNode=_e.stateNode,et.alternate=_e,_e.alternate=et):(et.pendingProps=j,et.type=_e.type,et.flags=0,et.nextEffect=null,et.firstEffect=null,et.lastEffect=null),et.childLanes=_e.childLanes,et.lanes=_e.lanes,et.child=_e.child,et.memoizedProps=_e.memoizedProps,et.memoizedState=_e.memoizedState,et.updateQueue=_e.updateQueue,j=_e.dependencies,et.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext},et.sibling=_e.sibling,et.index=_e.index,et.ref=_e.ref,et}function Vg(_e,j,et,tt,nt,rt){var it=2;if(tt=_e,typeof _e=="function")ji(_e)&&(it=1);else if(typeof _e=="string")it=5;else e:switch(_e){case ua:return Xg(et.children,nt,rt,j);case Ha:it=8,nt|=16;break;case wa:it=8,nt|=1;break;case xa:return _e=nh(12,et,j,nt|8),_e.elementType=xa,_e.type=xa,_e.lanes=rt,_e;case Ba:return _e=nh(13,et,j,nt),_e.type=Ba,_e.elementType=Ba,_e.lanes=rt,_e;case Ca:return _e=nh(19,et,j,nt),_e.elementType=Ca,_e.lanes=rt,_e;case Ia:return vi(et,nt,rt,j);case Ja:return _e=nh(24,et,j,nt),_e.elementType=Ja,_e.lanes=rt,_e;default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case ya:it=10;break e;case za:it=9;break e;case Aa:it=11;break e;case Da:it=14;break e;case Ea:it=16,tt=null;break e;case Fa:it=22;break e}throw Error(y$2(130,_e==null?_e:typeof _e,""))}return j=nh(it,et,j,nt),j.elementType=_e,j.type=tt,j.lanes=rt,j}function Xg(_e,j,et,tt){return _e=nh(7,_e,tt,j),_e.lanes=et,_e}function vi(_e,j,et,tt){return _e=nh(23,_e,tt,j),_e.elementType=Ia,_e.lanes=et,_e}function Ug(_e,j,et){return _e=nh(6,_e,null,j),_e.lanes=et,_e}function Wg(_e,j,et){return j=nh(4,_e.children!==null?_e.children:[],_e.key,j),j.lanes=et,j.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},j}function jk(_e,j,et){this.tag=j,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=et,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.mutableSourceEagerHydrationData=null}function kk(_e,j,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta,key:tt==null?null:""+tt,children:_e,containerInfo:j,implementation:et}}function lk(_e,j,et,tt){var nt=j.current,rt=Hg(),it=Ig(nt);e:if(et){et=et._reactInternals;t:{if(Zb(et)!==et||et.tag!==1)throw Error(y$2(170));var st=et;do{switch(st.tag){case 3:st=st.stateNode.context;break t;case 1:if(Ff(st.type)){st=st.stateNode.__reactInternalMemoizedMergedChildContext;break t}}st=st.return}while(st!==null);throw Error(y$2(171))}if(et.tag===1){var at=et.type;if(Ff(at)){et=If(et,at,st);break e}}et=st}else et=Cf;return j.context===null?j.context=et:j.pendingContext=et,j=zg(rt,it),j.payload={element:_e},tt=tt===void 0?null:tt,tt!==null&&(j.callback=tt),Ag(nt,j),Jg(nt,it,rt),it}function mk(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function nk(_e,j){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var et=_e.retryLane;_e.retryLane=et!==0&&et<j?et:j}}function ok(_e,j){nk(_e,j),(_e=_e.alternate)&&nk(_e,j)}function pk(){return null}function qk(_e,j,et){var tt=et!=null&&et.hydrationOptions!=null&&et.hydrationOptions.mutableSources||null;if(et=new jk(_e,j,et!=null&&et.hydrate===!0),j=nh(3,null,null,j===2?7:j===1?3:0),et.current=j,j.stateNode=et,xg(j),_e[ff]=et.current,cf(_e.nodeType===8?_e.parentNode:_e),tt)for(_e=0;_e<tt.length;_e++){j=tt[_e];var nt=j._getVersion;nt=nt(j._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[j,nt]:et.mutableSourceEagerHydrationData.push(j,nt)}this._internalRoot=et}qk.prototype.render=function(_e){lk(_e,this._internalRoot,null,null)};qk.prototype.unmount=function(){var _e=this._internalRoot,j=_e.containerInfo;lk(null,_e,null,function(){j[ff]=null})};function rk(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function sk(_e,j){if(j||(j=_e?_e.nodeType===9?_e.documentElement:_e.firstChild:null,j=!(!j||j.nodeType!==1||!j.hasAttribute("data-reactroot"))),!j)for(var et;et=_e.lastChild;)_e.removeChild(et);return new qk(_e,0,j?{hydrate:!0}:void 0)}function tk(_e,j,et,tt,nt){var rt=et._reactRootContainer;if(rt){var it=rt._internalRoot;if(typeof nt=="function"){var st=nt;nt=function(){var ot=mk(it);st.call(ot)}}lk(j,it,_e,nt)}else{if(rt=et._reactRootContainer=sk(et,tt),it=rt._internalRoot,typeof nt=="function"){var at=nt;nt=function(){var ot=mk(it);at.call(ot)}}Xj(function(){lk(j,it,_e,nt)})}return mk(it)}ec=function(_e){if(_e.tag===13){var j=Hg();Jg(_e,4,j),ok(_e,4)}};fc=function(_e){if(_e.tag===13){var j=Hg();Jg(_e,67108864,j),ok(_e,67108864)}};gc=function(_e){if(_e.tag===13){var j=Hg(),et=Ig(_e);Jg(_e,et,j),ok(_e,et)}};hc=function(_e,j){return j()};yb=function(_e,j,et){switch(j){case"input":if(ab(_e,et),j=et.name,et.type==="radio"&&j!=null){for(et=_e;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+j)+'][type="radio"]'),j=0;j<et.length;j++){var tt=et[j];if(tt!==_e&&tt.form===_e.form){var nt=Db(tt);if(!nt)throw Error(y$2(90));Wa(tt),ab(tt,nt)}}}break;case"textarea":ib(_e,et);break;case"select":j=et.value,j!=null&&fb(_e,!!et.multiple,j,!1)}};Gb=Wj;Hb=function(_e,j,et,tt,nt){var rt=X;X|=4;try{return gg(98,_e.bind(null,j,et,tt,nt))}finally{X=rt,X===0&&(wj(),ig())}};Ib=function(){(X&49)===0&&(Vj(),Oj())};Jb=function(_e,j){var et=X;X|=2;try{return _e(j)}finally{X=et,X===0&&(wj(),ig())}};function uk(_e,j){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rk(j))throw Error(y$2(200));return kk(_e,j,null,et)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=cc(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;reactDom_production_min.createPortal=uk;reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var j=_e._reactInternals;if(j===void 0)throw typeof _e.render=="function"?Error(y$2(188)):Error(y$2(268,Object.keys(_e)));return _e=cc(j),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e,j){var et=X;if((et&48)!==0)return _e(j);X|=1;try{if(_e)return gg(99,_e.bind(null,j))}finally{X=et,ig()}};reactDom_production_min.hydrate=function(_e,j,et){if(!rk(j))throw Error(y$2(200));return tk(null,_e,j,!0,et)};reactDom_production_min.render=function(_e,j,et){if(!rk(j))throw Error(y$2(200));return tk(null,_e,j,!1,et)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!rk(_e))throw Error(y$2(40));return _e._reactRootContainer?(Xj(function(){tk(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[ff]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Wj;reactDom_production_min.unstable_createPortal=function(_e,j){return uk(_e,j,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,j,et,tt){if(!rk(et))throw Error(y$2(200));if(_e==null||_e._reactInternals===void 0)throw Error(y$2(38));return tk(_e,j,et,!1,tt)};reactDom_production_min.version="17.0.2";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var ReactDOM=reactDom.exports;function _setPrototypeOf(_e,j){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf(_e,j)}function _inheritsLoose(_e,j){_e.prototype=Object.create(j.prototype),_e.prototype.constructor=_e,_setPrototypeOf(_e,j)}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function _e(tt,nt,rt,it,st,at){if(at!==ReactPropTypesSecret){var ot=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ot.name="Invariant Violation",ot}}_e.isRequired=_e;function j(){return _e}var et={array:_e,bigint:_e,bool:_e,func:_e,number:_e,object:_e,string:_e,symbol:_e,any:_e,arrayOf:j,element:_e,elementType:_e,instanceOf:j,node:_e,objectOf:j,oneOf:j,oneOfType:j,shape:j,exact:j,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return et.PropTypes=et,et};propTypes.exports=factoryWithThrowingShims();var PropTypes=propTypes.exports;function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var j=1;j<arguments.length;j++){var et=arguments[j];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends.apply(this,arguments)}function isAbsolute(_e){return _e.charAt(0)==="/"}function spliceOne(_e,j){for(var et=j,tt=et+1,nt=_e.length;tt<nt;et+=1,tt+=1)_e[et]=_e[tt];_e.pop()}function resolvePathname(_e,j){j===void 0&&(j="");var et=_e&&_e.split("/")||[],tt=j&&j.split("/")||[],nt=_e&&isAbsolute(_e),rt=j&&isAbsolute(j),it=nt||rt;if(_e&&isAbsolute(_e)?tt=et:et.length&&(tt.pop(),tt=tt.concat(et)),!tt.length)return"/";var st;if(tt.length){var at=tt[tt.length-1];st=at==="."||at===".."||at===""}else st=!1;for(var ot=0,lt=tt.length;lt>=0;lt--){var ut=tt[lt];ut==="."?spliceOne(tt,lt):ut===".."?(spliceOne(tt,lt),ot++):ot&&(spliceOne(tt,lt),ot--)}if(!it)for(;ot--;ot)tt.unshift("..");it&&tt[0]!==""&&(!tt[0]||!isAbsolute(tt[0]))&&tt.unshift("");var ct=tt.join("/");return st&&ct.substr(-1)!=="/"&&(ct+="/"),ct}function valueOf$2(_e){return _e.valueOf?_e.valueOf():Object.prototype.valueOf.call(_e)}function valueEqual(_e,j){if(_e===j)return!0;if(_e==null||j==null)return!1;if(Array.isArray(_e))return Array.isArray(j)&&_e.length===j.length&&_e.every(function(nt,rt){return valueEqual(nt,j[rt])});if(typeof _e=="object"||typeof j=="object"){var et=valueOf$2(_e),tt=valueOf$2(j);return et!==_e||tt!==j?valueEqual(et,tt):Object.keys(Object.assign({},_e,j)).every(function(nt){return valueEqual(_e[nt],j[nt])})}return!1}var isProduction=!0,prefix="Invariant failed";function invariant(_e,j){if(!_e){if(isProduction)throw new Error(prefix);var et=typeof j=="function"?j():j,tt=et?prefix+": "+et:prefix;throw new Error(tt)}}function addLeadingSlash$1(_e){return _e.charAt(0)==="/"?_e:"/"+_e}function stripLeadingSlash(_e){return _e.charAt(0)==="/"?_e.substr(1):_e}function hasBasename(_e,j){return _e.toLowerCase().indexOf(j.toLowerCase())===0&&"/?#".indexOf(_e.charAt(j.length))!==-1}function stripBasename$1(_e,j){return hasBasename(_e,j)?_e.substr(j.length):_e}function stripTrailingSlash(_e){return _e.charAt(_e.length-1)==="/"?_e.slice(0,-1):_e}function parsePath(_e){var j=_e||"/",et="",tt="",nt=j.indexOf("#");nt!==-1&&(tt=j.substr(nt),j=j.substr(0,nt));var rt=j.indexOf("?");return rt!==-1&&(et=j.substr(rt),j=j.substr(0,rt)),{pathname:j,search:et==="?"?"":et,hash:tt==="#"?"":tt}}function createPath(_e){var j=_e.pathname,et=_e.search,tt=_e.hash,nt=j||"/";return et&&et!=="?"&&(nt+=et.charAt(0)==="?"?et:"?"+et),tt&&tt!=="#"&&(nt+=tt.charAt(0)==="#"?tt:"#"+tt),nt}function createLocation(_e,j,et,tt){var nt;typeof _e=="string"?(nt=parsePath(_e),nt.state=j):(nt=_extends({},_e),nt.pathname===void 0&&(nt.pathname=""),nt.search?nt.search.charAt(0)!=="?"&&(nt.search="?"+nt.search):nt.search="",nt.hash?nt.hash.charAt(0)!=="#"&&(nt.hash="#"+nt.hash):nt.hash="",j!==void 0&&nt.state===void 0&&(nt.state=j));try{nt.pathname=decodeURI(nt.pathname)}catch(rt){throw rt instanceof URIError?new URIError('Pathname "'+nt.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):rt}return et&&(nt.key=et),tt?nt.pathname?nt.pathname.charAt(0)!=="/"&&(nt.pathname=resolvePathname(nt.pathname,tt.pathname)):nt.pathname=tt.pathname:nt.pathname||(nt.pathname="/"),nt}function locationsAreEqual(_e,j){return _e.pathname===j.pathname&&_e.search===j.search&&_e.hash===j.hash&&_e.key===j.key&&valueEqual(_e.state,j.state)}function createTransitionManager(){var _e=null;function j(it){return _e=it,function(){_e===it&&(_e=null)}}function et(it,st,at,ot){if(_e!=null){var lt=typeof _e=="function"?_e(it,st):_e;typeof lt=="string"?typeof at=="function"?at(lt,ot):ot(!0):ot(lt!==!1)}else ot(!0)}var tt=[];function nt(it){var st=!0;function at(){st&&it.apply(void 0,arguments)}return tt.push(at),function(){st=!1,tt=tt.filter(function(ot){return ot!==at})}}function rt(){for(var it=arguments.length,st=new Array(it),at=0;at<it;at++)st[at]=arguments[at];tt.forEach(function(ot){return ot.apply(void 0,st)})}return{setPrompt:j,confirmTransitionTo:et,appendListener:nt,notifyListeners:rt}}var canUseDOM=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function getConfirmation(_e,j){j(window.confirm(_e))}function supportsHistory(){var _e=window.navigator.userAgent;return(_e.indexOf("Android 2.")!==-1||_e.indexOf("Android 4.0")!==-1)&&_e.indexOf("Mobile Safari")!==-1&&_e.indexOf("Chrome")===-1&&_e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function supportsPopStateOnHashChange(){return window.navigator.userAgent.indexOf("Trident")===-1}function supportsGoWithoutReloadUsingHash(){return window.navigator.userAgent.indexOf("Firefox")===-1}function isExtraneousPopstateEvent(_e){return _e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var PopStateEvent="popstate",HashChangeEvent="hashchange";function getHistoryState(){try{return window.history.state||{}}catch{return{}}}function createBrowserHistory(_e){_e===void 0&&(_e={}),canUseDOM||invariant(!1);var j=window.history,et=supportsHistory(),tt=!supportsPopStateOnHashChange(),nt=_e,rt=nt.forceRefresh,it=rt===void 0?!1:rt,st=nt.getUserConfirmation,at=st===void 0?getConfirmation:st,ot=nt.keyLength,lt=ot===void 0?6:ot,ut=_e.basename?stripTrailingSlash(addLeadingSlash$1(_e.basename)):"";function ct(zt){var Ht=zt||{},Vt=Ht.key,qt=Ht.state,an=window.location,gn=an.pathname,yn=an.search,fn=an.hash,In=gn+yn+fn;return ut&&(In=stripBasename$1(In,ut)),createLocation(In,qt,Vt)}function ht(){return Math.random().toString(36).substr(2,lt)}var pt=createTransitionManager();function gt(zt){_extends(Ut,zt),Ut.length=j.length,pt.notifyListeners(Ut.location,Ut.action)}function vt(zt){isExtraneousPopstateEvent(zt)||xt(ct(zt.state))}function ft(){xt(ct(getHistoryState()))}var mt=!1;function xt(zt){if(mt)mt=!1,gt();else{var Ht="POP";pt.confirmTransitionTo(zt,Ht,at,function(Vt){Vt?gt({action:Ht,location:zt}):_t(zt)})}}function _t(zt){var Ht=Ut.location,Vt=wt.indexOf(Ht.key);Vt===-1&&(Vt=0);var qt=wt.indexOf(zt.key);qt===-1&&(qt=0);var an=Vt-qt;an&&(mt=!0,$t(an))}var Tt=ct(getHistoryState()),wt=[Tt.key];function bt(zt){return ut+createPath(zt)}function Ct(zt,Ht){var Vt="PUSH",qt=createLocation(zt,Ht,ht(),Ut.location);pt.confirmTransitionTo(qt,Vt,at,function(an){if(!!an){var gn=bt(qt),yn=qt.key,fn=qt.state;if(et)if(j.pushState({key:yn,state:fn},null,gn),it)window.location.href=gn;else{var In=wt.indexOf(Ut.location.key),Dn=wt.slice(0,In+1);Dn.push(qt.key),wt=Dn,gt({action:Vt,location:qt})}else window.location.href=gn}})}function Lt(zt,Ht){var Vt="REPLACE",qt=createLocation(zt,Ht,ht(),Ut.location);pt.confirmTransitionTo(qt,Vt,at,function(an){if(!!an){var gn=bt(qt),yn=qt.key,fn=qt.state;if(et)if(j.replaceState({key:yn,state:fn},null,gn),it)window.location.replace(gn);else{var In=wt.indexOf(Ut.location.key);In!==-1&&(wt[In]=qt.key),gt({action:Vt,location:qt})}else window.location.replace(gn)}})}function $t(zt){j.go(zt)}function Rt(){$t(-1)}function Bt(){$t(1)}var Gt=0;function Ft(zt){Gt+=zt,Gt===1&&zt===1?(window.addEventListener(PopStateEvent,vt),tt&&window.addEventListener(HashChangeEvent,ft)):Gt===0&&(window.removeEventListener(PopStateEvent,vt),tt&&window.removeEventListener(HashChangeEvent,ft))}var kt=!1;function It(zt){zt===void 0&&(zt=!1);var Ht=pt.setPrompt(zt);return kt||(Ft(1),kt=!0),function(){return kt&&(kt=!1,Ft(-1)),Ht()}}function Ot(zt){var Ht=pt.appendListener(zt);return Ft(1),function(){Ft(-1),Ht()}}var Ut={length:j.length,action:"POP",location:Tt,createHref:bt,push:Ct,replace:Lt,go:$t,goBack:Rt,goForward:Bt,block:It,listen:Ot};return Ut}var HashChangeEvent$1="hashchange",HashPathCoders={hashbang:{encodePath:function(j){return j.charAt(0)==="!"?j:"!/"+stripLeadingSlash(j)},decodePath:function(j){return j.charAt(0)==="!"?j.substr(1):j}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash$1},slash:{encodePath:addLeadingSlash$1,decodePath:addLeadingSlash$1}};function stripHash(_e){var j=_e.indexOf("#");return j===-1?_e:_e.slice(0,j)}function getHashPath(){var _e=window.location.href,j=_e.indexOf("#");return j===-1?"":_e.substring(j+1)}function pushHashPath(_e){window.location.hash=_e}function replaceHashPath(_e){window.location.replace(stripHash(window.location.href)+"#"+_e)}function createHashHistory(_e){_e===void 0&&(_e={}),canUseDOM||invariant(!1);var j=window.history;supportsGoWithoutReloadUsingHash();var et=_e,tt=et.getUserConfirmation,nt=tt===void 0?getConfirmation:tt,rt=et.hashType,it=rt===void 0?"slash":rt,st=_e.basename?stripTrailingSlash(addLeadingSlash$1(_e.basename)):"",at=HashPathCoders[it],ot=at.encodePath,lt=at.decodePath;function ut(){var Ht=lt(getHashPath());return st&&(Ht=stripBasename$1(Ht,st)),createLocation(Ht)}var ct=createTransitionManager();function ht(Ht){_extends(zt,Ht),zt.length=j.length,ct.notifyListeners(zt.location,zt.action)}var pt=!1,gt=null;function vt(Ht,Vt){return Ht.pathname===Vt.pathname&&Ht.search===Vt.search&&Ht.hash===Vt.hash}function ft(){var Ht=getHashPath(),Vt=ot(Ht);if(Ht!==Vt)replaceHashPath(Vt);else{var qt=ut(),an=zt.location;if(!pt&&vt(an,qt)||gt===createPath(qt))return;gt=null,mt(qt)}}function mt(Ht){if(pt)pt=!1,ht();else{var Vt="POP";ct.confirmTransitionTo(Ht,Vt,nt,function(qt){qt?ht({action:Vt,location:Ht}):xt(Ht)})}}function xt(Ht){var Vt=zt.location,qt=bt.lastIndexOf(createPath(Vt));qt===-1&&(qt=0);var an=bt.lastIndexOf(createPath(Ht));an===-1&&(an=0);var gn=qt-an;gn&&(pt=!0,Rt(gn))}var _t=getHashPath(),Tt=ot(_t);_t!==Tt&&replaceHashPath(Tt);var wt=ut(),bt=[createPath(wt)];function Ct(Ht){var Vt=document.querySelector("base"),qt="";return Vt&&Vt.getAttribute("href")&&(qt=stripHash(window.location.href)),qt+"#"+ot(st+createPath(Ht))}function Lt(Ht,Vt){var qt="PUSH",an=createLocation(Ht,void 0,void 0,zt.location);ct.confirmTransitionTo(an,qt,nt,function(gn){if(!!gn){var yn=createPath(an),fn=ot(st+yn),In=getHashPath()!==fn;if(In){gt=yn,pushHashPath(fn);var Dn=bt.lastIndexOf(createPath(zt.location)),Mn=bt.slice(0,Dn+1);Mn.push(yn),bt=Mn,ht({action:qt,location:an})}else ht()}})}function $t(Ht,Vt){var qt="REPLACE",an=createLocation(Ht,void 0,void 0,zt.location);ct.confirmTransitionTo(an,qt,nt,function(gn){if(!!gn){var yn=createPath(an),fn=ot(st+yn),In=getHashPath()!==fn;In&&(gt=yn,replaceHashPath(fn));var Dn=bt.indexOf(createPath(zt.location));Dn!==-1&&(bt[Dn]=yn),ht({action:qt,location:an})}})}function Rt(Ht){j.go(Ht)}function Bt(){Rt(-1)}function Gt(){Rt(1)}var Ft=0;function kt(Ht){Ft+=Ht,Ft===1&&Ht===1?window.addEventListener(HashChangeEvent$1,ft):Ft===0&&window.removeEventListener(HashChangeEvent$1,ft)}var It=!1;function Ot(Ht){Ht===void 0&&(Ht=!1);var Vt=ct.setPrompt(Ht);return It||(kt(1),It=!0),function(){return It&&(It=!1,kt(-1)),Vt()}}function Ut(Ht){var Vt=ct.appendListener(Ht);return kt(1),function(){kt(-1),Vt()}}var zt={length:j.length,action:"POP",location:wt,createHref:Ct,push:Lt,replace:$t,go:Rt,goBack:Bt,goForward:Gt,block:Ot,listen:Ut};return zt}function clamp$1(_e,j,et){return Math.min(Math.max(_e,j),et)}function createMemoryHistory(_e){_e===void 0&&(_e={});var j=_e,et=j.getUserConfirmation,tt=j.initialEntries,nt=tt===void 0?["/"]:tt,rt=j.initialIndex,it=rt===void 0?0:rt,st=j.keyLength,at=st===void 0?6:st,ot=createTransitionManager();function lt(Ct){_extends(bt,Ct),bt.length=bt.entries.length,ot.notifyListeners(bt.location,bt.action)}function ut(){return Math.random().toString(36).substr(2,at)}var ct=clamp$1(it,0,nt.length-1),ht=nt.map(function(Ct){return typeof Ct=="string"?createLocation(Ct,void 0,ut()):createLocation(Ct,void 0,Ct.key||ut())}),pt=createPath;function gt(Ct,Lt){var $t="PUSH",Rt=createLocation(Ct,Lt,ut(),bt.location);ot.confirmTransitionTo(Rt,$t,et,function(Bt){if(!!Bt){var Gt=bt.index,Ft=Gt+1,kt=bt.entries.slice(0);kt.length>Ft?kt.splice(Ft,kt.length-Ft,Rt):kt.push(Rt),lt({action:$t,location:Rt,index:Ft,entries:kt})}})}function vt(Ct,Lt){var $t="REPLACE",Rt=createLocation(Ct,Lt,ut(),bt.location);ot.confirmTransitionTo(Rt,$t,et,function(Bt){!Bt||(bt.entries[bt.index]=Rt,lt({action:$t,location:Rt}))})}function ft(Ct){var Lt=clamp$1(bt.index+Ct,0,bt.entries.length-1),$t="POP",Rt=bt.entries[Lt];ot.confirmTransitionTo(Rt,$t,et,function(Bt){Bt?lt({action:$t,location:Rt,index:Lt}):lt()})}function mt(){ft(-1)}function xt(){ft(1)}function _t(Ct){var Lt=bt.index+Ct;return Lt>=0&&Lt<bt.entries.length}function Tt(Ct){return Ct===void 0&&(Ct=!1),ot.setPrompt(Ct)}function wt(Ct){return ot.appendListener(Ct)}var bt={length:ht.length,action:"POP",location:ht[ct],index:ct,entries:ht,createHref:pt,push:gt,replace:vt,go:ft,goBack:mt,goForward:xt,canGo:_t,block:Tt,listen:wt};return bt}var MAX_SIGNED_31_BIT_INT=1073741823,commonjsGlobal$1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function getUniqueId(){var _e="__global_unique_id__";return commonjsGlobal$1[_e]=(commonjsGlobal$1[_e]||0)+1}function objectIs(_e,j){return _e===j?_e!==0||1/_e===1/j:_e!==_e&&j!==j}function createEventEmitter(_e){var j=[];return{on:function(tt){j.push(tt)},off:function(tt){j=j.filter(function(nt){return nt!==tt})},get:function(){return _e},set:function(tt,nt){_e=tt,j.forEach(function(rt){return rt(_e,nt)})}}}function onlyChild(_e){return Array.isArray(_e)?_e[0]:_e}function createReactContext(_e,j){var et,tt,nt="__create-react-context-"+getUniqueId()+"__",rt=function(st){_inheritsLoose(at,st);function at(){var lt;return lt=st.apply(this,arguments)||this,lt.emitter=createEventEmitter(lt.props.value),lt}var ot=at.prototype;return ot.getChildContext=function(){var ut;return ut={},ut[nt]=this.emitter,ut},ot.componentWillReceiveProps=function(ut){if(this.props.value!==ut.value){var ct=this.props.value,ht=ut.value,pt;objectIs(ct,ht)?pt=0:(pt=typeof j=="function"?j(ct,ht):MAX_SIGNED_31_BIT_INT,pt|=0,pt!==0&&this.emitter.set(ut.value,pt))}},ot.render=function(){return this.props.children},at}(react.exports.Component);rt.childContextTypes=(et={},et[nt]=PropTypes.object.isRequired,et);var it=function(st){_inheritsLoose(at,st);function at(){var lt;return lt=st.apply(this,arguments)||this,lt.state={value:lt.getValue()},lt.onUpdate=function(ut,ct){var ht=lt.observedBits|0;(ht&ct)!==0&&lt.setState({value:lt.getValue()})},lt}var ot=at.prototype;return ot.componentWillReceiveProps=function(ut){var ct=ut.observedBits;this.observedBits=ct==null?MAX_SIGNED_31_BIT_INT:ct},ot.componentDidMount=function(){this.context[nt]&&this.context[nt].on(this.onUpdate);var ut=this.props.observedBits;this.observedBits=ut==null?MAX_SIGNED_31_BIT_INT:ut},ot.componentWillUnmount=function(){this.context[nt]&&this.context[nt].off(this.onUpdate)},ot.getValue=function(){return this.context[nt]?this.context[nt].get():_e},ot.render=function(){return onlyChild(this.props.children)(this.state.value)},at}(react.exports.Component);return it.contextTypes=(tt={},tt[nt]=PropTypes.object,tt),{Provider:rt,Consumer:it}}var index$l=React.createContext||createReactContext,pathToRegexp$2={exports:{}},isarray$1=Array.isArray||function(_e){return Object.prototype.toString.call(_e)=="[object Array]"},isarray=isarray$1;pathToRegexp$2.exports=pathToRegexp;pathToRegexp$2.exports.parse=parse$3;pathToRegexp$2.exports.compile=compile;pathToRegexp$2.exports.tokensToFunction=tokensToFunction;pathToRegexp$2.exports.tokensToRegExp=tokensToRegExp;var PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse$3(_e,j){for(var et=[],tt=0,nt=0,rt="",it=j&&j.delimiter||"/",st;(st=PATH_REGEXP.exec(_e))!=null;){var at=st[0],ot=st[1],lt=st.index;if(rt+=_e.slice(nt,lt),nt=lt+at.length,ot){rt+=ot[1];continue}var ut=_e[nt],ct=st[2],ht=st[3],pt=st[4],gt=st[5],vt=st[6],ft=st[7];rt&&(et.push(rt),rt="");var mt=ct!=null&&ut!=null&&ut!==ct,xt=vt==="+"||vt==="*",_t=vt==="?"||vt==="*",Tt=st[2]||it,wt=pt||gt;et.push({name:ht||tt++,prefix:ct||"",delimiter:Tt,optional:_t,repeat:xt,partial:mt,asterisk:!!ft,pattern:wt?escapeGroup(wt):ft?".*":"[^"+escapeString(Tt)+"]+?"})}return nt<_e.length&&(rt+=_e.substr(nt)),rt&&et.push(rt),et}function compile(_e,j){return tokensToFunction(parse$3(_e,j),j)}function encodeURIComponentPretty(_e){return encodeURI(_e).replace(/[\/?#]/g,function(j){return"%"+j.charCodeAt(0).toString(16).toUpperCase()})}function encodeAsterisk(_e){return encodeURI(_e).replace(/[?#]/g,function(j){return"%"+j.charCodeAt(0).toString(16).toUpperCase()})}function tokensToFunction(_e,j){for(var et=new Array(_e.length),tt=0;tt<_e.length;tt++)typeof _e[tt]=="object"&&(et[tt]=new RegExp("^(?:"+_e[tt].pattern+")$",flags(j)));return function(nt,rt){for(var it="",st=nt||{},at=rt||{},ot=at.pretty?encodeURIComponentPretty:encodeURIComponent,lt=0;lt<_e.length;lt++){var ut=_e[lt];if(typeof ut=="string"){it+=ut;continue}var ct=st[ut.name],ht;if(ct==null)if(ut.optional){ut.partial&&(it+=ut.prefix);continue}else throw new TypeError('Expected "'+ut.name+'" to be defined');if(isarray(ct)){if(!ut.repeat)throw new TypeError('Expected "'+ut.name+'" to not repeat, but received `'+JSON.stringify(ct)+"`");if(ct.length===0){if(ut.optional)continue;throw new TypeError('Expected "'+ut.name+'" to not be empty')}for(var pt=0;pt<ct.length;pt++){if(ht=ot(ct[pt]),!et[lt].test(ht))throw new TypeError('Expected all "'+ut.name+'" to match "'+ut.pattern+'", but received `'+JSON.stringify(ht)+"`");it+=(pt===0?ut.prefix:ut.delimiter)+ht}continue}if(ht=ut.asterisk?encodeAsterisk(ct):ot(ct),!et[lt].test(ht))throw new TypeError('Expected "'+ut.name+'" to match "'+ut.pattern+'", but received "'+ht+'"');it+=ut.prefix+ht}return it}}function escapeString(_e){return _e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(_e){return _e.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(_e,j){return _e.keys=j,_e}function flags(_e){return _e&&_e.sensitive?"":"i"}function regexpToRegexp(_e,j){var et=_e.source.match(/\((?!\?)/g);if(et)for(var tt=0;tt<et.length;tt++)j.push({name:tt,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(_e,j)}function arrayToRegexp(_e,j,et){for(var tt=[],nt=0;nt<_e.length;nt++)tt.push(pathToRegexp(_e[nt],j,et).source);var rt=new RegExp("(?:"+tt.join("|")+")",flags(et));return attachKeys(rt,j)}function stringToRegexp(_e,j,et){return tokensToRegExp(parse$3(_e,et),j,et)}function tokensToRegExp(_e,j,et){isarray(j)||(et=j||et,j=[]),et=et||{};for(var tt=et.strict,nt=et.end!==!1,rt="",it=0;it<_e.length;it++){var st=_e[it];if(typeof st=="string")rt+=escapeString(st);else{var at=escapeString(st.prefix),ot="(?:"+st.pattern+")";j.push(st),st.repeat&&(ot+="(?:"+at+ot+")*"),st.optional?st.partial?ot=at+"("+ot+")?":ot="(?:"+at+"("+ot+"))?":ot=at+"("+ot+")",rt+=ot}}var lt=escapeString(et.delimiter||"/"),ut=rt.slice(-lt.length)===lt;return tt||(rt=(ut?rt.slice(0,-lt.length):rt)+"(?:"+lt+"(?=$))?"),nt?rt+="$":rt+=tt&&ut?"":"(?="+lt+"|$)",attachKeys(new RegExp("^"+rt,flags(et)),j)}function pathToRegexp(_e,j,et){return isarray(j)||(et=j||et,j=[]),et=et||{},_e instanceof RegExp?regexpToRegexp(_e,j):isarray(_e)?arrayToRegexp(_e,j,et):stringToRegexp(_e,j,et)}var pathToRegexp$1=pathToRegexp$2.exports,reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c$1=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f$1=b?Symbol.for("react.strict_mode"):60108,g$1=b?Symbol.for("react.profiler"):60114,h$1=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l$1=b?Symbol.for("react.async_mode"):60111,m$2=b?Symbol.for("react.concurrent_mode"):60111,n$2=b?Symbol.for("react.forward_ref"):60112,p$2=b?Symbol.for("react.suspense"):60113,q$1=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x$2=b?Symbol.for("react.responder"):60118,y$1=b?Symbol.for("react.scope"):60119;function z(_e){if(typeof _e=="object"&&_e!==null){var j=_e.$$typeof;switch(j){case c$1:switch(_e=_e.type,_e){case l$1:case m$2:case e:case g$1:case f$1:case p$2:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k:case n$2:case t:case r:case h$1:return _e;default:return j}}case d:return j}}}function A(_e){return z(_e)===m$2}reactIs_production_min.AsyncMode=l$1;reactIs_production_min.ConcurrentMode=m$2;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h$1;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n$2;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f$1;reactIs_production_min.Suspense=p$2;reactIs_production_min.isAsyncMode=function(_e){return A(_e)||z(_e)===l$1};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(_e){return z(_e)===k};reactIs_production_min.isContextProvider=function(_e){return z(_e)===h$1};reactIs_production_min.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===c$1};reactIs_production_min.isForwardRef=function(_e){return z(_e)===n$2};reactIs_production_min.isFragment=function(_e){return z(_e)===e};reactIs_production_min.isLazy=function(_e){return z(_e)===t};reactIs_production_min.isMemo=function(_e){return z(_e)===r};reactIs_production_min.isPortal=function(_e){return z(_e)===d};reactIs_production_min.isProfiler=function(_e){return z(_e)===g$1};reactIs_production_min.isStrictMode=function(_e){return z(_e)===f$1};reactIs_production_min.isSuspense=function(_e){return z(_e)===p$2};reactIs_production_min.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===e||_e===m$2||_e===g$1||_e===f$1||_e===p$2||_e===q$1||typeof _e=="object"&&_e!==null&&(_e.$$typeof===t||_e.$$typeof===r||_e.$$typeof===h$1||_e.$$typeof===k||_e.$$typeof===n$2||_e.$$typeof===w||_e.$$typeof===x$2||_e.$$typeof===y$1||_e.$$typeof===v)};reactIs_production_min.typeOf=z;reactIs$1.exports=reactIs_production_min;function _objectWithoutPropertiesLoose(_e,j){if(_e==null)return{};var et={},tt=Object.keys(_e),nt,rt;for(rt=0;rt<tt.length;rt++)nt=tt[rt],!(j.indexOf(nt)>=0)&&(et[nt]=_e[nt]);return et}var reactIs=reactIs$1.exports,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(_e){return reactIs.isMemo(_e)?MEMO_STATICS:TYPE_STATICS[_e.$$typeof]||REACT_STATICS}var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(_e,j,et){if(typeof j!="string"){if(objectPrototype){var tt=getPrototypeOf(j);tt&&tt!==objectPrototype&&hoistNonReactStatics(_e,tt,et)}var nt=getOwnPropertyNames(j);getOwnPropertySymbols&&(nt=nt.concat(getOwnPropertySymbols(j)));for(var rt=getStatics(_e),it=getStatics(j),st=0;st<nt.length;++st){var at=nt[st];if(!KNOWN_STATICS[at]&&!(et&&et[at])&&!(it&&it[at])&&!(rt&&rt[at])){var ot=getOwnPropertyDescriptor(j,at);try{defineProperty(_e,at,ot)}catch{}}}}return _e}var hoistNonReactStatics_cjs=hoistNonReactStatics,createNamedContext=function(j){var et=index$l();return et.displayName=j,et},historyContext=createNamedContext("Router-History"),context$1=createNamedContext("Router"),Router=function(_e){_inheritsLoose(j,_e),j.computeRootMatch=function(nt){return{path:"/",url:"/",params:{},isExact:nt==="/"}};function j(tt){var nt;return nt=_e.call(this,tt)||this,nt.state={location:tt.history.location},nt._isMounted=!1,nt._pendingLocation=null,tt.staticContext||(nt.unlisten=tt.history.listen(function(rt){nt._pendingLocation=rt})),nt}var et=j.prototype;return et.componentDidMount=function(){var nt=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(rt){nt._isMounted&&nt.setState({location:rt})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},et.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},et.render=function(){return React.createElement(context$1.Provider,{value:{history:this.props.history,location:this.state.location,match:j.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},React.createElement(historyContext.Provider,{children:this.props.children||null,value:this.props.history}))},j}(React.Component),MemoryRouter=function(_e){_inheritsLoose(j,_e);function j(){for(var tt,nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return tt=_e.call.apply(_e,[this].concat(rt))||this,tt.history=createMemoryHistory(tt.props),tt}var et=j.prototype;return et.render=function(){return React.createElement(Router,{history:this.history,children:this.props.children})},j}(React.Component),Lifecycle=function(_e){_inheritsLoose(j,_e);function j(){return _e.apply(this,arguments)||this}var et=j.prototype;return et.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},et.componentDidUpdate=function(nt){this.props.onUpdate&&this.props.onUpdate.call(this,this,nt)},et.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},et.render=function(){return null},j}(React.Component);function Prompt(_e){var j=_e.message,et=_e.when,tt=et===void 0?!0:et;return React.createElement(context$1.Consumer,null,function(nt){if(nt||invariant(!1),!tt||nt.staticContext)return null;var rt=nt.history.block;return React.createElement(Lifecycle,{onMount:function(st){st.release=rt(j)},onUpdate:function(st,at){at.message!==j&&(st.release(),st.release=rt(j))},onUnmount:function(st){st.release()},message:j})})}var cache$1={},cacheLimit=1e4,cacheCount=0;function compilePath(_e){if(cache$1[_e])return cache$1[_e];var j=pathToRegexp$1.compile(_e);return cacheCount<cacheLimit&&(cache$1[_e]=j,cacheCount++),j}function generatePath(_e,j){return _e===void 0&&(_e="/"),j===void 0&&(j={}),_e==="/"?_e:compilePath(_e)(j,{pretty:!0})}function Redirect(_e){var j=_e.computedMatch,et=_e.to,tt=_e.push,nt=tt===void 0?!1:tt;return React.createElement(context$1.Consumer,null,function(rt){rt||invariant(!1);var it=rt.history,st=rt.staticContext,at=nt?it.push:it.replace,ot=createLocation(j?typeof et=="string"?generatePath(et,j.params):_extends({},et,{pathname:generatePath(et.pathname,j.params)}):et);return st?(at(ot),null):React.createElement(Lifecycle,{onMount:function(){at(ot)},onUpdate:function(ut,ct){var ht=createLocation(ct.to);locationsAreEqual(ht,_extends({},ot,{key:ht.key}))||at(ot)},to:et})})}var cache$1$1={},cacheLimit$1=1e4,cacheCount$1=0;function compilePath$1(_e,j){var et=""+j.end+j.strict+j.sensitive,tt=cache$1$1[et]||(cache$1$1[et]={});if(tt[_e])return tt[_e];var nt=[],rt=pathToRegexp$1(_e,nt,j),it={regexp:rt,keys:nt};return cacheCount$1<cacheLimit$1&&(tt[_e]=it,cacheCount$1++),it}function matchPath(_e,j){j===void 0&&(j={}),(typeof j=="string"||Array.isArray(j))&&(j={path:j});var et=j,tt=et.path,nt=et.exact,rt=nt===void 0?!1:nt,it=et.strict,st=it===void 0?!1:it,at=et.sensitive,ot=at===void 0?!1:at,lt=[].concat(tt);return lt.reduce(function(ut,ct){if(!ct&&ct!=="")return null;if(ut)return ut;var ht=compilePath$1(ct,{end:rt,strict:st,sensitive:ot}),pt=ht.regexp,gt=ht.keys,vt=pt.exec(_e);if(!vt)return null;var ft=vt[0],mt=vt.slice(1),xt=_e===ft;return rt&&!xt?null:{path:ct,url:ct==="/"&&ft===""?"/":ft,isExact:xt,params:gt.reduce(function(_t,Tt,wt){return _t[Tt.name]=mt[wt],_t},{})}},null)}function isEmptyChildren(_e){return React.Children.count(_e)===0}var Route=function(_e){_inheritsLoose(j,_e);function j(){return _e.apply(this,arguments)||this}var et=j.prototype;return et.render=function(){var nt=this;return React.createElement(context$1.Consumer,null,function(rt){rt||invariant(!1);var it=nt.props.location||rt.location,st=nt.props.computedMatch?nt.props.computedMatch:nt.props.path?matchPath(it.pathname,nt.props):rt.match,at=_extends({},rt,{location:it,match:st}),ot=nt.props,lt=ot.children,ut=ot.component,ct=ot.render;return Array.isArray(lt)&&isEmptyChildren(lt)&&(lt=null),React.createElement(context$1.Provider,{value:at},at.match?lt?typeof lt=="function"?lt(at):lt:ut?React.createElement(ut,at):ct?ct(at):null:typeof lt=="function"?lt(at):null)})},j}(React.Component);function addLeadingSlash(_e){return _e.charAt(0)==="/"?_e:"/"+_e}function addBasename(_e,j){return _e?_extends({},j,{pathname:addLeadingSlash(_e)+j.pathname}):j}function stripBasename(_e,j){if(!_e)return j;var et=addLeadingSlash(_e);return j.pathname.indexOf(et)!==0?j:_extends({},j,{pathname:j.pathname.substr(et.length)})}function createURL(_e){return typeof _e=="string"?_e:createPath(_e)}function staticHandler(_e){return function(){invariant(!1)}}function noop$2(){}var StaticRouter=function(_e){_inheritsLoose(j,_e);function j(){for(var tt,nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return tt=_e.call.apply(_e,[this].concat(rt))||this,tt.handlePush=function(st){return tt.navigateTo(st,"PUSH")},tt.handleReplace=function(st){return tt.navigateTo(st,"REPLACE")},tt.handleListen=function(){return noop$2},tt.handleBlock=function(){return noop$2},tt}var et=j.prototype;return et.navigateTo=function(nt,rt){var it=this.props,st=it.basename,at=st===void 0?"":st,ot=it.context,lt=ot===void 0?{}:ot;lt.action=rt,lt.location=addBasename(at,createLocation(nt)),lt.url=createURL(lt.location)},et.render=function(){var nt=this.props,rt=nt.basename,it=rt===void 0?"":rt,st=nt.context,at=st===void 0?{}:st,ot=nt.location,lt=ot===void 0?"/":ot,ut=_objectWithoutPropertiesLoose(nt,["basename","context","location"]),ct={createHref:function(pt){return addLeadingSlash(it+createURL(pt))},action:"POP",location:stripBasename(it,createLocation(lt)),push:this.handlePush,replace:this.handleReplace,go:staticHandler(),goBack:staticHandler(),goForward:staticHandler(),listen:this.handleListen,block:this.handleBlock};return React.createElement(Router,_extends({},ut,{history:ct,staticContext:at}))},j}(React.Component),Switch=function(_e){_inheritsLoose(j,_e);function j(){return _e.apply(this,arguments)||this}var et=j.prototype;return et.render=function(){var nt=this;return React.createElement(context$1.Consumer,null,function(rt){rt||invariant(!1);var it=nt.props.location||rt.location,st,at;return React.Children.forEach(nt.props.children,function(ot){if(at==null&&React.isValidElement(ot)){st=ot;var lt=ot.props.path||ot.props.from;at=lt?matchPath(it.pathname,_extends({},ot.props,{path:lt})):rt.match}}),at?React.cloneElement(st,{location:it,computedMatch:at}):null})},j}(React.Component);function withRouter(_e){var j="withRouter("+(_e.displayName||_e.name)+")",et=function(nt){var rt=nt.wrappedComponentRef,it=_objectWithoutPropertiesLoose(nt,["wrappedComponentRef"]);return React.createElement(context$1.Consumer,null,function(st){return st||invariant(!1),React.createElement(_e,_extends({},it,st,{ref:rt}))})};return et.displayName=j,et.WrappedComponent=_e,hoistNonReactStatics_cjs(et,_e)}var useContext=React.useContext;function useHistory(){return useContext(historyContext)}function useLocation(){return useContext(context$1).location}function useParams(){var _e=useContext(context$1).match;return _e?_e.params:{}}function useRouteMatch(_e){var j=useLocation(),et=useContext(context$1).match;return _e?matchPath(j.pathname,_e):et}var tmp$1=Object.freeze(Object.defineProperty({__proto__:null,MemoryRouter,Prompt,Redirect,Route,Router,StaticRouter,Switch,__HistoryContext:historyContext,__RouterContext:context$1,generatePath,matchPath,useHistory,useLocation,useParams,useRouteMatch,withRouter},Symbol.toStringTag,{value:"Module"}));function renderRoutes(_e,j,et){return j===void 0&&(j={}),et===void 0&&(et={}),_e?React.createElement(Switch,et,_e.map(function(tt,nt){return React.createElement(Route,{key:tt.key||nt,path:tt.path,exact:tt.exact,strict:tt.strict,render:function(it){return tt.render?tt.render(_extends({},it,{},j,{route:tt})):React.createElement(tt.component,_extends({},it,j,{route:tt}))}})})):null}var BrowserRouter=function(_e){_inheritsLoose(j,_e);function j(){for(var tt,nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return tt=_e.call.apply(_e,[this].concat(rt))||this,tt.history=createBrowserHistory(tt.props),tt}var et=j.prototype;return et.render=function(){return React.createElement(Router,{history:this.history,children:this.props.children})},j}(React.Component);React.Component;var resolveToLocation=function(j,et){return typeof j=="function"?j(et):j},normalizeToLocation=function(j,et){return typeof j=="string"?createLocation(j,null,null,et):j},forwardRefShim=function(j){return j},forwardRef=React.forwardRef;typeof forwardRef=="undefined"&&(forwardRef=forwardRefShim);function isModifiedEvent(_e){return!!(_e.metaKey||_e.altKey||_e.ctrlKey||_e.shiftKey)}var LinkAnchor=forwardRef(function(_e,j){var et=_e.innerRef,tt=_e.navigate,nt=_e.onClick,rt=_objectWithoutPropertiesLoose(_e,["innerRef","navigate","onClick"]),it=rt.target,st=_extends({},rt,{onClick:function(ot){try{nt&&nt(ot)}catch(lt){throw ot.preventDefault(),lt}!ot.defaultPrevented&&ot.button===0&&(!it||it==="_self")&&!isModifiedEvent(ot)&&(ot.preventDefault(),tt())}});return forwardRefShim!==forwardRef?st.ref=j||et:st.ref=et,React.createElement("a",st)}),Link$1=forwardRef(function(_e,j){var et=_e.component,tt=et===void 0?LinkAnchor:et,nt=_e.replace,rt=_e.to,it=_e.innerRef,st=_objectWithoutPropertiesLoose(_e,["component","replace","to","innerRef"]);return React.createElement(context$1.Consumer,null,function(at){at||invariant(!1);var ot=at.history,lt=normalizeToLocation(resolveToLocation(rt,at.location),at.location),ut=lt?ot.createHref(lt):"",ct=_extends({},st,{href:ut,navigate:function(){var pt=resolveToLocation(rt,at.location),gt=createPath(at.location)===createPath(normalizeToLocation(pt)),vt=nt||gt?ot.replace:ot.push;vt(pt)}});return forwardRefShim!==forwardRef?ct.ref=j||it:ct.innerRef=it,React.createElement(tt,ct)})}),forwardRefShim$1=function(j){return j},forwardRef$1=React.forwardRef;typeof forwardRef$1=="undefined"&&(forwardRef$1=forwardRefShim$1);function joinClassnames(){for(var _e=arguments.length,j=new Array(_e),et=0;et<_e;et++)j[et]=arguments[et];return j.filter(function(tt){return tt}).join(" ")}forwardRef$1(function(_e,j){var et=_e["aria-current"],tt=et===void 0?"page":et,nt=_e.activeClassName,rt=nt===void 0?"active":nt,it=_e.activeStyle,st=_e.className,at=_e.exact,ot=_e.isActive,lt=_e.location,ut=_e.sensitive,ct=_e.strict,ht=_e.style,pt=_e.to,gt=_e.innerRef,vt=_objectWithoutPropertiesLoose(_e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return React.createElement(context$1.Consumer,null,function(ft){ft||invariant(!1);var mt=lt||ft.location,xt=normalizeToLocation(resolveToLocation(pt,mt),mt),_t=xt.pathname,Tt=_t&&_t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),wt=Tt?matchPath(mt.pathname,{path:Tt,exact:at,sensitive:ut,strict:ct}):null,bt=!!(ot?ot(wt,mt):wt),Ct=typeof st=="function"?st(bt):st,Lt=typeof ht=="function"?ht(bt):ht;bt&&(Ct=joinClassnames(Ct,rt),Lt=_extends({},Lt,it));var $t=_extends({"aria-current":bt&&tt||null,className:Ct,style:Lt,to:xt},vt);return forwardRefShim$1!==forwardRef$1?$t.ref=j||gt:$t.innerRef=gt,React.createElement(Link$1,$t)})});var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(_e,j){(function(){var et,tt="4.17.21",nt=200,rt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",it="Expected a function",st="Invalid `variable` option passed into `_.template`",at="__lodash_hash_undefined__",ot=500,lt="__lodash_placeholder__",ut=1,ct=2,ht=4,pt=1,gt=2,vt=1,ft=2,mt=4,xt=8,_t=16,Tt=32,wt=64,bt=128,Ct=256,Lt=512,$t=30,Rt="...",Bt=800,Gt=16,Ft=1,kt=2,It=3,Ot=1/0,Ut=9007199254740991,zt=17976931348623157e292,Ht=0/0,Vt=4294967295,qt=Vt-1,an=Vt>>>1,gn=[["ary",bt],["bind",vt],["bindKey",ft],["curry",xt],["curryRight",_t],["flip",Lt],["partial",Tt],["partialRight",wt],["rearg",Ct]],yn="[object Arguments]",fn="[object Array]",In="[object AsyncFunction]",Dn="[object Boolean]",Mn="[object Date]",Fn="[object DOMException]",Vn="[object Error]",mn="[object Function]",dn="[object GeneratorFunction]",An="[object Map]",Yn="[object Number]",Bn="[object Null]",tr="[object Object]",rr="[object Promise]",hr="[object Proxy]",fr="[object RegExp]",sn="[object Set]",nn="[object String]",Cn="[object Symbol]",Hn="[object Undefined]",Kn="[object WeakMap]",Qn="[object WeakSet]",pr="[object ArrayBuffer]",kn="[object DataView]",_r="[object Float32Array]",Mr="[object Float64Array]",yr="[object Int8Array]",mr="[object Int16Array]",_n="[object Int32Array]",ur="[object Uint8Array]",sr="[object Uint8ClampedArray]",Er="[object Uint16Array]",ar="[object Uint32Array]",Jn=/\b__p \+= '';/g,Pr=/\b(__p \+=) '' \+/g,Hr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ds=/&(?:amp|lt|gt|quot|#39);/g,Br=/[&<>"']/g,Hs=RegExp(ds.source),zs=RegExp(Br.source),sl=/<%-([\s\S]+?)%>/g,al=/<%([\s\S]+?)%>/g,Hl=/<%=([\s\S]+?)%>/g,_l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ao=/^\w*$/,zl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ol=/[\\^$.*+?()[\]{}|]/g,fu=RegExp(ol.source),un=/^\s+/,bn=/\s/,Nn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ln=/\{\n\/\* \[wrapped with (.+)\] \*/,Xn=/,? & /,wr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ir=/[()=,{}\[\]\/\s]/,Nr=/\\(\\)?/g,Or=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qr=/\w*$/,zr=/^[-+]0x[0-9a-f]+$/i,Xr=/^0b[01]+$/i,ss=/^\[object .+?Constructor\]$/,oo=/^0o[0-7]+$/i,Go=/^(?:0|[1-9]\d*)$/,Vo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vs=/($^)/,Vr=/['\n\r\u2028\u2029\\]/g,lo="\\ud800-\\udfff",ls="\\u0300-\\u036f",Ns="\\ufe20-\\ufe2f",vo="\\u20d0-\\u20ff",Ho=ls+Ns+vo,yl="\\u2700-\\u27bf",ps="a-z\\xdf-\\xf6\\xf8-\\xff",ll="\\xac\\xb1\\xd7\\xf7",Wl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fs="\\u2000-\\u206f",_h=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_f="A-Z\\xc0-\\xd6\\xd8-\\xde",du="\\ufe0e\\ufe0f",pu=ll+Wl+Fs+_h,jl="['\u2019]",_d="["+lo+"]",mu="["+pu+"]",xl="["+Ho+"]",ep="\\d+",Gv="["+yl+"]",lm="["+ps+"]",um="[^"+lo+pu+ep+yl+ps+_f+"]",tp="\\ud83c[\\udffb-\\udfff]",Vv="(?:"+xl+"|"+tp+")",Xl="[^"+lo+"]",Yl="(?:\\ud83c[\\udde6-\\uddff]){2}",gu="[\\ud800-\\udbff][\\udc00-\\udfff]",Tl="["+_f+"]",hm="\\u200d",np="(?:"+lm+"|"+um+")",rp="(?:"+Tl+"|"+um+")",cm="(?:"+jl+"(?:d|ll|m|re|s|t|ve))?",fm="(?:"+jl+"(?:D|LL|M|RE|S|T|VE))?",ql=Vv+"?",vu="["+du+"]?",Hv="(?:"+hm+"(?:"+[Xl,Yl,gu].join("|")+")"+vu+ql+")*",dm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ip="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pm=vu+ql+Hv,mm="(?:"+[Gv,Yl,gu].join("|")+")"+pm,zv="(?:"+[Xl+xl+"?",xl,Yl,gu,_d].join("|")+")",Wv=RegExp(jl,"g"),jv=RegExp(xl,"g"),Zl=RegExp(tp+"(?="+tp+")|"+zv+pm,"g"),Xv=RegExp([Tl+"?"+lm+"+"+cm+"(?="+[mu,Tl,"$"].join("|")+")",rp+"+"+fm+"(?="+[mu,Tl+np,"$"].join("|")+")",Tl+"?"+np+"+"+cm,Tl+"+"+fm,ip,dm,ep,mm].join("|"),"g"),gm=RegExp("["+hm+lo+Ho+du+"]"),vm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yv=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qv=-1,rs={};rs[_r]=rs[Mr]=rs[yr]=rs[mr]=rs[_n]=rs[ur]=rs[sr]=rs[Er]=rs[ar]=!0,rs[yn]=rs[fn]=rs[pr]=rs[Dn]=rs[kn]=rs[Mn]=rs[Vn]=rs[mn]=rs[An]=rs[Yn]=rs[tr]=rs[fr]=rs[sn]=rs[nn]=rs[Kn]=!1;var es={};es[yn]=es[fn]=es[pr]=es[kn]=es[Dn]=es[Mn]=es[_r]=es[Mr]=es[yr]=es[mr]=es[_n]=es[An]=es[Yn]=es[tr]=es[fr]=es[sn]=es[nn]=es[Cn]=es[ur]=es[sr]=es[Er]=es[ar]=!0,es[Vn]=es[mn]=es[Kn]=!1;var Kl={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},_u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Kv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_m=parseFloat,sp=parseInt,ap=typeof commonjsGlobal$2=="object"&&commonjsGlobal$2&&commonjsGlobal$2.Object===Object&&commonjsGlobal$2,yu=typeof self=="object"&&self&&self.Object===Object&&self,Ms=ap||yu||Function("return this")(),op=j&&!j.nodeType&&j,zo=op&&!0&&_e&&!_e.nodeType&&_e,ym=zo&&zo.exports===op,Jl=ym&&ap.process,Ks=function(){try{var Tn=zo&&zo.require&&zo.require("util").types;return Tn||Jl&&Jl.binding&&Jl.binding("util")}catch{}}(),lp=Ks&&Ks.isArrayBuffer,xm=Ks&&Ks.isDate,up=Ks&&Ks.isMap,Tm=Ks&&Ks.isRegExp,Sm=Ks&&Ks.isSet,hp=Ks&&Ks.isTypedArray;function $s(Tn,Un,Pn){switch(Pn.length){case 0:return Tn.call(Un);case 1:return Tn.call(Un,Pn[0]);case 2:return Tn.call(Un,Pn[0],Pn[1]);case 3:return Tn.call(Un,Pn[0],Pn[1],Pn[2])}return Tn.apply(Un,Pn)}function Jv(Tn,Un,Pn,cr){for(var Lr=-1,Zr=Tn==null?0:Tn.length;++Lr<Zr;){var _s=Tn[Lr];Un(cr,_s,Pn(_s),Tn)}return cr}function Js(Tn,Un){for(var Pn=-1,cr=Tn==null?0:Tn.length;++Pn<cr&&Un(Tn[Pn],Pn,Tn)!==!1;);return Tn}function Qv(Tn,Un){for(var Pn=Tn==null?0:Tn.length;Pn--&&Un(Tn[Pn],Pn,Tn)!==!1;);return Tn}function Em(Tn,Un){for(var Pn=-1,cr=Tn==null?0:Tn.length;++Pn<cr;)if(!Un(Tn[Pn],Pn,Tn))return!1;return!0}function Wo(Tn,Un){for(var Pn=-1,cr=Tn==null?0:Tn.length,Lr=0,Zr=[];++Pn<cr;){var _s=Tn[Pn];Un(_s,Pn,Tn)&&(Zr[Lr++]=_s)}return Zr}function xu(Tn,Un){var Pn=Tn==null?0:Tn.length;return!!Pn&&El(Tn,Un,0)>-1}function cp(Tn,Un,Pn){for(var cr=-1,Lr=Tn==null?0:Tn.length;++cr<Lr;)if(Pn(Un,Tn[cr]))return!0;return!1}function os(Tn,Un){for(var Pn=-1,cr=Tn==null?0:Tn.length,Lr=Array(cr);++Pn<cr;)Lr[Pn]=Un(Tn[Pn],Pn,Tn);return Lr}function jo(Tn,Un){for(var Pn=-1,cr=Un.length,Lr=Tn.length;++Pn<cr;)Tn[Lr+Pn]=Un[Pn];return Tn}function Tu(Tn,Un,Pn,cr){var Lr=-1,Zr=Tn==null?0:Tn.length;for(cr&&Zr&&(Pn=Tn[++Lr]);++Lr<Zr;)Pn=Un(Pn,Tn[Lr],Lr,Tn);return Pn}function e_(Tn,Un,Pn,cr){var Lr=Tn==null?0:Tn.length;for(cr&&Lr&&(Pn=Tn[--Lr]);Lr--;)Pn=Un(Pn,Tn[Lr],Lr,Tn);return Pn}function Sl(Tn,Un){for(var Pn=-1,cr=Tn==null?0:Tn.length;++Pn<cr;)if(Un(Tn[Pn],Pn,Tn))return!0;return!1}var t_=fp("length");function n_(Tn){return Tn.split("")}function r_(Tn){return Tn.match(wr)||[]}function wm(Tn,Un,Pn){var cr;return Pn(Tn,function(Lr,Zr,_s){if(Un(Lr,Zr,_s))return cr=Zr,!1}),cr}function Su(Tn,Un,Pn,cr){for(var Lr=Tn.length,Zr=Pn+(cr?1:-1);cr?Zr--:++Zr<Lr;)if(Un(Tn[Zr],Zr,Tn))return Zr;return-1}function El(Tn,Un,Pn){return Un===Un?Nm(Tn,Un,Pn):Su(Tn,bm,Pn)}function i_(Tn,Un,Pn,cr){for(var Lr=Pn-1,Zr=Tn.length;++Lr<Zr;)if(cr(Tn[Lr],Un))return Lr;return-1}function bm(Tn){return Tn!==Tn}function Am(Tn,Un){var Pn=Tn==null?0:Tn.length;return Pn?pp(Tn,Un)/Pn:Ht}function fp(Tn){return function(Un){return Un==null?et:Un[Tn]}}function dp(Tn){return function(Un){return Tn==null?et:Tn[Un]}}function Mm(Tn,Un,Pn,cr,Lr){return Lr(Tn,function(Zr,_s,_i){Pn=cr?(cr=!1,Zr):Un(Pn,Zr,_s,_i)}),Pn}function s_(Tn,Un){var Pn=Tn.length;for(Tn.sort(Un);Pn--;)Tn[Pn]=Tn[Pn].value;return Tn}function pp(Tn,Un){for(var Pn,cr=-1,Lr=Tn.length;++cr<Lr;){var Zr=Un(Tn[cr]);Zr!==et&&(Pn=Pn===et?Zr:Pn+Zr)}return Pn}function mp(Tn,Un){for(var Pn=-1,cr=Array(Tn);++Pn<Tn;)cr[Pn]=Un(Pn);return cr}function a_(Tn,Un){return os(Un,function(Pn){return[Pn,Tn[Pn]]})}function Cm(Tn){return Tn&&Tn.slice(0,_p(Tn)+1).replace(un,"")}function Ws(Tn){return function(Un){return Tn(Un)}}function gp(Tn,Un){return os(Un,function(Pn){return Tn[Pn]})}function Ql(Tn,Un){return Tn.has(Un)}function Pm(Tn,Un){for(var Pn=-1,cr=Tn.length;++Pn<cr&&El(Un,Tn[Pn],0)>-1;);return Pn}function Rm(Tn,Un){for(var Pn=Tn.length;Pn--&&El(Un,Tn[Pn],0)>-1;);return Pn}function o_(Tn,Un){for(var Pn=Tn.length,cr=0;Pn--;)Tn[Pn]===Un&&++cr;return cr}var l_=dp(Kl),u_=dp(_u);function Im(Tn){return"\\"+Kv[Tn]}function h_(Tn,Un){return Tn==null?et:Tn[Un]}function wl(Tn){return gm.test(Tn)}function c_(Tn){return vm.test(Tn)}function f_(Tn){for(var Un,Pn=[];!(Un=Tn.next()).done;)Pn.push(Un.value);return Pn}function Xo(Tn){var Un=-1,Pn=Array(Tn.size);return Tn.forEach(function(cr,Lr){Pn[++Un]=[Lr,cr]}),Pn}function Lm(Tn,Un){return function(Pn){return Tn(Un(Pn))}}function Yo(Tn,Un){for(var Pn=-1,cr=Tn.length,Lr=0,Zr=[];++Pn<cr;){var _s=Tn[Pn];(_s===Un||_s===lt)&&(Tn[Pn]=lt,Zr[Lr++]=Pn)}return Zr}function Eu(Tn){var Un=-1,Pn=Array(Tn.size);return Tn.forEach(function(cr){Pn[++Un]=cr}),Pn}function d_(Tn){var Un=-1,Pn=Array(Tn.size);return Tn.forEach(function(cr){Pn[++Un]=[cr,cr]}),Pn}function Nm(Tn,Un,Pn){for(var cr=Pn-1,Lr=Tn.length;++cr<Lr;)if(Tn[cr]===Un)return cr;return-1}function vp(Tn,Un,Pn){for(var cr=Pn+1;cr--;)if(Tn[cr]===Un)return cr;return cr}function ul(Tn){return wl(Tn)?m_(Tn):t_(Tn)}function Qs(Tn){return wl(Tn)?g_(Tn):n_(Tn)}function _p(Tn){for(var Un=Tn.length;Un--&&bn.test(Tn.charAt(Un)););return Un}var p_=dp(Zv);function m_(Tn){for(var Un=Zl.lastIndex=0;Zl.test(Tn);)++Un;return Un}function g_(Tn){return Tn.match(Zl)||[]}function v_(Tn){return Tn.match(Xv)||[]}var __=function Tn(Un){Un=Un==null?Ms:bl.defaults(Ms.Object(),Un,bl.pick(Ms,Yv));var Pn=Un.Array,cr=Un.Date,Lr=Un.Error,Zr=Un.Function,_s=Un.Math,_i=Un.Object,yp=Un.RegExp,y_=Un.String,ga=Un.TypeError,wu=Pn.prototype,x_=Zr.prototype,Al=_i.prototype,bu=Un["__core-js_shared__"],Au=x_.toString,Kr=Al.hasOwnProperty,T_=0,Om=function(){var dt=/[^.]+$/.exec(bu&&bu.keys&&bu.keys.IE_PROTO||"");return dt?"Symbol(src)_1."+dt:""}(),Mu=Al.toString,S_=Au.call(_i),E_=Ms._,w_=yp("^"+Au.call(Kr).replace(ol,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Cu=ym?Un.Buffer:et,Ro=Un.Symbol,Pu=Un.Uint8Array,Dm=Cu?Cu.allocUnsafe:et,Ru=Lm(_i.getPrototypeOf,_i),km=_i.create,Iu=Al.propertyIsEnumerable,Ss=wu.splice,Ml=Ro?Ro.isConcatSpreadable:et,eu=Ro?Ro.iterator:et,ms=Ro?Ro.toStringTag:et,Lu=function(){try{var dt=bo(_i,"defineProperty");return dt({},"",{}),dt}catch{}}(),Io=Un.clearTimeout!==Ms.clearTimeout&&Un.clearTimeout,Fm=cr&&cr.now!==Ms.Date.now&&cr.now,b_=Un.setTimeout!==Ms.setTimeout&&Un.setTimeout,qo=_s.ceil,Cl=_s.floor,Zo=_i.getOwnPropertySymbols,$m=Cu?Cu.isBuffer:et,xp=Un.isFinite,Nu=wu.join,Tp=Lm(_i.keys,_i),ys=_s.max,Rs=_s.min,A_=cr.now,M_=Un.parseInt,Um=_s.random,Sp=wu.reverse,Ou=bo(Un,"DataView"),Lo=bo(Un,"Map"),hl=bo(Un,"Promise"),No=bo(Un,"Set"),_o=bo(Un,"WeakMap"),Oo=bo(_i,"create"),js=_o&&new _o,Pl={},C_=wn(Ou),P_=wn(Lo),R_=wn(hl),I_=wn(No),L_=wn(_o),Du=Ro?Ro.prototype:et,Rl=Du?Du.valueOf:et,Ep=Du?Du.toString:et;function en(dt){if(gs(dt)&&!kr(dt)&&!(dt instanceof Fr)){if(dt instanceof Xs)return dt;if(Kr.call(dt,"__wrapped__"))return Gn(dt)}return new Xs(dt)}var cl=function(){function dt(){}return function(yt){if(!fs(yt))return{};if(km)return km(yt);dt.prototype=yt;var Mt=new dt;return dt.prototype=et,Mt}}();function Ko(){}function Xs(dt,yt){this.__wrapped__=dt,this.__actions__=[],this.__chain__=!!yt,this.__index__=0,this.__values__=et}en.templateSettings={escape:sl,evaluate:al,interpolate:Hl,variable:"",imports:{_:en}},en.prototype=Ko.prototype,en.prototype.constructor=en,Xs.prototype=cl(Ko.prototype),Xs.prototype.constructor=Xs;function Fr(dt){this.__wrapped__=dt,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Vt,this.__views__=[]}function N_(){var dt=new Fr(this.__wrapped__);return dt.__actions__=Gs(this.__actions__),dt.__dir__=this.__dir__,dt.__filtered__=this.__filtered__,dt.__iteratees__=Gs(this.__iteratees__),dt.__takeCount__=this.__takeCount__,dt.__views__=Gs(this.__views__),dt}function wp(){if(this.__filtered__){var dt=new Fr(this);dt.__dir__=-1,dt.__filtered__=!0}else dt=this.clone(),dt.__dir__*=-1;return dt}function Ys(){var dt=this.__wrapped__.value(),yt=this.__dir__,Mt=kr(dt),Dt=yt<0,Yt=Mt?dt.length:0,tn=lu(0,Yt,this.__views__),cn=tn.start,pn=tn.end,En=pn-cn,Wn=Dt?pn:cn-1,jn=this.__iteratees__,Zn=jn.length,or=0,vr=Rs(En,this.__takeCount__);if(!Mt||!Dt&&Yt==En&&vr==En)return cv(dt,this.__actions__);var br=[];e:for(;En--&&or<vr;){Wn+=yt;for(var Gr=-1,Ar=dt[Wn];++Gr<Zn;){var jr=jn[Gr],Yr=jr.iteratee,mo=jr.type,Zs=Yr(Ar);if(mo==kt)Ar=Zs;else if(!Zs){if(mo==Ft)continue e;break e}}br[or++]=Ar}return br}Fr.prototype=cl(Ko.prototype),Fr.prototype.constructor=Fr;function Jo(dt){var yt=-1,Mt=dt==null?0:dt.length;for(this.clear();++yt<Mt;){var Dt=dt[yt];this.set(Dt[0],Dt[1])}}function Bm(){this.__data__=Oo?Oo(null):{},this.size=0}function bp(dt){var yt=this.has(dt)&&delete this.__data__[dt];return this.size-=yt?1:0,yt}function Gm(dt){var yt=this.__data__;if(Oo){var Mt=yt[dt];return Mt===at?et:Mt}return Kr.call(yt,dt)?yt[dt]:et}function Vm(dt){var yt=this.__data__;return Oo?yt[dt]!==et:Kr.call(yt,dt)}function O_(dt,yt){var Mt=this.__data__;return this.size+=this.has(dt)?0:1,Mt[dt]=Oo&&yt===et?at:yt,this}Jo.prototype.clear=Bm,Jo.prototype.delete=bp,Jo.prototype.get=Gm,Jo.prototype.has=Vm,Jo.prototype.set=O_;function Es(dt){var yt=-1,Mt=dt==null?0:dt.length;for(this.clear();++yt<Mt;){var Dt=dt[yt];this.set(Dt[0],Dt[1])}}function Ap(){this.__data__=[],this.size=0}function Hm(dt){var yt=this.__data__,Mt=Fu(yt,dt);if(Mt<0)return!1;var Dt=yt.length-1;return Mt==Dt?yt.pop():Ss.call(yt,Mt,1),--this.size,!0}function D_(dt){var yt=this.__data__,Mt=Fu(yt,dt);return Mt<0?et:yt[Mt][1]}function k_(dt){return Fu(this.__data__,dt)>-1}function F_(dt,yt){var Mt=this.__data__,Dt=Fu(Mt,dt);return Dt<0?(++this.size,Mt.push([dt,yt])):Mt[Dt][1]=yt,this}Es.prototype.clear=Ap,Es.prototype.delete=Hm,Es.prototype.get=D_,Es.prototype.has=k_,Es.prototype.set=F_;function yo(dt){var yt=-1,Mt=dt==null?0:dt.length;for(this.clear();++yt<Mt;){var Dt=dt[yt];this.set(Dt[0],Dt[1])}}function zm(){this.size=0,this.__data__={hash:new Jo,map:new(Lo||Es),string:new Jo}}function Qo(dt){var yt=Ku(this,dt).delete(dt);return this.size-=yt?1:0,yt}function Mp(dt){return Ku(this,dt).get(dt)}function Cp(dt){return Ku(this,dt).has(dt)}function $_(dt,yt){var Mt=Ku(this,dt),Dt=Mt.size;return Mt.set(dt,yt),this.size+=Mt.size==Dt?0:1,this}yo.prototype.clear=zm,yo.prototype.delete=Qo,yo.prototype.get=Mp,yo.prototype.has=Cp,yo.prototype.set=$_;function fl(dt){var yt=-1,Mt=dt==null?0:dt.length;for(this.__data__=new yo;++yt<Mt;)this.add(dt[yt])}function U_(dt){return this.__data__.set(dt,at),this}function Wm(dt){return this.__data__.has(dt)}fl.prototype.add=fl.prototype.push=U_,fl.prototype.has=Wm;function va(dt){var yt=this.__data__=new Es(dt);this.size=yt.size}function jm(){this.__data__=new Es,this.size=0}function ku(dt){var yt=this.__data__,Mt=yt.delete(dt);return this.size=yt.size,Mt}function B_(dt){return this.__data__.get(dt)}function G_(dt){return this.__data__.has(dt)}function Xm(dt,yt){var Mt=this.__data__;if(Mt instanceof Es){var Dt=Mt.__data__;if(!Lo||Dt.length<nt-1)return Dt.push([dt,yt]),this.size=++Mt.size,this;Mt=this.__data__=new yo(Dt)}return Mt.set(dt,yt),this.size=Mt.size,this}va.prototype.clear=jm,va.prototype.delete=ku,va.prototype.get=B_,va.prototype.has=G_,va.prototype.set=Xm;function Ym(dt,yt){var Mt=kr(dt),Dt=!Mt&&hu(dt),Yt=!Mt&&!Dt&&Vl(dt),tn=!Mt&&!Dt&&!Yt&&Ju(dt),cn=Mt||Dt||Yt||tn,pn=cn?mp(dt.length,y_):[],En=pn.length;for(var Wn in dt)(yt||Kr.call(dt,Wn))&&!(cn&&(Wn=="length"||Yt&&(Wn=="offset"||Wn=="parent")||tn&&(Wn=="buffer"||Wn=="byteLength"||Wn=="byteOffset")||Fo(Wn,En)))&&pn.push(Wn);return pn}function qm(dt){var yt=dt.length;return yt?dt[Bp(0,yt-1)]:et}function V_(dt,yt){return vn(Gs(dt),uo(yt,0,dt.length))}function Zm(dt){return vn(Gs(dt))}function Pp(dt,yt,Mt){(Mt!==et&&!Uo(dt[yt],Mt)||Mt===et&&!(yt in dt))&&xo(dt,yt,Mt)}function tu(dt,yt,Mt){var Dt=dt[yt];(!(Kr.call(dt,yt)&&Uo(Dt,Mt))||Mt===et&&!(yt in dt))&&xo(dt,yt,Mt)}function Fu(dt,yt){for(var Mt=dt.length;Mt--;)if(Uo(dt[Mt][0],yt))return Mt;return-1}function Il(dt,yt,Mt,Dt){return To(dt,function(Yt,tn,cn){yt(Dt,Yt,Mt(Yt),cn)}),Dt}function Ll(dt,yt){return dt&&Eo(yt,Ls(yt),dt)}function nu(dt,yt){return dt&&Eo(yt,io(yt),dt)}function xo(dt,yt,Mt){yt=="__proto__"&&Lu?Lu(dt,yt,{configurable:!0,enumerable:!0,value:Mt,writable:!0}):dt[yt]=Mt}function Nl(dt,yt){for(var Mt=-1,Dt=yt.length,Yt=Pn(Dt),tn=dt==null;++Mt<Dt;)Yt[Mt]=tn?et:R0(dt,yt[Mt]);return Yt}function uo(dt,yt,Mt){return dt===dt&&(Mt!==et&&(dt=dt<=Mt?dt:Mt),yt!==et&&(dt=dt>=yt?dt:yt)),dt}function Os(dt,yt,Mt,Dt,Yt,tn){var cn,pn=yt&ut,En=yt&ct,Wn=yt&ht;if(Mt&&(cn=Yt?Mt(dt,Dt,Yt,tn):Mt(dt)),cn!==et)return cn;if(!fs(dt))return dt;var jn=kr(dt);if(jn){if(cn=Rv(dt),!pn)return Gs(dt,cn)}else{var Zn=bs(dt),or=Zn==mn||Zn==dn;if(Vl(dt))return pv(dt,pn);if(Zn==tr||Zn==yn||or&&!Yt){if(cn=En||or?{}:Iv(dt),!pn)return En?l0(dt,nu(cn,dt)):yv(dt,Ll(cn,dt))}else{if(!es[Zn])return Yt?dt:{};cn=g0(dt,Zn,pn)}}tn||(tn=new va);var vr=tn.get(dt);if(vr)return vr;tn.set(dt,cn),Q0(dt)?dt.forEach(function(Ar){cn.add(Os(Ar,yt,Mt,Ar,dt,tn))}):K0(dt)&&dt.forEach(function(Ar,jr){cn.set(jr,Os(Ar,yt,Mt,jr,dt,tn))});var br=Wn?En?Qp:Jp:En?io:Ls,Gr=jn?et:br(dt);return Js(Gr||dt,function(Ar,jr){Gr&&(jr=Ar,Ar=dt[jr]),tu(cn,jr,Os(Ar,yt,Mt,jr,dt,tn))}),cn}function dl(dt){var yt=Ls(dt);return function(Mt){return ru(Mt,dt,yt)}}function ru(dt,yt,Mt){var Dt=Mt.length;if(dt==null)return!Dt;for(dt=_i(dt);Dt--;){var Yt=Mt[Dt],tn=yt[Yt],cn=dt[Yt];if(cn===et&&!(Yt in dt)||!tn(cn))return!1}return!0}function Ol(dt,yt,Mt){if(typeof dt!="function")throw new ga(it);return jt(function(){dt.apply(et,Mt)},yt)}function Dl(dt,yt,Mt,Dt){var Yt=-1,tn=xu,cn=!0,pn=dt.length,En=[],Wn=yt.length;if(!pn)return En;Mt&&(yt=os(yt,Ws(Mt))),Dt?(tn=cp,cn=!1):yt.length>=nt&&(tn=Ql,cn=!1,yt=new fl(yt));e:for(;++Yt<pn;){var jn=dt[Yt],Zn=Mt==null?jn:Mt(jn);if(jn=Dt||jn!==0?jn:0,cn&&Zn===Zn){for(var or=Wn;or--;)if(yt[or]===Zn)continue e;En.push(jn)}else tn(yt,Zn,Dt)||En.push(jn)}return En}var To=xv(ho),Km=xv(Lp,!0);function $u(dt,yt){var Mt=!0;return To(dt,function(Dt,Yt,tn){return Mt=!!yt(Dt,Yt,tn),Mt}),Mt}function kl(dt,yt,Mt){for(var Dt=-1,Yt=dt.length;++Dt<Yt;){var tn=dt[Dt],cn=yt(tn);if(cn!=null&&(pn===et?cn===cn&&!po(cn):Mt(cn,pn)))var pn=cn,En=tn}return En}function H_(dt,yt,Mt,Dt){var Yt=dt.length;for(Mt=Ur(Mt),Mt<0&&(Mt=-Mt>Yt?0:Yt+Mt),Dt=Dt===et||Dt>Yt?Yt:Ur(Dt),Dt<0&&(Dt+=Yt),Dt=Mt>Dt?0:ty(Dt);Mt<Dt;)dt[Mt++]=yt;return dt}function Rp(dt,yt){var Mt=[];return To(dt,function(Dt,Yt,tn){yt(Dt,Yt,tn)&&Mt.push(Dt)}),Mt}function Cs(dt,yt,Mt,Dt,Yt){var tn=-1,cn=dt.length;for(Mt||(Mt=_0),Yt||(Yt=[]);++tn<cn;){var pn=dt[tn];yt>0&&Mt(pn)?yt>1?Cs(pn,yt-1,Mt,Dt,Yt):jo(Yt,pn):Dt||(Yt[Yt.length]=pn)}return Yt}var Ip=Is(),Uu=Is(!0);function ho(dt,yt){return dt&&Ip(dt,yt,Ls)}function Lp(dt,yt){return dt&&Uu(dt,yt,Ls)}function Bu(dt,yt){return Wo(yt,function(Mt){return ml(dt[Mt])})}function el(dt,yt){yt=nl(yt,dt);for(var Mt=0,Dt=yt.length;dt!=null&&Mt<Dt;)dt=dt[Sn(yt[Mt++])];return Mt&&Mt==Dt?dt:et}function Np(dt,yt,Mt){var Dt=yt(dt);return kr(dt)?Dt:jo(Dt,Mt(dt))}function Ps(dt){return dt==null?dt===et?Hn:Bn:ms&&ms in _i(dt)?p0(dt):Et(dt)}function Fl(dt,yt){return dt>yt}function Jm(dt,yt){return dt!=null&&Kr.call(dt,yt)}function Op(dt,yt){return dt!=null&&yt in _i(dt)}function Gu(dt,yt,Mt){return dt>=Rs(yt,Mt)&&dt<ys(yt,Mt)}function $l(dt,yt,Mt){for(var Dt=Mt?cp:xu,Yt=dt[0].length,tn=dt.length,cn=tn,pn=Pn(tn),En=1/0,Wn=[];cn--;){var jn=dt[cn];cn&&yt&&(jn=os(jn,Ws(yt))),En=Rs(jn.length,En),pn[cn]=!Mt&&(yt||Yt>=120&&jn.length>=120)?new fl(cn&&jn):et}jn=dt[0];var Zn=-1,or=pn[0];e:for(;++Zn<Yt&&Wn.length<En;){var vr=jn[Zn],br=yt?yt(vr):vr;if(vr=Mt||vr!==0?vr:0,!(or?Ql(or,br):Dt(Wn,br,Mt))){for(cn=tn;--cn;){var Gr=pn[cn];if(!(Gr?Ql(Gr,br):Dt(dt[cn],br,Mt)))continue e}or&&or.push(br),Wn.push(vr)}}return Wn}function Dp(dt,yt,Mt,Dt){return ho(dt,function(Yt,tn,cn){yt(Dt,Mt(Yt),tn,cn)}),Dt}function Us(dt,yt,Mt){yt=nl(yt,dt),dt=At(dt,yt);var Dt=dt==null?dt:dt[Sn(Jr(yt))];return Dt==null?et:$s(Dt,dt,Mt)}function eo(dt){return gs(dt)&&Ps(dt)==yn}function z_(dt){return gs(dt)&&Ps(dt)==pr}function Vu(dt){return gs(dt)&&Ps(dt)==Mn}function iu(dt,yt,Mt,Dt,Yt){return dt===yt?!0:dt==null||yt==null||!gs(dt)&&!gs(yt)?dt!==dt&&yt!==yt:W_(dt,yt,Mt,Dt,iu,Yt)}function W_(dt,yt,Mt,Dt,Yt,tn){var cn=kr(dt),pn=kr(yt),En=cn?fn:bs(dt),Wn=pn?fn:bs(yt);En=En==yn?tr:En,Wn=Wn==yn?tr:Wn;var jn=En==tr,Zn=Wn==tr,or=En==Wn;if(or&&Vl(dt)){if(!Vl(yt))return!1;cn=!0,jn=!1}if(or&&!jn)return tn||(tn=new va),cn||Ju(dt)?Cv(dt,yt,Mt,Dt,Yt,tn):f0(dt,yt,En,Mt,Dt,Yt,tn);if(!(Mt&pt)){var vr=jn&&Kr.call(dt,"__wrapped__"),br=Zn&&Kr.call(yt,"__wrapped__");if(vr||br){var Gr=vr?dt.value():dt,Ar=br?yt.value():yt;return tn||(tn=new va),Yt(Gr,Ar,Mt,Dt,tn)}}return or?(tn||(tn=new va),d0(dt,yt,Mt,Dt,Yt,tn)):!1}function j_(dt){return gs(dt)&&bs(dt)==An}function kp(dt,yt,Mt,Dt){var Yt=Mt.length,tn=Yt,cn=!Dt;if(dt==null)return!tn;for(dt=_i(dt);Yt--;){var pn=Mt[Yt];if(cn&&pn[2]?pn[1]!==dt[pn[0]]:!(pn[0]in dt))return!1}for(;++Yt<tn;){pn=Mt[Yt];var En=pn[0],Wn=dt[En],jn=pn[1];if(cn&&pn[2]){if(Wn===et&&!(En in dt))return!1}else{var Zn=new va;if(Dt)var or=Dt(Wn,jn,En,dt,yt,Zn);if(!(or===et?iu(jn,Wn,pt|gt,Dt,Zn):or))return!1}}return!0}function Hu(dt){if(!fs(dt)||x0(dt))return!1;var yt=ml(dt)?w_:ss;return yt.test(wn(dt))}function Qm(dt){return gs(dt)&&Ps(dt)==fr}function X_(dt){return gs(dt)&&bs(dt)==sn}function Y_(dt){return gs(dt)&&Fv(dt.length)&&!!rs[Ps(dt)]}function _g(dt){return typeof dt=="function"?dt:dt==null?so:typeof dt=="object"?kr(dt)?nv(dt[0],dt[1]):tv(dt):dy(dt)}function Fp(dt){if(!uu(dt))return Tp(dt);var yt=[];for(var Mt in _i(dt))Kr.call(dt,Mt)&&Mt!="constructor"&&yt.push(Mt);return yt}function q_(dt){if(!fs(dt))return sm(dt);var yt=uu(dt),Mt=[];for(var Dt in dt)Dt=="constructor"&&(yt||!Kr.call(dt,Dt))||Mt.push(Dt);return Mt}function $p(dt,yt){return dt<yt}function ev(dt,yt){var Mt=-1,Dt=ro(dt)?Pn(dt.length):[];return To(dt,function(Yt,tn,cn){Dt[++Mt]=yt(Yt,tn,cn)}),Dt}function tv(dt){var yt=tm(dt);return yt.length==1&&yt[0][2]?As(yt[0][0],yt[0][1]):function(Mt){return Mt===dt||kp(Mt,dt,yt)}}function nv(dt,yt){return rm(dt)&&ks(yt)?As(Sn(dt),yt):function(Mt){var Dt=R0(Mt,dt);return Dt===et&&Dt===yt?I0(Mt,dt):iu(yt,Dt,pt|gt)}}function zu(dt,yt,Mt,Dt,Yt){dt!==yt&&Ip(yt,function(tn,cn){if(Yt||(Yt=new va),fs(tn))Z_(dt,yt,cn,Mt,zu,Dt,Yt);else{var pn=Dt?Dt(Nt(dt,cn),tn,cn+"",dt,yt,Yt):et;pn===et&&(pn=tn),Pp(dt,cn,pn)}},io)}function Z_(dt,yt,Mt,Dt,Yt,tn,cn){var pn=Nt(dt,Mt),En=Nt(yt,Mt),Wn=cn.get(En);if(Wn){Pp(dt,Mt,Wn);return}var jn=tn?tn(pn,En,Mt+"",dt,yt,cn):et,Zn=jn===et;if(Zn){var or=kr(En),vr=!or&&Vl(En),br=!or&&!vr&&Ju(En);jn=En,or||vr||br?kr(pn)?jn=pn:xs(pn)?jn=Gs(pn):vr?(Zn=!1,jn=pv(En,!0)):br?(Zn=!1,jn=So(En,!0)):jn=[]:om(En)||hu(En)?(jn=pn,hu(pn)?jn=ny(pn):(!fs(pn)||ml(pn))&&(jn=Iv(En))):Zn=!1}Zn&&(cn.set(En,jn),Yt(jn,En,Dt,tn,cn),cn.delete(En)),Pp(dt,Mt,jn)}function rv(dt,yt){var Mt=dt.length;if(!!Mt)return yt+=yt<0?Mt:0,Fo(yt,Mt)?dt[yt]:et}function iv(dt,yt,Mt){yt.length?yt=os(yt,function(tn){return kr(tn)?function(cn){return el(cn,tn.length===1?tn[0]:tn)}:tn}):yt=[so];var Dt=-1;yt=os(yt,Ws(xr()));var Yt=ev(dt,function(tn,cn,pn){var En=os(yt,function(Wn){return Wn(tn)});return{criteria:En,index:++Dt,value:tn}});return s_(Yt,function(tn,cn){return o0(tn,cn,Mt)})}function K_(dt,yt){return sv(dt,yt,function(Mt,Dt){return I0(dt,Dt)})}function sv(dt,yt,Mt){for(var Dt=-1,Yt=yt.length,tn={};++Dt<Yt;){var cn=yt[Dt],pn=el(dt,cn);Mt(pn,cn)&&su(tn,nl(cn,dt),pn)}return tn}function J_(dt){return function(yt){return el(yt,dt)}}function Up(dt,yt,Mt,Dt){var Yt=Dt?i_:El,tn=-1,cn=yt.length,pn=dt;for(dt===yt&&(yt=Gs(yt)),Mt&&(pn=os(dt,Ws(Mt)));++tn<cn;)for(var En=0,Wn=yt[tn],jn=Mt?Mt(Wn):Wn;(En=Yt(pn,jn,En,Dt))>-1;)pn!==dt&&Ss.call(pn,En,1),Ss.call(dt,En,1);return dt}function av(dt,yt){for(var Mt=dt?yt.length:0,Dt=Mt-1;Mt--;){var Yt=yt[Mt];if(Mt==Dt||Yt!==tn){var tn=Yt;Fo(Yt)?Ss.call(dt,Yt,1):Hp(dt,Yt)}}return dt}function Bp(dt,yt){return dt+Cl(Um()*(yt-dt+1))}function Q_(dt,yt,Mt,Dt){for(var Yt=-1,tn=ys(qo((yt-dt)/(Mt||1)),0),cn=Pn(tn);tn--;)cn[Dt?tn:++Yt]=dt,dt+=Mt;return cn}function Gp(dt,yt){var Mt="";if(!dt||yt<1||yt>Ut)return Mt;do yt%2&&(Mt+=dt),yt=Cl(yt/2),yt&&(dt+=dt);while(yt);return Mt}function $r(dt,yt){return rn(St(dt,yt,so),dt+"")}function e0(dt){return qm(Qu(dt))}function t0(dt,yt){var Mt=Qu(dt);return vn(Mt,uo(yt,0,Mt.length))}function su(dt,yt,Mt,Dt){if(!fs(dt))return dt;yt=nl(yt,dt);for(var Yt=-1,tn=yt.length,cn=tn-1,pn=dt;pn!=null&&++Yt<tn;){var En=Sn(yt[Yt]),Wn=Mt;if(En==="__proto__"||En==="constructor"||En==="prototype")return dt;if(Yt!=cn){var jn=pn[En];Wn=Dt?Dt(jn,En,pn):et,Wn===et&&(Wn=fs(jn)?jn:Fo(yt[Yt+1])?[]:{})}tu(pn,En,Wn),pn=pn[En]}return dt}var ov=js?function(dt,yt){return js.set(dt,yt),dt}:so,n0=Lu?function(dt,yt){return Lu(dt,"toString",{configurable:!0,enumerable:!1,value:N0(yt),writable:!0})}:so;function r0(dt){return vn(Qu(dt))}function no(dt,yt,Mt){var Dt=-1,Yt=dt.length;yt<0&&(yt=-yt>Yt?0:Yt+yt),Mt=Mt>Yt?Yt:Mt,Mt<0&&(Mt+=Yt),Yt=yt>Mt?0:Mt-yt>>>0,yt>>>=0;for(var tn=Pn(Yt);++Dt<Yt;)tn[Dt]=dt[Dt+yt];return tn}function i0(dt,yt){var Mt;return To(dt,function(Dt,Yt,tn){return Mt=yt(Dt,Yt,tn),!Mt}),!!Mt}function Wu(dt,yt,Mt){var Dt=0,Yt=dt==null?Dt:dt.length;if(typeof yt=="number"&&yt===yt&&Yt<=an){for(;Dt<Yt;){var tn=Dt+Yt>>>1,cn=dt[tn];cn!==null&&!po(cn)&&(Mt?cn<=yt:cn<yt)?Dt=tn+1:Yt=tn}return Yt}return Vp(dt,yt,so,Mt)}function Vp(dt,yt,Mt,Dt){var Yt=0,tn=dt==null?0:dt.length;if(tn===0)return 0;yt=Mt(yt);for(var cn=yt!==yt,pn=yt===null,En=po(yt),Wn=yt===et;Yt<tn;){var jn=Cl((Yt+tn)/2),Zn=Mt(dt[jn]),or=Zn!==et,vr=Zn===null,br=Zn===Zn,Gr=po(Zn);if(cn)var Ar=Dt||br;else Wn?Ar=br&&(Dt||or):pn?Ar=br&&or&&(Dt||!vr):En?Ar=br&&or&&!vr&&(Dt||!Gr):vr||Gr?Ar=!1:Ar=Dt?Zn<=yt:Zn<yt;Ar?Yt=jn+1:tn=jn}return Rs(tn,qt)}function lv(dt,yt){for(var Mt=-1,Dt=dt.length,Yt=0,tn=[];++Mt<Dt;){var cn=dt[Mt],pn=yt?yt(cn):cn;if(!Mt||!Uo(pn,En)){var En=pn;tn[Yt++]=cn===0?0:cn}}return tn}function uv(dt){return typeof dt=="number"?dt:po(dt)?Ht:+dt}function Bs(dt){if(typeof dt=="string")return dt;if(kr(dt))return os(dt,Bs)+"";if(po(dt))return Ep?Ep.call(dt):"";var yt=dt+"";return yt=="0"&&1/dt==-Ot?"-0":yt}function tl(dt,yt,Mt){var Dt=-1,Yt=xu,tn=dt.length,cn=!0,pn=[],En=pn;if(Mt)cn=!1,Yt=cp;else if(tn>=nt){var Wn=yt?null:c0(dt);if(Wn)return Eu(Wn);cn=!1,Yt=Ql,En=new fl}else En=yt?[]:pn;e:for(;++Dt<tn;){var jn=dt[Dt],Zn=yt?yt(jn):jn;if(jn=Mt||jn!==0?jn:0,cn&&Zn===Zn){for(var or=En.length;or--;)if(En[or]===Zn)continue e;yt&&En.push(Zn),pn.push(jn)}else Yt(En,Zn,Mt)||(En!==pn&&En.push(Zn),pn.push(jn))}return pn}function Hp(dt,yt){return yt=nl(yt,dt),dt=At(dt,yt),dt==null||delete dt[Sn(Jr(yt))]}function hv(dt,yt,Mt,Dt){return su(dt,yt,Mt(el(dt,yt)),Dt)}function ju(dt,yt,Mt,Dt){for(var Yt=dt.length,tn=Dt?Yt:-1;(Dt?tn--:++tn<Yt)&&yt(dt[tn],tn,dt););return Mt?no(dt,Dt?0:tn,Dt?tn+1:Yt):no(dt,Dt?tn+1:0,Dt?Yt:tn)}function cv(dt,yt){var Mt=dt;return Mt instanceof Fr&&(Mt=Mt.value()),Tu(yt,function(Dt,Yt){return Yt.func.apply(Yt.thisArg,jo([Dt],Yt.args))},Mt)}function zp(dt,yt,Mt){var Dt=dt.length;if(Dt<2)return Dt?tl(dt[0]):[];for(var Yt=-1,tn=Pn(Dt);++Yt<Dt;)for(var cn=dt[Yt],pn=-1;++pn<Dt;)pn!=Yt&&(tn[Yt]=Dl(tn[Yt]||cn,dt[pn],yt,Mt));return tl(Cs(tn,1),yt,Mt)}function fv(dt,yt,Mt){for(var Dt=-1,Yt=dt.length,tn=yt.length,cn={};++Dt<Yt;){var pn=Dt<tn?yt[Dt]:et;Mt(cn,dt[Dt],pn)}return cn}function Wp(dt){return xs(dt)?dt:[]}function jp(dt){return typeof dt=="function"?dt:so}function nl(dt,yt){return kr(dt)?dt:rm(dt,yt)?[dt]:xn(Qr(dt))}var s0=$r;function rl(dt,yt,Mt){var Dt=dt.length;return Mt=Mt===et?Dt:Mt,!yt&&Mt>=Dt?dt:no(dt,yt,Mt)}var dv=Io||function(dt){return Ms.clearTimeout(dt)};function pv(dt,yt){if(yt)return dt.slice();var Mt=dt.length,Dt=Dm?Dm(Mt):new dt.constructor(Mt);return dt.copy(Dt),Dt}function Xp(dt){var yt=new dt.constructor(dt.byteLength);return new Pu(yt).set(new Pu(dt)),yt}function a0(dt,yt){var Mt=yt?Xp(dt.buffer):dt.buffer;return new dt.constructor(Mt,dt.byteOffset,dt.byteLength)}function Do(dt){var yt=new dt.constructor(dt.source,qr.exec(dt));return yt.lastIndex=dt.lastIndex,yt}function mv(dt){return Rl?_i(Rl.call(dt)):{}}function So(dt,yt){var Mt=yt?Xp(dt.buffer):dt.buffer;return new dt.constructor(Mt,dt.byteOffset,dt.length)}function gv(dt,yt){if(dt!==yt){var Mt=dt!==et,Dt=dt===null,Yt=dt===dt,tn=po(dt),cn=yt!==et,pn=yt===null,En=yt===yt,Wn=po(yt);if(!pn&&!Wn&&!tn&&dt>yt||tn&&cn&&En&&!pn&&!Wn||Dt&&cn&&En||!Mt&&En||!Yt)return 1;if(!Dt&&!tn&&!Wn&&dt<yt||Wn&&Mt&&Yt&&!Dt&&!tn||pn&&Mt&&Yt||!cn&&Yt||!En)return-1}return 0}function o0(dt,yt,Mt){for(var Dt=-1,Yt=dt.criteria,tn=yt.criteria,cn=Yt.length,pn=Mt.length;++Dt<cn;){var En=gv(Yt[Dt],tn[Dt]);if(En){if(Dt>=pn)return En;var Wn=Mt[Dt];return En*(Wn=="desc"?-1:1)}}return dt.index-yt.index}function vv(dt,yt,Mt,Dt){for(var Yt=-1,tn=dt.length,cn=Mt.length,pn=-1,En=yt.length,Wn=ys(tn-cn,0),jn=Pn(En+Wn),Zn=!Dt;++pn<En;)jn[pn]=yt[pn];for(;++Yt<cn;)(Zn||Yt<tn)&&(jn[Mt[Yt]]=dt[Yt]);for(;Wn--;)jn[pn++]=dt[Yt++];return jn}function _v(dt,yt,Mt,Dt){for(var Yt=-1,tn=dt.length,cn=-1,pn=Mt.length,En=-1,Wn=yt.length,jn=ys(tn-pn,0),Zn=Pn(jn+Wn),or=!Dt;++Yt<jn;)Zn[Yt]=dt[Yt];for(var vr=Yt;++En<Wn;)Zn[vr+En]=yt[En];for(;++cn<pn;)(or||Yt<tn)&&(Zn[vr+Mt[cn]]=dt[Yt++]);return Zn}function Gs(dt,yt){var Mt=-1,Dt=dt.length;for(yt||(yt=Pn(Dt));++Mt<Dt;)yt[Mt]=dt[Mt];return yt}function Eo(dt,yt,Mt,Dt){var Yt=!Mt;Mt||(Mt={});for(var tn=-1,cn=yt.length;++tn<cn;){var pn=yt[tn],En=Dt?Dt(Mt[pn],dt[pn],pn,Mt,dt):et;En===et&&(En=dt[pn]),Yt?xo(Mt,pn,En):tu(Mt,pn,En)}return Mt}function yv(dt,yt){return Eo(dt,Ao(dt),yt)}function l0(dt,yt){return Eo(dt,nm(dt),yt)}function Xu(dt,yt){return function(Mt,Dt){var Yt=kr(Mt)?Jv:Il,tn=yt?yt():{};return Yt(Mt,dt,xr(Dt,2),tn)}}function Ul(dt){return $r(function(yt,Mt){var Dt=-1,Yt=Mt.length,tn=Yt>1?Mt[Yt-1]:et,cn=Yt>2?Mt[2]:et;for(tn=dt.length>3&&typeof tn=="function"?(Yt--,tn):et,cn&&Ds(Mt[0],Mt[1],cn)&&(tn=Yt<3?et:tn,Yt=1),yt=_i(yt);++Dt<Yt;){var pn=Mt[Dt];pn&&dt(yt,pn,Dt,tn)}return yt})}function xv(dt,yt){return function(Mt,Dt){if(Mt==null)return Mt;if(!ro(Mt))return dt(Mt,Dt);for(var Yt=Mt.length,tn=yt?Yt:-1,cn=_i(Mt);(yt?tn--:++tn<Yt)&&Dt(cn[tn],tn,cn)!==!1;);return Mt}}function Is(dt){return function(yt,Mt,Dt){for(var Yt=-1,tn=_i(yt),cn=Dt(yt),pn=cn.length;pn--;){var En=cn[dt?pn:++Yt];if(Mt(tn[En],En,tn)===!1)break}return yt}}function u0(dt,yt,Mt){var Dt=yt&vt,Yt=au(dt);function tn(){var cn=this&&this!==Ms&&this instanceof tn?Yt:dt;return cn.apply(Dt?Mt:this,arguments)}return tn}function Tv(dt){return function(yt){yt=Qr(yt);var Mt=wl(yt)?Qs(yt):et,Dt=Mt?Mt[0]:yt.charAt(0),Yt=Mt?rl(Mt,1).join(""):yt.slice(1);return Dt[dt]()+Yt}}function Bl(dt){return function(yt){return Tu(cy(hy(yt).replace(Wv,"")),dt,"")}}function au(dt){return function(){var yt=arguments;switch(yt.length){case 0:return new dt;case 1:return new dt(yt[0]);case 2:return new dt(yt[0],yt[1]);case 3:return new dt(yt[0],yt[1],yt[2]);case 4:return new dt(yt[0],yt[1],yt[2],yt[3]);case 5:return new dt(yt[0],yt[1],yt[2],yt[3],yt[4]);case 6:return new dt(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5]);case 7:return new dt(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5],yt[6])}var Mt=cl(dt.prototype),Dt=dt.apply(Mt,yt);return fs(Dt)?Dt:Mt}}function h0(dt,yt,Mt){var Dt=au(dt);function Yt(){for(var tn=arguments.length,cn=Pn(tn),pn=tn,En=pl(Yt);pn--;)cn[pn]=arguments[pn];var Wn=tn<3&&cn[0]!==En&&cn[tn-1]!==En?[]:Yo(cn,En);if(tn-=Wn.length,tn<Mt)return Gl(dt,yt,Yu,Yt.placeholder,et,cn,Wn,et,et,Mt-tn);var jn=this&&this!==Ms&&this instanceof Yt?Dt:dt;return $s(jn,this,cn)}return Yt}function Sv(dt){return function(yt,Mt,Dt){var Yt=_i(yt);if(!ro(yt)){var tn=xr(Mt,3);yt=Ls(yt),Mt=function(pn){return tn(Yt[pn],pn,Yt)}}var cn=dt(yt,Mt,Dt);return cn>-1?Yt[tn?yt[cn]:cn]:et}}function Ev(dt){return ko(function(yt){var Mt=yt.length,Dt=Mt,Yt=Xs.prototype.thru;for(dt&&yt.reverse();Dt--;){var tn=yt[Dt];if(typeof tn!="function")throw new ga(it);if(Yt&&!cn&&Zu(tn)=="wrapper")var cn=new Xs([],!0)}for(Dt=cn?Dt:Mt;++Dt<Mt;){tn=yt[Dt];var pn=Zu(tn),En=pn=="wrapper"?em(tn):et;En&&im(En[0])&&En[1]==(bt|xt|Tt|Ct)&&!En[4].length&&En[9]==1?cn=cn[Zu(En[0])].apply(cn,En[3]):cn=tn.length==1&&im(tn)?cn[pn]():cn.thru(tn)}return function(){var Wn=arguments,jn=Wn[0];if(cn&&Wn.length==1&&kr(jn))return cn.plant(jn).value();for(var Zn=0,or=Mt?yt[Zn].apply(this,Wn):jn;++Zn<Mt;)or=yt[Zn].call(this,or);return or}})}function Yu(dt,yt,Mt,Dt,Yt,tn,cn,pn,En,Wn){var jn=yt&bt,Zn=yt&vt,or=yt&ft,vr=yt&(xt|_t),br=yt&Lt,Gr=or?et:au(dt);function Ar(){for(var jr=arguments.length,Yr=Pn(jr),mo=jr;mo--;)Yr[mo]=arguments[mo];if(vr)var Zs=pl(Ar),go=o_(Yr,Zs);if(Dt&&(Yr=vv(Yr,Dt,Yt,vr)),tn&&(Yr=_v(Yr,tn,cn,vr)),jr-=go,vr&&jr<Wn){var Ts=Yo(Yr,Zs);return Gl(dt,yt,Yu,Ar.placeholder,Mt,Yr,Ts,pn,En,Wn-jr)}var Bo=Zn?Mt:this,vl=or?Bo[dt]:dt;return jr=Yr.length,pn?Yr=Pt(Yr,pn):br&&jr>1&&Yr.reverse(),jn&&En<jr&&(Yr.length=En),this&&this!==Ms&&this instanceof Ar&&(vl=Gr||au(vl)),vl.apply(Bo,Yr)}return Ar}function wv(dt,yt){return function(Mt,Dt){return Dp(Mt,dt,yt(Dt),{})}}function qu(dt,yt){return function(Mt,Dt){var Yt;if(Mt===et&&Dt===et)return yt;if(Mt!==et&&(Yt=Mt),Dt!==et){if(Yt===et)return Dt;typeof Mt=="string"||typeof Dt=="string"?(Mt=Bs(Mt),Dt=Bs(Dt)):(Mt=uv(Mt),Dt=uv(Dt)),Yt=dt(Mt,Dt)}return Yt}}function Yp(dt){return ko(function(yt){return yt=os(yt,Ws(xr())),$r(function(Mt){var Dt=this;return dt(yt,function(Yt){return $s(Yt,Dt,Mt)})})})}function ou(dt,yt){yt=yt===et?" ":Bs(yt);var Mt=yt.length;if(Mt<2)return Mt?Gp(yt,dt):yt;var Dt=Gp(yt,qo(dt/ul(yt)));return wl(yt)?rl(Qs(Dt),0,dt).join(""):Dt.slice(0,dt)}function qp(dt,yt,Mt,Dt){var Yt=yt&vt,tn=au(dt);function cn(){for(var pn=-1,En=arguments.length,Wn=-1,jn=Dt.length,Zn=Pn(jn+En),or=this&&this!==Ms&&this instanceof cn?tn:dt;++Wn<jn;)Zn[Wn]=Dt[Wn];for(;En--;)Zn[Wn++]=arguments[++pn];return $s(or,Yt?Mt:this,Zn)}return cn}function Zp(dt){return function(yt,Mt,Dt){return Dt&&typeof Dt!="number"&&Ds(yt,Mt,Dt)&&(Mt=Dt=et),yt=gl(yt),Mt===et?(Mt=yt,yt=0):Mt=gl(Mt),Dt=Dt===et?yt<Mt?1:-1:gl(Dt),Q_(yt,Mt,Dt,dt)}}function ws(dt){return function(yt,Mt){return typeof yt=="string"&&typeof Mt=="string"||(yt=Po(yt),Mt=Po(Mt)),dt(yt,Mt)}}function Gl(dt,yt,Mt,Dt,Yt,tn,cn,pn,En,Wn){var jn=yt&xt,Zn=jn?cn:et,or=jn?et:cn,vr=jn?tn:et,br=jn?et:tn;yt|=jn?Tt:wt,yt&=~(jn?wt:Tt),yt&mt||(yt&=~(vt|ft));var Gr=[dt,yt,Yt,vr,Zn,br,or,pn,En,Wn],Ar=Mt.apply(et,Gr);return im(dt)&&Wt(Ar,Gr),Ar.placeholder=Dt,ln(Ar,dt,yt)}function il(dt){var yt=_s[dt];return function(Mt,Dt){if(Mt=Po(Mt),Dt=Dt==null?0:Rs(Ur(Dt),292),Dt&&xp(Mt)){var Yt=(Qr(Mt)+"e").split("e"),tn=yt(Yt[0]+"e"+(+Yt[1]+Dt));return Yt=(Qr(tn)+"e").split("e"),+(Yt[0]+"e"+(+Yt[1]-Dt))}return yt(Mt)}}var c0=No&&1/Eu(new No([,-0]))[1]==Ot?function(dt){return new No(dt)}:k0;function Kp(dt){return function(yt){var Mt=bs(yt);return Mt==An?Xo(yt):Mt==sn?d_(yt):a_(yt,dt(yt))}}function wo(dt,yt,Mt,Dt,Yt,tn,cn,pn){var En=yt&ft;if(!En&&typeof dt!="function")throw new ga(it);var Wn=Dt?Dt.length:0;if(Wn||(yt&=~(Tt|wt),Dt=Yt=et),cn=cn===et?cn:ys(Ur(cn),0),pn=pn===et?pn:Ur(pn),Wn-=Yt?Yt.length:0,yt&wt){var jn=Dt,Zn=Yt;Dt=Yt=et}var or=En?et:em(dt),vr=[dt,yt,Mt,Dt,Yt,jn,Zn,tn,cn,pn];if(or&&E0(vr,or),dt=vr[0],yt=vr[1],Mt=vr[2],Dt=vr[3],Yt=vr[4],pn=vr[9]=vr[9]===et?En?0:dt.length:ys(vr[9]-Wn,0),!pn&&yt&(xt|_t)&&(yt&=~(xt|_t)),!yt||yt==vt)var br=u0(dt,yt,Mt);else yt==xt||yt==_t?br=h0(dt,yt,pn):(yt==Tt||yt==(vt|Tt))&&!Yt.length?br=qp(dt,yt,Mt,Dt):br=Yu.apply(et,vr);var Gr=or?ov:Wt;return ln(Gr(br,vr),dt,yt)}function bv(dt,yt,Mt,Dt){return dt===et||Uo(dt,Al[Mt])&&!Kr.call(Dt,Mt)?yt:dt}function Av(dt,yt,Mt,Dt,Yt,tn){return fs(dt)&&fs(yt)&&(tn.set(yt,dt),zu(dt,yt,et,Av,tn),tn.delete(yt)),dt}function Mv(dt){return om(dt)?et:dt}function Cv(dt,yt,Mt,Dt,Yt,tn){var cn=Mt&pt,pn=dt.length,En=yt.length;if(pn!=En&&!(cn&&En>pn))return!1;var Wn=tn.get(dt),jn=tn.get(yt);if(Wn&&jn)return Wn==yt&&jn==dt;var Zn=-1,or=!0,vr=Mt&gt?new fl:et;for(tn.set(dt,yt),tn.set(yt,dt);++Zn<pn;){var br=dt[Zn],Gr=yt[Zn];if(Dt)var Ar=cn?Dt(Gr,br,Zn,yt,dt,tn):Dt(br,Gr,Zn,dt,yt,tn);if(Ar!==et){if(Ar)continue;or=!1;break}if(vr){if(!Sl(yt,function(jr,Yr){if(!Ql(vr,Yr)&&(br===jr||Yt(br,jr,Mt,Dt,tn)))return vr.push(Yr)})){or=!1;break}}else if(!(br===Gr||Yt(br,Gr,Mt,Dt,tn))){or=!1;break}}return tn.delete(dt),tn.delete(yt),or}function f0(dt,yt,Mt,Dt,Yt,tn,cn){switch(Mt){case kn:if(dt.byteLength!=yt.byteLength||dt.byteOffset!=yt.byteOffset)return!1;dt=dt.buffer,yt=yt.buffer;case pr:return!(dt.byteLength!=yt.byteLength||!tn(new Pu(dt),new Pu(yt)));case Dn:case Mn:case Yn:return Uo(+dt,+yt);case Vn:return dt.name==yt.name&&dt.message==yt.message;case fr:case nn:return dt==yt+"";case An:var pn=Xo;case sn:var En=Dt&pt;if(pn||(pn=Eu),dt.size!=yt.size&&!En)return!1;var Wn=cn.get(dt);if(Wn)return Wn==yt;Dt|=gt,cn.set(dt,yt);var jn=Cv(pn(dt),pn(yt),Dt,Yt,tn,cn);return cn.delete(dt),jn;case Cn:if(Rl)return Rl.call(dt)==Rl.call(yt)}return!1}function d0(dt,yt,Mt,Dt,Yt,tn){var cn=Mt&pt,pn=Jp(dt),En=pn.length,Wn=Jp(yt),jn=Wn.length;if(En!=jn&&!cn)return!1;for(var Zn=En;Zn--;){var or=pn[Zn];if(!(cn?or in yt:Kr.call(yt,or)))return!1}var vr=tn.get(dt),br=tn.get(yt);if(vr&&br)return vr==yt&&br==dt;var Gr=!0;tn.set(dt,yt),tn.set(yt,dt);for(var Ar=cn;++Zn<En;){or=pn[Zn];var jr=dt[or],Yr=yt[or];if(Dt)var mo=cn?Dt(Yr,jr,or,yt,dt,tn):Dt(jr,Yr,or,dt,yt,tn);if(!(mo===et?jr===Yr||Yt(jr,Yr,Mt,Dt,tn):mo)){Gr=!1;break}Ar||(Ar=or=="constructor")}if(Gr&&!Ar){var Zs=dt.constructor,go=yt.constructor;Zs!=go&&"constructor"in dt&&"constructor"in yt&&!(typeof Zs=="function"&&Zs instanceof Zs&&typeof go=="function"&&go instanceof go)&&(Gr=!1)}return tn.delete(dt),tn.delete(yt),Gr}function ko(dt){return rn(St(dt,et,qs),dt+"")}function Jp(dt){return Np(dt,Ls,Ao)}function Qp(dt){return Np(dt,io,nm)}var em=js?function(dt){return js.get(dt)}:k0;function Zu(dt){for(var yt=dt.name+"",Mt=Pl[yt],Dt=Kr.call(Pl,yt)?Mt.length:0;Dt--;){var Yt=Mt[Dt],tn=Yt.func;if(tn==null||tn==dt)return Yt.name}return yt}function pl(dt){var yt=Kr.call(en,"placeholder")?en:dt;return yt.placeholder}function xr(){var dt=en.iteratee||O0;return dt=dt===O0?_g:dt,arguments.length?dt(arguments[0],arguments[1]):dt}function Ku(dt,yt){var Mt=dt.__data__;return y0(yt)?Mt[typeof yt=="string"?"string":"hash"]:Mt.map}function tm(dt){for(var yt=Ls(dt),Mt=yt.length;Mt--;){var Dt=yt[Mt],Yt=dt[Dt];yt[Mt]=[Dt,Yt,ks(Yt)]}return yt}function bo(dt,yt){var Mt=h_(dt,yt);return Hu(Mt)?Mt:et}function p0(dt){var yt=Kr.call(dt,ms),Mt=dt[ms];try{dt[ms]=et;var Dt=!0}catch{}var Yt=Mu.call(dt);return Dt&&(yt?dt[ms]=Mt:delete dt[ms]),Yt}var Ao=Zo?function(dt){return dt==null?[]:(dt=_i(dt),Wo(Zo(dt),function(yt){return Iu.call(dt,yt)}))}:F0,nm=Zo?function(dt){for(var yt=[];dt;)jo(yt,Ao(dt)),dt=Ru(dt);return yt}:F0,bs=Ps;(Ou&&bs(new Ou(new ArrayBuffer(1)))!=kn||Lo&&bs(new Lo)!=An||hl&&bs(hl.resolve())!=rr||No&&bs(new No)!=sn||_o&&bs(new _o)!=Kn)&&(bs=function(dt){var yt=Ps(dt),Mt=yt==tr?dt.constructor:et,Dt=Mt?wn(Mt):"";if(Dt)switch(Dt){case C_:return kn;case P_:return An;case R_:return rr;case I_:return sn;case L_:return Kn}return yt});function lu(dt,yt,Mt){for(var Dt=-1,Yt=Mt.length;++Dt<Yt;){var tn=Mt[Dt],cn=tn.size;switch(tn.type){case"drop":dt+=cn;break;case"dropRight":yt-=cn;break;case"take":yt=Rs(yt,dt+cn);break;case"takeRight":dt=ys(dt,yt-cn);break}}return{start:dt,end:yt}}function m0(dt){var yt=dt.match(Ln);return yt?yt[1].split(Xn):[]}function Pv(dt,yt,Mt){yt=nl(yt,dt);for(var Dt=-1,Yt=yt.length,tn=!1;++Dt<Yt;){var cn=Sn(yt[Dt]);if(!(tn=dt!=null&&Mt(dt,cn)))break;dt=dt[cn]}return tn||++Dt!=Yt?tn:(Yt=dt==null?0:dt.length,!!Yt&&Fv(Yt)&&Fo(cn,Yt)&&(kr(dt)||hu(dt)))}function Rv(dt){var yt=dt.length,Mt=new dt.constructor(yt);return yt&&typeof dt[0]=="string"&&Kr.call(dt,"index")&&(Mt.index=dt.index,Mt.input=dt.input),Mt}function Iv(dt){return typeof dt.constructor=="function"&&!uu(dt)?cl(Ru(dt)):{}}function g0(dt,yt,Mt){var Dt=dt.constructor;switch(yt){case pr:return Xp(dt);case Dn:case Mn:return new Dt(+dt);case kn:return a0(dt,Mt);case _r:case Mr:case yr:case mr:case _n:case ur:case sr:case Er:case ar:return So(dt,Mt);case An:return new Dt;case Yn:case nn:return new Dt(dt);case fr:return Do(dt);case sn:return new Dt;case Cn:return mv(dt)}}function v0(dt,yt){var Mt=yt.length;if(!Mt)return dt;var Dt=Mt-1;return yt[Dt]=(Mt>1?"& ":"")+yt[Dt],yt=yt.join(Mt>2?", ":" "),dt.replace(Nn,`{
/* [wrapped with `+yt+`] */
`)}function _0(dt){return kr(dt)||hu(dt)||!!(Ml&&dt&&dt[Ml])}function Fo(dt,yt){var Mt=typeof dt;return yt=yt==null?Ut:yt,!!yt&&(Mt=="number"||Mt!="symbol"&&Go.test(dt))&&dt>-1&&dt%1==0&&dt<yt}function Ds(dt,yt,Mt){if(!fs(Mt))return!1;var Dt=typeof yt;return(Dt=="number"?ro(Mt)&&Fo(yt,Mt.length):Dt=="string"&&yt in Mt)?Uo(Mt[yt],dt):!1}function rm(dt,yt){if(kr(dt))return!1;var Mt=typeof dt;return Mt=="number"||Mt=="symbol"||Mt=="boolean"||dt==null||po(dt)?!0:ao.test(dt)||!_l.test(dt)||yt!=null&&dt in _i(yt)}function y0(dt){var yt=typeof dt;return yt=="string"||yt=="number"||yt=="symbol"||yt=="boolean"?dt!=="__proto__":dt===null}function im(dt){var yt=Zu(dt),Mt=en[yt];if(typeof Mt!="function"||!(yt in Fr.prototype))return!1;if(dt===Mt)return!0;var Dt=em(Mt);return!!Dt&&dt===Dt[0]}function x0(dt){return!!Om&&Om in dt}var T0=bu?ml:$0;function uu(dt){var yt=dt&&dt.constructor,Mt=typeof yt=="function"&&yt.prototype||Al;return dt===Mt}function ks(dt){return dt===dt&&!fs(dt)}function As(dt,yt){return function(Mt){return Mt==null?!1:Mt[dt]===yt&&(yt!==et||dt in _i(Mt))}}function S0(dt){var yt=Dv(dt,function(Dt){return Mt.size===ot&&Mt.clear(),Dt}),Mt=yt.cache;return yt}function E0(dt,yt){var Mt=dt[1],Dt=yt[1],Yt=Mt|Dt,tn=Yt<(vt|ft|bt),cn=Dt==bt&&Mt==xt||Dt==bt&&Mt==Ct&&dt[7].length<=yt[8]||Dt==(bt|Ct)&&yt[7].length<=yt[8]&&Mt==xt;if(!(tn||cn))return dt;Dt&vt&&(dt[2]=yt[2],Yt|=Mt&vt?0:mt);var pn=yt[3];if(pn){var En=dt[3];dt[3]=En?vv(En,pn,yt[4]):pn,dt[4]=En?Yo(dt[3],lt):yt[4]}return pn=yt[5],pn&&(En=dt[5],dt[5]=En?_v(En,pn,yt[6]):pn,dt[6]=En?Yo(dt[5],lt):yt[6]),pn=yt[7],pn&&(dt[7]=pn),Dt&bt&&(dt[8]=dt[8]==null?yt[8]:Rs(dt[8],yt[8])),dt[9]==null&&(dt[9]=yt[9]),dt[0]=yt[0],dt[1]=Yt,dt}function sm(dt){var yt=[];if(dt!=null)for(var Mt in _i(dt))yt.push(Mt);return yt}function Et(dt){return Mu.call(dt)}function St(dt,yt,Mt){return yt=ys(yt===et?dt.length-1:yt,0),function(){for(var Dt=arguments,Yt=-1,tn=ys(Dt.length-yt,0),cn=Pn(tn);++Yt<tn;)cn[Yt]=Dt[yt+Yt];Yt=-1;for(var pn=Pn(yt+1);++Yt<yt;)pn[Yt]=Dt[Yt];return pn[yt]=Mt(cn),$s(dt,this,pn)}}function At(dt,yt){return yt.length<2?dt:el(dt,no(yt,0,-1))}function Pt(dt,yt){for(var Mt=dt.length,Dt=Rs(yt.length,Mt),Yt=Gs(dt);Dt--;){var tn=yt[Dt];dt[Dt]=Fo(tn,Mt)?Yt[tn]:et}return dt}function Nt(dt,yt){if(!(yt==="constructor"&&typeof dt[yt]=="function")&&yt!="__proto__")return dt[yt]}var Wt=hn(ov),jt=b_||function(dt,yt){return Ms.setTimeout(dt,yt)},rn=hn(n0);function ln(dt,yt,Mt){var Dt=yt+"";return rn(dt,v0(Dt,er(m0(Dt),Mt)))}function hn(dt){var yt=0,Mt=0;return function(){var Dt=A_(),Yt=Gt-(Dt-Mt);if(Mt=Dt,Yt>0){if(++yt>=Bt)return arguments[0]}else yt=0;return dt.apply(et,arguments)}}function vn(dt,yt){var Mt=-1,Dt=dt.length,Yt=Dt-1;for(yt=yt===et?Dt:yt;++Mt<yt;){var tn=Bp(Mt,Yt),cn=dt[tn];dt[tn]=dt[Mt],dt[Mt]=cn}return dt.length=yt,dt}var xn=S0(function(dt){var yt=[];return dt.charCodeAt(0)===46&&yt.push(""),dt.replace(zl,function(Mt,Dt,Yt,tn){yt.push(Yt?tn.replace(Nr,"$1"):Dt||Mt)}),yt});function Sn(dt){if(typeof dt=="string"||po(dt))return dt;var yt=dt+"";return yt=="0"&&1/dt==-Ot?"-0":yt}function wn(dt){if(dt!=null){try{return Au.call(dt)}catch{}try{return dt+""}catch{}}return""}function er(dt,yt){return Js(gn,function(Mt){var Dt="_."+Mt[0];yt&Mt[1]&&!xu(dt,Dt)&&dt.push(Dt)}),dt.sort()}function Gn(dt){if(dt instanceof Fr)return dt.clone();var yt=new Xs(dt.__wrapped__,dt.__chain__);return yt.__actions__=Gs(dt.__actions__),yt.__index__=dt.__index__,yt.__values__=dt.__values__,yt}function zn(dt,yt,Mt){(Mt?Ds(dt,yt,Mt):yt===et)?yt=1:yt=ys(Ur(yt),0);var Dt=dt==null?0:dt.length;if(!Dt||yt<1)return[];for(var Yt=0,tn=0,cn=Pn(qo(Dt/yt));Yt<Dt;)cn[tn++]=no(dt,Yt,Yt+=yt);return cn}function $n(dt){for(var yt=-1,Mt=dt==null?0:dt.length,Dt=0,Yt=[];++yt<Mt;){var tn=dt[yt];tn&&(Yt[Dt++]=tn)}return Yt}function nr(){var dt=arguments.length;if(!dt)return[];for(var yt=Pn(dt-1),Mt=arguments[0],Dt=dt;Dt--;)yt[Dt-1]=arguments[Dt];return jo(kr(Mt)?Gs(Mt):[Mt],Cs(yt,1))}var gr=$r(function(dt,yt){return xs(dt)?Dl(dt,Cs(yt,1,xs,!0)):[]}),On=$r(function(dt,yt){var Mt=Jr(yt);return xs(Mt)&&(Mt=et),xs(dt)?Dl(dt,Cs(yt,1,xs,!0),xr(Mt,2)):[]}),lr=$r(function(dt,yt){var Mt=Jr(yt);return xs(Mt)&&(Mt=et),xs(dt)?Dl(dt,Cs(yt,1,xs,!0),et,Mt):[]});function Tr(dt,yt,Mt){var Dt=dt==null?0:dt.length;return Dt?(yt=Mt||yt===et?1:Ur(yt),no(dt,yt<0?0:yt,Dt)):[]}function Cr(dt,yt,Mt){var Dt=dt==null?0:dt.length;return Dt?(yt=Mt||yt===et?1:Ur(yt),yt=Dt-yt,no(dt,0,yt<0?0:yt)):[]}function Wr(dt,yt){return dt&&dt.length?ju(dt,xr(yt,3),!0,!0):[]}function ts(dt,yt){return dt&&dt.length?ju(dt,xr(yt,3),!0):[]}function us(dt,yt,Mt,Dt){var Yt=dt==null?0:dt.length;return Yt?(Mt&&typeof Mt!="number"&&Ds(dt,yt,Mt)&&(Mt=0,Dt=Yt),H_(dt,yt,Mt,Dt)):[]}function hs(dt,yt,Mt){var Dt=dt==null?0:dt.length;if(!Dt)return-1;var Yt=Mt==null?0:Ur(Mt);return Yt<0&&(Yt=ys(Dt+Yt,0)),Su(dt,xr(yt,3),Yt)}function Vs(dt,yt,Mt){var Dt=dt==null?0:dt.length;if(!Dt)return-1;var Yt=Dt-1;return Mt!==et&&(Yt=Ur(Mt),Yt=Mt<0?ys(Dt+Yt,0):Rs(Yt,Dt-1)),Su(dt,xr(yt,3),Yt,!0)}function qs(dt){var yt=dt==null?0:dt.length;return yt?Cs(dt,1):[]}function Rn(dt){var yt=dt==null?0:dt.length;return yt?Cs(dt,Ot):[]}function ir(dt,yt){var Mt=dt==null?0:dt.length;return Mt?(yt=yt===et?1:Ur(yt),Cs(dt,yt)):[]}function qn(dt){for(var yt=-1,Mt=dt==null?0:dt.length,Dt={};++yt<Mt;){var Yt=dt[yt];Dt[Yt[0]]=Yt[1]}return Dt}function dr(dt){return dt&&dt.length?dt[0]:et}function Sr(dt,yt,Mt){var Dt=dt==null?0:dt.length;if(!Dt)return-1;var Yt=Mt==null?0:Ur(Mt);return Yt<0&&(Yt=ys(Dt+Yt,0)),El(dt,yt,Yt)}function Rr(dt){var yt=dt==null?0:dt.length;return yt?no(dt,0,-1):[]}var Dr=$r(function(dt){var yt=os(dt,Wp);return yt.length&&yt[0]===dt[0]?$l(yt):[]}),ns=$r(function(dt){var yt=Jr(dt),Mt=os(dt,Wp);return yt===Jr(Mt)?yt=et:Mt.pop(),Mt.length&&Mt[0]===dt[0]?$l(Mt,xr(yt,2)):[]}),cs=$r(function(dt){var yt=Jr(dt),Mt=os(dt,Wp);return yt=typeof yt=="function"?yt:et,yt&&Mt.pop(),Mt.length&&Mt[0]===dt[0]?$l(Mt,et,yt):[]});function Mo(dt,yt){return dt==null?"":Nu.call(dt,yt)}function Jr(dt){var yt=dt==null?0:dt.length;return yt?dt[yt-1]:et}function co(dt,yt,Mt){var Dt=dt==null?0:dt.length;if(!Dt)return-1;var Yt=Dt;return Mt!==et&&(Yt=Ur(Mt),Yt=Yt<0?ys(Dt+Yt,0):Rs(Yt,Dt-1)),yt===yt?vp(dt,yt,Yt):Su(dt,bm,Yt,!0)}function $o(dt,yt){return dt&&dt.length?rv(dt,Ur(yt)):et}var fo=$r(Co);function Co(dt,yt){return dt&&dt.length&&yt&&yt.length?Up(dt,yt):dt}function am(dt,yt,Mt){return dt&&dt.length&&yt&&yt.length?Up(dt,yt,xr(Mt,2)):dt}function Ty(dt,yt,Mt){return dt&&dt.length&&yt&&yt.length?Up(dt,yt,et,Mt):dt}var Sy=ko(function(dt,yt){var Mt=dt==null?0:dt.length,Dt=Nl(dt,yt);return av(dt,os(yt,function(Yt){return Fo(Yt,Mt)?+Yt:Yt}).sort(gv)),Dt});function Ey(dt,yt){var Mt=[];if(!(dt&&dt.length))return Mt;var Dt=-1,Yt=[],tn=dt.length;for(yt=xr(yt,3);++Dt<tn;){var cn=dt[Dt];yt(cn,Dt,dt)&&(Mt.push(cn),Yt.push(Dt))}return av(dt,Yt),Mt}function w0(dt){return dt==null?dt:Sp.call(dt)}function wy(dt,yt,Mt){var Dt=dt==null?0:dt.length;return Dt?(Mt&&typeof Mt!="number"&&Ds(dt,yt,Mt)?(yt=0,Mt=Dt):(yt=yt==null?0:Ur(yt),Mt=Mt===et?Dt:Ur(Mt)),no(dt,yt,Mt)):[]}function by(dt,yt){return Wu(dt,yt)}function Ay(dt,yt,Mt){return Vp(dt,yt,xr(Mt,2))}function My(dt,yt){var Mt=dt==null?0:dt.length;if(Mt){var Dt=Wu(dt,yt);if(Dt<Mt&&Uo(dt[Dt],yt))return Dt}return-1}function Cy(dt,yt){return Wu(dt,yt,!0)}function Py(dt,yt,Mt){return Vp(dt,yt,xr(Mt,2),!0)}function Ry(dt,yt){var Mt=dt==null?0:dt.length;if(Mt){var Dt=Wu(dt,yt,!0)-1;if(Uo(dt[Dt],yt))return Dt}return-1}function Iy(dt){return dt&&dt.length?lv(dt):[]}function Ly(dt,yt){return dt&&dt.length?lv(dt,xr(yt,2)):[]}function Ny(dt){var yt=dt==null?0:dt.length;return yt?no(dt,1,yt):[]}function Oy(dt,yt,Mt){return dt&&dt.length?(yt=Mt||yt===et?1:Ur(yt),no(dt,0,yt<0?0:yt)):[]}function Dy(dt,yt,Mt){var Dt=dt==null?0:dt.length;return Dt?(yt=Mt||yt===et?1:Ur(yt),yt=Dt-yt,no(dt,yt<0?0:yt,Dt)):[]}function ky(dt,yt){return dt&&dt.length?ju(dt,xr(yt,3),!1,!0):[]}function Fy(dt,yt){return dt&&dt.length?ju(dt,xr(yt,3)):[]}var $y=$r(function(dt){return tl(Cs(dt,1,xs,!0))}),Uy=$r(function(dt){var yt=Jr(dt);return xs(yt)&&(yt=et),tl(Cs(dt,1,xs,!0),xr(yt,2))}),By=$r(function(dt){var yt=Jr(dt);return yt=typeof yt=="function"?yt:et,tl(Cs(dt,1,xs,!0),et,yt)});function Gy(dt){return dt&&dt.length?tl(dt):[]}function Vy(dt,yt){return dt&&dt.length?tl(dt,xr(yt,2)):[]}function Hy(dt,yt){return yt=typeof yt=="function"?yt:et,dt&&dt.length?tl(dt,et,yt):[]}function b0(dt){if(!(dt&&dt.length))return[];var yt=0;return dt=Wo(dt,function(Mt){if(xs(Mt))return yt=ys(Mt.length,yt),!0}),mp(yt,function(Mt){return os(dt,fp(Mt))})}function U0(dt,yt){if(!(dt&&dt.length))return[];var Mt=b0(dt);return yt==null?Mt:os(Mt,function(Dt){return $s(yt,et,Dt)})}var zy=$r(function(dt,yt){return xs(dt)?Dl(dt,yt):[]}),Wy=$r(function(dt){return zp(Wo(dt,xs))}),jy=$r(function(dt){var yt=Jr(dt);return xs(yt)&&(yt=et),zp(Wo(dt,xs),xr(yt,2))}),Xy=$r(function(dt){var yt=Jr(dt);return yt=typeof yt=="function"?yt:et,zp(Wo(dt,xs),et,yt)}),Yy=$r(b0);function qy(dt,yt){return fv(dt||[],yt||[],tu)}function Zy(dt,yt){return fv(dt||[],yt||[],su)}var Ky=$r(function(dt){var yt=dt.length,Mt=yt>1?dt[yt-1]:et;return Mt=typeof Mt=="function"?(dt.pop(),Mt):et,U0(dt,Mt)});function B0(dt){var yt=en(dt);return yt.__chain__=!0,yt}function Jy(dt,yt){return yt(dt),dt}function Lv(dt,yt){return yt(dt)}var Qy=ko(function(dt){var yt=dt.length,Mt=yt?dt[0]:0,Dt=this.__wrapped__,Yt=function(tn){return Nl(tn,dt)};return yt>1||this.__actions__.length||!(Dt instanceof Fr)||!Fo(Mt)?this.thru(Yt):(Dt=Dt.slice(Mt,+Mt+(yt?1:0)),Dt.__actions__.push({func:Lv,args:[Yt],thisArg:et}),new Xs(Dt,this.__chain__).thru(function(tn){return yt&&!tn.length&&tn.push(et),tn}))});function ex(){return B0(this)}function tx(){return new Xs(this.value(),this.__chain__)}function nx(){this.__values__===et&&(this.__values__=ey(this.value()));var dt=this.__index__>=this.__values__.length,yt=dt?et:this.__values__[this.__index__++];return{done:dt,value:yt}}function rx(){return this}function ix(dt){for(var yt,Mt=this;Mt instanceof Ko;){var Dt=Gn(Mt);Dt.__index__=0,Dt.__values__=et,yt?Yt.__wrapped__=Dt:yt=Dt;var Yt=Dt;Mt=Mt.__wrapped__}return Yt.__wrapped__=dt,yt}function sx(){var dt=this.__wrapped__;if(dt instanceof Fr){var yt=dt;return this.__actions__.length&&(yt=new Fr(this)),yt=yt.reverse(),yt.__actions__.push({func:Lv,args:[w0],thisArg:et}),new Xs(yt,this.__chain__)}return this.thru(w0)}function ax(){return cv(this.__wrapped__,this.__actions__)}var ox=Xu(function(dt,yt,Mt){Kr.call(dt,Mt)?++dt[Mt]:xo(dt,Mt,1)});function lx(dt,yt,Mt){var Dt=kr(dt)?Em:$u;return Mt&&Ds(dt,yt,Mt)&&(yt=et),Dt(dt,xr(yt,3))}function hx(dt,yt){var Mt=kr(dt)?Wo:Rp;return Mt(dt,xr(yt,3))}var cx=Sv(hs),fx=Sv(Vs);function dx(dt,yt){return Cs(Nv(dt,yt),1)}function mx(dt,yt){return Cs(Nv(dt,yt),Ot)}function gx(dt,yt,Mt){return Mt=Mt===et?1:Ur(Mt),Cs(Nv(dt,yt),Mt)}function G0(dt,yt){var Mt=kr(dt)?Js:To;return Mt(dt,xr(yt,3))}function V0(dt,yt){var Mt=kr(dt)?Qv:Km;return Mt(dt,xr(yt,3))}var yx=Xu(function(dt,yt,Mt){Kr.call(dt,Mt)?dt[Mt].push(yt):xo(dt,Mt,[yt])});function xx(dt,yt,Mt,Dt){dt=ro(dt)?dt:Qu(dt),Mt=Mt&&!Dt?Ur(Mt):0;var Yt=dt.length;return Mt<0&&(Mt=ys(Yt+Mt,0)),$v(dt)?Mt<=Yt&&dt.indexOf(yt,Mt)>-1:!!Yt&&El(dt,yt,Mt)>-1}var Tx=$r(function(dt,yt,Mt){var Dt=-1,Yt=typeof yt=="function",tn=ro(dt)?Pn(dt.length):[];return To(dt,function(cn){tn[++Dt]=Yt?$s(yt,cn,Mt):Us(cn,yt,Mt)}),tn}),Sx=Xu(function(dt,yt,Mt){xo(dt,Mt,yt)});function Nv(dt,yt){var Mt=kr(dt)?os:ev;return Mt(dt,xr(yt,3))}function Ex(dt,yt,Mt,Dt){return dt==null?[]:(kr(yt)||(yt=yt==null?[]:[yt]),Mt=Dt?et:Mt,kr(Mt)||(Mt=Mt==null?[]:[Mt]),iv(dt,yt,Mt))}var wx=Xu(function(dt,yt,Mt){dt[Mt?0:1].push(yt)},function(){return[[],[]]});function bx(dt,yt,Mt){var Dt=kr(dt)?Tu:Mm,Yt=arguments.length<3;return Dt(dt,xr(yt,4),Mt,Yt,To)}function Ax(dt,yt,Mt){var Dt=kr(dt)?e_:Mm,Yt=arguments.length<3;return Dt(dt,xr(yt,4),Mt,Yt,Km)}function Mx(dt,yt){var Mt=kr(dt)?Wo:Rp;return Mt(dt,kv(xr(yt,3)))}function Cx(dt){var yt=kr(dt)?qm:e0;return yt(dt)}function Px(dt,yt,Mt){(Mt?Ds(dt,yt,Mt):yt===et)?yt=1:yt=Ur(yt);var Dt=kr(dt)?V_:t0;return Dt(dt,yt)}function Rx(dt){var yt=kr(dt)?Zm:r0;return yt(dt)}function Ix(dt){if(dt==null)return 0;if(ro(dt))return $v(dt)?ul(dt):dt.length;var yt=bs(dt);return yt==An||yt==sn?dt.size:Fp(dt).length}function Lx(dt,yt,Mt){var Dt=kr(dt)?Sl:i0;return Mt&&Ds(dt,yt,Mt)&&(yt=et),Dt(dt,xr(yt,3))}var Nx=$r(function(dt,yt){if(dt==null)return[];var Mt=yt.length;return Mt>1&&Ds(dt,yt[0],yt[1])?yt=[]:Mt>2&&Ds(yt[0],yt[1],yt[2])&&(yt=[yt[0]]),iv(dt,Cs(yt,1),[])}),Ov=Fm||function(){return Ms.Date.now()};function Ox(dt,yt){if(typeof yt!="function")throw new ga(it);return dt=Ur(dt),function(){if(--dt<1)return yt.apply(this,arguments)}}function H0(dt,yt,Mt){return yt=Mt?et:yt,yt=dt&&yt==null?dt.length:yt,wo(dt,bt,et,et,et,et,yt)}function z0(dt,yt){var Mt;if(typeof yt!="function")throw new ga(it);return dt=Ur(dt),function(){return--dt>0&&(Mt=yt.apply(this,arguments)),dt<=1&&(yt=et),Mt}}var A0=$r(function(dt,yt,Mt){var Dt=vt;if(Mt.length){var Yt=Yo(Mt,pl(A0));Dt|=Tt}return wo(dt,Dt,yt,Mt,Yt)}),W0=$r(function(dt,yt,Mt){var Dt=vt|ft;if(Mt.length){var Yt=Yo(Mt,pl(W0));Dt|=Tt}return wo(yt,Dt,dt,Mt,Yt)});function j0(dt,yt,Mt){yt=Mt?et:yt;var Dt=wo(dt,xt,et,et,et,et,et,yt);return Dt.placeholder=j0.placeholder,Dt}function X0(dt,yt,Mt){yt=Mt?et:yt;var Dt=wo(dt,_t,et,et,et,et,et,yt);return Dt.placeholder=X0.placeholder,Dt}function Y0(dt,yt,Mt){var Dt,Yt,tn,cn,pn,En,Wn=0,jn=!1,Zn=!1,or=!0;if(typeof dt!="function")throw new ga(it);yt=Po(yt)||0,fs(Mt)&&(jn=!!Mt.leading,Zn="maxWait"in Mt,tn=Zn?ys(Po(Mt.maxWait)||0,yt):tn,or="trailing"in Mt?!!Mt.trailing:or);function vr(Ts){var Bo=Dt,vl=Yt;return Dt=Yt=et,Wn=Ts,cn=dt.apply(vl,Bo),cn}function br(Ts){return Wn=Ts,pn=jt(jr,yt),jn?vr(Ts):cn}function Gr(Ts){var Bo=Ts-En,vl=Ts-Wn,my=yt-Bo;return Zn?Rs(my,tn-vl):my}function Ar(Ts){var Bo=Ts-En,vl=Ts-Wn;return En===et||Bo>=yt||Bo<0||Zn&&vl>=tn}function jr(){var Ts=Ov();if(Ar(Ts))return Yr(Ts);pn=jt(jr,Gr(Ts))}function Yr(Ts){return pn=et,or&&Dt?vr(Ts):(Dt=Yt=et,cn)}function mo(){pn!==et&&dv(pn),Wn=0,Dt=En=Yt=pn=et}function Zs(){return pn===et?cn:Yr(Ov())}function go(){var Ts=Ov(),Bo=Ar(Ts);if(Dt=arguments,Yt=this,En=Ts,Bo){if(pn===et)return br(En);if(Zn)return dv(pn),pn=jt(jr,yt),vr(En)}return pn===et&&(pn=jt(jr,yt)),cn}return go.cancel=mo,go.flush=Zs,go}var Dx=$r(function(dt,yt){return Ol(dt,1,yt)}),kx=$r(function(dt,yt,Mt){return Ol(dt,Po(yt)||0,Mt)});function Fx(dt){return wo(dt,Lt)}function Dv(dt,yt){if(typeof dt!="function"||yt!=null&&typeof yt!="function")throw new ga(it);var Mt=function(){var Dt=arguments,Yt=yt?yt.apply(this,Dt):Dt[0],tn=Mt.cache;if(tn.has(Yt))return tn.get(Yt);var cn=dt.apply(this,Dt);return Mt.cache=tn.set(Yt,cn)||tn,cn};return Mt.cache=new(Dv.Cache||yo),Mt}Dv.Cache=yo;function kv(dt){if(typeof dt!="function")throw new ga(it);return function(){var yt=arguments;switch(yt.length){case 0:return!dt.call(this);case 1:return!dt.call(this,yt[0]);case 2:return!dt.call(this,yt[0],yt[1]);case 3:return!dt.call(this,yt[0],yt[1],yt[2])}return!dt.apply(this,yt)}}function $x(dt){return z0(2,dt)}var Ux=s0(function(dt,yt){yt=yt.length==1&&kr(yt[0])?os(yt[0],Ws(xr())):os(Cs(yt,1),Ws(xr()));var Mt=yt.length;return $r(function(Dt){for(var Yt=-1,tn=Rs(Dt.length,Mt);++Yt<tn;)Dt[Yt]=yt[Yt].call(this,Dt[Yt]);return $s(dt,this,Dt)})}),M0=$r(function(dt,yt){var Mt=Yo(yt,pl(M0));return wo(dt,Tt,et,yt,Mt)}),q0=$r(function(dt,yt){var Mt=Yo(yt,pl(q0));return wo(dt,wt,et,yt,Mt)}),Bx=ko(function(dt,yt){return wo(dt,Ct,et,et,et,yt)});function Gx(dt,yt){if(typeof dt!="function")throw new ga(it);return yt=yt===et?yt:Ur(yt),$r(dt,yt)}function Vx(dt,yt){if(typeof dt!="function")throw new ga(it);return yt=yt==null?0:ys(Ur(yt),0),$r(function(Mt){var Dt=Mt[yt],Yt=rl(Mt,0,yt);return Dt&&jo(Yt,Dt),$s(dt,this,Yt)})}function Hx(dt,yt,Mt){var Dt=!0,Yt=!0;if(typeof dt!="function")throw new ga(it);return fs(Mt)&&(Dt="leading"in Mt?!!Mt.leading:Dt,Yt="trailing"in Mt?!!Mt.trailing:Yt),Y0(dt,yt,{leading:Dt,maxWait:yt,trailing:Yt})}function zx(dt){return H0(dt,1)}function Wx(dt,yt){return M0(jp(yt),dt)}function jx(){if(!arguments.length)return[];var dt=arguments[0];return kr(dt)?dt:[dt]}function Xx(dt){return Os(dt,ht)}function Yx(dt,yt){return yt=typeof yt=="function"?yt:et,Os(dt,ht,yt)}function qx(dt){return Os(dt,ut|ht)}function Zx(dt,yt){return yt=typeof yt=="function"?yt:et,Os(dt,ut|ht,yt)}function Kx(dt,yt){return yt==null||ru(dt,yt,Ls(yt))}function Uo(dt,yt){return dt===yt||dt!==dt&&yt!==yt}var Jx=ws(Fl),Qx=ws(function(dt,yt){return dt>=yt}),hu=eo(function(){return arguments}())?eo:function(dt){return gs(dt)&&Kr.call(dt,"callee")&&!Iu.call(dt,"callee")},kr=Pn.isArray,e1=lp?Ws(lp):z_;function ro(dt){return dt!=null&&Fv(dt.length)&&!ml(dt)}function xs(dt){return gs(dt)&&ro(dt)}function t1(dt){return dt===!0||dt===!1||gs(dt)&&Ps(dt)==Dn}var Vl=$m||$0,n1=xm?Ws(xm):Vu;function r1(dt){return gs(dt)&&dt.nodeType===1&&!om(dt)}function i1(dt){if(dt==null)return!0;if(ro(dt)&&(kr(dt)||typeof dt=="string"||typeof dt.splice=="function"||Vl(dt)||Ju(dt)||hu(dt)))return!dt.length;var yt=bs(dt);if(yt==An||yt==sn)return!dt.size;if(uu(dt))return!Fp(dt).length;for(var Mt in dt)if(Kr.call(dt,Mt))return!1;return!0}function s1(dt,yt){return iu(dt,yt)}function a1(dt,yt,Mt){Mt=typeof Mt=="function"?Mt:et;var Dt=Mt?Mt(dt,yt):et;return Dt===et?iu(dt,yt,et,Mt):!!Dt}function C0(dt){if(!gs(dt))return!1;var yt=Ps(dt);return yt==Vn||yt==Fn||typeof dt.message=="string"&&typeof dt.name=="string"&&!om(dt)}function o1(dt){return typeof dt=="number"&&xp(dt)}function ml(dt){if(!fs(dt))return!1;var yt=Ps(dt);return yt==mn||yt==dn||yt==In||yt==hr}function Z0(dt){return typeof dt=="number"&&dt==Ur(dt)}function Fv(dt){return typeof dt=="number"&&dt>-1&&dt%1==0&&dt<=Ut}function fs(dt){var yt=typeof dt;return dt!=null&&(yt=="object"||yt=="function")}function gs(dt){return dt!=null&&typeof dt=="object"}var K0=up?Ws(up):j_;function l1(dt,yt){return dt===yt||kp(dt,yt,tm(yt))}function u1(dt,yt,Mt){return Mt=typeof Mt=="function"?Mt:et,kp(dt,yt,tm(yt),Mt)}function h1(dt){return J0(dt)&&dt!=+dt}function c1(dt){if(T0(dt))throw new Lr(rt);return Hu(dt)}function f1(dt){return dt===null}function d1(dt){return dt==null}function J0(dt){return typeof dt=="number"||gs(dt)&&Ps(dt)==Yn}function om(dt){if(!gs(dt)||Ps(dt)!=tr)return!1;var yt=Ru(dt);if(yt===null)return!0;var Mt=Kr.call(yt,"constructor")&&yt.constructor;return typeof Mt=="function"&&Mt instanceof Mt&&Au.call(Mt)==S_}var P0=Tm?Ws(Tm):Qm;function p1(dt){return Z0(dt)&&dt>=-Ut&&dt<=Ut}var Q0=Sm?Ws(Sm):X_;function $v(dt){return typeof dt=="string"||!kr(dt)&&gs(dt)&&Ps(dt)==nn}function po(dt){return typeof dt=="symbol"||gs(dt)&&Ps(dt)==Cn}var Ju=hp?Ws(hp):Y_;function m1(dt){return dt===et}function g1(dt){return gs(dt)&&bs(dt)==Kn}function v1(dt){return gs(dt)&&Ps(dt)==Qn}var _1=ws($p),y1=ws(function(dt,yt){return dt<=yt});function ey(dt){if(!dt)return[];if(ro(dt))return $v(dt)?Qs(dt):Gs(dt);if(eu&&dt[eu])return f_(dt[eu]());var yt=bs(dt),Mt=yt==An?Xo:yt==sn?Eu:Qu;return Mt(dt)}function gl(dt){if(!dt)return dt===0?dt:0;if(dt=Po(dt),dt===Ot||dt===-Ot){var yt=dt<0?-1:1;return yt*zt}return dt===dt?dt:0}function Ur(dt){var yt=gl(dt),Mt=yt%1;return yt===yt?Mt?yt-Mt:yt:0}function ty(dt){return dt?uo(Ur(dt),0,Vt):0}function Po(dt){if(typeof dt=="number")return dt;if(po(dt))return Ht;if(fs(dt)){var yt=typeof dt.valueOf=="function"?dt.valueOf():dt;dt=fs(yt)?yt+"":yt}if(typeof dt!="string")return dt===0?dt:+dt;dt=Cm(dt);var Mt=Xr.test(dt);return Mt||oo.test(dt)?sp(dt.slice(2),Mt?2:8):zr.test(dt)?Ht:+dt}function ny(dt){return Eo(dt,io(dt))}function x1(dt){return dt?uo(Ur(dt),-Ut,Ut):dt===0?dt:0}function Qr(dt){return dt==null?"":Bs(dt)}var T1=Ul(function(dt,yt){if(uu(yt)||ro(yt)){Eo(yt,Ls(yt),dt);return}for(var Mt in yt)Kr.call(yt,Mt)&&tu(dt,Mt,yt[Mt])}),ry=Ul(function(dt,yt){Eo(yt,io(yt),dt)}),Uv=Ul(function(dt,yt,Mt,Dt){Eo(yt,io(yt),dt,Dt)}),S1=Ul(function(dt,yt,Mt,Dt){Eo(yt,Ls(yt),dt,Dt)}),E1=ko(Nl);function w1(dt,yt){var Mt=cl(dt);return yt==null?Mt:Ll(Mt,yt)}var b1=$r(function(dt,yt){dt=_i(dt);var Mt=-1,Dt=yt.length,Yt=Dt>2?yt[2]:et;for(Yt&&Ds(yt[0],yt[1],Yt)&&(Dt=1);++Mt<Dt;)for(var tn=yt[Mt],cn=io(tn),pn=-1,En=cn.length;++pn<En;){var Wn=cn[pn],jn=dt[Wn];(jn===et||Uo(jn,Al[Wn])&&!Kr.call(dt,Wn))&&(dt[Wn]=tn[Wn])}return dt}),A1=$r(function(dt){return dt.push(et,Av),$s(iy,et,dt)});function M1(dt,yt){return wm(dt,xr(yt,3),ho)}function C1(dt,yt){return wm(dt,xr(yt,3),Lp)}function P1(dt,yt){return dt==null?dt:Ip(dt,xr(yt,3),io)}function R1(dt,yt){return dt==null?dt:Uu(dt,xr(yt,3),io)}function I1(dt,yt){return dt&&ho(dt,xr(yt,3))}function L1(dt,yt){return dt&&Lp(dt,xr(yt,3))}function N1(dt){return dt==null?[]:Bu(dt,Ls(dt))}function O1(dt){return dt==null?[]:Bu(dt,io(dt))}function R0(dt,yt,Mt){var Dt=dt==null?et:el(dt,yt);return Dt===et?Mt:Dt}function D1(dt,yt){return dt!=null&&Pv(dt,yt,Jm)}function I0(dt,yt){return dt!=null&&Pv(dt,yt,Op)}var k1=wv(function(dt,yt,Mt){yt!=null&&typeof yt.toString!="function"&&(yt=Mu.call(yt)),dt[yt]=Mt},N0(so)),F1=wv(function(dt,yt,Mt){yt!=null&&typeof yt.toString!="function"&&(yt=Mu.call(yt)),Kr.call(dt,yt)?dt[yt].push(Mt):dt[yt]=[Mt]},xr),$1=$r(Us);function Ls(dt){return ro(dt)?Ym(dt):Fp(dt)}function io(dt){return ro(dt)?Ym(dt,!0):q_(dt)}function U1(dt,yt){var Mt={};return yt=xr(yt,3),ho(dt,function(Dt,Yt,tn){xo(Mt,yt(Dt,Yt,tn),Dt)}),Mt}function B1(dt,yt){var Mt={};return yt=xr(yt,3),ho(dt,function(Dt,Yt,tn){xo(Mt,Yt,yt(Dt,Yt,tn))}),Mt}var G1=Ul(function(dt,yt,Mt){zu(dt,yt,Mt)}),iy=Ul(function(dt,yt,Mt,Dt){zu(dt,yt,Mt,Dt)}),V1=ko(function(dt,yt){var Mt={};if(dt==null)return Mt;var Dt=!1;yt=os(yt,function(tn){return tn=nl(tn,dt),Dt||(Dt=tn.length>1),tn}),Eo(dt,Qp(dt),Mt),Dt&&(Mt=Os(Mt,ut|ct|ht,Mv));for(var Yt=yt.length;Yt--;)Hp(Mt,yt[Yt]);return Mt});function H1(dt,yt){return sy(dt,kv(xr(yt)))}var z1=ko(function(dt,yt){return dt==null?{}:K_(dt,yt)});function sy(dt,yt){if(dt==null)return{};var Mt=os(Qp(dt),function(Dt){return[Dt]});return yt=xr(yt),sv(dt,Mt,function(Dt,Yt){return yt(Dt,Yt[0])})}function W1(dt,yt,Mt){yt=nl(yt,dt);var Dt=-1,Yt=yt.length;for(Yt||(Yt=1,dt=et);++Dt<Yt;){var tn=dt==null?et:dt[Sn(yt[Dt])];tn===et&&(Dt=Yt,tn=Mt),dt=ml(tn)?tn.call(dt):tn}return dt}function j1(dt,yt,Mt){return dt==null?dt:su(dt,yt,Mt)}function X1(dt,yt,Mt,Dt){return Dt=typeof Dt=="function"?Dt:et,dt==null?dt:su(dt,yt,Mt,Dt)}var ay=Kp(Ls),oy=Kp(io);function Y1(dt,yt,Mt){var Dt=kr(dt),Yt=Dt||Vl(dt)||Ju(dt);if(yt=xr(yt,4),Mt==null){var tn=dt&&dt.constructor;Yt?Mt=Dt?new tn:[]:fs(dt)?Mt=ml(tn)?cl(Ru(dt)):{}:Mt={}}return(Yt?Js:ho)(dt,function(cn,pn,En){return yt(Mt,cn,pn,En)}),Mt}function q1(dt,yt){return dt==null?!0:Hp(dt,yt)}function Z1(dt,yt,Mt){return dt==null?dt:hv(dt,yt,jp(Mt))}function K1(dt,yt,Mt,Dt){return Dt=typeof Dt=="function"?Dt:et,dt==null?dt:hv(dt,yt,jp(Mt),Dt)}function Qu(dt){return dt==null?[]:gp(dt,Ls(dt))}function J1(dt){return dt==null?[]:gp(dt,io(dt))}function Q1(dt,yt,Mt){return Mt===et&&(Mt=yt,yt=et),Mt!==et&&(Mt=Po(Mt),Mt=Mt===Mt?Mt:0),yt!==et&&(yt=Po(yt),yt=yt===yt?yt:0),uo(Po(dt),yt,Mt)}function eT(dt,yt,Mt){return yt=gl(yt),Mt===et?(Mt=yt,yt=0):Mt=gl(Mt),dt=Po(dt),Gu(dt,yt,Mt)}function tT(dt,yt,Mt){if(Mt&&typeof Mt!="boolean"&&Ds(dt,yt,Mt)&&(yt=Mt=et),Mt===et&&(typeof yt=="boolean"?(Mt=yt,yt=et):typeof dt=="boolean"&&(Mt=dt,dt=et)),dt===et&&yt===et?(dt=0,yt=1):(dt=gl(dt),yt===et?(yt=dt,dt=0):yt=gl(yt)),dt>yt){var Dt=dt;dt=yt,yt=Dt}if(Mt||dt%1||yt%1){var Yt=Um();return Rs(dt+Yt*(yt-dt+_m("1e-"+((Yt+"").length-1))),yt)}return Bp(dt,yt)}var nT=Bl(function(dt,yt,Mt){return yt=yt.toLowerCase(),dt+(Mt?ly(yt):yt)});function ly(dt){return L0(Qr(dt).toLowerCase())}function hy(dt){return dt=Qr(dt),dt&&dt.replace(Vo,l_).replace(jv,"")}function rT(dt,yt,Mt){dt=Qr(dt),yt=Bs(yt);var Dt=dt.length;Mt=Mt===et?Dt:uo(Ur(Mt),0,Dt);var Yt=Mt;return Mt-=yt.length,Mt>=0&&dt.slice(Mt,Yt)==yt}function iT(dt){return dt=Qr(dt),dt&&zs.test(dt)?dt.replace(Br,u_):dt}function sT(dt){return dt=Qr(dt),dt&&fu.test(dt)?dt.replace(ol,"\\$&"):dt}var aT=Bl(function(dt,yt,Mt){return dt+(Mt?"-":"")+yt.toLowerCase()}),oT=Bl(function(dt,yt,Mt){return dt+(Mt?" ":"")+yt.toLowerCase()}),lT=Tv("toLowerCase");function uT(dt,yt,Mt){dt=Qr(dt),yt=Ur(yt);var Dt=yt?ul(dt):0;if(!yt||Dt>=yt)return dt;var Yt=(yt-Dt)/2;return ou(Cl(Yt),Mt)+dt+ou(qo(Yt),Mt)}function hT(dt,yt,Mt){dt=Qr(dt),yt=Ur(yt);var Dt=yt?ul(dt):0;return yt&&Dt<yt?dt+ou(yt-Dt,Mt):dt}function cT(dt,yt,Mt){dt=Qr(dt),yt=Ur(yt);var Dt=yt?ul(dt):0;return yt&&Dt<yt?ou(yt-Dt,Mt)+dt:dt}function fT(dt,yt,Mt){return Mt||yt==null?yt=0:yt&&(yt=+yt),M_(Qr(dt).replace(un,""),yt||0)}function dT(dt,yt,Mt){return(Mt?Ds(dt,yt,Mt):yt===et)?yt=1:yt=Ur(yt),Gp(Qr(dt),yt)}function pT(){var dt=arguments,yt=Qr(dt[0]);return dt.length<3?yt:yt.replace(dt[1],dt[2])}var mT=Bl(function(dt,yt,Mt){return dt+(Mt?"_":"")+yt.toLowerCase()});function gT(dt,yt,Mt){return Mt&&typeof Mt!="number"&&Ds(dt,yt,Mt)&&(yt=Mt=et),Mt=Mt===et?Vt:Mt>>>0,Mt?(dt=Qr(dt),dt&&(typeof yt=="string"||yt!=null&&!P0(yt))&&(yt=Bs(yt),!yt&&wl(dt))?rl(Qs(dt),0,Mt):dt.split(yt,Mt)):[]}var vT=Bl(function(dt,yt,Mt){return dt+(Mt?" ":"")+L0(yt)});function _T(dt,yt,Mt){return dt=Qr(dt),Mt=Mt==null?0:uo(Ur(Mt),0,dt.length),yt=Bs(yt),dt.slice(Mt,Mt+yt.length)==yt}function yT(dt,yt,Mt){var Dt=en.templateSettings;Mt&&Ds(dt,yt,Mt)&&(yt=et),dt=Qr(dt),yt=Uv({},yt,Dt,bv);var Yt=Uv({},yt.imports,Dt.imports,bv),tn=Ls(Yt),cn=gp(Yt,tn),pn,En,Wn=0,jn=yt.interpolate||vs,Zn="__p += '",or=yp((yt.escape||vs).source+"|"+jn.source+"|"+(jn===Hl?Or:vs).source+"|"+(yt.evaluate||vs).source+"|$","g"),vr="//# sourceURL="+(Kr.call(yt,"sourceURL")?(yt.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qv+"]")+`
`;dt.replace(or,function(Ar,jr,Yr,mo,Zs,go){return Yr||(Yr=mo),Zn+=dt.slice(Wn,go).replace(Vr,Im),jr&&(pn=!0,Zn+=`' +
__e(`+jr+`) +
'`),Zs&&(En=!0,Zn+=`';
`+Zs+`;
__p += '`),Yr&&(Zn+=`' +
((__t = (`+Yr+`)) == null ? '' : __t) +
'`),Wn=go+Ar.length,Ar}),Zn+=`';
`;var br=Kr.call(yt,"variable")&&yt.variable;if(!br)Zn=`with (obj) {
`+Zn+`
}
`;else if(Ir.test(br))throw new Lr(st);Zn=(En?Zn.replace(Jn,""):Zn).replace(Pr,"$1").replace(Hr,"$1;"),Zn="function("+(br||"obj")+`) {
`+(br?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(pn?", __e = _.escape":"")+(En?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Zn+`return __p
}`;var Gr=fy(function(){return Zr(tn,vr+"return "+Zn).apply(et,cn)});if(Gr.source=Zn,C0(Gr))throw Gr;return Gr}function xT(dt){return Qr(dt).toLowerCase()}function TT(dt){return Qr(dt).toUpperCase()}function ST(dt,yt,Mt){if(dt=Qr(dt),dt&&(Mt||yt===et))return Cm(dt);if(!dt||!(yt=Bs(yt)))return dt;var Dt=Qs(dt),Yt=Qs(yt),tn=Pm(Dt,Yt),cn=Rm(Dt,Yt)+1;return rl(Dt,tn,cn).join("")}function ET(dt,yt,Mt){if(dt=Qr(dt),dt&&(Mt||yt===et))return dt.slice(0,_p(dt)+1);if(!dt||!(yt=Bs(yt)))return dt;var Dt=Qs(dt),Yt=Rm(Dt,Qs(yt))+1;return rl(Dt,0,Yt).join("")}function wT(dt,yt,Mt){if(dt=Qr(dt),dt&&(Mt||yt===et))return dt.replace(un,"");if(!dt||!(yt=Bs(yt)))return dt;var Dt=Qs(dt),Yt=Pm(Dt,Qs(yt));return rl(Dt,Yt).join("")}function bT(dt,yt){var Mt=$t,Dt=Rt;if(fs(yt)){var Yt="separator"in yt?yt.separator:Yt;Mt="length"in yt?Ur(yt.length):Mt,Dt="omission"in yt?Bs(yt.omission):Dt}dt=Qr(dt);var tn=dt.length;if(wl(dt)){var cn=Qs(dt);tn=cn.length}if(Mt>=tn)return dt;var pn=Mt-ul(Dt);if(pn<1)return Dt;var En=cn?rl(cn,0,pn).join(""):dt.slice(0,pn);if(Yt===et)return En+Dt;if(cn&&(pn+=En.length-pn),P0(Yt)){if(dt.slice(pn).search(Yt)){var Wn,jn=En;for(Yt.global||(Yt=yp(Yt.source,Qr(qr.exec(Yt))+"g")),Yt.lastIndex=0;Wn=Yt.exec(jn);)var Zn=Wn.index;En=En.slice(0,Zn===et?pn:Zn)}}else if(dt.indexOf(Bs(Yt),pn)!=pn){var or=En.lastIndexOf(Yt);or>-1&&(En=En.slice(0,or))}return En+Dt}function AT(dt){return dt=Qr(dt),dt&&Hs.test(dt)?dt.replace(ds,p_):dt}var MT=Bl(function(dt,yt,Mt){return dt+(Mt?" ":"")+yt.toUpperCase()}),L0=Tv("toUpperCase");function cy(dt,yt,Mt){return dt=Qr(dt),yt=Mt?et:yt,yt===et?c_(dt)?v_(dt):r_(dt):dt.match(yt)||[]}var fy=$r(function(dt,yt){try{return $s(dt,et,yt)}catch(Mt){return C0(Mt)?Mt:new Lr(Mt)}}),CT=ko(function(dt,yt){return Js(yt,function(Mt){Mt=Sn(Mt),xo(dt,Mt,A0(dt[Mt],dt))}),dt});function PT(dt){var yt=dt==null?0:dt.length,Mt=xr();return dt=yt?os(dt,function(Dt){if(typeof Dt[1]!="function")throw new ga(it);return[Mt(Dt[0]),Dt[1]]}):[],$r(function(Dt){for(var Yt=-1;++Yt<yt;){var tn=dt[Yt];if($s(tn[0],this,Dt))return $s(tn[1],this,Dt)}})}function RT(dt){return dl(Os(dt,ut))}function N0(dt){return function(){return dt}}function IT(dt,yt){return dt==null||dt!==dt?yt:dt}var LT=Ev(),NT=Ev(!0);function so(dt){return dt}function O0(dt){return _g(typeof dt=="function"?dt:Os(dt,ut))}function OT(dt){return tv(Os(dt,ut))}function DT(dt,yt){return nv(dt,Os(yt,ut))}var kT=$r(function(dt,yt){return function(Mt){return Us(Mt,dt,yt)}}),FT=$r(function(dt,yt){return function(Mt){return Us(dt,Mt,yt)}});function D0(dt,yt,Mt){var Dt=Ls(yt),Yt=Bu(yt,Dt);Mt==null&&!(fs(yt)&&(Yt.length||!Dt.length))&&(Mt=yt,yt=dt,dt=this,Yt=Bu(yt,Ls(yt)));var tn=!(fs(Mt)&&"chain"in Mt)||!!Mt.chain,cn=ml(dt);return Js(Yt,function(pn){var En=yt[pn];dt[pn]=En,cn&&(dt.prototype[pn]=function(){var Wn=this.__chain__;if(tn||Wn){var jn=dt(this.__wrapped__),Zn=jn.__actions__=Gs(this.__actions__);return Zn.push({func:En,args:arguments,thisArg:dt}),jn.__chain__=Wn,jn}return En.apply(dt,jo([this.value()],arguments))})}),dt}function $T(){return Ms._===this&&(Ms._=E_),this}function k0(){}function UT(dt){return dt=Ur(dt),$r(function(yt){return rv(yt,dt)})}var BT=Yp(os),GT=Yp(Em),VT=Yp(Sl);function dy(dt){return rm(dt)?fp(Sn(dt)):J_(dt)}function HT(dt){return function(yt){return dt==null?et:el(dt,yt)}}var zT=Zp(),WT=Zp(!0);function F0(){return[]}function $0(){return!1}function jT(){return{}}function XT(){return""}function YT(){return!0}function qT(dt,yt){if(dt=Ur(dt),dt<1||dt>Ut)return[];var Mt=Vt,Dt=Rs(dt,Vt);yt=xr(yt),dt-=Vt;for(var Yt=mp(Dt,yt);++Mt<dt;)yt(Mt);return Yt}function ZT(dt){return kr(dt)?os(dt,Sn):po(dt)?[dt]:Gs(xn(Qr(dt)))}function KT(dt){var yt=++T_;return Qr(dt)+yt}var JT=qu(function(dt,yt){return dt+yt},0),QT=il("ceil"),eS=qu(function(dt,yt){return dt/yt},1),tS=il("floor");function nS(dt){return dt&&dt.length?kl(dt,so,Fl):et}function rS(dt,yt){return dt&&dt.length?kl(dt,xr(yt,2),Fl):et}function iS(dt){return Am(dt,so)}function sS(dt,yt){return Am(dt,xr(yt,2))}function aS(dt){return dt&&dt.length?kl(dt,so,$p):et}function oS(dt,yt){return dt&&dt.length?kl(dt,xr(yt,2),$p):et}var lS=qu(function(dt,yt){return dt*yt},1),uS=il("round"),hS=qu(function(dt,yt){return dt-yt},0);function cS(dt){return dt&&dt.length?pp(dt,so):0}function fS(dt,yt){return dt&&dt.length?pp(dt,xr(yt,2)):0}return en.after=Ox,en.ary=H0,en.assign=T1,en.assignIn=ry,en.assignInWith=Uv,en.assignWith=S1,en.at=E1,en.before=z0,en.bind=A0,en.bindAll=CT,en.bindKey=W0,en.castArray=jx,en.chain=B0,en.chunk=zn,en.compact=$n,en.concat=nr,en.cond=PT,en.conforms=RT,en.constant=N0,en.countBy=ox,en.create=w1,en.curry=j0,en.curryRight=X0,en.debounce=Y0,en.defaults=b1,en.defaultsDeep=A1,en.defer=Dx,en.delay=kx,en.difference=gr,en.differenceBy=On,en.differenceWith=lr,en.drop=Tr,en.dropRight=Cr,en.dropRightWhile=Wr,en.dropWhile=ts,en.fill=us,en.filter=hx,en.flatMap=dx,en.flatMapDeep=mx,en.flatMapDepth=gx,en.flatten=qs,en.flattenDeep=Rn,en.flattenDepth=ir,en.flip=Fx,en.flow=LT,en.flowRight=NT,en.fromPairs=qn,en.functions=N1,en.functionsIn=O1,en.groupBy=yx,en.initial=Rr,en.intersection=Dr,en.intersectionBy=ns,en.intersectionWith=cs,en.invert=k1,en.invertBy=F1,en.invokeMap=Tx,en.iteratee=O0,en.keyBy=Sx,en.keys=Ls,en.keysIn=io,en.map=Nv,en.mapKeys=U1,en.mapValues=B1,en.matches=OT,en.matchesProperty=DT,en.memoize=Dv,en.merge=G1,en.mergeWith=iy,en.method=kT,en.methodOf=FT,en.mixin=D0,en.negate=kv,en.nthArg=UT,en.omit=V1,en.omitBy=H1,en.once=$x,en.orderBy=Ex,en.over=BT,en.overArgs=Ux,en.overEvery=GT,en.overSome=VT,en.partial=M0,en.partialRight=q0,en.partition=wx,en.pick=z1,en.pickBy=sy,en.property=dy,en.propertyOf=HT,en.pull=fo,en.pullAll=Co,en.pullAllBy=am,en.pullAllWith=Ty,en.pullAt=Sy,en.range=zT,en.rangeRight=WT,en.rearg=Bx,en.reject=Mx,en.remove=Ey,en.rest=Gx,en.reverse=w0,en.sampleSize=Px,en.set=j1,en.setWith=X1,en.shuffle=Rx,en.slice=wy,en.sortBy=Nx,en.sortedUniq=Iy,en.sortedUniqBy=Ly,en.split=gT,en.spread=Vx,en.tail=Ny,en.take=Oy,en.takeRight=Dy,en.takeRightWhile=ky,en.takeWhile=Fy,en.tap=Jy,en.throttle=Hx,en.thru=Lv,en.toArray=ey,en.toPairs=ay,en.toPairsIn=oy,en.toPath=ZT,en.toPlainObject=ny,en.transform=Y1,en.unary=zx,en.union=$y,en.unionBy=Uy,en.unionWith=By,en.uniq=Gy,en.uniqBy=Vy,en.uniqWith=Hy,en.unset=q1,en.unzip=b0,en.unzipWith=U0,en.update=Z1,en.updateWith=K1,en.values=Qu,en.valuesIn=J1,en.without=zy,en.words=cy,en.wrap=Wx,en.xor=Wy,en.xorBy=jy,en.xorWith=Xy,en.zip=Yy,en.zipObject=qy,en.zipObjectDeep=Zy,en.zipWith=Ky,en.entries=ay,en.entriesIn=oy,en.extend=ry,en.extendWith=Uv,D0(en,en),en.add=JT,en.attempt=fy,en.camelCase=nT,en.capitalize=ly,en.ceil=QT,en.clamp=Q1,en.clone=Xx,en.cloneDeep=qx,en.cloneDeepWith=Zx,en.cloneWith=Yx,en.conformsTo=Kx,en.deburr=hy,en.defaultTo=IT,en.divide=eS,en.endsWith=rT,en.eq=Uo,en.escape=iT,en.escapeRegExp=sT,en.every=lx,en.find=cx,en.findIndex=hs,en.findKey=M1,en.findLast=fx,en.findLastIndex=Vs,en.findLastKey=C1,en.floor=tS,en.forEach=G0,en.forEachRight=V0,en.forIn=P1,en.forInRight=R1,en.forOwn=I1,en.forOwnRight=L1,en.get=R0,en.gt=Jx,en.gte=Qx,en.has=D1,en.hasIn=I0,en.head=dr,en.identity=so,en.includes=xx,en.indexOf=Sr,en.inRange=eT,en.invoke=$1,en.isArguments=hu,en.isArray=kr,en.isArrayBuffer=e1,en.isArrayLike=ro,en.isArrayLikeObject=xs,en.isBoolean=t1,en.isBuffer=Vl,en.isDate=n1,en.isElement=r1,en.isEmpty=i1,en.isEqual=s1,en.isEqualWith=a1,en.isError=C0,en.isFinite=o1,en.isFunction=ml,en.isInteger=Z0,en.isLength=Fv,en.isMap=K0,en.isMatch=l1,en.isMatchWith=u1,en.isNaN=h1,en.isNative=c1,en.isNil=d1,en.isNull=f1,en.isNumber=J0,en.isObject=fs,en.isObjectLike=gs,en.isPlainObject=om,en.isRegExp=P0,en.isSafeInteger=p1,en.isSet=Q0,en.isString=$v,en.isSymbol=po,en.isTypedArray=Ju,en.isUndefined=m1,en.isWeakMap=g1,en.isWeakSet=v1,en.join=Mo,en.kebabCase=aT,en.last=Jr,en.lastIndexOf=co,en.lowerCase=oT,en.lowerFirst=lT,en.lt=_1,en.lte=y1,en.max=nS,en.maxBy=rS,en.mean=iS,en.meanBy=sS,en.min=aS,en.minBy=oS,en.stubArray=F0,en.stubFalse=$0,en.stubObject=jT,en.stubString=XT,en.stubTrue=YT,en.multiply=lS,en.nth=$o,en.noConflict=$T,en.noop=k0,en.now=Ov,en.pad=uT,en.padEnd=hT,en.padStart=cT,en.parseInt=fT,en.random=tT,en.reduce=bx,en.reduceRight=Ax,en.repeat=dT,en.replace=pT,en.result=W1,en.round=uS,en.runInContext=Tn,en.sample=Cx,en.size=Ix,en.snakeCase=mT,en.some=Lx,en.sortedIndex=by,en.sortedIndexBy=Ay,en.sortedIndexOf=My,en.sortedLastIndex=Cy,en.sortedLastIndexBy=Py,en.sortedLastIndexOf=Ry,en.startCase=vT,en.startsWith=_T,en.subtract=hS,en.sum=cS,en.sumBy=fS,en.template=yT,en.times=qT,en.toFinite=gl,en.toInteger=Ur,en.toLength=ty,en.toLower=xT,en.toNumber=Po,en.toSafeInteger=x1,en.toString=Qr,en.toUpper=TT,en.trim=ST,en.trimEnd=ET,en.trimStart=wT,en.truncate=bT,en.unescape=AT,en.uniqueId=KT,en.upperCase=MT,en.upperFirst=L0,en.each=G0,en.eachRight=V0,en.first=dr,D0(en,function(){var dt={};return ho(en,function(yt,Mt){Kr.call(en.prototype,Mt)||(dt[Mt]=yt)}),dt}(),{chain:!1}),en.VERSION=tt,Js(["bind","bindKey","curry","curryRight","partial","partialRight"],function(dt){en[dt].placeholder=en}),Js(["drop","take"],function(dt,yt){Fr.prototype[dt]=function(Mt){Mt=Mt===et?1:ys(Ur(Mt),0);var Dt=this.__filtered__&&!yt?new Fr(this):this.clone();return Dt.__filtered__?Dt.__takeCount__=Rs(Mt,Dt.__takeCount__):Dt.__views__.push({size:Rs(Mt,Vt),type:dt+(Dt.__dir__<0?"Right":"")}),Dt},Fr.prototype[dt+"Right"]=function(Mt){return this.reverse()[dt](Mt).reverse()}}),Js(["filter","map","takeWhile"],function(dt,yt){var Mt=yt+1,Dt=Mt==Ft||Mt==It;Fr.prototype[dt]=function(Yt){var tn=this.clone();return tn.__iteratees__.push({iteratee:xr(Yt,3),type:Mt}),tn.__filtered__=tn.__filtered__||Dt,tn}}),Js(["head","last"],function(dt,yt){var Mt="take"+(yt?"Right":"");Fr.prototype[dt]=function(){return this[Mt](1).value()[0]}}),Js(["initial","tail"],function(dt,yt){var Mt="drop"+(yt?"":"Right");Fr.prototype[dt]=function(){return this.__filtered__?new Fr(this):this[Mt](1)}}),Fr.prototype.compact=function(){return this.filter(so)},Fr.prototype.find=function(dt){return this.filter(dt).head()},Fr.prototype.findLast=function(dt){return this.reverse().find(dt)},Fr.prototype.invokeMap=$r(function(dt,yt){return typeof dt=="function"?new Fr(this):this.map(function(Mt){return Us(Mt,dt,yt)})}),Fr.prototype.reject=function(dt){return this.filter(kv(xr(dt)))},Fr.prototype.slice=function(dt,yt){dt=Ur(dt);var Mt=this;return Mt.__filtered__&&(dt>0||yt<0)?new Fr(Mt):(dt<0?Mt=Mt.takeRight(-dt):dt&&(Mt=Mt.drop(dt)),yt!==et&&(yt=Ur(yt),Mt=yt<0?Mt.dropRight(-yt):Mt.take(yt-dt)),Mt)},Fr.prototype.takeRightWhile=function(dt){return this.reverse().takeWhile(dt).reverse()},Fr.prototype.toArray=function(){return this.take(Vt)},ho(Fr.prototype,function(dt,yt){var Mt=/^(?:filter|find|map|reject)|While$/.test(yt),Dt=/^(?:head|last)$/.test(yt),Yt=en[Dt?"take"+(yt=="last"?"Right":""):yt],tn=Dt||/^find/.test(yt);!Yt||(en.prototype[yt]=function(){var cn=this.__wrapped__,pn=Dt?[1]:arguments,En=cn instanceof Fr,Wn=pn[0],jn=En||kr(cn),Zn=function(jr){var Yr=Yt.apply(en,jo([jr],pn));return Dt&&or?Yr[0]:Yr};jn&&Mt&&typeof Wn=="function"&&Wn.length!=1&&(En=jn=!1);var or=this.__chain__,vr=!!this.__actions__.length,br=tn&&!or,Gr=En&&!vr;if(!tn&&jn){cn=Gr?cn:new Fr(this);var Ar=dt.apply(cn,pn);return Ar.__actions__.push({func:Lv,args:[Zn],thisArg:et}),new Xs(Ar,or)}return br&&Gr?dt.apply(this,pn):(Ar=this.thru(Zn),br?Dt?Ar.value()[0]:Ar.value():Ar)})}),Js(["pop","push","shift","sort","splice","unshift"],function(dt){var yt=wu[dt],Mt=/^(?:push|sort|unshift)$/.test(dt)?"tap":"thru",Dt=/^(?:pop|shift)$/.test(dt);en.prototype[dt]=function(){var Yt=arguments;if(Dt&&!this.__chain__){var tn=this.value();return yt.apply(kr(tn)?tn:[],Yt)}return this[Mt](function(cn){return yt.apply(kr(cn)?cn:[],Yt)})}}),ho(Fr.prototype,function(dt,yt){var Mt=en[yt];if(Mt){var Dt=Mt.name+"";Kr.call(Pl,Dt)||(Pl[Dt]=[]),Pl[Dt].push({name:yt,func:Mt})}}),Pl[Yu(et,ft).name]=[{name:"wrapper",func:et}],Fr.prototype.clone=N_,Fr.prototype.reverse=wp,Fr.prototype.value=Ys,en.prototype.at=Qy,en.prototype.chain=ex,en.prototype.commit=tx,en.prototype.next=nx,en.prototype.plant=ix,en.prototype.reverse=sx,en.prototype.toJSON=en.prototype.valueOf=en.prototype.value=ax,en.prototype.first=en.prototype.head,eu&&(en.prototype[eu]=rx),en},bl=__();zo?((zo.exports=bl)._=bl,op._=bl):Ms._=bl}).call(commonjsGlobal$2)})(lodash,lodash.exports);const formatBaseUrl=_e=>`/${_e.replace("/","")}`,prefixStr="",subRoutesKey="routes",baseUrl=formatBaseUrl("/demo"),scriptRel="modulepreload",seen={},base="/",__vitePreload=function(j,et){return!et||et.length===0?j():Promise.all(et.map(tt=>{if(tt=`${base}${tt}`,tt in seen)return;seen[tt]=!0;const nt=tt.endsWith(".css"),rt=nt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${tt}"]${rt}`))return;const it=document.createElement("link");if(it.rel=nt?"stylesheet":scriptRel,nt||(it.as="script",it.crossOrigin=""),it.href=tt,document.head.appendChild(it),nt)return new Promise((st,at)=>{it.addEventListener("load",st),it.addEventListener("error",()=>at(new Error(`Unable to preload CSS for ${tt}`)))})})).then(()=>j())};var classnames$3={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(_e){(function(){var j={}.hasOwnProperty;function et(){for(var tt=[],nt=0;nt<arguments.length;nt++){var rt=arguments[nt];if(!!rt){var it=typeof rt;if(it==="string"||it==="number")tt.push(rt);else if(Array.isArray(rt)){if(rt.length){var st=et.apply(null,rt);st&&tt.push(st)}}else if(it==="object")if(rt.toString===Object.prototype.toString)for(var at in rt)j.call(rt,at)&&rt[at]&&tt.push(at);else tt.push(rt.toString())}}return tt.join(" ")}_e.exports?(et.default=et,_e.exports=et):window.classNames=et})()})(classnames$3);var classnames$2=classnames$3.exports;const content="_content_tvdw2_1";var styles$7={content,"cron-input-wrapper":"_cron-input-wrapper_tvdw2_9"},styles$6={"cron-input-item":"_cron-input-item_1hocv_1","cron-label-item":"_cron-label-item_1hocv_9"},jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=react.exports,g=60103;reactJsxRuntime_production_min.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var h=Symbol.for;g=h("react.element"),reactJsxRuntime_production_min.Fragment=h("react.fragment")}var m$1=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n$1=Object.prototype.hasOwnProperty,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(_e,j,et){var tt,nt={},rt=null,it=null;et!==void 0&&(rt=""+et),j.key!==void 0&&(rt=""+j.key),j.ref!==void 0&&(it=j.ref);for(tt in j)n$1.call(j,tt)&&!p$1.hasOwnProperty(tt)&&(nt[tt]=j[tt]);if(_e&&_e.defaultProps)for(tt in j=_e.defaultProps,j)nt[tt]===void 0&&(nt[tt]=j[tt]);return{$$typeof:g,type:_e,key:rt,ref:it,props:nt,_owner:m$1.current}}reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs,Fragment=jsxRuntime.exports.Fragment,cronLabel={second:"Second (0 ~ 59)",minute:"Minute (0 ~ 59)",hour:"Hour (0 ~ 23)",dayOfMonth:"Day (1 ~ 31)",month:"Month (1 ~ 12)",dayOfWeek:"Week (0 ~ 7)"},CronInput=_e=>{const{inputChange:j,type:et}=_e,[tt,nt]=react.exports.useState("*"),rt=()=>{tt===""&&(nt("*"),j(et,"*"))};return jsxs("div",{className:classnames$2([styles$6["cron-input-item"]]),children:[jsx("div",{className:classnames$2([styles$6["cron-label-item"]]),children:cronLabel[et]}),jsx("input",{className:classnames$2(["animation-breath","input-underline"]),type:"text",onChange:it=>{const st=it.target.value;nt(st),j(et,st||"*")},value:tt,onBlur:rt})]})};var CronInput$1=react.exports.memo(CronInput),luxon$1={};Object.defineProperty(luxon$1,"__esModule",{value:!0});class LuxonError extends Error{}class InvalidDateTimeError extends LuxonError{constructor(j){super(`Invalid DateTime: ${j.toMessage()}`)}}class InvalidIntervalError extends LuxonError{constructor(j){super(`Invalid Interval: ${j.toMessage()}`)}}class InvalidDurationError extends LuxonError{constructor(j){super(`Invalid Duration: ${j.toMessage()}`)}}class ConflictingSpecificationError extends LuxonError{}class InvalidUnitError extends LuxonError{constructor(j){super(`Invalid unit ${j}`)}}class InvalidArgumentError extends LuxonError{}class ZoneIsAbstractError extends LuxonError{constructor(){super("Zone is an abstract class")}}const n="numeric",s="short",l="long",DATE_SHORT={year:n,month:n,day:n},DATE_MED={year:n,month:s,day:n},DATE_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s},DATE_FULL={year:n,month:l,day:n},DATE_HUGE={year:n,month:l,day:n,weekday:l},TIME_SIMPLE={hour:n,minute:n},TIME_WITH_SECONDS={hour:n,minute:n,second:n},TIME_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,timeZoneName:s},TIME_WITH_LONG_OFFSET={hour:n,minute:n,second:n,timeZoneName:l},TIME_24_SIMPLE={hour:n,minute:n,hourCycle:"h23"},TIME_24_WITH_SECONDS={hour:n,minute:n,second:n,hourCycle:"h23"},TIME_24_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:s},TIME_24_WITH_LONG_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:l},DATETIME_SHORT={year:n,month:n,day:n,hour:n,minute:n},DATETIME_SHORT_WITH_SECONDS={year:n,month:n,day:n,hour:n,minute:n,second:n},DATETIME_MED={year:n,month:s,day:n,hour:n,minute:n},DATETIME_MED_WITH_SECONDS={year:n,month:s,day:n,hour:n,minute:n,second:n},DATETIME_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s,hour:n,minute:n},DATETIME_FULL={year:n,month:l,day:n,hour:n,minute:n,timeZoneName:s},DATETIME_FULL_WITH_SECONDS={year:n,month:l,day:n,hour:n,minute:n,second:n,timeZoneName:s},DATETIME_HUGE={year:n,month:l,day:n,weekday:l,hour:n,minute:n,timeZoneName:l},DATETIME_HUGE_WITH_SECONDS={year:n,month:l,day:n,weekday:l,hour:n,minute:n,second:n,timeZoneName:l};function isUndefined$1(_e){return typeof _e=="undefined"}function isNumber$1(_e){return typeof _e=="number"}function isInteger(_e){return typeof _e=="number"&&_e%1===0}function isString$1(_e){return typeof _e=="string"}function isDate$1(_e){return Object.prototype.toString.call(_e)==="[object Date]"}function hasRelative(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch{return!1}}function maybeArray(_e){return Array.isArray(_e)?_e:[_e]}function bestBy(_e,j,et){if(_e.length!==0)return _e.reduce((tt,nt)=>{const rt=[j(nt),nt];return tt&&et(tt[0],rt[0])===tt[0]?tt:rt},null)[1]}function pick$1(_e,j){return j.reduce((et,tt)=>(et[tt]=_e[tt],et),{})}function hasOwnProperty$2(_e,j){return Object.prototype.hasOwnProperty.call(_e,j)}function integerBetween(_e,j,et){return isInteger(_e)&&_e>=j&&_e<=et}function floorMod(_e,j){return _e-j*Math.floor(_e/j)}function padStart(_e,j=2){const et=_e<0;let tt;return et?tt="-"+(""+-_e).padStart(j,"0"):tt=(""+_e).padStart(j,"0"),tt}function parseInteger(_e){if(!(isUndefined$1(_e)||_e===null||_e===""))return parseInt(_e,10)}function parseFloating(_e){if(!(isUndefined$1(_e)||_e===null||_e===""))return parseFloat(_e)}function parseMillis(_e){if(!(isUndefined$1(_e)||_e===null||_e==="")){const j=parseFloat("0."+_e)*1e3;return Math.floor(j)}}function roundTo(_e,j,et=!1){const tt=10**j;return(et?Math.trunc:Math.round)(_e*tt)/tt}function isLeapYear$1(_e){return _e%4===0&&(_e%100!==0||_e%400===0)}function daysInYear$1(_e){return isLeapYear$1(_e)?366:365}function daysInMonth$1(_e,j){const et=floorMod(j-1,12)+1,tt=_e+(j-et)/12;return et===2?isLeapYear$1(tt)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][et-1]}function objToLocalTS(_e){let j=Date.UTC(_e.year,_e.month-1,_e.day,_e.hour,_e.minute,_e.second,_e.millisecond);return _e.year<100&&_e.year>=0&&(j=new Date(j),j.setUTCFullYear(j.getUTCFullYear()-1900)),+j}function weeksInWeekYear(_e){const j=(_e+Math.floor(_e/4)-Math.floor(_e/100)+Math.floor(_e/400))%7,et=_e-1,tt=(et+Math.floor(et/4)-Math.floor(et/100)+Math.floor(et/400))%7;return j===4||tt===3?53:52}function untruncateYear$1(_e){return _e>99?_e:_e>60?1900+_e:2e3+_e}function parseZoneInfo(_e,j,et,tt=null){const nt=new Date(_e),rt={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};tt&&(rt.timeZone=tt);const it={timeZoneName:j,...rt},st=new Intl.DateTimeFormat(et,it).formatToParts(nt).find(at=>at.type.toLowerCase()==="timezonename");return st?st.value:null}function signedOffset(_e,j){let et=parseInt(_e,10);Number.isNaN(et)&&(et=0);const tt=parseInt(j,10)||0,nt=et<0||Object.is(et,-0)?-tt:tt;return et*60+nt}function asNumber(_e){const j=Number(_e);if(typeof _e=="boolean"||_e===""||Number.isNaN(j))throw new InvalidArgumentError(`Invalid unit value ${_e}`);return j}function normalizeObject(_e,j){const et={};for(const tt in _e)if(hasOwnProperty$2(_e,tt)){const nt=_e[tt];if(nt==null)continue;et[j(tt)]=asNumber(nt)}return et}function formatOffset(_e,j){const et=Math.trunc(Math.abs(_e/60)),tt=Math.trunc(Math.abs(_e%60)),nt=_e>=0?"+":"-";switch(j){case"short":return`${nt}${padStart(et,2)}:${padStart(tt,2)}`;case"narrow":return`${nt}${et}${tt>0?`:${tt}`:""}`;case"techie":return`${nt}${padStart(et,2)}${padStart(tt,2)}`;default:throw new RangeError(`Value format ${j} is out of range for property format`)}}function timeObject(_e){return pick$1(_e,["hour","minute","second","millisecond"])}const ianaRegex=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,monthsLong=["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsNarrow=["J","F","M","A","M","J","J","A","S","O","N","D"];function months$1(_e){switch(_e){case"narrow":return[...monthsNarrow];case"short":return[...monthsShort];case"long":return[...monthsLong];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const weekdaysLong=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weekdaysShort=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],weekdaysNarrow=["M","T","W","T","F","S","S"];function weekdays(_e){switch(_e){case"narrow":return[...weekdaysNarrow];case"short":return[...weekdaysShort];case"long":return[...weekdaysLong];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const meridiems=["AM","PM"],erasLong=["Before Christ","Anno Domini"],erasShort=["BC","AD"],erasNarrow=["B","A"];function eras(_e){switch(_e){case"narrow":return[...erasNarrow];case"short":return[...erasShort];case"long":return[...erasLong];default:return null}}function meridiemForDateTime(_e){return meridiems[_e.hour<12?0:1]}function weekdayForDateTime(_e,j){return weekdays(j)[_e.weekday-1]}function monthForDateTime(_e,j){return months$1(j)[_e.month-1]}function eraForDateTime(_e,j){return eras(j)[_e.year<0?0:1]}function formatRelativeTime(_e,j,et="always",tt=!1){const nt={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},rt=["hours","minutes","seconds"].indexOf(_e)===-1;if(et==="auto"&&rt){const ut=_e==="days";switch(j){case 1:return ut?"tomorrow":`next ${nt[_e][0]}`;case-1:return ut?"yesterday":`last ${nt[_e][0]}`;case 0:return ut?"today":`this ${nt[_e][0]}`}}const it=Object.is(j,-0)||j<0,st=Math.abs(j),at=st===1,ot=nt[_e],lt=tt?at?ot[1]:ot[2]||ot[1]:at?nt[_e][0]:_e;return it?`${st} ${lt} ago`:`in ${st} ${lt}`}function stringifyTokens(_e,j){let et="";for(const tt of _e)tt.literal?et+=tt.val:et+=j(tt.val);return et}const macroTokenToFormatOpts={D:DATE_SHORT,DD:DATE_MED,DDD:DATE_FULL,DDDD:DATE_HUGE,t:TIME_SIMPLE,tt:TIME_WITH_SECONDS,ttt:TIME_WITH_SHORT_OFFSET,tttt:TIME_WITH_LONG_OFFSET,T:TIME_24_SIMPLE,TT:TIME_24_WITH_SECONDS,TTT:TIME_24_WITH_SHORT_OFFSET,TTTT:TIME_24_WITH_LONG_OFFSET,f:DATETIME_SHORT,ff:DATETIME_MED,fff:DATETIME_FULL,ffff:DATETIME_HUGE,F:DATETIME_SHORT_WITH_SECONDS,FF:DATETIME_MED_WITH_SECONDS,FFF:DATETIME_FULL_WITH_SECONDS,FFFF:DATETIME_HUGE_WITH_SECONDS};class Formatter{static create(j,et={}){return new Formatter(j,et)}static parseFormat(j){let et=null,tt="",nt=!1;const rt=[];for(let it=0;it<j.length;it++){const st=j.charAt(it);st==="'"?(tt.length>0&&rt.push({literal:nt,val:tt}),et=null,tt="",nt=!nt):nt||st===et?tt+=st:(tt.length>0&&rt.push({literal:!1,val:tt}),tt=st,et=st)}return tt.length>0&&rt.push({literal:nt,val:tt}),rt}static macroTokenToFormatOpts(j){return macroTokenToFormatOpts[j]}constructor(j,et){this.opts=et,this.loc=j,this.systemLoc=null}formatWithSystemDefault(j,et){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(j,{...this.opts,...et}).format()}formatDateTime(j,et={}){return this.loc.dtFormatter(j,{...this.opts,...et}).format()}formatDateTimeParts(j,et={}){return this.loc.dtFormatter(j,{...this.opts,...et}).formatToParts()}resolvedOptions(j,et={}){return this.loc.dtFormatter(j,{...this.opts,...et}).resolvedOptions()}num(j,et=0){if(this.opts.forceSimple)return padStart(j,et);const tt={...this.opts};return et>0&&(tt.padTo=et),this.loc.numberFormatter(tt).format(j)}formatDateTimeFromString(j,et){const tt=this.loc.listingMode()==="en",nt=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",rt=(ht,pt)=>this.loc.extract(j,ht,pt),it=ht=>j.isOffsetFixed&&j.offset===0&&ht.allowZ?"Z":j.isValid?j.zone.formatOffset(j.ts,ht.format):"",st=()=>tt?meridiemForDateTime(j):rt({hour:"numeric",hourCycle:"h12"},"dayperiod"),at=(ht,pt)=>tt?monthForDateTime(j,ht):rt(pt?{month:ht}:{month:ht,day:"numeric"},"month"),ot=(ht,pt)=>tt?weekdayForDateTime(j,ht):rt(pt?{weekday:ht}:{weekday:ht,month:"long",day:"numeric"},"weekday"),lt=ht=>{const pt=Formatter.macroTokenToFormatOpts(ht);return pt?this.formatWithSystemDefault(j,pt):ht},ut=ht=>tt?eraForDateTime(j,ht):rt({era:ht},"era"),ct=ht=>{switch(ht){case"S":return this.num(j.millisecond);case"u":case"SSS":return this.num(j.millisecond,3);case"s":return this.num(j.second);case"ss":return this.num(j.second,2);case"uu":return this.num(Math.floor(j.millisecond/10),2);case"uuu":return this.num(Math.floor(j.millisecond/100));case"m":return this.num(j.minute);case"mm":return this.num(j.minute,2);case"h":return this.num(j.hour%12===0?12:j.hour%12);case"hh":return this.num(j.hour%12===0?12:j.hour%12,2);case"H":return this.num(j.hour);case"HH":return this.num(j.hour,2);case"Z":return it({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return it({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return it({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return j.zone.offsetName(j.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return j.zone.offsetName(j.ts,{format:"long",locale:this.loc.locale});case"z":return j.zoneName;case"a":return st();case"d":return nt?rt({day:"numeric"},"day"):this.num(j.day);case"dd":return nt?rt({day:"2-digit"},"day"):this.num(j.day,2);case"c":return this.num(j.weekday);case"ccc":return ot("short",!0);case"cccc":return ot("long",!0);case"ccccc":return ot("narrow",!0);case"E":return this.num(j.weekday);case"EEE":return ot("short",!1);case"EEEE":return ot("long",!1);case"EEEEE":return ot("narrow",!1);case"L":return nt?rt({month:"numeric",day:"numeric"},"month"):this.num(j.month);case"LL":return nt?rt({month:"2-digit",day:"numeric"},"month"):this.num(j.month,2);case"LLL":return at("short",!0);case"LLLL":return at("long",!0);case"LLLLL":return at("narrow",!0);case"M":return nt?rt({month:"numeric"},"month"):this.num(j.month);case"MM":return nt?rt({month:"2-digit"},"month"):this.num(j.month,2);case"MMM":return at("short",!1);case"MMMM":return at("long",!1);case"MMMMM":return at("narrow",!1);case"y":return nt?rt({year:"numeric"},"year"):this.num(j.year);case"yy":return nt?rt({year:"2-digit"},"year"):this.num(j.year.toString().slice(-2),2);case"yyyy":return nt?rt({year:"numeric"},"year"):this.num(j.year,4);case"yyyyyy":return nt?rt({year:"numeric"},"year"):this.num(j.year,6);case"G":return ut("short");case"GG":return ut("long");case"GGGGG":return ut("narrow");case"kk":return this.num(j.weekYear.toString().slice(-2),2);case"kkkk":return this.num(j.weekYear,4);case"W":return this.num(j.weekNumber);case"WW":return this.num(j.weekNumber,2);case"o":return this.num(j.ordinal);case"ooo":return this.num(j.ordinal,3);case"q":return this.num(j.quarter);case"qq":return this.num(j.quarter,2);case"X":return this.num(Math.floor(j.ts/1e3));case"x":return this.num(j.ts);default:return lt(ht)}};return stringifyTokens(Formatter.parseFormat(et),ct)}formatDurationFromString(j,et){const tt=at=>{switch(at[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},nt=at=>ot=>{const lt=tt(ot);return lt?this.num(at.get(lt),ot.length):ot},rt=Formatter.parseFormat(et),it=rt.reduce((at,{literal:ot,val:lt})=>ot?at:at.concat(lt),[]),st=j.shiftTo(...it.map(tt).filter(at=>at));return stringifyTokens(rt,nt(st))}}class Invalid{constructor(j,et){this.reason=j,this.explanation=et}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Zone{get type(){throw new ZoneIsAbstractError}get name(){throw new ZoneIsAbstractError}get ianaName(){return this.name}get isUniversal(){throw new ZoneIsAbstractError}offsetName(j,et){throw new ZoneIsAbstractError}formatOffset(j,et){throw new ZoneIsAbstractError}offset(j){throw new ZoneIsAbstractError}equals(j){throw new ZoneIsAbstractError}get isValid(){throw new ZoneIsAbstractError}}let singleton$1=null;class SystemZone extends Zone{static get instance(){return singleton$1===null&&(singleton$1=new SystemZone),singleton$1}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(j,{format:et,locale:tt}){return parseZoneInfo(j,et,tt)}formatOffset(j,et){return formatOffset(this.offset(j),et)}offset(j){return-new Date(j).getTimezoneOffset()}equals(j){return j.type==="system"}get isValid(){return!0}}let dtfCache={};function makeDTF(_e){return dtfCache[_e]||(dtfCache[_e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:_e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),dtfCache[_e]}const typeToPos={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hackyOffset(_e,j){const et=_e.format(j).replace(/\u200E/g,""),tt=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(et),[,nt,rt,it,st,at,ot,lt]=tt;return[it,nt,rt,st,at,ot,lt]}function partsOffset(_e,j){const et=_e.formatToParts(j),tt=[];for(let nt=0;nt<et.length;nt++){const{type:rt,value:it}=et[nt],st=typeToPos[rt];rt==="era"?tt[st]=it:isUndefined$1(st)||(tt[st]=parseInt(it,10))}return tt}let ianaZoneCache={};class IANAZone extends Zone{static create(j){return ianaZoneCache[j]||(ianaZoneCache[j]=new IANAZone(j)),ianaZoneCache[j]}static resetCache(){ianaZoneCache={},dtfCache={}}static isValidSpecifier(j){return this.isValidZone(j)}static isValidZone(j){if(!j)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:j}).format(),!0}catch{return!1}}constructor(j){super(),this.zoneName=j,this.valid=IANAZone.isValidZone(j)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(j,{format:et,locale:tt}){return parseZoneInfo(j,et,tt,this.name)}formatOffset(j,et){return formatOffset(this.offset(j),et)}offset(j){const et=new Date(j);if(isNaN(et))return NaN;const tt=makeDTF(this.name);let[nt,rt,it,st,at,ot,lt]=tt.formatToParts?partsOffset(tt,et):hackyOffset(tt,et);st==="BC"&&(nt=-Math.abs(nt)+1);const ct=objToLocalTS({year:nt,month:rt,day:it,hour:at===24?0:at,minute:ot,second:lt,millisecond:0});let ht=+et;const pt=ht%1e3;return ht-=pt>=0?pt:1e3+pt,(ct-ht)/(60*1e3)}equals(j){return j.type==="iana"&&j.name===this.name}get isValid(){return this.valid}}let singleton=null;class FixedOffsetZone extends Zone{static get utcInstance(){return singleton===null&&(singleton=new FixedOffsetZone(0)),singleton}static instance(j){return j===0?FixedOffsetZone.utcInstance:new FixedOffsetZone(j)}static parseSpecifier(j){if(j){const et=j.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(et)return new FixedOffsetZone(signedOffset(et[1],et[2]))}return null}constructor(j){super(),this.fixed=j}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${formatOffset(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${formatOffset(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(j,et){return formatOffset(this.fixed,et)}get isUniversal(){return!0}offset(){return this.fixed}equals(j){return j.type==="fixed"&&j.fixed===this.fixed}get isValid(){return!0}}class InvalidZone extends Zone{constructor(j){super(),this.zoneName=j}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function normalizeZone(_e,j){if(isUndefined$1(_e)||_e===null)return j;if(_e instanceof Zone)return _e;if(isString$1(_e)){const et=_e.toLowerCase();return et==="default"?j:et==="local"||et==="system"?SystemZone.instance:et==="utc"||et==="gmt"?FixedOffsetZone.utcInstance:FixedOffsetZone.parseSpecifier(et)||IANAZone.create(_e)}else return isNumber$1(_e)?FixedOffsetZone.instance(_e):typeof _e=="object"&&_e.offset&&typeof _e.offset=="number"?_e:new InvalidZone(_e)}let now$4=()=>Date.now(),defaultZone="system",defaultLocale=null,defaultNumberingSystem=null,defaultOutputCalendar=null,throwOnInvalid;class Settings{static get now(){return now$4}static set now(j){now$4=j}static set defaultZone(j){defaultZone=j}static get defaultZone(){return normalizeZone(defaultZone,SystemZone.instance)}static get defaultLocale(){return defaultLocale}static set defaultLocale(j){defaultLocale=j}static get defaultNumberingSystem(){return defaultNumberingSystem}static set defaultNumberingSystem(j){defaultNumberingSystem=j}static get defaultOutputCalendar(){return defaultOutputCalendar}static set defaultOutputCalendar(j){defaultOutputCalendar=j}static get throwOnInvalid(){return throwOnInvalid}static set throwOnInvalid(j){throwOnInvalid=j}static resetCaches(){Locale$1.resetCache(),IANAZone.resetCache()}}let intlLFCache={};function getCachedLF(_e,j={}){const et=JSON.stringify([_e,j]);let tt=intlLFCache[et];return tt||(tt=new Intl.ListFormat(_e,j),intlLFCache[et]=tt),tt}let intlDTCache={};function getCachedDTF(_e,j={}){const et=JSON.stringify([_e,j]);let tt=intlDTCache[et];return tt||(tt=new Intl.DateTimeFormat(_e,j),intlDTCache[et]=tt),tt}let intlNumCache={};function getCachedINF(_e,j={}){const et=JSON.stringify([_e,j]);let tt=intlNumCache[et];return tt||(tt=new Intl.NumberFormat(_e,j),intlNumCache[et]=tt),tt}let intlRelCache={};function getCachedRTF(_e,j={}){const{base:et,...tt}=j,nt=JSON.stringify([_e,tt]);let rt=intlRelCache[nt];return rt||(rt=new Intl.RelativeTimeFormat(_e,j),intlRelCache[nt]=rt),rt}let sysLocaleCache=null;function systemLocale(){return sysLocaleCache||(sysLocaleCache=new Intl.DateTimeFormat().resolvedOptions().locale,sysLocaleCache)}function parseLocaleString(_e){const j=_e.indexOf("-u-");if(j===-1)return[_e];{let et;const tt=_e.substring(0,j);try{et=getCachedDTF(_e).resolvedOptions()}catch{et=getCachedDTF(tt).resolvedOptions()}const{numberingSystem:nt,calendar:rt}=et;return[tt,nt,rt]}}function intlConfigString(_e,j,et){return(et||j)&&(_e+="-u",et&&(_e+=`-ca-${et}`),j&&(_e+=`-nu-${j}`)),_e}function mapMonths(_e){const j=[];for(let et=1;et<=12;et++){const tt=DateTime.utc(2016,et,1);j.push(_e(tt))}return j}function mapWeekdays(_e){const j=[];for(let et=1;et<=7;et++){const tt=DateTime.utc(2016,11,13+et);j.push(_e(tt))}return j}function listStuff(_e,j,et,tt,nt){const rt=_e.listingMode(et);return rt==="error"?null:rt==="en"?tt(j):nt(j)}function supportsFastNumbers(_e){return _e.numberingSystem&&_e.numberingSystem!=="latn"?!1:_e.numberingSystem==="latn"||!_e.locale||_e.locale.startsWith("en")||new Intl.DateTimeFormat(_e.intl).resolvedOptions().numberingSystem==="latn"}class PolyNumberFormatter{constructor(j,et,tt){this.padTo=tt.padTo||0,this.floor=tt.floor||!1;const{padTo:nt,floor:rt,...it}=tt;if(!et||Object.keys(it).length>0){const st={useGrouping:!1,...tt};tt.padTo>0&&(st.minimumIntegerDigits=tt.padTo),this.inf=getCachedINF(j,st)}}format(j){if(this.inf){const et=this.floor?Math.floor(j):j;return this.inf.format(et)}else{const et=this.floor?Math.floor(j):roundTo(j,3);return padStart(et,this.padTo)}}}class PolyDateFormatter{constructor(j,et,tt){this.opts=tt;let nt;if(j.zone.isUniversal){const it=-1*(j.offset/60),st=it>=0?`Etc/GMT+${it}`:`Etc/GMT${it}`;j.offset!==0&&IANAZone.create(st).valid?(nt=st,this.dt=j):(nt="UTC",tt.timeZoneName?this.dt=j:this.dt=j.offset===0?j:DateTime.fromMillis(j.ts+j.offset*60*1e3))}else j.zone.type==="system"?this.dt=j:(this.dt=j,nt=j.zone.name);const rt={...this.opts};nt&&(rt.timeZone=nt),this.dtf=getCachedDTF(et,rt)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class PolyRelFormatter{constructor(j,et,tt){this.opts={style:"long",...tt},!et&&hasRelative()&&(this.rtf=getCachedRTF(j,tt))}format(j,et){return this.rtf?this.rtf.format(j,et):formatRelativeTime(et,j,this.opts.numeric,this.opts.style!=="long")}formatToParts(j,et){return this.rtf?this.rtf.formatToParts(j,et):[]}}class Locale$1{static fromOpts(j){return Locale$1.create(j.locale,j.numberingSystem,j.outputCalendar,j.defaultToEN)}static create(j,et,tt,nt=!1){const rt=j||Settings.defaultLocale,it=rt||(nt?"en-US":systemLocale()),st=et||Settings.defaultNumberingSystem,at=tt||Settings.defaultOutputCalendar;return new Locale$1(it,st,at,rt)}static resetCache(){sysLocaleCache=null,intlDTCache={},intlNumCache={},intlRelCache={}}static fromObject({locale:j,numberingSystem:et,outputCalendar:tt}={}){return Locale$1.create(j,et,tt)}constructor(j,et,tt,nt){const[rt,it,st]=parseLocaleString(j);this.locale=rt,this.numberingSystem=et||it||null,this.outputCalendar=tt||st||null,this.intl=intlConfigString(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=nt,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=supportsFastNumbers(this)),this.fastNumbersCached}listingMode(){const j=this.isEnglish(),et=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return j&&et?"en":"intl"}clone(j){return!j||Object.getOwnPropertyNames(j).length===0?this:Locale$1.create(j.locale||this.specifiedLocale,j.numberingSystem||this.numberingSystem,j.outputCalendar||this.outputCalendar,j.defaultToEN||!1)}redefaultToEN(j={}){return this.clone({...j,defaultToEN:!0})}redefaultToSystem(j={}){return this.clone({...j,defaultToEN:!1})}months(j,et=!1,tt=!0){return listStuff(this,j,tt,months$1,()=>{const nt=et?{month:j,day:"numeric"}:{month:j},rt=et?"format":"standalone";return this.monthsCache[rt][j]||(this.monthsCache[rt][j]=mapMonths(it=>this.extract(it,nt,"month"))),this.monthsCache[rt][j]})}weekdays(j,et=!1,tt=!0){return listStuff(this,j,tt,weekdays,()=>{const nt=et?{weekday:j,year:"numeric",month:"long",day:"numeric"}:{weekday:j},rt=et?"format":"standalone";return this.weekdaysCache[rt][j]||(this.weekdaysCache[rt][j]=mapWeekdays(it=>this.extract(it,nt,"weekday"))),this.weekdaysCache[rt][j]})}meridiems(j=!0){return listStuff(this,void 0,j,()=>meridiems,()=>{if(!this.meridiemCache){const et={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[DateTime.utc(2016,11,13,9),DateTime.utc(2016,11,13,19)].map(tt=>this.extract(tt,et,"dayperiod"))}return this.meridiemCache})}eras(j,et=!0){return listStuff(this,j,et,eras,()=>{const tt={era:j};return this.eraCache[j]||(this.eraCache[j]=[DateTime.utc(-40,1,1),DateTime.utc(2017,1,1)].map(nt=>this.extract(nt,tt,"era"))),this.eraCache[j]})}extract(j,et,tt){const nt=this.dtFormatter(j,et),rt=nt.formatToParts(),it=rt.find(st=>st.type.toLowerCase()===tt);return it?it.value:null}numberFormatter(j={}){return new PolyNumberFormatter(this.intl,j.forceSimple||this.fastNumbers,j)}dtFormatter(j,et={}){return new PolyDateFormatter(j,this.intl,et)}relFormatter(j={}){return new PolyRelFormatter(this.intl,this.isEnglish(),j)}listFormatter(j={}){return getCachedLF(this.intl,j)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(j){return this.locale===j.locale&&this.numberingSystem===j.numberingSystem&&this.outputCalendar===j.outputCalendar}}function combineRegexes(..._e){const j=_e.reduce((et,tt)=>et+tt.source,"");return RegExp(`^${j}$`)}function combineExtractors(..._e){return j=>_e.reduce(([et,tt,nt],rt)=>{const[it,st,at]=rt(j,nt);return[{...et,...it},st||tt,at]},[{},null,1]).slice(0,2)}function parse$2(_e,...j){if(_e==null)return[null,null];for(const[et,tt]of j){const nt=et.exec(_e);if(nt)return tt(nt)}return[null,null]}function simpleParse(..._e){return(j,et)=>{const tt={};let nt;for(nt=0;nt<_e.length;nt++)tt[_e[nt]]=parseInteger(j[et+nt]);return[tt,null,et+nt]}}const offsetRegex=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,isoExtendedZone=`(?:${offsetRegex.source}?(?:\\[(${ianaRegex.source})\\])?)?`,isoTimeBaseRegex=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,isoTimeRegex=RegExp(`${isoTimeBaseRegex.source}${isoExtendedZone}`),isoTimeExtensionRegex=RegExp(`(?:T${isoTimeRegex.source})?`),isoYmdRegex=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,isoWeekRegex=/(\d{4})-?W(\d\d)(?:-?(\d))?/,isoOrdinalRegex=/(\d{4})-?(\d{3})/,extractISOWeekData=simpleParse("weekYear","weekNumber","weekDay"),extractISOOrdinalData=simpleParse("year","ordinal"),sqlYmdRegex=/(\d{4})-(\d\d)-(\d\d)/,sqlTimeRegex=RegExp(`${isoTimeBaseRegex.source} ?(?:${offsetRegex.source}|(${ianaRegex.source}))?`),sqlTimeExtensionRegex=RegExp(`(?: ${sqlTimeRegex.source})?`);function int(_e,j,et){const tt=_e[j];return isUndefined$1(tt)?et:parseInteger(tt)}function extractISOYmd(_e,j){return[{year:int(_e,j),month:int(_e,j+1,1),day:int(_e,j+2,1)},null,j+3]}function extractISOTime(_e,j){return[{hours:int(_e,j,0),minutes:int(_e,j+1,0),seconds:int(_e,j+2,0),milliseconds:parseMillis(_e[j+3])},null,j+4]}function extractISOOffset(_e,j){const et=!_e[j]&&!_e[j+1],tt=signedOffset(_e[j+1],_e[j+2]),nt=et?null:FixedOffsetZone.instance(tt);return[{},nt,j+3]}function extractIANAZone(_e,j){const et=_e[j]?IANAZone.create(_e[j]):null;return[{},et,j+1]}const isoTimeOnly=RegExp(`^T?${isoTimeBaseRegex.source}$`),isoDuration=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function extractISODuration(_e){const[j,et,tt,nt,rt,it,st,at,ot]=_e,lt=j[0]==="-",ut=at&&at[0]==="-",ct=(ht,pt=!1)=>ht!==void 0&&(pt||ht&&lt)?-ht:ht;return[{years:ct(parseFloating(et)),months:ct(parseFloating(tt)),weeks:ct(parseFloating(nt)),days:ct(parseFloating(rt)),hours:ct(parseFloating(it)),minutes:ct(parseFloating(st)),seconds:ct(parseFloating(at),at==="-0"),milliseconds:ct(parseMillis(ot),ut)}]}const obsOffsets$1={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fromStrings(_e,j,et,tt,nt,rt,it){const st={year:j.length===2?untruncateYear$1(parseInteger(j)):parseInteger(j),month:monthsShort.indexOf(et)+1,day:parseInteger(tt),hour:parseInteger(nt),minute:parseInteger(rt)};return it&&(st.second=parseInteger(it)),_e&&(st.weekday=_e.length>3?weekdaysLong.indexOf(_e)+1:weekdaysShort.indexOf(_e)+1),st}const rfc2822$1=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function extractRFC2822(_e){const[,j,et,tt,nt,rt,it,st,at,ot,lt,ut]=_e,ct=fromStrings(j,nt,tt,et,rt,it,st);let ht;return at?ht=obsOffsets$1[at]:ot?ht=0:ht=signedOffset(lt,ut),[ct,new FixedOffsetZone(ht)]}function preprocessRFC2822$1(_e){return _e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const rfc1123=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,rfc850=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ascii=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function extractRFC1123Or850(_e){const[,j,et,tt,nt,rt,it,st]=_e;return[fromStrings(j,nt,tt,et,rt,it,st),FixedOffsetZone.utcInstance]}function extractASCII(_e){const[,j,et,tt,nt,rt,it,st]=_e;return[fromStrings(j,st,et,tt,nt,rt,it),FixedOffsetZone.utcInstance]}const isoYmdWithTimeExtensionRegex=combineRegexes(isoYmdRegex,isoTimeExtensionRegex),isoWeekWithTimeExtensionRegex=combineRegexes(isoWeekRegex,isoTimeExtensionRegex),isoOrdinalWithTimeExtensionRegex=combineRegexes(isoOrdinalRegex,isoTimeExtensionRegex),isoTimeCombinedRegex=combineRegexes(isoTimeRegex),extractISOYmdTimeAndOffset=combineExtractors(extractISOYmd,extractISOTime,extractISOOffset,extractIANAZone),extractISOWeekTimeAndOffset=combineExtractors(extractISOWeekData,extractISOTime,extractISOOffset,extractIANAZone),extractISOOrdinalDateAndTime=combineExtractors(extractISOOrdinalData,extractISOTime,extractISOOffset,extractIANAZone),extractISOTimeAndOffset=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseISODate(_e){return parse$2(_e,[isoYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[isoWeekWithTimeExtensionRegex,extractISOWeekTimeAndOffset],[isoOrdinalWithTimeExtensionRegex,extractISOOrdinalDateAndTime],[isoTimeCombinedRegex,extractISOTimeAndOffset])}function parseRFC2822Date(_e){return parse$2(preprocessRFC2822$1(_e),[rfc2822$1,extractRFC2822])}function parseHTTPDate(_e){return parse$2(_e,[rfc1123,extractRFC1123Or850],[rfc850,extractRFC1123Or850],[ascii,extractASCII])}function parseISODuration(_e){return parse$2(_e,[isoDuration,extractISODuration])}const extractISOTimeOnly=combineExtractors(extractISOTime);function parseISOTimeOnly(_e){return parse$2(_e,[isoTimeOnly,extractISOTimeOnly])}const sqlYmdWithTimeExtensionRegex=combineRegexes(sqlYmdRegex,sqlTimeExtensionRegex),sqlTimeCombinedRegex=combineRegexes(sqlTimeRegex),extractISOTimeOffsetAndIANAZone=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseSQL(_e){return parse$2(_e,[sqlYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[sqlTimeCombinedRegex,extractISOTimeOffsetAndIANAZone])}const INVALID$2="Invalid Duration",lowOrderMatrix={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},casualMatrix={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...lowOrderMatrix},daysInYearAccurate=146097/400,daysInMonthAccurate=146097/4800,accurateMatrix={years:{quarters:4,months:12,weeks:daysInYearAccurate/7,days:daysInYearAccurate,hours:daysInYearAccurate*24,minutes:daysInYearAccurate*24*60,seconds:daysInYearAccurate*24*60*60,milliseconds:daysInYearAccurate*24*60*60*1e3},quarters:{months:3,weeks:daysInYearAccurate/28,days:daysInYearAccurate/4,hours:daysInYearAccurate*24/4,minutes:daysInYearAccurate*24*60/4,seconds:daysInYearAccurate*24*60*60/4,milliseconds:daysInYearAccurate*24*60*60*1e3/4},months:{weeks:daysInMonthAccurate/7,days:daysInMonthAccurate,hours:daysInMonthAccurate*24,minutes:daysInMonthAccurate*24*60,seconds:daysInMonthAccurate*24*60*60,milliseconds:daysInMonthAccurate*24*60*60*1e3},...lowOrderMatrix},orderedUnits$1=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],reverseUnits=orderedUnits$1.slice(0).reverse();function clone$1$1(_e,j,et=!1){const tt={values:et?j.values:{..._e.values,...j.values||{}},loc:_e.loc.clone(j.loc),conversionAccuracy:j.conversionAccuracy||_e.conversionAccuracy};return new Duration$1(tt)}function antiTrunc(_e){return _e<0?Math.floor(_e):Math.ceil(_e)}function convert(_e,j,et,tt,nt){const rt=_e[nt][et],it=j[et]/rt,st=Math.sign(it)===Math.sign(tt[nt]),at=!st&&tt[nt]!==0&&Math.abs(it)<=1?antiTrunc(it):Math.trunc(it);tt[nt]+=at,j[et]-=at*rt}function normalizeValues(_e,j){reverseUnits.reduce((et,tt)=>isUndefined$1(j[tt])?et:(et&&convert(_e,j,et,j,tt),tt),null)}class Duration$1{constructor(j){const et=j.conversionAccuracy==="longterm"||!1;this.values=j.values,this.loc=j.loc||Locale$1.create(),this.conversionAccuracy=et?"longterm":"casual",this.invalid=j.invalid||null,this.matrix=et?accurateMatrix:casualMatrix,this.isLuxonDuration=!0}static fromMillis(j,et){return Duration$1.fromObject({milliseconds:j},et)}static fromObject(j,et={}){if(j==null||typeof j!="object")throw new InvalidArgumentError(`Duration.fromObject: argument expected to be an object, got ${j===null?"null":typeof j}`);return new Duration$1({values:normalizeObject(j,Duration$1.normalizeUnit),loc:Locale$1.fromObject(et),conversionAccuracy:et.conversionAccuracy})}static fromDurationLike(j){if(isNumber$1(j))return Duration$1.fromMillis(j);if(Duration$1.isDuration(j))return j;if(typeof j=="object")return Duration$1.fromObject(j);throw new InvalidArgumentError(`Unknown duration argument ${j} of type ${typeof j}`)}static fromISO(j,et){const[tt]=parseISODuration(j);return tt?Duration$1.fromObject(tt,et):Duration$1.invalid("unparsable",`the input "${j}" can't be parsed as ISO 8601`)}static fromISOTime(j,et){const[tt]=parseISOTimeOnly(j);return tt?Duration$1.fromObject(tt,et):Duration$1.invalid("unparsable",`the input "${j}" can't be parsed as ISO 8601`)}static invalid(j,et=null){if(!j)throw new InvalidArgumentError("need to specify a reason the Duration is invalid");const tt=j instanceof Invalid?j:new Invalid(j,et);if(Settings.throwOnInvalid)throw new InvalidDurationError(tt);return new Duration$1({invalid:tt})}static normalizeUnit(j){const et={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[j&&j.toLowerCase()];if(!et)throw new InvalidUnitError(j);return et}static isDuration(j){return j&&j.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(j,et={}){const tt={...et,floor:et.round!==!1&&et.floor!==!1};return this.isValid?Formatter.create(this.loc,tt).formatDurationFromString(this,j):INVALID$2}toHuman(j={}){const et=orderedUnits$1.map(tt=>{const nt=this.values[tt];return isUndefined$1(nt)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...j,unit:tt.slice(0,-1)}).format(nt)}).filter(tt=>tt);return this.loc.listFormatter({type:"conjunction",style:j.listStyle||"narrow",...j}).format(et)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let j="P";return this.years!==0&&(j+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(j+=this.months+this.quarters*3+"M"),this.weeks!==0&&(j+=this.weeks+"W"),this.days!==0&&(j+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(j+="T"),this.hours!==0&&(j+=this.hours+"H"),this.minutes!==0&&(j+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(j+=roundTo(this.seconds+this.milliseconds/1e3,3)+"S"),j==="P"&&(j+="T0S"),j}toISOTime(j={}){if(!this.isValid)return null;const et=this.toMillis();if(et<0||et>=864e5)return null;j={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...j};const tt=this.shiftTo("hours","minutes","seconds","milliseconds");let nt=j.format==="basic"?"hhmm":"hh:mm";(!j.suppressSeconds||tt.seconds!==0||tt.milliseconds!==0)&&(nt+=j.format==="basic"?"ss":":ss",(!j.suppressMilliseconds||tt.milliseconds!==0)&&(nt+=".SSS"));let rt=tt.toFormat(nt);return j.includePrefix&&(rt="T"+rt),rt}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(j){if(!this.isValid)return this;const et=Duration$1.fromDurationLike(j),tt={};for(const nt of orderedUnits$1)(hasOwnProperty$2(et.values,nt)||hasOwnProperty$2(this.values,nt))&&(tt[nt]=et.get(nt)+this.get(nt));return clone$1$1(this,{values:tt},!0)}minus(j){if(!this.isValid)return this;const et=Duration$1.fromDurationLike(j);return this.plus(et.negate())}mapUnits(j){if(!this.isValid)return this;const et={};for(const tt of Object.keys(this.values))et[tt]=asNumber(j(this.values[tt],tt));return clone$1$1(this,{values:et},!0)}get(j){return this[Duration$1.normalizeUnit(j)]}set(j){if(!this.isValid)return this;const et={...this.values,...normalizeObject(j,Duration$1.normalizeUnit)};return clone$1$1(this,{values:et})}reconfigure({locale:j,numberingSystem:et,conversionAccuracy:tt}={}){const nt=this.loc.clone({locale:j,numberingSystem:et}),rt={loc:nt};return tt&&(rt.conversionAccuracy=tt),clone$1$1(this,rt)}as(j){return this.isValid?this.shiftTo(j).get(j):NaN}normalize(){if(!this.isValid)return this;const j=this.toObject();return normalizeValues(this.matrix,j),clone$1$1(this,{values:j},!0)}shiftTo(...j){if(!this.isValid)return this;if(j.length===0)return this;j=j.map(it=>Duration$1.normalizeUnit(it));const et={},tt={},nt=this.toObject();let rt;for(const it of orderedUnits$1)if(j.indexOf(it)>=0){rt=it;let st=0;for(const ot in tt)st+=this.matrix[ot][it]*tt[ot],tt[ot]=0;isNumber$1(nt[it])&&(st+=nt[it]);const at=Math.trunc(st);et[it]=at,tt[it]=(st*1e3-at*1e3)/1e3;for(const ot in nt)orderedUnits$1.indexOf(ot)>orderedUnits$1.indexOf(it)&&convert(this.matrix,nt,ot,et,it)}else isNumber$1(nt[it])&&(tt[it]=nt[it]);for(const it in tt)tt[it]!==0&&(et[rt]+=it===rt?tt[it]:tt[it]/this.matrix[rt][it]);return clone$1$1(this,{values:et},!0).normalize()}negate(){if(!this.isValid)return this;const j={};for(const et of Object.keys(this.values))j[et]=this.values[et]===0?0:-this.values[et];return clone$1$1(this,{values:j},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(j){if(!this.isValid||!j.isValid||!this.loc.equals(j.loc))return!1;function et(tt,nt){return tt===void 0||tt===0?nt===void 0||nt===0:tt===nt}for(const tt of orderedUnits$1)if(!et(this.values[tt],j.values[tt]))return!1;return!0}}const INVALID$1="Invalid Interval";function validateStartEnd(_e,j){return!_e||!_e.isValid?Interval.invalid("missing or invalid start"):!j||!j.isValid?Interval.invalid("missing or invalid end"):j<_e?Interval.invalid("end before start",`The end of an interval must be after its start, but you had start=${_e.toISO()} and end=${j.toISO()}`):null}class Interval{constructor(j){this.s=j.start,this.e=j.end,this.invalid=j.invalid||null,this.isLuxonInterval=!0}static invalid(j,et=null){if(!j)throw new InvalidArgumentError("need to specify a reason the Interval is invalid");const tt=j instanceof Invalid?j:new Invalid(j,et);if(Settings.throwOnInvalid)throw new InvalidIntervalError(tt);return new Interval({invalid:tt})}static fromDateTimes(j,et){const tt=friendlyDateTime(j),nt=friendlyDateTime(et),rt=validateStartEnd(tt,nt);return rt==null?new Interval({start:tt,end:nt}):rt}static after(j,et){const tt=Duration$1.fromDurationLike(et),nt=friendlyDateTime(j);return Interval.fromDateTimes(nt,nt.plus(tt))}static before(j,et){const tt=Duration$1.fromDurationLike(et),nt=friendlyDateTime(j);return Interval.fromDateTimes(nt.minus(tt),nt)}static fromISO(j,et){const[tt,nt]=(j||"").split("/",2);if(tt&&nt){let rt,it;try{rt=DateTime.fromISO(tt,et),it=rt.isValid}catch{it=!1}let st,at;try{st=DateTime.fromISO(nt,et),at=st.isValid}catch{at=!1}if(it&&at)return Interval.fromDateTimes(rt,st);if(it){const ot=Duration$1.fromISO(nt,et);if(ot.isValid)return Interval.after(rt,ot)}else if(at){const ot=Duration$1.fromISO(tt,et);if(ot.isValid)return Interval.before(st,ot)}}return Interval.invalid("unparsable",`the input "${j}" can't be parsed as ISO 8601`)}static isInterval(j){return j&&j.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(j="milliseconds"){return this.isValid?this.toDuration(j).get(j):NaN}count(j="milliseconds"){if(!this.isValid)return NaN;const et=this.start.startOf(j),tt=this.end.startOf(j);return Math.floor(tt.diff(et,j).get(j))+1}hasSame(j){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,j):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(j){return this.isValid?this.s>j:!1}isBefore(j){return this.isValid?this.e<=j:!1}contains(j){return this.isValid?this.s<=j&&this.e>j:!1}set({start:j,end:et}={}){return this.isValid?Interval.fromDateTimes(j||this.s,et||this.e):this}splitAt(...j){if(!this.isValid)return[];const et=j.map(friendlyDateTime).filter(it=>this.contains(it)).sort(),tt=[];let{s:nt}=this,rt=0;for(;nt<this.e;){const it=et[rt]||this.e,st=+it>+this.e?this.e:it;tt.push(Interval.fromDateTimes(nt,st)),nt=st,rt+=1}return tt}splitBy(j){const et=Duration$1.fromDurationLike(j);if(!this.isValid||!et.isValid||et.as("milliseconds")===0)return[];let{s:tt}=this,nt=1,rt;const it=[];for(;tt<this.e;){const st=this.start.plus(et.mapUnits(at=>at*nt));rt=+st>+this.e?this.e:st,it.push(Interval.fromDateTimes(tt,rt)),tt=rt,nt+=1}return it}divideEqually(j){return this.isValid?this.splitBy(this.length()/j).slice(0,j):[]}overlaps(j){return this.e>j.s&&this.s<j.e}abutsStart(j){return this.isValid?+this.e==+j.s:!1}abutsEnd(j){return this.isValid?+j.e==+this.s:!1}engulfs(j){return this.isValid?this.s<=j.s&&this.e>=j.e:!1}equals(j){return!this.isValid||!j.isValid?!1:this.s.equals(j.s)&&this.e.equals(j.e)}intersection(j){if(!this.isValid)return this;const et=this.s>j.s?this.s:j.s,tt=this.e<j.e?this.e:j.e;return et>=tt?null:Interval.fromDateTimes(et,tt)}union(j){if(!this.isValid)return this;const et=this.s<j.s?this.s:j.s,tt=this.e>j.e?this.e:j.e;return Interval.fromDateTimes(et,tt)}static merge(j){const[et,tt]=j.sort((nt,rt)=>nt.s-rt.s).reduce(([nt,rt],it)=>rt?rt.overlaps(it)||rt.abutsStart(it)?[nt,rt.union(it)]:[nt.concat([rt]),it]:[nt,it],[[],null]);return tt&&et.push(tt),et}static xor(j){let et=null,tt=0;const nt=[],rt=j.map(at=>[{time:at.s,type:"s"},{time:at.e,type:"e"}]),it=Array.prototype.concat(...rt),st=it.sort((at,ot)=>at.time-ot.time);for(const at of st)tt+=at.type==="s"?1:-1,tt===1?et=at.time:(et&&+et!=+at.time&&nt.push(Interval.fromDateTimes(et,at.time)),et=null);return Interval.merge(nt)}difference(...j){return Interval.xor([this].concat(j)).map(et=>this.intersection(et)).filter(et=>et&&!et.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:INVALID$1}toISO(j){return this.isValid?`${this.s.toISO(j)}/${this.e.toISO(j)}`:INVALID$1}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:INVALID$1}toISOTime(j){return this.isValid?`${this.s.toISOTime(j)}/${this.e.toISOTime(j)}`:INVALID$1}toFormat(j,{separator:et=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(j)}${et}${this.e.toFormat(j)}`:INVALID$1}toDuration(j,et){return this.isValid?this.e.diff(this.s,j,et):Duration$1.invalid(this.invalidReason)}mapEndpoints(j){return Interval.fromDateTimes(j(this.s),j(this.e))}}class Info{static hasDST(j=Settings.defaultZone){const et=DateTime.now().setZone(j).set({month:12});return!j.isUniversal&&et.offset!==et.set({month:6}).offset}static isValidIANAZone(j){return IANAZone.isValidZone(j)}static normalizeZone(j){return normalizeZone(j,Settings.defaultZone)}static months(j="long",{locale:et=null,numberingSystem:tt=null,locObj:nt=null,outputCalendar:rt="gregory"}={}){return(nt||Locale$1.create(et,tt,rt)).months(j)}static monthsFormat(j="long",{locale:et=null,numberingSystem:tt=null,locObj:nt=null,outputCalendar:rt="gregory"}={}){return(nt||Locale$1.create(et,tt,rt)).months(j,!0)}static weekdays(j="long",{locale:et=null,numberingSystem:tt=null,locObj:nt=null}={}){return(nt||Locale$1.create(et,tt,null)).weekdays(j)}static weekdaysFormat(j="long",{locale:et=null,numberingSystem:tt=null,locObj:nt=null}={}){return(nt||Locale$1.create(et,tt,null)).weekdays(j,!0)}static meridiems({locale:j=null}={}){return Locale$1.create(j).meridiems()}static eras(j="short",{locale:et=null}={}){return Locale$1.create(et,null,"gregory").eras(j)}static features(){return{relative:hasRelative()}}}function dayDiff(_e,j){const et=nt=>nt.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),tt=et(j)-et(_e);return Math.floor(Duration$1.fromMillis(tt).as("days"))}function highOrderDiffs(_e,j,et){const tt=[["years",(st,at)=>at.year-st.year],["quarters",(st,at)=>at.quarter-st.quarter],["months",(st,at)=>at.month-st.month+(at.year-st.year)*12],["weeks",(st,at)=>{const ot=dayDiff(st,at);return(ot-ot%7)/7}],["days",dayDiff]],nt={};let rt,it;for(const[st,at]of tt)if(et.indexOf(st)>=0){rt=st;let ot=at(_e,j);it=_e.plus({[st]:ot}),it>j?(_e=_e.plus({[st]:ot-1}),ot-=1):_e=it,nt[st]=ot}return[_e,nt,it,rt]}function diff$1(_e,j,et,tt){let[nt,rt,it,st]=highOrderDiffs(_e,j,et);const at=j-nt,ot=et.filter(ut=>["hours","minutes","seconds","milliseconds"].indexOf(ut)>=0);ot.length===0&&(it<j&&(it=nt.plus({[st]:1})),it!==nt&&(rt[st]=(rt[st]||0)+at/(it-nt)));const lt=Duration$1.fromObject(rt,tt);return ot.length>0?Duration$1.fromMillis(at,tt).shiftTo(...ot).plus(lt):lt}const numberingSystems={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},numberingSystemsUTF16={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},hanidecChars=numberingSystems.hanidec.replace(/[\[|\]]/g,"").split("");function parseDigits(_e){let j=parseInt(_e,10);if(isNaN(j)){j="";for(let et=0;et<_e.length;et++){const tt=_e.charCodeAt(et);if(_e[et].search(numberingSystems.hanidec)!==-1)j+=hanidecChars.indexOf(_e[et]);else for(const nt in numberingSystemsUTF16){const[rt,it]=numberingSystemsUTF16[nt];tt>=rt&&tt<=it&&(j+=tt-rt)}}return parseInt(j,10)}else return j}function digitRegex({numberingSystem:_e},j=""){return new RegExp(`${numberingSystems[_e||"latn"]}${j}`)}const MISSING_FTP="missing Intl.DateTimeFormat.formatToParts support";function intUnit(_e,j=et=>et){return{regex:_e,deser:([et])=>j(parseDigits(et))}}const NBSP=String.fromCharCode(160),spaceOrNBSP=`[ ${NBSP}]`,spaceOrNBSPRegExp=new RegExp(spaceOrNBSP,"g");function fixListRegex(_e){return _e.replace(/\./g,"\\.?").replace(spaceOrNBSPRegExp,spaceOrNBSP)}function stripInsensitivities(_e){return _e.replace(/\./g,"").replace(spaceOrNBSPRegExp," ").toLowerCase()}function oneOf(_e,j){return _e===null?null:{regex:RegExp(_e.map(fixListRegex).join("|")),deser:([et])=>_e.findIndex(tt=>stripInsensitivities(et)===stripInsensitivities(tt))+j}}function offset$1(_e,j){return{regex:_e,deser:([,et,tt])=>signedOffset(et,tt),groups:j}}function simple(_e){return{regex:_e,deser:([j])=>j}}function escapeToken(_e){return _e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function unitForToken(_e,j){const et=digitRegex(j),tt=digitRegex(j,"{2}"),nt=digitRegex(j,"{3}"),rt=digitRegex(j,"{4}"),it=digitRegex(j,"{6}"),st=digitRegex(j,"{1,2}"),at=digitRegex(j,"{1,3}"),ot=digitRegex(j,"{1,6}"),lt=digitRegex(j,"{1,9}"),ut=digitRegex(j,"{2,4}"),ct=digitRegex(j,"{4,6}"),ht=vt=>({regex:RegExp(escapeToken(vt.val)),deser:([ft])=>ft,literal:!0}),gt=(vt=>{if(_e.literal)return ht(vt);switch(vt.val){case"G":return oneOf(j.eras("short",!1),0);case"GG":return oneOf(j.eras("long",!1),0);case"y":return intUnit(ot);case"yy":return intUnit(ut,untruncateYear$1);case"yyyy":return intUnit(rt);case"yyyyy":return intUnit(ct);case"yyyyyy":return intUnit(it);case"M":return intUnit(st);case"MM":return intUnit(tt);case"MMM":return oneOf(j.months("short",!0,!1),1);case"MMMM":return oneOf(j.months("long",!0,!1),1);case"L":return intUnit(st);case"LL":return intUnit(tt);case"LLL":return oneOf(j.months("short",!1,!1),1);case"LLLL":return oneOf(j.months("long",!1,!1),1);case"d":return intUnit(st);case"dd":return intUnit(tt);case"o":return intUnit(at);case"ooo":return intUnit(nt);case"HH":return intUnit(tt);case"H":return intUnit(st);case"hh":return intUnit(tt);case"h":return intUnit(st);case"mm":return intUnit(tt);case"m":return intUnit(st);case"q":return intUnit(st);case"qq":return intUnit(tt);case"s":return intUnit(st);case"ss":return intUnit(tt);case"S":return intUnit(at);case"SSS":return intUnit(nt);case"u":return simple(lt);case"uu":return simple(st);case"uuu":return intUnit(et);case"a":return oneOf(j.meridiems(),0);case"kkkk":return intUnit(rt);case"kk":return intUnit(ut,untruncateYear$1);case"W":return intUnit(st);case"WW":return intUnit(tt);case"E":case"c":return intUnit(et);case"EEE":return oneOf(j.weekdays("short",!1,!1),1);case"EEEE":return oneOf(j.weekdays("long",!1,!1),1);case"ccc":return oneOf(j.weekdays("short",!0,!1),1);case"cccc":return oneOf(j.weekdays("long",!0,!1),1);case"Z":case"ZZ":return offset$1(new RegExp(`([+-]${st.source})(?::(${tt.source}))?`),2);case"ZZZ":return offset$1(new RegExp(`([+-]${st.source})(${tt.source})?`),2);case"z":return simple(/[a-z_+-/]{1,256}?/i);default:return ht(vt)}})(_e)||{invalidReason:MISSING_FTP};return gt.token=_e,gt}const partTypeStyleToTokenVal={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function tokenForPart(_e,j,et){const{type:tt,value:nt}=_e;if(tt==="literal")return{literal:!0,val:nt};const rt=et[tt];let it=partTypeStyleToTokenVal[tt];if(typeof it=="object"&&(it=it[rt]),it)return{literal:!1,val:it}}function buildRegex(_e){return[`^${_e.map(et=>et.regex).reduce((et,tt)=>`${et}(${tt.source})`,"")}$`,_e]}function match(_e,j,et){const tt=_e.match(j);if(tt){const nt={};let rt=1;for(const it in et)if(hasOwnProperty$2(et,it)){const st=et[it],at=st.groups?st.groups+1:1;!st.literal&&st.token&&(nt[st.token.val[0]]=st.deser(tt.slice(rt,rt+at))),rt+=at}return[tt,nt]}else return[tt,{}]}function dateTimeFromMatches(_e){const j=rt=>{switch(rt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let et=null,tt;return isUndefined$1(_e.z)||(et=IANAZone.create(_e.z)),isUndefined$1(_e.Z)||(et||(et=new FixedOffsetZone(_e.Z)),tt=_e.Z),isUndefined$1(_e.q)||(_e.M=(_e.q-1)*3+1),isUndefined$1(_e.h)||(_e.h<12&&_e.a===1?_e.h+=12:_e.h===12&&_e.a===0&&(_e.h=0)),_e.G===0&&_e.y&&(_e.y=-_e.y),isUndefined$1(_e.u)||(_e.S=parseMillis(_e.u)),[Object.keys(_e).reduce((rt,it)=>{const st=j(it);return st&&(rt[st]=_e[it]),rt},{}),et,tt]}let dummyDateTimeCache=null;function getDummyDateTime(){return dummyDateTimeCache||(dummyDateTimeCache=DateTime.fromMillis(1555555555555)),dummyDateTimeCache}function maybeExpandMacroToken(_e,j){if(_e.literal)return _e;const et=Formatter.macroTokenToFormatOpts(_e.val),tt=formatOptsToTokens(et,j);return tt==null||tt.includes(void 0)?_e:tt}function expandMacroTokens(_e,j){return Array.prototype.concat(..._e.map(et=>maybeExpandMacroToken(et,j)))}function explainFromTokens(_e,j,et){const tt=expandMacroTokens(Formatter.parseFormat(et),_e),nt=tt.map(it=>unitForToken(it,_e)),rt=nt.find(it=>it.invalidReason);if(rt)return{input:j,tokens:tt,invalidReason:rt.invalidReason};{const[it,st]=buildRegex(nt),at=RegExp(it,"i"),[ot,lt]=match(j,at,st),[ut,ct,ht]=lt?dateTimeFromMatches(lt):[null,null,void 0];if(hasOwnProperty$2(lt,"a")&&hasOwnProperty$2(lt,"H"))throw new ConflictingSpecificationError("Can't include meridiem when specifying 24-hour format");return{input:j,tokens:tt,regex:at,rawMatches:ot,matches:lt,result:ut,zone:ct,specificOffset:ht}}}function parseFromTokens(_e,j,et){const{result:tt,zone:nt,specificOffset:rt,invalidReason:it}=explainFromTokens(_e,j,et);return[tt,nt,rt,it]}function formatOptsToTokens(_e,j){return _e?Formatter.create(j,_e).formatDateTimeParts(getDummyDateTime()).map(nt=>tokenForPart(nt,j,_e)):null}const nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335];function unitOutOfRange(_e,j){return new Invalid("unit out of range",`you specified ${j} (of type ${typeof j}) as a ${_e}, which is invalid`)}function dayOfWeek(_e,j,et){const tt=new Date(Date.UTC(_e,j-1,et));_e<100&&_e>=0&&tt.setUTCFullYear(tt.getUTCFullYear()-1900);const nt=tt.getUTCDay();return nt===0?7:nt}function computeOrdinal(_e,j,et){return et+(isLeapYear$1(_e)?leapLadder:nonLeapLadder)[j-1]}function uncomputeOrdinal(_e,j){const et=isLeapYear$1(_e)?leapLadder:nonLeapLadder,tt=et.findIndex(rt=>rt<j),nt=j-et[tt];return{month:tt+1,day:nt}}function gregorianToWeek(_e){const{year:j,month:et,day:tt}=_e,nt=computeOrdinal(j,et,tt),rt=dayOfWeek(j,et,tt);let it=Math.floor((nt-rt+10)/7),st;return it<1?(st=j-1,it=weeksInWeekYear(st)):it>weeksInWeekYear(j)?(st=j+1,it=1):st=j,{weekYear:st,weekNumber:it,weekday:rt,...timeObject(_e)}}function weekToGregorian(_e){const{weekYear:j,weekNumber:et,weekday:tt}=_e,nt=dayOfWeek(j,1,4),rt=daysInYear$1(j);let it=et*7+tt-nt-3,st;it<1?(st=j-1,it+=daysInYear$1(st)):it>rt?(st=j+1,it-=daysInYear$1(j)):st=j;const{month:at,day:ot}=uncomputeOrdinal(st,it);return{year:st,month:at,day:ot,...timeObject(_e)}}function gregorianToOrdinal(_e){const{year:j,month:et,day:tt}=_e,nt=computeOrdinal(j,et,tt);return{year:j,ordinal:nt,...timeObject(_e)}}function ordinalToGregorian(_e){const{year:j,ordinal:et}=_e,{month:tt,day:nt}=uncomputeOrdinal(j,et);return{year:j,month:tt,day:nt,...timeObject(_e)}}function hasInvalidWeekData(_e){const j=isInteger(_e.weekYear),et=integerBetween(_e.weekNumber,1,weeksInWeekYear(_e.weekYear)),tt=integerBetween(_e.weekday,1,7);return j?et?tt?!1:unitOutOfRange("weekday",_e.weekday):unitOutOfRange("week",_e.week):unitOutOfRange("weekYear",_e.weekYear)}function hasInvalidOrdinalData(_e){const j=isInteger(_e.year),et=integerBetween(_e.ordinal,1,daysInYear$1(_e.year));return j?et?!1:unitOutOfRange("ordinal",_e.ordinal):unitOutOfRange("year",_e.year)}function hasInvalidGregorianData(_e){const j=isInteger(_e.year),et=integerBetween(_e.month,1,12),tt=integerBetween(_e.day,1,daysInMonth$1(_e.year,_e.month));return j?et?tt?!1:unitOutOfRange("day",_e.day):unitOutOfRange("month",_e.month):unitOutOfRange("year",_e.year)}function hasInvalidTimeData(_e){const{hour:j,minute:et,second:tt,millisecond:nt}=_e,rt=integerBetween(j,0,23)||j===24&&et===0&&tt===0&&nt===0,it=integerBetween(et,0,59),st=integerBetween(tt,0,59),at=integerBetween(nt,0,999);return rt?it?st?at?!1:unitOutOfRange("millisecond",nt):unitOutOfRange("second",tt):unitOutOfRange("minute",et):unitOutOfRange("hour",j)}const INVALID="Invalid DateTime",MAX_DATE=864e13;function unsupportedZone(_e){return new Invalid("unsupported zone",`the zone "${_e.name}" is not supported`)}function possiblyCachedWeekData(_e){return _e.weekData===null&&(_e.weekData=gregorianToWeek(_e.c)),_e.weekData}function clone$2(_e,j){const et={ts:_e.ts,zone:_e.zone,c:_e.c,o:_e.o,loc:_e.loc,invalid:_e.invalid};return new DateTime({...et,...j,old:et})}function fixOffset(_e,j,et){let tt=_e-j*60*1e3;const nt=et.offset(tt);if(j===nt)return[tt,j];tt-=(nt-j)*60*1e3;const rt=et.offset(tt);return nt===rt?[tt,nt]:[_e-Math.min(nt,rt)*60*1e3,Math.max(nt,rt)]}function tsToObj(_e,j){_e+=j*60*1e3;const et=new Date(_e);return{year:et.getUTCFullYear(),month:et.getUTCMonth()+1,day:et.getUTCDate(),hour:et.getUTCHours(),minute:et.getUTCMinutes(),second:et.getUTCSeconds(),millisecond:et.getUTCMilliseconds()}}function objToTS(_e,j,et){return fixOffset(objToLocalTS(_e),j,et)}function adjustTime(_e,j){const et=_e.o,tt=_e.c.year+Math.trunc(j.years),nt=_e.c.month+Math.trunc(j.months)+Math.trunc(j.quarters)*3,rt={..._e.c,year:tt,month:nt,day:Math.min(_e.c.day,daysInMonth$1(tt,nt))+Math.trunc(j.days)+Math.trunc(j.weeks)*7},it=Duration$1.fromObject({years:j.years-Math.trunc(j.years),quarters:j.quarters-Math.trunc(j.quarters),months:j.months-Math.trunc(j.months),weeks:j.weeks-Math.trunc(j.weeks),days:j.days-Math.trunc(j.days),hours:j.hours,minutes:j.minutes,seconds:j.seconds,milliseconds:j.milliseconds}).as("milliseconds"),st=objToLocalTS(rt);let[at,ot]=fixOffset(st,et,_e.zone);return it!==0&&(at+=it,ot=_e.zone.offset(at)),{ts:at,o:ot}}function parseDataToDateTime(_e,j,et,tt,nt,rt){const{setZone:it,zone:st}=et;if(_e&&Object.keys(_e).length!==0){const at=j||st,ot=DateTime.fromObject(_e,{...et,zone:at,specificOffset:rt});return it?ot:ot.setZone(st)}else return DateTime.invalid(new Invalid("unparsable",`the input "${nt}" can't be parsed as ${tt}`))}function toTechFormat(_e,j,et=!0){return _e.isValid?Formatter.create(Locale$1.create("en-US"),{allowZ:et,forceSimple:!0}).formatDateTimeFromString(_e,j):null}function toISODate(_e,j){const et=_e.c.year>9999||_e.c.year<0;let tt="";return et&&_e.c.year>=0&&(tt+="+"),tt+=padStart(_e.c.year,et?6:4),j?(tt+="-",tt+=padStart(_e.c.month),tt+="-",tt+=padStart(_e.c.day)):(tt+=padStart(_e.c.month),tt+=padStart(_e.c.day)),tt}function toISOTime(_e,j,et,tt,nt,rt){let it=padStart(_e.c.hour);return j?(it+=":",it+=padStart(_e.c.minute),(_e.c.second!==0||!et)&&(it+=":")):it+=padStart(_e.c.minute),(_e.c.second!==0||!et)&&(it+=padStart(_e.c.second),(_e.c.millisecond!==0||!tt)&&(it+=".",it+=padStart(_e.c.millisecond,3))),nt&&(_e.isOffsetFixed&&_e.offset===0&&!rt?it+="Z":_e.o<0?(it+="-",it+=padStart(Math.trunc(-_e.o/60)),it+=":",it+=padStart(Math.trunc(-_e.o%60))):(it+="+",it+=padStart(Math.trunc(_e.o/60)),it+=":",it+=padStart(Math.trunc(_e.o%60)))),rt&&(it+="["+_e.zone.ianaName+"]"),it}const defaultUnitValues={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},defaultWeekUnitValues={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},defaultOrdinalUnitValues={ordinal:1,hour:0,minute:0,second:0,millisecond:0},orderedUnits=["year","month","day","hour","minute","second","millisecond"],orderedWeekUnits=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],orderedOrdinalUnits=["year","ordinal","hour","minute","second","millisecond"];function normalizeUnit(_e){const j={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[_e.toLowerCase()];if(!j)throw new InvalidUnitError(_e);return j}function quickDT(_e,j){const et=normalizeZone(j.zone,Settings.defaultZone),tt=Locale$1.fromObject(j),nt=Settings.now();let rt,it;if(isUndefined$1(_e.year))rt=nt;else{for(const ot of orderedUnits)isUndefined$1(_e[ot])&&(_e[ot]=defaultUnitValues[ot]);const st=hasInvalidGregorianData(_e)||hasInvalidTimeData(_e);if(st)return DateTime.invalid(st);const at=et.offset(nt);[rt,it]=objToTS(_e,at,et)}return new DateTime({ts:rt,zone:et,loc:tt,o:it})}function diffRelative(_e,j,et){const tt=isUndefined$1(et.round)?!0:et.round,nt=(it,st)=>(it=roundTo(it,tt||et.calendary?0:2,!0),j.loc.clone(et).relFormatter(et).format(it,st)),rt=it=>et.calendary?j.hasSame(_e,it)?0:j.startOf(it).diff(_e.startOf(it),it).get(it):j.diff(_e,it).get(it);if(et.unit)return nt(rt(et.unit),et.unit);for(const it of et.units){const st=rt(it);if(Math.abs(st)>=1)return nt(st,it)}return nt(_e>j?-0:0,et.units[et.units.length-1])}function lastOpts(_e){let j={},et;return _e.length>0&&typeof _e[_e.length-1]=="object"?(j=_e[_e.length-1],et=Array.from(_e).slice(0,_e.length-1)):et=Array.from(_e),[j,et]}class DateTime{constructor(j){const et=j.zone||Settings.defaultZone;let tt=j.invalid||(Number.isNaN(j.ts)?new Invalid("invalid input"):null)||(et.isValid?null:unsupportedZone(et));this.ts=isUndefined$1(j.ts)?Settings.now():j.ts;let nt=null,rt=null;if(!tt)if(j.old&&j.old.ts===this.ts&&j.old.zone.equals(et))[nt,rt]=[j.old.c,j.old.o];else{const st=et.offset(this.ts);nt=tsToObj(this.ts,st),tt=Number.isNaN(nt.year)?new Invalid("invalid input"):null,nt=tt?null:nt,rt=tt?null:st}this._zone=et,this.loc=j.loc||Locale$1.create(),this.invalid=tt,this.weekData=null,this.c=nt,this.o=rt,this.isLuxonDateTime=!0}static now(){return new DateTime({})}static local(){const[j,et]=lastOpts(arguments),[tt,nt,rt,it,st,at,ot]=et;return quickDT({year:tt,month:nt,day:rt,hour:it,minute:st,second:at,millisecond:ot},j)}static utc(){const[j,et]=lastOpts(arguments),[tt,nt,rt,it,st,at,ot]=et;return j.zone=FixedOffsetZone.utcInstance,quickDT({year:tt,month:nt,day:rt,hour:it,minute:st,second:at,millisecond:ot},j)}static fromJSDate(j,et={}){const tt=isDate$1(j)?j.valueOf():NaN;if(Number.isNaN(tt))return DateTime.invalid("invalid input");const nt=normalizeZone(et.zone,Settings.defaultZone);return nt.isValid?new DateTime({ts:tt,zone:nt,loc:Locale$1.fromObject(et)}):DateTime.invalid(unsupportedZone(nt))}static fromMillis(j,et={}){if(isNumber$1(j))return j<-MAX_DATE||j>MAX_DATE?DateTime.invalid("Timestamp out of range"):new DateTime({ts:j,zone:normalizeZone(et.zone,Settings.defaultZone),loc:Locale$1.fromObject(et)});throw new InvalidArgumentError(`fromMillis requires a numerical input, but received a ${typeof j} with value ${j}`)}static fromSeconds(j,et={}){if(isNumber$1(j))return new DateTime({ts:j*1e3,zone:normalizeZone(et.zone,Settings.defaultZone),loc:Locale$1.fromObject(et)});throw new InvalidArgumentError("fromSeconds requires a numerical input")}static fromObject(j,et={}){j=j||{};const tt=normalizeZone(et.zone,Settings.defaultZone);if(!tt.isValid)return DateTime.invalid(unsupportedZone(tt));const nt=Settings.now(),rt=isUndefined$1(et.specificOffset)?tt.offset(nt):et.specificOffset,it=normalizeObject(j,normalizeUnit),st=!isUndefined$1(it.ordinal),at=!isUndefined$1(it.year),ot=!isUndefined$1(it.month)||!isUndefined$1(it.day),lt=at||ot,ut=it.weekYear||it.weekNumber,ct=Locale$1.fromObject(et);if((lt||st)&&ut)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(ot&&st)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");const ht=ut||it.weekday&&!lt;let pt,gt,vt=tsToObj(nt,rt);ht?(pt=orderedWeekUnits,gt=defaultWeekUnitValues,vt=gregorianToWeek(vt)):st?(pt=orderedOrdinalUnits,gt=defaultOrdinalUnitValues,vt=gregorianToOrdinal(vt)):(pt=orderedUnits,gt=defaultUnitValues);let ft=!1;for(const Ct of pt){const Lt=it[Ct];isUndefined$1(Lt)?ft?it[Ct]=gt[Ct]:it[Ct]=vt[Ct]:ft=!0}const mt=ht?hasInvalidWeekData(it):st?hasInvalidOrdinalData(it):hasInvalidGregorianData(it),xt=mt||hasInvalidTimeData(it);if(xt)return DateTime.invalid(xt);const _t=ht?weekToGregorian(it):st?ordinalToGregorian(it):it,[Tt,wt]=objToTS(_t,rt,tt),bt=new DateTime({ts:Tt,zone:tt,o:wt,loc:ct});return it.weekday&&lt&&j.weekday!==bt.weekday?DateTime.invalid("mismatched weekday",`you can't specify both a weekday of ${it.weekday} and a date of ${bt.toISO()}`):bt}static fromISO(j,et={}){const[tt,nt]=parseISODate(j);return parseDataToDateTime(tt,nt,et,"ISO 8601",j)}static fromRFC2822(j,et={}){const[tt,nt]=parseRFC2822Date(j);return parseDataToDateTime(tt,nt,et,"RFC 2822",j)}static fromHTTP(j,et={}){const[tt,nt]=parseHTTPDate(j);return parseDataToDateTime(tt,nt,et,"HTTP",et)}static fromFormat(j,et,tt={}){if(isUndefined$1(j)||isUndefined$1(et))throw new InvalidArgumentError("fromFormat requires an input string and a format");const{locale:nt=null,numberingSystem:rt=null}=tt,it=Locale$1.fromOpts({locale:nt,numberingSystem:rt,defaultToEN:!0}),[st,at,ot,lt]=parseFromTokens(it,j,et);return lt?DateTime.invalid(lt):parseDataToDateTime(st,at,tt,`format ${et}`,j,ot)}static fromString(j,et,tt={}){return DateTime.fromFormat(j,et,tt)}static fromSQL(j,et={}){const[tt,nt]=parseSQL(j);return parseDataToDateTime(tt,nt,et,"SQL",j)}static invalid(j,et=null){if(!j)throw new InvalidArgumentError("need to specify a reason the DateTime is invalid");const tt=j instanceof Invalid?j:new Invalid(j,et);if(Settings.throwOnInvalid)throw new InvalidDateTimeError(tt);return new DateTime({invalid:tt})}static isDateTime(j){return j&&j.isLuxonDateTime||!1}static parseFormatForOpts(j,et={}){const tt=formatOptsToTokens(j,Locale$1.fromObject(et));return tt?tt.map(nt=>nt?nt.val:null).join(""):null}get(j){return this[j]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?possiblyCachedWeekData(this).weekYear:NaN}get weekNumber(){return this.isValid?possiblyCachedWeekData(this).weekNumber:NaN}get weekday(){return this.isValid?possiblyCachedWeekData(this).weekday:NaN}get ordinal(){return this.isValid?gregorianToOrdinal(this.c).ordinal:NaN}get monthShort(){return this.isValid?Info.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Info.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Info.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Info.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return isLeapYear$1(this.year)}get daysInMonth(){return daysInMonth$1(this.year,this.month)}get daysInYear(){return this.isValid?daysInYear$1(this.year):NaN}get weeksInWeekYear(){return this.isValid?weeksInWeekYear(this.weekYear):NaN}resolvedLocaleOptions(j={}){const{locale:et,numberingSystem:tt,calendar:nt}=Formatter.create(this.loc.clone(j),j).resolvedOptions(this);return{locale:et,numberingSystem:tt,outputCalendar:nt}}toUTC(j=0,et={}){return this.setZone(FixedOffsetZone.instance(j),et)}toLocal(){return this.setZone(Settings.defaultZone)}setZone(j,{keepLocalTime:et=!1,keepCalendarTime:tt=!1}={}){if(j=normalizeZone(j,Settings.defaultZone),j.equals(this.zone))return this;if(j.isValid){let nt=this.ts;if(et||tt){const rt=j.offset(this.ts),it=this.toObject();[nt]=objToTS(it,rt,j)}return clone$2(this,{ts:nt,zone:j})}else return DateTime.invalid(unsupportedZone(j))}reconfigure({locale:j,numberingSystem:et,outputCalendar:tt}={}){const nt=this.loc.clone({locale:j,numberingSystem:et,outputCalendar:tt});return clone$2(this,{loc:nt})}setLocale(j){return this.reconfigure({locale:j})}set(j){if(!this.isValid)return this;const et=normalizeObject(j,normalizeUnit),tt=!isUndefined$1(et.weekYear)||!isUndefined$1(et.weekNumber)||!isUndefined$1(et.weekday),nt=!isUndefined$1(et.ordinal),rt=!isUndefined$1(et.year),it=!isUndefined$1(et.month)||!isUndefined$1(et.day),st=rt||it,at=et.weekYear||et.weekNumber;if((st||nt)&&at)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(it&&nt)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");let ot;tt?ot=weekToGregorian({...gregorianToWeek(this.c),...et}):isUndefined$1(et.ordinal)?(ot={...this.toObject(),...et},isUndefined$1(et.day)&&(ot.day=Math.min(daysInMonth$1(ot.year,ot.month),ot.day))):ot=ordinalToGregorian({...gregorianToOrdinal(this.c),...et});const[lt,ut]=objToTS(ot,this.o,this.zone);return clone$2(this,{ts:lt,o:ut})}plus(j){if(!this.isValid)return this;const et=Duration$1.fromDurationLike(j);return clone$2(this,adjustTime(this,et))}minus(j){if(!this.isValid)return this;const et=Duration$1.fromDurationLike(j).negate();return clone$2(this,adjustTime(this,et))}startOf(j){if(!this.isValid)return this;const et={},tt=Duration$1.normalizeUnit(j);switch(tt){case"years":et.month=1;case"quarters":case"months":et.day=1;case"weeks":case"days":et.hour=0;case"hours":et.minute=0;case"minutes":et.second=0;case"seconds":et.millisecond=0;break}if(tt==="weeks"&&(et.weekday=1),tt==="quarters"){const nt=Math.ceil(this.month/3);et.month=(nt-1)*3+1}return this.set(et)}endOf(j){return this.isValid?this.plus({[j]:1}).startOf(j).minus(1):this}toFormat(j,et={}){return this.isValid?Formatter.create(this.loc.redefaultToEN(et)).formatDateTimeFromString(this,j):INVALID}toLocaleString(j=DATE_SHORT,et={}){return this.isValid?Formatter.create(this.loc.clone(et),j).formatDateTime(this):INVALID}toLocaleParts(j={}){return this.isValid?Formatter.create(this.loc.clone(j),j).formatDateTimeParts(this):[]}toISO({format:j="extended",suppressSeconds:et=!1,suppressMilliseconds:tt=!1,includeOffset:nt=!0,extendedZone:rt=!1}={}){if(!this.isValid)return null;const it=j==="extended";let st=toISODate(this,it);return st+="T",st+=toISOTime(this,it,et,tt,nt,rt),st}toISODate({format:j="extended"}={}){return this.isValid?toISODate(this,j==="extended"):null}toISOWeekDate(){return toTechFormat(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:j=!1,suppressSeconds:et=!1,includeOffset:tt=!0,includePrefix:nt=!1,extendedZone:rt=!1,format:it="extended"}={}){return this.isValid?(nt?"T":"")+toISOTime(this,it==="extended",et,j,tt,rt):null}toRFC2822(){return toTechFormat(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return toTechFormat(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?toISODate(this,!0):null}toSQLTime({includeOffset:j=!0,includeZone:et=!1,includeOffsetSpace:tt=!0}={}){let nt="HH:mm:ss.SSS";return(et||j)&&(tt&&(nt+=" "),et?nt+="z":j&&(nt+="ZZ")),toTechFormat(this,nt,!0)}toSQL(j={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(j)}`:null}toString(){return this.isValid?this.toISO():INVALID}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(j={}){if(!this.isValid)return{};const et={...this.c};return j.includeConfig&&(et.outputCalendar=this.outputCalendar,et.numberingSystem=this.loc.numberingSystem,et.locale=this.loc.locale),et}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(j,et="milliseconds",tt={}){if(!this.isValid||!j.isValid)return Duration$1.invalid("created by diffing an invalid DateTime");const nt={locale:this.locale,numberingSystem:this.numberingSystem,...tt},rt=maybeArray(et).map(Duration$1.normalizeUnit),it=j.valueOf()>this.valueOf(),st=it?this:j,at=it?j:this,ot=diff$1(st,at,rt,nt);return it?ot.negate():ot}diffNow(j="milliseconds",et={}){return this.diff(DateTime.now(),j,et)}until(j){return this.isValid?Interval.fromDateTimes(this,j):this}hasSame(j,et){if(!this.isValid)return!1;const tt=j.valueOf(),nt=this.setZone(j.zone,{keepLocalTime:!0});return nt.startOf(et)<=tt&&tt<=nt.endOf(et)}equals(j){return this.isValid&&j.isValid&&this.valueOf()===j.valueOf()&&this.zone.equals(j.zone)&&this.loc.equals(j.loc)}toRelative(j={}){if(!this.isValid)return null;const et=j.base||DateTime.fromObject({},{zone:this.zone}),tt=j.padding?this<et?-j.padding:j.padding:0;let nt=["years","months","days","hours","minutes","seconds"],rt=j.unit;return Array.isArray(j.unit)&&(nt=j.unit,rt=void 0),diffRelative(et,this.plus(tt),{...j,numeric:"always",units:nt,unit:rt})}toRelativeCalendar(j={}){return this.isValid?diffRelative(j.base||DateTime.fromObject({},{zone:this.zone}),this,{...j,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...j){if(!j.every(DateTime.isDateTime))throw new InvalidArgumentError("min requires all arguments be DateTimes");return bestBy(j,et=>et.valueOf(),Math.min)}static max(...j){if(!j.every(DateTime.isDateTime))throw new InvalidArgumentError("max requires all arguments be DateTimes");return bestBy(j,et=>et.valueOf(),Math.max)}static fromFormatExplain(j,et,tt={}){const{locale:nt=null,numberingSystem:rt=null}=tt,it=Locale$1.fromOpts({locale:nt,numberingSystem:rt,defaultToEN:!0});return explainFromTokens(it,j,et)}static fromStringExplain(j,et,tt={}){return DateTime.fromFormatExplain(j,et,tt)}static get DATE_SHORT(){return DATE_SHORT}static get DATE_MED(){return DATE_MED}static get DATE_MED_WITH_WEEKDAY(){return DATE_MED_WITH_WEEKDAY}static get DATE_FULL(){return DATE_FULL}static get DATE_HUGE(){return DATE_HUGE}static get TIME_SIMPLE(){return TIME_SIMPLE}static get TIME_WITH_SECONDS(){return TIME_WITH_SECONDS}static get TIME_WITH_SHORT_OFFSET(){return TIME_WITH_SHORT_OFFSET}static get TIME_WITH_LONG_OFFSET(){return TIME_WITH_LONG_OFFSET}static get TIME_24_SIMPLE(){return TIME_24_SIMPLE}static get TIME_24_WITH_SECONDS(){return TIME_24_WITH_SECONDS}static get TIME_24_WITH_SHORT_OFFSET(){return TIME_24_WITH_SHORT_OFFSET}static get TIME_24_WITH_LONG_OFFSET(){return TIME_24_WITH_LONG_OFFSET}static get DATETIME_SHORT(){return DATETIME_SHORT}static get DATETIME_SHORT_WITH_SECONDS(){return DATETIME_SHORT_WITH_SECONDS}static get DATETIME_MED(){return DATETIME_MED}static get DATETIME_MED_WITH_SECONDS(){return DATETIME_MED_WITH_SECONDS}static get DATETIME_MED_WITH_WEEKDAY(){return DATETIME_MED_WITH_WEEKDAY}static get DATETIME_FULL(){return DATETIME_FULL}static get DATETIME_FULL_WITH_SECONDS(){return DATETIME_FULL_WITH_SECONDS}static get DATETIME_HUGE(){return DATETIME_HUGE}static get DATETIME_HUGE_WITH_SECONDS(){return DATETIME_HUGE_WITH_SECONDS}}function friendlyDateTime(_e){if(DateTime.isDateTime(_e))return _e;if(_e&&_e.valueOf&&isNumber$1(_e.valueOf()))return DateTime.fromJSDate(_e);if(_e&&typeof _e=="object")return DateTime.fromObject(_e);throw new InvalidArgumentError(`Unknown datetime argument: ${_e}, of type ${typeof _e}`)}const VERSION$2="3.0.1";luxon$1.DateTime=DateTime;luxon$1.Duration=Duration$1;luxon$1.FixedOffsetZone=FixedOffsetZone;luxon$1.IANAZone=IANAZone;luxon$1.Info=Info;luxon$1.Interval=Interval;luxon$1.InvalidZone=InvalidZone;luxon$1.Settings=Settings;luxon$1.SystemZone=SystemZone;luxon$1.VERSION=VERSION$2;luxon$1.Zone=Zone;var luxon=luxon$1;CronDate$1.prototype.addYear=function(){this._date=this._date.plus({years:1})};CronDate$1.prototype.addMonth=function(){this._date=this._date.plus({months:1}).startOf("month")};CronDate$1.prototype.addDay=function(){this._date=this._date.plus({days:1}).startOf("day")};CronDate$1.prototype.addHour=function(){var _e=this._date;this._date=this._date.plus({hours:1}).startOf("hour"),this._date<=_e&&(this._date=this._date.plus({hours:1}))};CronDate$1.prototype.addMinute=function(){var _e=this._date;this._date=this._date.plus({minutes:1}).startOf("minute"),this._date<_e&&(this._date=this._date.plus({hours:1}))};CronDate$1.prototype.addSecond=function(){var _e=this._date;this._date=this._date.plus({seconds:1}).startOf("second"),this._date<_e&&(this._date=this._date.plus({hours:1}))};CronDate$1.prototype.subtractYear=function(){this._date=this._date.minus({years:1})};CronDate$1.prototype.subtractMonth=function(){this._date=this._date.minus({months:1}).endOf("month").startOf("second")};CronDate$1.prototype.subtractDay=function(){this._date=this._date.minus({days:1}).endOf("day").startOf("second")};CronDate$1.prototype.subtractHour=function(){var _e=this._date;this._date=this._date.minus({hours:1}).endOf("hour").startOf("second"),this._date>=_e&&(this._date=this._date.minus({hours:1}))};CronDate$1.prototype.subtractMinute=function(){var _e=this._date;this._date=this._date.minus({minutes:1}).endOf("minute").startOf("second"),this._date>_e&&(this._date=this._date.minus({hours:1}))};CronDate$1.prototype.subtractSecond=function(){var _e=this._date;this._date=this._date.minus({seconds:1}).startOf("second"),this._date>_e&&(this._date=this._date.minus({hours:1}))};CronDate$1.prototype.getDate=function(){return this._date.day};CronDate$1.prototype.getFullYear=function(){return this._date.year};CronDate$1.prototype.getDay=function(){var _e=this._date.weekday;return _e==7?0:_e};CronDate$1.prototype.getMonth=function(){return this._date.month-1};CronDate$1.prototype.getHours=function(){return this._date.hour};CronDate$1.prototype.getMinutes=function(){return this._date.minute};CronDate$1.prototype.getSeconds=function(){return this._date.second};CronDate$1.prototype.getMilliseconds=function(){return this._date.millisecond};CronDate$1.prototype.getTime=function(){return this._date.valueOf()};CronDate$1.prototype.getUTCDate=function(){return this._getUTC().day};CronDate$1.prototype.getUTCFullYear=function(){return this._getUTC().year};CronDate$1.prototype.getUTCDay=function(){var _e=this._getUTC().weekday;return _e==7?0:_e};CronDate$1.prototype.getUTCMonth=function(){return this._getUTC().month-1};CronDate$1.prototype.getUTCHours=function(){return this._getUTC().hour};CronDate$1.prototype.getUTCMinutes=function(){return this._getUTC().minute};CronDate$1.prototype.getUTCSeconds=function(){return this._getUTC().second};CronDate$1.prototype.toISOString=function(){return this._date.toUTC().toISO()};CronDate$1.prototype.toJSON=function(){return this._date.toJSON()};CronDate$1.prototype.setDate=function(_e){this._date=this._date.set({day:_e})};CronDate$1.prototype.setFullYear=function(_e){this._date=this._date.set({year:_e})};CronDate$1.prototype.setDay=function(_e){this._date=this._date.set({weekday:_e})};CronDate$1.prototype.setMonth=function(_e){this._date=this._date.set({month:_e+1})};CronDate$1.prototype.setHours=function(_e){this._date=this._date.set({hour:_e})};CronDate$1.prototype.setMinutes=function(_e){this._date=this._date.set({minute:_e})};CronDate$1.prototype.setSeconds=function(_e){this._date=this._date.set({second:_e})};CronDate$1.prototype.setMilliseconds=function(_e){this._date=this._date.set({millisecond:_e})};CronDate$1.prototype._getUTC=function(){return this._date.toUTC()};CronDate$1.prototype.toString=function(){return this.toDate().toString()};CronDate$1.prototype.toDate=function(){return this._date.toJSDate()};CronDate$1.prototype.isLastDayOfMonth=function(){var _e=this._date.plus({days:1}).startOf("day");return this._date.month!==_e.month};CronDate$1.prototype.isLastWeekdayOfMonth=function(){var _e=this._date.plus({days:7}).startOf("day");return this._date.month!==_e.month};function CronDate$1(_e,j){var et={zone:j};if(_e?_e instanceof CronDate$1?this._date=_e._date:_e instanceof Date?this._date=luxon.DateTime.fromJSDate(_e,et):typeof _e=="number"?this._date=luxon.DateTime.fromMillis(_e,et):typeof _e=="string"&&(this._date=luxon.DateTime.fromISO(_e,et),this._date.isValid||(this._date=luxon.DateTime.fromRFC2822(_e,et)),this._date.isValid||(this._date=luxon.DateTime.fromSQL(_e,et)),this._date.isValid||(this._date=luxon.DateTime.fromFormat(_e,"EEE, d MMM yyyy HH:mm:ss",et))):this._date=luxon.DateTime.local(),!this._date||!this._date.isValid)throw new Error("CronDate: unhandled timestamp: "+JSON.stringify(_e));j&&j!==this._date.zoneName&&(this._date=this._date.setZone(j))}var date=CronDate$1;function buildRange(_e){return{start:_e,count:1}}function completeRangeWithItem(_e,j){_e.end=j,_e.step=j-_e.start,_e.count=2}function finalizeCurrentRange(_e,j,et){j&&(j.count===2?(_e.push(buildRange(j.start)),_e.push(buildRange(j.end))):_e.push(j)),et&&_e.push(et)}function compactField$1(_e){for(var j=[],et=void 0,tt=0;tt<_e.length;tt++){var nt=_e[tt];typeof nt!="number"?(finalizeCurrentRange(j,et,buildRange(nt)),et=void 0):et?et.count===1?completeRangeWithItem(et,nt):et.step===nt-et.end?(et.count++,et.end=nt):et.count===2?(j.push(buildRange(et.start)),et=buildRange(et.end),completeRangeWithItem(et,nt)):(finalizeCurrentRange(j,et),et=buildRange(nt)):et=buildRange(nt)}return finalizeCurrentRange(j,et),j}var field_compactor=compactField$1,compactField=field_compactor;function stringifyField$1(_e,j,et){var tt=compactField(_e);if(tt.length===1){var nt=tt[0],rt=nt.step;if(rt===1&&nt.start===j&&nt.end===et)return"*";if(rt!==1&&nt.start===j&&nt.end===et-rt+1)return"*/"+rt}for(var it=[],st=0,at=tt.length;st<at;++st){var ot=tt[st];if(ot.count===1)it.push(ot.start);else{var rt=ot.step;rt===1?it.push(ot.start+"-"+ot.end):ot.end===et-rt+1?it.push(ot.start+"/"+rt):it.push(ot.start+"-"+ot.end+"/"+rt)}}return it.join(",")}var field_stringify=stringifyField$1,CronDate=date,stringifyField=field_stringify,LOOP_LIMIT=1e4;function CronExpression$1(_e,j){this._options=j,this._utc=j.utc||!1,this._tz=this._utc?"UTC":j.tz,this._currentDate=new CronDate(j.currentDate,this._tz),this._startDate=j.startDate?new CronDate(j.startDate,this._tz):null,this._endDate=j.endDate?new CronDate(j.endDate,this._tz):null,this._isIterator=j.iterator||!1,this._hasIterated=!1,this._nthDayOfWeek=j.nthDayOfWeek||0,this.fields=CronExpression$1._freezeFields(_e)}CronExpression$1.map=["second","minute","hour","dayOfMonth","month","dayOfWeek"];CronExpression$1.predefined={"@yearly":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@hourly":"0 * * * *"};CronExpression$1.constraints=[{min:0,max:59,chars:[]},{min:0,max:59,chars:[]},{min:0,max:23,chars:[]},{min:1,max:31,chars:["L"]},{min:1,max:12,chars:[]},{min:0,max:7,chars:["L"]}];CronExpression$1.daysInMonth=[31,29,31,30,31,30,31,31,30,31,30,31];CronExpression$1.aliases={month:{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},dayOfWeek:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6}};CronExpression$1.parseDefaults=["0","*","*","*","*","*"];CronExpression$1.standardValidCharacters=/^[,*\d/-]+$/;CronExpression$1.dayOfWeekValidCharacters=/^[?,*\dL#/-]+$/;CronExpression$1.dayOfMonthValidCharacters=/^[?,*\dL/-]+$/;CronExpression$1.validCharacters={second:CronExpression$1.standardValidCharacters,minute:CronExpression$1.standardValidCharacters,hour:CronExpression$1.standardValidCharacters,dayOfMonth:CronExpression$1.dayOfMonthValidCharacters,month:CronExpression$1.standardValidCharacters,dayOfWeek:CronExpression$1.dayOfWeekValidCharacters};CronExpression$1._isValidConstraintChar=function(j,et){return typeof et!="string"?!1:j.chars.some(function(tt){return et.indexOf(tt)>-1})};CronExpression$1._parseField=function(j,et,tt){switch(j){case"month":case"dayOfWeek":var nt=CronExpression$1.aliases[j];et=et.replace(/[a-z]{3}/gi,function(at){if(at=at.toLowerCase(),typeof nt[at]!="undefined")return nt[at];throw new Error('Validation error, cannot resolve alias "'+at+'"')});break}if(!CronExpression$1.validCharacters[j].test(et))throw new Error("Invalid characters, got value: "+et);et.indexOf("*")!==-1?et=et.replace(/\*/g,tt.min+"-"+tt.max):et.indexOf("?")!==-1&&(et=et.replace(/\?/g,tt.min+"-"+tt.max));function rt(at){var ot=[];function lt(pt){if(pt instanceof Array)for(var gt=0,vt=pt.length;gt<vt;gt++){var ft=pt[gt];if(CronExpression$1._isValidConstraintChar(tt,ft)){ot.push(ft);continue}if(typeof ft!="number"||Number.isNaN(ft)||ft<tt.min||ft>tt.max)throw new Error("Constraint error, got value "+ft+" expected range "+tt.min+"-"+tt.max);ot.push(ft)}else{if(CronExpression$1._isValidConstraintChar(tt,pt)){ot.push(pt);return}var mt=+pt;if(Number.isNaN(mt)||mt<tt.min||mt>tt.max)throw new Error("Constraint error, got value "+pt+" expected range "+tt.min+"-"+tt.max);j==="dayOfWeek"&&(mt=mt%7),ot.push(mt)}}var ut=at.split(",");if(!ut.every(function(pt){return pt.length>0}))throw new Error("Invalid list value format");if(ut.length>1)for(var ct=0,ht=ut.length;ct<ht;ct++)lt(it(ut[ct]));else lt(it(at));return ot.sort(CronExpression$1._sortCompareFn),ot}function it(at){var ot=1,lt=at.split("/");return lt.length>1?(lt[0]==+lt[0]&&(lt=[lt[0]+"-"+tt.max,lt[1]]),st(lt[0],lt[lt.length-1])):st(at,ot)}function st(at,ot){var lt=[],ut=at.split("-");if(ut.length>1){if(ut.length<2)return+at;if(!ut[0].length){if(!ut[1].length)throw new Error("Invalid range: "+at);return+at}var ct=+ut[0],ht=+ut[1];if(Number.isNaN(ct)||Number.isNaN(ht)||ct<tt.min||ht>tt.max)throw new Error("Constraint error, got range "+ct+"-"+ht+" expected range "+tt.min+"-"+tt.max);if(ct>=ht)throw new Error("Invalid range: "+at);var pt=+ot;if(Number.isNaN(pt)||pt<=0)throw new Error("Constraint error, cannot repeat at every "+pt+" time.");for(var gt=ct,vt=ht;gt<=vt;gt++)pt>0&&pt%ot===0?(pt=1,lt.push(gt)):pt++;return lt}return Number.isNaN(+at)?at:+at}return rt(et)};CronExpression$1._sortCompareFn=function(_e,j){var et=typeof _e=="number",tt=typeof j=="number";return et&&tt?_e-j:!et&&tt?1:et&&!tt?-1:_e.localeCompare(j)};CronExpression$1._handleMaxDaysInMonth=function(_e){if(_e.month.length===1){var j=CronExpression$1.daysInMonth[_e.month[0]-1];if(_e.dayOfMonth[0]>j)throw new Error("Invalid explicit day of month definition");return _e.dayOfMonth.filter(function(et){return et==="L"?!0:et<=j}).sort(CronExpression$1._sortCompareFn)}};CronExpression$1._freezeFields=function(_e){for(var j=0,et=CronExpression$1.map.length;j<et;++j){var tt=CronExpression$1.map[j],nt=_e[tt];_e[tt]=Object.freeze(nt)}return Object.freeze(_e)};CronExpression$1.prototype._applyTimezoneShift=function(_e,j,et){if(et==="Month"||et==="Day"){var tt=_e.getTime();_e[j+et]();var nt=_e.getTime();tt===nt&&(_e.getMinutes()===0&&_e.getSeconds()===0?_e.addHour():_e.getMinutes()===59&&_e.getSeconds()===59&&_e.subtractHour())}else{var rt=_e.getHours();_e[j+et]();var it=_e.getHours(),st=it-rt;st===2?this.fields.hour.length!==24&&(this._dstStart=it):st===0&&_e.getMinutes()===0&&_e.getSeconds()===0&&this.fields.hour.length!==24&&(this._dstEnd=it)}};CronExpression$1.prototype._findSchedule=function(j){function et(ft,mt){for(var xt=0,_t=mt.length;xt<_t;xt++)if(mt[xt]>=ft)return mt[xt]===ft;return mt[0]===ft}function tt(ft,mt){if(mt<6){if(ft.getDate()<8&&mt===1)return!0;var xt=ft.getDate()%7?1:0,_t=ft.getDate()-ft.getDate()%7,Tt=Math.floor(_t/7)+xt;return Tt===mt}return!1}function nt(ft){return ft.length>0&&ft.some(function(mt){return typeof mt=="string"&&mt.indexOf("L")>=0})}j=j||!1;var rt=j?"subtract":"add",it=new CronDate(this._currentDate,this._tz),st=this._startDate,at=this._endDate,ot=it.getTime(),lt=0;function ut(ft){return ft.some(function(mt){if(!nt([mt]))return!1;var xt=Number.parseInt(mt[0])%7;if(Number.isNaN(xt))throw new Error("Invalid last weekday of the month expression: "+mt);return it.getDay()===xt&&it.isLastWeekdayOfMonth()})}for(;lt<LOOP_LIMIT;){if(lt++,j){if(st&&it.getTime()-st.getTime()<0)throw new Error("Out of the timespan range")}else if(at&&at.getTime()-it.getTime()<0)throw new Error("Out of the timespan range");var ct=et(it.getDate(),this.fields.dayOfMonth);nt(this.fields.dayOfMonth)&&(ct=ct||it.isLastDayOfMonth());var ht=et(it.getDay(),this.fields.dayOfWeek);nt(this.fields.dayOfWeek)&&(ht=ht||ut(this.fields.dayOfWeek));var pt=this.fields.dayOfMonth.length>=CronExpression$1.daysInMonth[it.getMonth()],gt=this.fields.dayOfWeek.length===CronExpression$1.constraints[5].max-CronExpression$1.constraints[5].min+1,vt=it.getHours();if(!ct&&(!ht||gt)){this._applyTimezoneShift(it,rt,"Day");continue}if(!pt&&gt&&!ct){this._applyTimezoneShift(it,rt,"Day");continue}if(pt&&!gt&&!ht){this._applyTimezoneShift(it,rt,"Day");continue}if(this._nthDayOfWeek>0&&!tt(it,this._nthDayOfWeek)){this._applyTimezoneShift(it,rt,"Day");continue}if(!et(it.getMonth()+1,this.fields.month)){this._applyTimezoneShift(it,rt,"Month");continue}if(et(vt,this.fields.hour)){if(this._dstEnd===vt&&!j){this._dstEnd=null,this._applyTimezoneShift(it,"add","Hour");continue}}else if(this._dstStart!==vt){this._dstStart=null,this._applyTimezoneShift(it,rt,"Hour");continue}else if(!et(vt-1,this.fields.hour)){it[rt+"Hour"]();continue}if(!et(it.getMinutes(),this.fields.minute)){this._applyTimezoneShift(it,rt,"Minute");continue}if(!et(it.getSeconds(),this.fields.second)){this._applyTimezoneShift(it,rt,"Second");continue}if(ot===it.getTime()){rt==="add"||it.getMilliseconds()===0?this._applyTimezoneShift(it,rt,"Second"):it.setMilliseconds(0);continue}break}if(lt>=LOOP_LIMIT)throw new Error("Invalid expression, loop limit exceeded");return this._currentDate=new CronDate(it,this._tz),this._hasIterated=!0,it};CronExpression$1.prototype.next=function(){var j=this._findSchedule();return this._isIterator?{value:j,done:!this.hasNext()}:j};CronExpression$1.prototype.prev=function(){var j=this._findSchedule(!0);return this._isIterator?{value:j,done:!this.hasPrev()}:j};CronExpression$1.prototype.hasNext=function(){var _e=this._currentDate,j=this._hasIterated;try{return this._findSchedule(),!0}catch{return!1}finally{this._currentDate=_e,this._hasIterated=j}};CronExpression$1.prototype.hasPrev=function(){var _e=this._currentDate,j=this._hasIterated;try{return this._findSchedule(!0),!0}catch{return!1}finally{this._currentDate=_e,this._hasIterated=j}};CronExpression$1.prototype.iterate=function(j,et){var tt=[];if(j>=0)for(var nt=0,rt=j;nt<rt;nt++)try{var it=this.next();tt.push(it),et&&et(it,nt)}catch{break}else for(var nt=0,rt=j;nt>rt;nt--)try{var it=this.prev();tt.push(it),et&&et(it,nt)}catch{break}return tt};CronExpression$1.prototype.reset=function(j){this._currentDate=new CronDate(j||this._options.currentDate)};CronExpression$1.prototype.stringify=function(j){for(var et=[],tt=j?0:1,nt=CronExpression$1.map.length;tt<nt;++tt){var rt=CronExpression$1.map[tt],it=this.fields[rt],st=rt==="dayOfMonth"&&this.fields.month.length===1?{min:1,max:CronExpression$1.daysInMonth[this.fields.month[0]-1]}:CronExpression$1.constraints[tt];et.push(stringifyField(it,st.min,st.max))}return et.join(" ")};CronExpression$1.parse=function(j,et){var tt=this;typeof et=="function"&&(et={});function nt(rt,it){it||(it={}),typeof it.currentDate=="undefined"&&(it.currentDate=new CronDate(void 0,tt._tz)),CronExpression$1.predefined[rt]&&(rt=CronExpression$1.predefined[rt]);var st=[],at=(rt+"").trim().split(/\s+/);if(at.length>6)throw new Error("Invalid cron expression");for(var ot=CronExpression$1.map.length-at.length,lt=0,ut=CronExpression$1.map.length;lt<ut;++lt){var ct=CronExpression$1.map[lt],ht=at[at.length>ut?lt:lt-ot];if(lt<ot||!ht)st.push(CronExpression$1._parseField(ct,CronExpression$1.parseDefaults[lt],CronExpression$1.constraints[lt]));else{var pt=ct==="dayOfWeek"?mt(ht):ht;st.push(CronExpression$1._parseField(ct,pt,CronExpression$1.constraints[lt]))}}for(var gt={},lt=0,ut=CronExpression$1.map.length;lt<ut;lt++){var vt=CronExpression$1.map[lt];gt[vt]=st[lt]}var ft=CronExpression$1._handleMaxDaysInMonth(gt);return gt.dayOfMonth=ft||gt.dayOfMonth,new CronExpression$1(gt,it);function mt(xt){var _t=xt.split("#");if(_t.length>1){var Tt=+_t[_t.length-1];if(/,/.test(xt))throw new Error("Constraint error, invalid dayOfWeek `#` and `,` special characters are incompatible");if(/\//.test(xt))throw new Error("Constraint error, invalid dayOfWeek `#` and `/` special characters are incompatible");if(/-/.test(xt))throw new Error("Constraint error, invalid dayOfWeek `#` and `-` special characters are incompatible");if(_t.length>2||Number.isNaN(Tt)||Tt<1||Tt>5)throw new Error("Constraint error, invalid dayOfWeek occurrence number (#)");return it.nthDayOfWeek=Tt,_t[0]}return xt}}return nt(j,et)};CronExpression$1.fieldsToExpression=function(j,et){function tt(ct,ht,pt){if(!ht)throw new Error("Validation error, Field "+ct+" is missing");if(ht.length===0)throw new Error("Validation error, Field "+ct+" contains no values");for(var gt=0,vt=ht.length;gt<vt;gt++){var ft=ht[gt];if(!CronExpression$1._isValidConstraintChar(pt,ft)&&(typeof ft!="number"||Number.isNaN(ft)||ft<pt.min||ft>pt.max))throw new Error("Constraint error, got value "+ft+" expected range "+pt.min+"-"+pt.max)}}for(var nt={},rt=0,it=CronExpression$1.map.length;rt<it;++rt){var st=CronExpression$1.map[rt],at=j[st];tt(st,at,CronExpression$1.constraints[rt]);for(var ot=[],lt=-1;++lt<at.length;)ot[lt]=at[lt];if(at=ot.sort(CronExpression$1._sortCompareFn).filter(function(ct,ht,pt){return!ht||ct!==pt[ht-1]}),at.length!==ot.length)throw new Error("Validation error, Field "+st+" contains duplicate values");nt[st]=at}var ut=CronExpression$1._handleMaxDaysInMonth(nt);return nt.dayOfMonth=ut||nt.dayOfMonth,new CronExpression$1(nt,et||{})};var expression=CronExpression$1,__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(__viteBrowserExternal$1),CronExpression=expression;function CronParser(){}CronParser._parseEntry=function(j){var et=j.split(" ");if(et.length===6)return{interval:CronExpression.parse(j)};if(et.length>6)return{interval:CronExpression.parse(et.slice(0,6).join(" ")),command:et.slice(6,et.length)};throw new Error("Invalid entry: "+j)};CronParser.parseExpression=function(j,et){return CronExpression.parse(j,et)};CronParser.fieldsToExpression=function(j,et){return CronExpression.fieldsToExpression(j,et)};CronParser.parseString=function(j){for(var et=j.split(`
`),tt={variables:{},expressions:[],errors:{}},nt=0,rt=et.length;nt<rt;nt++){var it=et[nt],st=null,at=it.trim();if(at.length>0){if(at.match(/^#/))continue;if(st=at.match(/^(.*)=(.*)$/))tt.variables[st[1]]=st[2];else{var ot=null;try{ot=CronParser._parseEntry("0 "+at),tt.expressions.push(ot.interval)}catch(lt){tt.errors[at]=lt}}}}return tt};CronParser.parseFile=function(j,et){require$$1.readFile(j,function(tt,nt){if(tt){et(tt);return}return et(null,CronParser.parseString(nt.toString()))})};var parser$1=CronParser;//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(_e){hookCallback=_e}function isArray$1(_e){return _e instanceof Array||Object.prototype.toString.call(_e)==="[object Array]"}function isObject(_e){return _e!=null&&Object.prototype.toString.call(_e)==="[object Object]"}function hasOwnProp(_e,j){return Object.prototype.hasOwnProperty.call(_e,j)}function isObjectEmpty(_e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(_e).length===0;var j;for(j in _e)if(hasOwnProp(_e,j))return!1;return!0}function isUndefined(_e){return _e===void 0}function isNumber(_e){return typeof _e=="number"||Object.prototype.toString.call(_e)==="[object Number]"}function isDate(_e){return _e instanceof Date||Object.prototype.toString.call(_e)==="[object Date]"}function map$3(_e,j){var et=[],tt,nt=_e.length;for(tt=0;tt<nt;++tt)et.push(j(_e[tt],tt));return et}function extend$1(_e,j){for(var et in j)hasOwnProp(j,et)&&(_e[et]=j[et]);return hasOwnProp(j,"toString")&&(_e.toString=j.toString),hasOwnProp(j,"valueOf")&&(_e.valueOf=j.valueOf),_e}function createUTC(_e,j,et,tt){return createLocalOrUTC(_e,j,et,tt,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(_e){return _e._pf==null&&(_e._pf=defaultParsingFlags()),_e._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(_e){var j=Object(this),et=j.length>>>0,tt;for(tt=0;tt<et;tt++)if(tt in j&&_e.call(this,j[tt],tt,j))return!0;return!1};function isValid(_e){if(_e._isValid==null){var j=getParsingFlags(_e),et=some.call(j.parsedDateParts,function(nt){return nt!=null}),tt=!isNaN(_e._d.getTime())&&j.overflow<0&&!j.empty&&!j.invalidEra&&!j.invalidMonth&&!j.invalidWeekday&&!j.weekdayMismatch&&!j.nullInput&&!j.invalidFormat&&!j.userInvalidated&&(!j.meridiem||j.meridiem&&et);if(_e._strict&&(tt=tt&&j.charsLeftOver===0&&j.unusedTokens.length===0&&j.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(_e))_e._isValid=tt;else return tt}return _e._isValid}function createInvalid(_e){var j=createUTC(NaN);return _e!=null?extend$1(getParsingFlags(j),_e):getParsingFlags(j).userInvalidated=!0,j}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(_e,j){var et,tt,nt,rt=momentProperties.length;if(isUndefined(j._isAMomentObject)||(_e._isAMomentObject=j._isAMomentObject),isUndefined(j._i)||(_e._i=j._i),isUndefined(j._f)||(_e._f=j._f),isUndefined(j._l)||(_e._l=j._l),isUndefined(j._strict)||(_e._strict=j._strict),isUndefined(j._tzm)||(_e._tzm=j._tzm),isUndefined(j._isUTC)||(_e._isUTC=j._isUTC),isUndefined(j._offset)||(_e._offset=j._offset),isUndefined(j._pf)||(_e._pf=getParsingFlags(j)),isUndefined(j._locale)||(_e._locale=j._locale),rt>0)for(et=0;et<rt;et++)tt=momentProperties[et],nt=j[tt],isUndefined(nt)||(_e[tt]=nt);return _e}function Moment(_e){copyConfig(this,_e),this._d=new Date(_e._d!=null?_e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(_e){return _e instanceof Moment||_e!=null&&_e._isAMomentObject!=null}function warn(_e){hooks.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+_e)}function deprecate(_e,j){var et=!0;return extend$1(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,_e),et){var tt=[],nt,rt,it,st=arguments.length;for(rt=0;rt<st;rt++){if(nt="",typeof arguments[rt]=="object"){nt+=`
[`+rt+"] ";for(it in arguments[0])hasOwnProp(arguments[0],it)&&(nt+=it+": "+arguments[0][it]+", ");nt=nt.slice(0,-2)}else nt=arguments[rt];tt.push(nt)}warn(_e+`
Arguments: `+Array.prototype.slice.call(tt).join("")+`
`+new Error().stack),et=!1}return j.apply(this,arguments)},j)}var deprecations={};function deprecateSimple(_e,j){hooks.deprecationHandler!=null&&hooks.deprecationHandler(_e,j),deprecations[_e]||(warn(j),deprecations[_e]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction(_e){return typeof Function!="undefined"&&_e instanceof Function||Object.prototype.toString.call(_e)==="[object Function]"}function set$2(_e){var j,et;for(et in _e)hasOwnProp(_e,et)&&(j=_e[et],isFunction(j)?this[et]=j:this["_"+et]=j);this._config=_e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(_e,j){var et=extend$1({},_e),tt;for(tt in j)hasOwnProp(j,tt)&&(isObject(_e[tt])&&isObject(j[tt])?(et[tt]={},extend$1(et[tt],_e[tt]),extend$1(et[tt],j[tt])):j[tt]!=null?et[tt]=j[tt]:delete et[tt]);for(tt in _e)hasOwnProp(_e,tt)&&!hasOwnProp(j,tt)&&isObject(_e[tt])&&(et[tt]=extend$1({},et[tt]));return et}function Locale(_e){_e!=null&&this.set(_e)}var keys;Object.keys?keys=Object.keys:keys=function(_e){var j,et=[];for(j in _e)hasOwnProp(_e,j)&&et.push(j);return et};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(_e,j,et){var tt=this._calendar[_e]||this._calendar.sameElse;return isFunction(tt)?tt.call(j,et):tt}function zeroFill(_e,j,et){var tt=""+Math.abs(_e),nt=j-tt.length,rt=_e>=0;return(rt?et?"+":"":"-")+Math.pow(10,Math.max(0,nt)).toString().substr(1)+tt}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(_e,j,et,tt){var nt=tt;typeof tt=="string"&&(nt=function(){return this[tt]()}),_e&&(formatTokenFunctions[_e]=nt),j&&(formatTokenFunctions[j[0]]=function(){return zeroFill(nt.apply(this,arguments),j[1],j[2])}),et&&(formatTokenFunctions[et]=function(){return this.localeData().ordinal(nt.apply(this,arguments),_e)})}function removeFormattingTokens(_e){return _e.match(/\[[\s\S]/)?_e.replace(/^\[|\]$/g,""):_e.replace(/\\/g,"")}function makeFormatFunction(_e){var j=_e.match(formattingTokens),et,tt;for(et=0,tt=j.length;et<tt;et++)formatTokenFunctions[j[et]]?j[et]=formatTokenFunctions[j[et]]:j[et]=removeFormattingTokens(j[et]);return function(nt){var rt="",it;for(it=0;it<tt;it++)rt+=isFunction(j[it])?j[it].call(nt,_e):j[it];return rt}}function formatMoment(_e,j){return _e.isValid()?(j=expandFormat(j,_e.localeData()),formatFunctions[j]=formatFunctions[j]||makeFormatFunction(j),formatFunctions[j](_e)):_e.localeData().invalidDate()}function expandFormat(_e,j){var et=5;function tt(nt){return j.longDateFormat(nt)||nt}for(localFormattingTokens.lastIndex=0;et>=0&&localFormattingTokens.test(_e);)_e=_e.replace(localFormattingTokens,tt),localFormattingTokens.lastIndex=0,et-=1;return _e}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(_e){var j=this._longDateFormat[_e],et=this._longDateFormat[_e.toUpperCase()];return j||!et?j:(this._longDateFormat[_e]=et.match(formattingTokens).map(function(tt){return tt==="MMMM"||tt==="MM"||tt==="DD"||tt==="dddd"?tt.slice(1):tt}).join(""),this._longDateFormat[_e])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal$1(_e){return this._ordinal.replace("%d",_e)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(_e,j,et,tt){var nt=this._relativeTime[et];return isFunction(nt)?nt(_e,j,et,tt):nt.replace(/%d/i,_e)}function pastFuture(_e,j){var et=this._relativeTime[_e>0?"future":"past"];return isFunction(et)?et(j):et.replace(/%s/i,j)}var aliases={};function addUnitAlias(_e,j){var et=_e.toLowerCase();aliases[et]=aliases[et+"s"]=aliases[j]=_e}function normalizeUnits(_e){return typeof _e=="string"?aliases[_e]||aliases[_e.toLowerCase()]:void 0}function normalizeObjectUnits(_e){var j={},et,tt;for(tt in _e)hasOwnProp(_e,tt)&&(et=normalizeUnits(tt),et&&(j[et]=_e[tt]));return j}var priorities={};function addUnitPriority(_e,j){priorities[_e]=j}function getPrioritizedUnits(_e){var j=[],et;for(et in _e)hasOwnProp(_e,et)&&j.push({unit:et,priority:priorities[et]});return j.sort(function(tt,nt){return tt.priority-nt.priority}),j}function isLeapYear(_e){return _e%4===0&&_e%100!==0||_e%400===0}function absFloor(_e){return _e<0?Math.ceil(_e)||0:Math.floor(_e)}function toInt(_e){var j=+_e,et=0;return j!==0&&isFinite(j)&&(et=absFloor(j)),et}function makeGetSet(_e,j){return function(et){return et!=null?(set$1$1(this,_e,et),hooks.updateOffset(this,j),this):get$2(this,_e)}}function get$2(_e,j){return _e.isValid()?_e._d["get"+(_e._isUTC?"UTC":"")+j]():NaN}function set$1$1(_e,j,et){_e.isValid()&&!isNaN(et)&&(j==="FullYear"&&isLeapYear(_e.year())&&_e.month()===1&&_e.date()===29?(et=toInt(et),_e._d["set"+(_e._isUTC?"UTC":"")+j](et,_e.month(),daysInMonth(et,_e.month()))):_e._d["set"+(_e._isUTC?"UTC":"")+j](et))}function stringGet(_e){return _e=normalizeUnits(_e),isFunction(this[_e])?this[_e]():this}function stringSet(_e,j){if(typeof _e=="object"){_e=normalizeObjectUnits(_e);var et=getPrioritizedUnits(_e),tt,nt=et.length;for(tt=0;tt<nt;tt++)this[et[tt].unit](_e[et[tt].unit])}else if(_e=normalizeUnits(_e),isFunction(this[_e]))return this[_e](j);return this}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes;regexes={};function addRegexToken(_e,j,et){regexes[_e]=isFunction(j)?j:function(tt,nt){return tt&&et?et:j}}function getParseRegexForToken(_e,j){return hasOwnProp(regexes,_e)?regexes[_e](j._strict,j._locale):new RegExp(unescapeFormat(_e))}function unescapeFormat(_e){return regexEscape(_e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(j,et,tt,nt,rt){return et||tt||nt||rt}))}function regexEscape(_e){return _e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(_e,j){var et,tt=j,nt;for(typeof _e=="string"&&(_e=[_e]),isNumber(j)&&(tt=function(rt,it){it[j]=toInt(rt)}),nt=_e.length,et=0;et<nt;et++)tokens[_e[et]]=tt}function addWeekParseToken(_e,j){addParseToken(_e,function(et,tt,nt,rt){nt._w=nt._w||{},j(et,nt._w,nt,rt)})}function addTimeToArrayFromToken(_e,j,et){j!=null&&hasOwnProp(tokens,_e)&&tokens[_e](j,et._a,et,_e)}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function mod(_e,j){return(_e%j+j)%j}var indexOf;Array.prototype.indexOf?indexOf=Array.prototype.indexOf:indexOf=function(_e){var j;for(j=0;j<this.length;++j)if(this[j]===_e)return j;return-1};function daysInMonth(_e,j){if(isNaN(_e)||isNaN(j))return NaN;var et=mod(j,12);return _e+=(j-et)/12,et===1?isLeapYear(_e)?29:28:31-et%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(_e){return this.localeData().monthsShort(this,_e)});addFormatToken("MMMM",0,0,function(_e){return this.localeData().months(this,_e)});addUnitAlias("month","M");addUnitPriority("month",8);addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(_e,j){return j.monthsShortRegex(_e)});addRegexToken("MMMM",function(_e,j){return j.monthsRegex(_e)});addParseToken(["M","MM"],function(_e,j){j[MONTH]=toInt(_e)-1});addParseToken(["MMM","MMMM"],function(_e,j,et,tt){var nt=et._locale.monthsParse(_e,tt,et._strict);nt!=null?j[MONTH]=nt:getParsingFlags(et).invalidMonth=_e});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(_e,j){return _e?isArray$1(this._months)?this._months[_e.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(j)?"format":"standalone"][_e.month()]:isArray$1(this._months)?this._months:this._months.standalone}function localeMonthsShort(_e,j){return _e?isArray$1(this._monthsShort)?this._monthsShort[_e.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(j)?"format":"standalone"][_e.month()]:isArray$1(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(_e,j,et){var tt,nt,rt,it=_e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],tt=0;tt<12;++tt)rt=createUTC([2e3,tt]),this._shortMonthsParse[tt]=this.monthsShort(rt,"").toLocaleLowerCase(),this._longMonthsParse[tt]=this.months(rt,"").toLocaleLowerCase();return et?j==="MMM"?(nt=indexOf.call(this._shortMonthsParse,it),nt!==-1?nt:null):(nt=indexOf.call(this._longMonthsParse,it),nt!==-1?nt:null):j==="MMM"?(nt=indexOf.call(this._shortMonthsParse,it),nt!==-1?nt:(nt=indexOf.call(this._longMonthsParse,it),nt!==-1?nt:null)):(nt=indexOf.call(this._longMonthsParse,it),nt!==-1?nt:(nt=indexOf.call(this._shortMonthsParse,it),nt!==-1?nt:null))}function localeMonthsParse(_e,j,et){var tt,nt,rt;if(this._monthsParseExact)return handleStrictParse.call(this,_e,j,et);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),tt=0;tt<12;tt++){if(nt=createUTC([2e3,tt]),et&&!this._longMonthsParse[tt]&&(this._longMonthsParse[tt]=new RegExp("^"+this.months(nt,"").replace(".","")+"$","i"),this._shortMonthsParse[tt]=new RegExp("^"+this.monthsShort(nt,"").replace(".","")+"$","i")),!et&&!this._monthsParse[tt]&&(rt="^"+this.months(nt,"")+"|^"+this.monthsShort(nt,""),this._monthsParse[tt]=new RegExp(rt.replace(".",""),"i")),et&&j==="MMMM"&&this._longMonthsParse[tt].test(_e))return tt;if(et&&j==="MMM"&&this._shortMonthsParse[tt].test(_e))return tt;if(!et&&this._monthsParse[tt].test(_e))return tt}}function setMonth(_e,j){var et;if(!_e.isValid())return _e;if(typeof j=="string"){if(/^\d+$/.test(j))j=toInt(j);else if(j=_e.localeData().monthsParse(j),!isNumber(j))return _e}return et=Math.min(_e.date(),daysInMonth(_e.year(),j)),_e._d["set"+(_e._isUTC?"UTC":"")+"Month"](j,et),_e}function getSetMonth(_e){return _e!=null?(setMonth(this,_e),hooks.updateOffset(this,!0),this):get$2(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(_e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),_e?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&_e?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(_e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),_e?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&_e?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function _e(it,st){return st.length-it.length}var j=[],et=[],tt=[],nt,rt;for(nt=0;nt<12;nt++)rt=createUTC([2e3,nt]),j.push(this.monthsShort(rt,"")),et.push(this.months(rt,"")),tt.push(this.months(rt,"")),tt.push(this.monthsShort(rt,""));for(j.sort(_e),et.sort(_e),tt.sort(_e),nt=0;nt<12;nt++)j[nt]=regexEscape(j[nt]),et[nt]=regexEscape(et[nt]);for(nt=0;nt<24;nt++)tt[nt]=regexEscape(tt[nt]);this._monthsRegex=new RegExp("^("+tt.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+et.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+j.join("|")+")","i")}addFormatToken("Y",0,0,function(){var _e=this.year();return _e<=9999?zeroFill(_e,4):"+"+_e});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addUnitAlias("year","y");addUnitPriority("year",1);addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(_e,j){j[YEAR]=_e.length===2?hooks.parseTwoDigitYear(_e):toInt(_e)});addParseToken("YY",function(_e,j){j[YEAR]=hooks.parseTwoDigitYear(_e)});addParseToken("Y",function(_e,j){j[YEAR]=parseInt(_e,10)});function daysInYear(_e){return isLeapYear(_e)?366:365}hooks.parseTwoDigitYear=function(_e){return toInt(_e)+(toInt(_e)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function createDate(_e,j,et,tt,nt,rt,it){var st;return _e<100&&_e>=0?(st=new Date(_e+400,j,et,tt,nt,rt,it),isFinite(st.getFullYear())&&st.setFullYear(_e)):st=new Date(_e,j,et,tt,nt,rt,it),st}function createUTCDate(_e){var j,et;return _e<100&&_e>=0?(et=Array.prototype.slice.call(arguments),et[0]=_e+400,j=new Date(Date.UTC.apply(null,et)),isFinite(j.getUTCFullYear())&&j.setUTCFullYear(_e)):j=new Date(Date.UTC.apply(null,arguments)),j}function firstWeekOffset(_e,j,et){var tt=7+j-et,nt=(7+createUTCDate(_e,0,tt).getUTCDay()-j)%7;return-nt+tt-1}function dayOfYearFromWeeks(_e,j,et,tt,nt){var rt=(7+et-tt)%7,it=firstWeekOffset(_e,tt,nt),st=1+7*(j-1)+rt+it,at,ot;return st<=0?(at=_e-1,ot=daysInYear(at)+st):st>daysInYear(_e)?(at=_e+1,ot=st-daysInYear(_e)):(at=_e,ot=st),{year:at,dayOfYear:ot}}function weekOfYear(_e,j,et){var tt=firstWeekOffset(_e.year(),j,et),nt=Math.floor((_e.dayOfYear()-tt-1)/7)+1,rt,it;return nt<1?(it=_e.year()-1,rt=nt+weeksInYear(it,j,et)):nt>weeksInYear(_e.year(),j,et)?(rt=nt-weeksInYear(_e.year(),j,et),it=_e.year()+1):(it=_e.year(),rt=nt),{week:rt,year:it}}function weeksInYear(_e,j,et){var tt=firstWeekOffset(_e,j,et),nt=firstWeekOffset(_e+1,j,et);return(daysInYear(_e)-tt+nt)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addUnitPriority("week",5);addUnitPriority("isoWeek",5);addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(_e,j,et,tt){j[tt.substr(0,1)]=toInt(_e)});function localeWeek(_e){return weekOfYear(_e,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(_e){var j=this.localeData().week(this);return _e==null?j:this.add((_e-j)*7,"d")}function getSetISOWeek(_e){var j=weekOfYear(this,1,4).week;return _e==null?j:this.add((_e-j)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(_e){return this.localeData().weekdaysMin(this,_e)});addFormatToken("ddd",0,0,function(_e){return this.localeData().weekdaysShort(this,_e)});addFormatToken("dddd",0,0,function(_e){return this.localeData().weekdays(this,_e)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addUnitPriority("day",11);addUnitPriority("weekday",11);addUnitPriority("isoWeekday",11);addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(_e,j){return j.weekdaysMinRegex(_e)});addRegexToken("ddd",function(_e,j){return j.weekdaysShortRegex(_e)});addRegexToken("dddd",function(_e,j){return j.weekdaysRegex(_e)});addWeekParseToken(["dd","ddd","dddd"],function(_e,j,et,tt){var nt=et._locale.weekdaysParse(_e,tt,et._strict);nt!=null?j.d=nt:getParsingFlags(et).invalidWeekday=_e});addWeekParseToken(["d","e","E"],function(_e,j,et,tt){j[tt]=toInt(_e)});function parseWeekday(_e,j){return typeof _e!="string"?_e:isNaN(_e)?(_e=j.weekdaysParse(_e),typeof _e=="number"?_e:null):parseInt(_e,10)}function parseIsoWeekday(_e,j){return typeof _e=="string"?j.weekdaysParse(_e)%7||7:isNaN(_e)?null:_e}function shiftWeekdays(_e,j){return _e.slice(j,7).concat(_e.slice(0,j))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(_e,j){var et=isArray$1(this._weekdays)?this._weekdays:this._weekdays[_e&&_e!==!0&&this._weekdays.isFormat.test(j)?"format":"standalone"];return _e===!0?shiftWeekdays(et,this._week.dow):_e?et[_e.day()]:et}function localeWeekdaysShort(_e){return _e===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):_e?this._weekdaysShort[_e.day()]:this._weekdaysShort}function localeWeekdaysMin(_e){return _e===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):_e?this._weekdaysMin[_e.day()]:this._weekdaysMin}function handleStrictParse$1(_e,j,et){var tt,nt,rt,it=_e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],tt=0;tt<7;++tt)rt=createUTC([2e3,1]).day(tt),this._minWeekdaysParse[tt]=this.weekdaysMin(rt,"").toLocaleLowerCase(),this._shortWeekdaysParse[tt]=this.weekdaysShort(rt,"").toLocaleLowerCase(),this._weekdaysParse[tt]=this.weekdays(rt,"").toLocaleLowerCase();return et?j==="dddd"?(nt=indexOf.call(this._weekdaysParse,it),nt!==-1?nt:null):j==="ddd"?(nt=indexOf.call(this._shortWeekdaysParse,it),nt!==-1?nt:null):(nt=indexOf.call(this._minWeekdaysParse,it),nt!==-1?nt:null):j==="dddd"?(nt=indexOf.call(this._weekdaysParse,it),nt!==-1||(nt=indexOf.call(this._shortWeekdaysParse,it),nt!==-1)?nt:(nt=indexOf.call(this._minWeekdaysParse,it),nt!==-1?nt:null)):j==="ddd"?(nt=indexOf.call(this._shortWeekdaysParse,it),nt!==-1||(nt=indexOf.call(this._weekdaysParse,it),nt!==-1)?nt:(nt=indexOf.call(this._minWeekdaysParse,it),nt!==-1?nt:null)):(nt=indexOf.call(this._minWeekdaysParse,it),nt!==-1||(nt=indexOf.call(this._weekdaysParse,it),nt!==-1)?nt:(nt=indexOf.call(this._shortWeekdaysParse,it),nt!==-1?nt:null))}function localeWeekdaysParse(_e,j,et){var tt,nt,rt;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,_e,j,et);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),tt=0;tt<7;tt++){if(nt=createUTC([2e3,1]).day(tt),et&&!this._fullWeekdaysParse[tt]&&(this._fullWeekdaysParse[tt]=new RegExp("^"+this.weekdays(nt,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[tt]=new RegExp("^"+this.weekdaysShort(nt,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[tt]=new RegExp("^"+this.weekdaysMin(nt,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[tt]||(rt="^"+this.weekdays(nt,"")+"|^"+this.weekdaysShort(nt,"")+"|^"+this.weekdaysMin(nt,""),this._weekdaysParse[tt]=new RegExp(rt.replace(".",""),"i")),et&&j==="dddd"&&this._fullWeekdaysParse[tt].test(_e))return tt;if(et&&j==="ddd"&&this._shortWeekdaysParse[tt].test(_e))return tt;if(et&&j==="dd"&&this._minWeekdaysParse[tt].test(_e))return tt;if(!et&&this._weekdaysParse[tt].test(_e))return tt}}function getSetDayOfWeek(_e){if(!this.isValid())return _e!=null?this:NaN;var j=this._isUTC?this._d.getUTCDay():this._d.getDay();return _e!=null?(_e=parseWeekday(_e,this.localeData()),this.add(_e-j,"d")):j}function getSetLocaleDayOfWeek(_e){if(!this.isValid())return _e!=null?this:NaN;var j=(this.day()+7-this.localeData()._week.dow)%7;return _e==null?j:this.add(_e-j,"d")}function getSetISODayOfWeek(_e){if(!this.isValid())return _e!=null?this:NaN;if(_e!=null){var j=parseIsoWeekday(_e,this.localeData());return this.day(this.day()%7?j:j-7)}else return this.day()||7}function weekdaysRegex(_e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),_e?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&_e?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(_e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),_e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&_e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(_e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),_e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&_e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function _e(lt,ut){return ut.length-lt.length}var j=[],et=[],tt=[],nt=[],rt,it,st,at,ot;for(rt=0;rt<7;rt++)it=createUTC([2e3,1]).day(rt),st=regexEscape(this.weekdaysMin(it,"")),at=regexEscape(this.weekdaysShort(it,"")),ot=regexEscape(this.weekdays(it,"")),j.push(st),et.push(at),tt.push(ot),nt.push(st),nt.push(at),nt.push(ot);j.sort(_e),et.sort(_e),tt.sort(_e),nt.sort(_e),this._weekdaysRegex=new RegExp("^("+nt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+tt.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+et.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+j.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(_e,j){addFormatToken(_e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),j)})}meridiem("a",!0);meridiem("A",!1);addUnitAlias("hour","h");addUnitPriority("hour",13);function matchMeridiem(_e,j){return j._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("k",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(_e,j,et){var tt=toInt(_e);j[HOUR]=tt===24?0:tt});addParseToken(["a","A"],function(_e,j,et){et._isPm=et._locale.isPM(_e),et._meridiem=_e});addParseToken(["h","hh"],function(_e,j,et){j[HOUR]=toInt(_e),getParsingFlags(et).bigHour=!0});addParseToken("hmm",function(_e,j,et){var tt=_e.length-2;j[HOUR]=toInt(_e.substr(0,tt)),j[MINUTE]=toInt(_e.substr(tt)),getParsingFlags(et).bigHour=!0});addParseToken("hmmss",function(_e,j,et){var tt=_e.length-4,nt=_e.length-2;j[HOUR]=toInt(_e.substr(0,tt)),j[MINUTE]=toInt(_e.substr(tt,2)),j[SECOND]=toInt(_e.substr(nt)),getParsingFlags(et).bigHour=!0});addParseToken("Hmm",function(_e,j,et){var tt=_e.length-2;j[HOUR]=toInt(_e.substr(0,tt)),j[MINUTE]=toInt(_e.substr(tt))});addParseToken("Hmmss",function(_e,j,et){var tt=_e.length-4,nt=_e.length-2;j[HOUR]=toInt(_e.substr(0,tt)),j[MINUTE]=toInt(_e.substr(tt,2)),j[SECOND]=toInt(_e.substr(nt))});function localeIsPM(_e){return(_e+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(_e,j,et){return _e>11?et?"pm":"PM":et?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(_e,j){var et,tt=Math.min(_e.length,j.length);for(et=0;et<tt;et+=1)if(_e[et]!==j[et])return et;return tt}function normalizeLocale(_e){return _e&&_e.toLowerCase().replace("_","-")}function chooseLocale(_e){for(var j=0,et,tt,nt,rt;j<_e.length;){for(rt=normalizeLocale(_e[j]).split("-"),et=rt.length,tt=normalizeLocale(_e[j+1]),tt=tt?tt.split("-"):null;et>0;){if(nt=loadLocale(rt.slice(0,et).join("-")),nt)return nt;if(tt&&tt.length>=et&&commonPrefix(rt,tt)>=et-1)break;et--}j++}return globalLocale}function isLocaleNameSane(_e){return _e.match("^[^/\\\\]*$")!=null}function loadLocale(_e){var j=null,et;if(locales[_e]===void 0&&typeof module!="undefined"&&module&&module.exports&&isLocaleNameSane(_e))try{j=globalLocale._abbr,et=require,et("./locale/"+_e),getSetGlobalLocale(j)}catch{locales[_e]=null}return locales[_e]}function getSetGlobalLocale(_e,j){var et;return _e&&(isUndefined(j)?et=getLocale(_e):et=defineLocale(_e,j),et?globalLocale=et:typeof console!="undefined"&&console.warn&&console.warn("Locale "+_e+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(_e,j){if(j!==null){var et,tt=baseConfig;if(j.abbr=_e,locales[_e]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),tt=locales[_e]._config;else if(j.parentLocale!=null)if(locales[j.parentLocale]!=null)tt=locales[j.parentLocale]._config;else if(et=loadLocale(j.parentLocale),et!=null)tt=et._config;else return localeFamilies[j.parentLocale]||(localeFamilies[j.parentLocale]=[]),localeFamilies[j.parentLocale].push({name:_e,config:j}),null;return locales[_e]=new Locale(mergeConfigs(tt,j)),localeFamilies[_e]&&localeFamilies[_e].forEach(function(nt){defineLocale(nt.name,nt.config)}),getSetGlobalLocale(_e),locales[_e]}else return delete locales[_e],null}function updateLocale(_e,j){if(j!=null){var et,tt,nt=baseConfig;locales[_e]!=null&&locales[_e].parentLocale!=null?locales[_e].set(mergeConfigs(locales[_e]._config,j)):(tt=loadLocale(_e),tt!=null&&(nt=tt._config),j=mergeConfigs(nt,j),tt==null&&(j.abbr=_e),et=new Locale(j),et.parentLocale=locales[_e],locales[_e]=et),getSetGlobalLocale(_e)}else locales[_e]!=null&&(locales[_e].parentLocale!=null?(locales[_e]=locales[_e].parentLocale,_e===getSetGlobalLocale()&&getSetGlobalLocale(_e)):locales[_e]!=null&&delete locales[_e]);return locales[_e]}function getLocale(_e){var j;if(_e&&_e._locale&&_e._locale._abbr&&(_e=_e._locale._abbr),!_e)return globalLocale;if(!isArray$1(_e)){if(j=loadLocale(_e),j)return j;_e=[_e]}return chooseLocale(_e)}function listLocales(){return keys(locales)}function checkOverflow(_e){var j,et=_e._a;return et&&getParsingFlags(_e).overflow===-2&&(j=et[MONTH]<0||et[MONTH]>11?MONTH:et[DATE]<1||et[DATE]>daysInMonth(et[YEAR],et[MONTH])?DATE:et[HOUR]<0||et[HOUR]>24||et[HOUR]===24&&(et[MINUTE]!==0||et[SECOND]!==0||et[MILLISECOND]!==0)?HOUR:et[MINUTE]<0||et[MINUTE]>59?MINUTE:et[SECOND]<0||et[SECOND]>59?SECOND:et[MILLISECOND]<0||et[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(_e)._overflowDayOfYear&&(j<YEAR||j>DATE)&&(j=DATE),getParsingFlags(_e)._overflowWeeks&&j===-1&&(j=WEEK),getParsingFlags(_e)._overflowWeekday&&j===-1&&(j=WEEKDAY),getParsingFlags(_e).overflow=j),_e}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function configFromISO(_e){var j,et,tt=_e._i,nt=extendedIsoRegex.exec(tt)||basicIsoRegex.exec(tt),rt,it,st,at,ot=isoDates.length,lt=isoTimes.length;if(nt){for(getParsingFlags(_e).iso=!0,j=0,et=ot;j<et;j++)if(isoDates[j][1].exec(nt[1])){it=isoDates[j][0],rt=isoDates[j][2]!==!1;break}if(it==null){_e._isValid=!1;return}if(nt[3]){for(j=0,et=lt;j<et;j++)if(isoTimes[j][1].exec(nt[3])){st=(nt[2]||" ")+isoTimes[j][0];break}if(st==null){_e._isValid=!1;return}}if(!rt&&st!=null){_e._isValid=!1;return}if(nt[4])if(tzRegex.exec(nt[4]))at="Z";else{_e._isValid=!1;return}_e._f=it+(st||"")+(at||""),configFromStringAndFormat(_e)}else _e._isValid=!1}function extractFromRFC2822Strings(_e,j,et,tt,nt,rt){var it=[untruncateYear(_e),defaultLocaleMonthsShort.indexOf(j),parseInt(et,10),parseInt(tt,10),parseInt(nt,10)];return rt&&it.push(parseInt(rt,10)),it}function untruncateYear(_e){var j=parseInt(_e,10);return j<=49?2e3+j:j<=999?1900+j:j}function preprocessRFC2822(_e){return _e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(_e,j,et){if(_e){var tt=defaultLocaleWeekdaysShort.indexOf(_e),nt=new Date(j[0],j[1],j[2]).getDay();if(tt!==nt)return getParsingFlags(et).weekdayMismatch=!0,et._isValid=!1,!1}return!0}function calculateOffset(_e,j,et){if(_e)return obsOffsets[_e];if(j)return 0;var tt=parseInt(et,10),nt=tt%100,rt=(tt-nt)/100;return rt*60+nt}function configFromRFC2822(_e){var j=rfc2822.exec(preprocessRFC2822(_e._i)),et;if(j){if(et=extractFromRFC2822Strings(j[4],j[3],j[2],j[5],j[6],j[7]),!checkWeekday(j[1],et,_e))return;_e._a=et,_e._tzm=calculateOffset(j[8],j[9],j[10]),_e._d=createUTCDate.apply(null,_e._a),_e._d.setUTCMinutes(_e._d.getUTCMinutes()-_e._tzm),getParsingFlags(_e).rfc2822=!0}else _e._isValid=!1}function configFromString(_e){var j=aspNetJsonRegex.exec(_e._i);if(j!==null){_e._d=new Date(+j[1]);return}if(configFromISO(_e),_e._isValid===!1)delete _e._isValid;else return;if(configFromRFC2822(_e),_e._isValid===!1)delete _e._isValid;else return;_e._strict?_e._isValid=!1:hooks.createFromInputFallback(_e)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(_e){_e._d=new Date(_e._i+(_e._useUTC?" UTC":""))});function defaults(_e,j,et){return _e!=null?_e:j!=null?j:et}function currentDateArray(_e){var j=new Date(hooks.now());return _e._useUTC?[j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate()]:[j.getFullYear(),j.getMonth(),j.getDate()]}function configFromArray(_e){var j,et,tt=[],nt,rt,it;if(!_e._d){for(nt=currentDateArray(_e),_e._w&&_e._a[DATE]==null&&_e._a[MONTH]==null&&dayOfYearFromWeekInfo(_e),_e._dayOfYear!=null&&(it=defaults(_e._a[YEAR],nt[YEAR]),(_e._dayOfYear>daysInYear(it)||_e._dayOfYear===0)&&(getParsingFlags(_e)._overflowDayOfYear=!0),et=createUTCDate(it,0,_e._dayOfYear),_e._a[MONTH]=et.getUTCMonth(),_e._a[DATE]=et.getUTCDate()),j=0;j<3&&_e._a[j]==null;++j)_e._a[j]=tt[j]=nt[j];for(;j<7;j++)_e._a[j]=tt[j]=_e._a[j]==null?j===2?1:0:_e._a[j];_e._a[HOUR]===24&&_e._a[MINUTE]===0&&_e._a[SECOND]===0&&_e._a[MILLISECOND]===0&&(_e._nextDay=!0,_e._a[HOUR]=0),_e._d=(_e._useUTC?createUTCDate:createDate).apply(null,tt),rt=_e._useUTC?_e._d.getUTCDay():_e._d.getDay(),_e._tzm!=null&&_e._d.setUTCMinutes(_e._d.getUTCMinutes()-_e._tzm),_e._nextDay&&(_e._a[HOUR]=24),_e._w&&typeof _e._w.d!="undefined"&&_e._w.d!==rt&&(getParsingFlags(_e).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(_e){var j,et,tt,nt,rt,it,st,at,ot;j=_e._w,j.GG!=null||j.W!=null||j.E!=null?(rt=1,it=4,et=defaults(j.GG,_e._a[YEAR],weekOfYear(createLocal(),1,4).year),tt=defaults(j.W,1),nt=defaults(j.E,1),(nt<1||nt>7)&&(at=!0)):(rt=_e._locale._week.dow,it=_e._locale._week.doy,ot=weekOfYear(createLocal(),rt,it),et=defaults(j.gg,_e._a[YEAR],ot.year),tt=defaults(j.w,ot.week),j.d!=null?(nt=j.d,(nt<0||nt>6)&&(at=!0)):j.e!=null?(nt=j.e+rt,(j.e<0||j.e>6)&&(at=!0)):nt=rt),tt<1||tt>weeksInYear(et,rt,it)?getParsingFlags(_e)._overflowWeeks=!0:at!=null?getParsingFlags(_e)._overflowWeekday=!0:(st=dayOfYearFromWeeks(et,tt,nt,rt,it),_e._a[YEAR]=st.year,_e._dayOfYear=st.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(_e){if(_e._f===hooks.ISO_8601){configFromISO(_e);return}if(_e._f===hooks.RFC_2822){configFromRFC2822(_e);return}_e._a=[],getParsingFlags(_e).empty=!0;var j=""+_e._i,et,tt,nt,rt,it,st=j.length,at=0,ot,lt;for(nt=expandFormat(_e._f,_e._locale).match(formattingTokens)||[],lt=nt.length,et=0;et<lt;et++)rt=nt[et],tt=(j.match(getParseRegexForToken(rt,_e))||[])[0],tt&&(it=j.substr(0,j.indexOf(tt)),it.length>0&&getParsingFlags(_e).unusedInput.push(it),j=j.slice(j.indexOf(tt)+tt.length),at+=tt.length),formatTokenFunctions[rt]?(tt?getParsingFlags(_e).empty=!1:getParsingFlags(_e).unusedTokens.push(rt),addTimeToArrayFromToken(rt,tt,_e)):_e._strict&&!tt&&getParsingFlags(_e).unusedTokens.push(rt);getParsingFlags(_e).charsLeftOver=st-at,j.length>0&&getParsingFlags(_e).unusedInput.push(j),_e._a[HOUR]<=12&&getParsingFlags(_e).bigHour===!0&&_e._a[HOUR]>0&&(getParsingFlags(_e).bigHour=void 0),getParsingFlags(_e).parsedDateParts=_e._a.slice(0),getParsingFlags(_e).meridiem=_e._meridiem,_e._a[HOUR]=meridiemFixWrap(_e._locale,_e._a[HOUR],_e._meridiem),ot=getParsingFlags(_e).era,ot!==null&&(_e._a[YEAR]=_e._locale.erasConvertYear(ot,_e._a[YEAR])),configFromArray(_e),checkOverflow(_e)}function meridiemFixWrap(_e,j,et){var tt;return et==null?j:_e.meridiemHour!=null?_e.meridiemHour(j,et):(_e.isPM!=null&&(tt=_e.isPM(et),tt&&j<12&&(j+=12),!tt&&j===12&&(j=0)),j)}function configFromStringAndArray(_e){var j,et,tt,nt,rt,it,st=!1,at=_e._f.length;if(at===0){getParsingFlags(_e).invalidFormat=!0,_e._d=new Date(NaN);return}for(nt=0;nt<at;nt++)rt=0,it=!1,j=copyConfig({},_e),_e._useUTC!=null&&(j._useUTC=_e._useUTC),j._f=_e._f[nt],configFromStringAndFormat(j),isValid(j)&&(it=!0),rt+=getParsingFlags(j).charsLeftOver,rt+=getParsingFlags(j).unusedTokens.length*10,getParsingFlags(j).score=rt,st?rt<tt&&(tt=rt,et=j):(tt==null||rt<tt||it)&&(tt=rt,et=j,it&&(st=!0));extend$1(_e,et||j)}function configFromObject(_e){if(!_e._d){var j=normalizeObjectUnits(_e._i),et=j.day===void 0?j.date:j.day;_e._a=map$3([j.year,j.month,et,j.hour,j.minute,j.second,j.millisecond],function(tt){return tt&&parseInt(tt,10)}),configFromArray(_e)}}function createFromConfig(_e){var j=new Moment(checkOverflow(prepareConfig(_e)));return j._nextDay&&(j.add(1,"d"),j._nextDay=void 0),j}function prepareConfig(_e){var j=_e._i,et=_e._f;return _e._locale=_e._locale||getLocale(_e._l),j===null||et===void 0&&j===""?createInvalid({nullInput:!0}):(typeof j=="string"&&(_e._i=j=_e._locale.preparse(j)),isMoment(j)?new Moment(checkOverflow(j)):(isDate(j)?_e._d=j:isArray$1(et)?configFromStringAndArray(_e):et?configFromStringAndFormat(_e):configFromInput(_e),isValid(_e)||(_e._d=null),_e))}function configFromInput(_e){var j=_e._i;isUndefined(j)?_e._d=new Date(hooks.now()):isDate(j)?_e._d=new Date(j.valueOf()):typeof j=="string"?configFromString(_e):isArray$1(j)?(_e._a=map$3(j.slice(0),function(et){return parseInt(et,10)}),configFromArray(_e)):isObject(j)?configFromObject(_e):isNumber(j)?_e._d=new Date(j):hooks.createFromInputFallback(_e)}function createLocalOrUTC(_e,j,et,tt,nt){var rt={};return(j===!0||j===!1)&&(tt=j,j=void 0),(et===!0||et===!1)&&(tt=et,et=void 0),(isObject(_e)&&isObjectEmpty(_e)||isArray$1(_e)&&_e.length===0)&&(_e=void 0),rt._isAMomentObject=!0,rt._useUTC=rt._isUTC=nt,rt._l=et,rt._i=_e,rt._f=j,rt._strict=tt,createFromConfig(rt)}function createLocal(_e,j,et,tt){return createLocalOrUTC(_e,j,et,tt,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var _e=createLocal.apply(null,arguments);return this.isValid()&&_e.isValid()?_e<this?this:_e:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var _e=createLocal.apply(null,arguments);return this.isValid()&&_e.isValid()?_e>this?this:_e:createInvalid()});function pickBy(_e,j){var et,tt;if(j.length===1&&isArray$1(j[0])&&(j=j[0]),!j.length)return createLocal();for(et=j[0],tt=1;tt<j.length;++tt)(!j[tt].isValid()||j[tt][_e](et))&&(et=j[tt]);return et}function min(){var _e=[].slice.call(arguments,0);return pickBy("isBefore",_e)}function max(){var _e=[].slice.call(arguments,0);return pickBy("isAfter",_e)}var now$3=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(_e){var j,et=!1,tt,nt=ordering.length;for(j in _e)if(hasOwnProp(_e,j)&&!(indexOf.call(ordering,j)!==-1&&(_e[j]==null||!isNaN(_e[j]))))return!1;for(tt=0;tt<nt;++tt)if(_e[ordering[tt]]){if(et)return!1;parseFloat(_e[ordering[tt]])!==toInt(_e[ordering[tt]])&&(et=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(_e){var j=normalizeObjectUnits(_e),et=j.year||0,tt=j.quarter||0,nt=j.month||0,rt=j.week||j.isoWeek||0,it=j.day||0,st=j.hour||0,at=j.minute||0,ot=j.second||0,lt=j.millisecond||0;this._isValid=isDurationValid(j),this._milliseconds=+lt+ot*1e3+at*6e4+st*1e3*60*60,this._days=+it+rt*7,this._months=+nt+tt*3+et*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(_e){return _e instanceof Duration}function absRound(_e){return _e<0?Math.round(-1*_e)*-1:Math.round(_e)}function compareArrays(_e,j,et){var tt=Math.min(_e.length,j.length),nt=Math.abs(_e.length-j.length),rt=0,it;for(it=0;it<tt;it++)(et&&_e[it]!==j[it]||!et&&toInt(_e[it])!==toInt(j[it]))&&rt++;return rt+nt}function offset(_e,j){addFormatToken(_e,0,0,function(){var et=this.utcOffset(),tt="+";return et<0&&(et=-et,tt="-"),tt+zeroFill(~~(et/60),2)+j+zeroFill(~~et%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(_e,j,et){et._useUTC=!0,et._tzm=offsetFromString(matchShortOffset,_e)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(_e,j){var et=(j||"").match(_e),tt,nt,rt;return et===null?null:(tt=et[et.length-1]||[],nt=(tt+"").match(chunkOffset)||["-",0,0],rt=+(nt[1]*60)+toInt(nt[2]),rt===0?0:nt[0]==="+"?rt:-rt)}function cloneWithOffset(_e,j){var et,tt;return j._isUTC?(et=j.clone(),tt=(isMoment(_e)||isDate(_e)?_e.valueOf():createLocal(_e).valueOf())-et.valueOf(),et._d.setTime(et._d.valueOf()+tt),hooks.updateOffset(et,!1),et):createLocal(_e).local()}function getDateOffset(_e){return-Math.round(_e._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(_e,j,et){var tt=this._offset||0,nt;if(!this.isValid())return _e!=null?this:NaN;if(_e!=null){if(typeof _e=="string"){if(_e=offsetFromString(matchShortOffset,_e),_e===null)return this}else Math.abs(_e)<16&&!et&&(_e=_e*60);return!this._isUTC&&j&&(nt=getDateOffset(this)),this._offset=_e,this._isUTC=!0,nt!=null&&this.add(nt,"m"),tt!==_e&&(!j||this._changeInProgress?addSubtract(this,createDuration(_e-tt,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?tt:getDateOffset(this)}function getSetZone(_e,j){return _e!=null?(typeof _e!="string"&&(_e=-_e),this.utcOffset(_e,j),this):-this.utcOffset()}function setOffsetToUTC(_e){return this.utcOffset(0,_e)}function setOffsetToLocal(_e){return this._isUTC&&(this.utcOffset(0,_e),this._isUTC=!1,_e&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var _e=offsetFromString(matchOffset,this._i);_e!=null?this.utcOffset(_e):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(_e){return this.isValid()?(_e=_e?createLocal(_e).utcOffset():0,(this.utcOffset()-_e)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var _e={},j;return copyConfig(_e,this),_e=prepareConfig(_e),_e._a?(j=_e._isUTC?createUTC(_e._a):createLocal(_e._a),this._isDSTShifted=this.isValid()&&compareArrays(_e._a,j.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(_e,j){var et=_e,tt=null,nt,rt,it;return isDuration(_e)?et={ms:_e._milliseconds,d:_e._days,M:_e._months}:isNumber(_e)||!isNaN(+_e)?(et={},j?et[j]=+_e:et.milliseconds=+_e):(tt=aspNetRegex.exec(_e))?(nt=tt[1]==="-"?-1:1,et={y:0,d:toInt(tt[DATE])*nt,h:toInt(tt[HOUR])*nt,m:toInt(tt[MINUTE])*nt,s:toInt(tt[SECOND])*nt,ms:toInt(absRound(tt[MILLISECOND]*1e3))*nt}):(tt=isoRegex.exec(_e))?(nt=tt[1]==="-"?-1:1,et={y:parseIso(tt[2],nt),M:parseIso(tt[3],nt),w:parseIso(tt[4],nt),d:parseIso(tt[5],nt),h:parseIso(tt[6],nt),m:parseIso(tt[7],nt),s:parseIso(tt[8],nt)}):et==null?et={}:typeof et=="object"&&("from"in et||"to"in et)&&(it=momentsDifference(createLocal(et.from),createLocal(et.to)),et={},et.ms=it.milliseconds,et.M=it.months),rt=new Duration(et),isDuration(_e)&&hasOwnProp(_e,"_locale")&&(rt._locale=_e._locale),isDuration(_e)&&hasOwnProp(_e,"_isValid")&&(rt._isValid=_e._isValid),rt}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(_e,j){var et=_e&&parseFloat(_e.replace(",","."));return(isNaN(et)?0:et)*j}function positiveMomentsDifference(_e,j){var et={};return et.months=j.month()-_e.month()+(j.year()-_e.year())*12,_e.clone().add(et.months,"M").isAfter(j)&&--et.months,et.milliseconds=+j-+_e.clone().add(et.months,"M"),et}function momentsDifference(_e,j){var et;return _e.isValid()&&j.isValid()?(j=cloneWithOffset(j,_e),_e.isBefore(j)?et=positiveMomentsDifference(_e,j):(et=positiveMomentsDifference(j,_e),et.milliseconds=-et.milliseconds,et.months=-et.months),et):{milliseconds:0,months:0}}function createAdder(_e,j){return function(et,tt){var nt,rt;return tt!==null&&!isNaN(+tt)&&(deprecateSimple(j,"moment()."+j+"(period, number) is deprecated. Please use moment()."+j+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),rt=et,et=tt,tt=rt),nt=createDuration(et,tt),addSubtract(this,nt,_e),this}}function addSubtract(_e,j,et,tt){var nt=j._milliseconds,rt=absRound(j._days),it=absRound(j._months);!_e.isValid()||(tt=tt==null?!0:tt,it&&setMonth(_e,get$2(_e,"Month")+it*et),rt&&set$1$1(_e,"Date",get$2(_e,"Date")+rt*et),nt&&_e._d.setTime(_e._d.valueOf()+nt*et),tt&&hooks.updateOffset(_e,rt||it))}var add$2=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString(_e){return typeof _e=="string"||_e instanceof String}function isMomentInput(_e){return isMoment(_e)||isDate(_e)||isString(_e)||isNumber(_e)||isNumberOrStringArray(_e)||isMomentInputObject(_e)||_e===null||_e===void 0}function isMomentInputObject(_e){var j=isObject(_e)&&!isObjectEmpty(_e),et=!1,tt=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],nt,rt,it=tt.length;for(nt=0;nt<it;nt+=1)rt=tt[nt],et=et||hasOwnProp(_e,rt);return j&&et}function isNumberOrStringArray(_e){var j=isArray$1(_e),et=!1;return j&&(et=_e.filter(function(tt){return!isNumber(tt)&&isString(_e)}).length===0),j&&et}function isCalendarSpec(_e){var j=isObject(_e)&&!isObjectEmpty(_e),et=!1,tt=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],nt,rt;for(nt=0;nt<tt.length;nt+=1)rt=tt[nt],et=et||hasOwnProp(_e,rt);return j&&et}function getCalendarFormat(_e,j){var et=_e.diff(j,"days",!0);return et<-6?"sameElse":et<-1?"lastWeek":et<0?"lastDay":et<1?"sameDay":et<2?"nextDay":et<7?"nextWeek":"sameElse"}function calendar$1(_e,j){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(_e=arguments[0],j=void 0):isCalendarSpec(arguments[0])&&(j=arguments[0],_e=void 0):(_e=void 0,j=void 0));var et=_e||createLocal(),tt=cloneWithOffset(et,this).startOf("day"),nt=hooks.calendarFormat(this,tt)||"sameElse",rt=j&&(isFunction(j[nt])?j[nt].call(this,et):j[nt]);return this.format(rt||this.localeData().calendar(nt,this,createLocal(et)))}function clone(){return new Moment(this)}function isAfter(_e,j){var et=isMoment(_e)?_e:createLocal(_e);return this.isValid()&&et.isValid()?(j=normalizeUnits(j)||"millisecond",j==="millisecond"?this.valueOf()>et.valueOf():et.valueOf()<this.clone().startOf(j).valueOf()):!1}function isBefore(_e,j){var et=isMoment(_e)?_e:createLocal(_e);return this.isValid()&&et.isValid()?(j=normalizeUnits(j)||"millisecond",j==="millisecond"?this.valueOf()<et.valueOf():this.clone().endOf(j).valueOf()<et.valueOf()):!1}function isBetween(_e,j,et,tt){var nt=isMoment(_e)?_e:createLocal(_e),rt=isMoment(j)?j:createLocal(j);return this.isValid()&&nt.isValid()&&rt.isValid()?(tt=tt||"()",(tt[0]==="("?this.isAfter(nt,et):!this.isBefore(nt,et))&&(tt[1]===")"?this.isBefore(rt,et):!this.isAfter(rt,et))):!1}function isSame(_e,j){var et=isMoment(_e)?_e:createLocal(_e),tt;return this.isValid()&&et.isValid()?(j=normalizeUnits(j)||"millisecond",j==="millisecond"?this.valueOf()===et.valueOf():(tt=et.valueOf(),this.clone().startOf(j).valueOf()<=tt&&tt<=this.clone().endOf(j).valueOf())):!1}function isSameOrAfter(_e,j){return this.isSame(_e,j)||this.isAfter(_e,j)}function isSameOrBefore(_e,j){return this.isSame(_e,j)||this.isBefore(_e,j)}function diff(_e,j,et){var tt,nt,rt;if(!this.isValid())return NaN;if(tt=cloneWithOffset(_e,this),!tt.isValid())return NaN;switch(nt=(tt.utcOffset()-this.utcOffset())*6e4,j=normalizeUnits(j),j){case"year":rt=monthDiff(this,tt)/12;break;case"month":rt=monthDiff(this,tt);break;case"quarter":rt=monthDiff(this,tt)/3;break;case"second":rt=(this-tt)/1e3;break;case"minute":rt=(this-tt)/6e4;break;case"hour":rt=(this-tt)/36e5;break;case"day":rt=(this-tt-nt)/864e5;break;case"week":rt=(this-tt-nt)/6048e5;break;default:rt=this-tt}return et?rt:absFloor(rt)}function monthDiff(_e,j){if(_e.date()<j.date())return-monthDiff(j,_e);var et=(j.year()-_e.year())*12+(j.month()-_e.month()),tt=_e.clone().add(et,"months"),nt,rt;return j-tt<0?(nt=_e.clone().add(et-1,"months"),rt=(j-tt)/(tt-nt)):(nt=_e.clone().add(et+1,"months"),rt=(j-tt)/(nt-tt)),-(et+rt)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString$2(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(_e){if(!this.isValid())return null;var j=_e!==!0,et=j?this.clone().utc():this;return et.year()<0||et.year()>9999?formatMoment(et,j?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction(Date.prototype.toISOString)?j?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(et,"Z")):formatMoment(et,j?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var _e="moment",j="",et,tt,nt,rt;return this.isLocal()||(_e=this.utcOffset()===0?"moment.utc":"moment.parseZone",j="Z"),et="["+_e+'("]',tt=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",nt="-MM-DD[T]HH:mm:ss.SSS",rt=j+'[")]',this.format(et+tt+nt+rt)}function format$1(_e){_e||(_e=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var j=formatMoment(this,_e);return this.localeData().postformat(j)}function from(_e,j){return this.isValid()&&(isMoment(_e)&&_e.isValid()||createLocal(_e).isValid())?createDuration({to:this,from:_e}).locale(this.locale()).humanize(!j):this.localeData().invalidDate()}function fromNow(_e){return this.from(createLocal(),_e)}function to(_e,j){return this.isValid()&&(isMoment(_e)&&_e.isValid()||createLocal(_e).isValid())?createDuration({from:this,to:_e}).locale(this.locale()).humanize(!j):this.localeData().invalidDate()}function toNow(_e){return this.to(createLocal(),_e)}function locale(_e){var j;return _e===void 0?this._locale._abbr:(j=getLocale(_e),j!=null&&(this._locale=j),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(_e){return _e===void 0?this.localeData():this.locale(_e)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(_e,j){return(_e%j+j)%j}function localStartOfDate(_e,j,et){return _e<100&&_e>=0?new Date(_e+400,j,et)-MS_PER_400_YEARS:new Date(_e,j,et).valueOf()}function utcStartOfDate(_e,j,et){return _e<100&&_e>=0?Date.UTC(_e+400,j,et)-MS_PER_400_YEARS:Date.UTC(_e,j,et)}function startOf(_e){var j,et;if(_e=normalizeUnits(_e),_e===void 0||_e==="millisecond"||!this.isValid())return this;switch(et=this._isUTC?utcStartOfDate:localStartOfDate,_e){case"year":j=et(this.year(),0,1);break;case"quarter":j=et(this.year(),this.month()-this.month()%3,1);break;case"month":j=et(this.year(),this.month(),1);break;case"week":j=et(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":j=et(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":j=et(this.year(),this.month(),this.date());break;case"hour":j=this._d.valueOf(),j-=mod$1(j+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":j=this._d.valueOf(),j-=mod$1(j,MS_PER_MINUTE);break;case"second":j=this._d.valueOf(),j-=mod$1(j,MS_PER_SECOND);break}return this._d.setTime(j),hooks.updateOffset(this,!0),this}function endOf(_e){var j,et;if(_e=normalizeUnits(_e),_e===void 0||_e==="millisecond"||!this.isValid())return this;switch(et=this._isUTC?utcStartOfDate:localStartOfDate,_e){case"year":j=et(this.year()+1,0,1)-1;break;case"quarter":j=et(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":j=et(this.year(),this.month()+1,1)-1;break;case"week":j=et(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":j=et(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":j=et(this.year(),this.month(),this.date()+1)-1;break;case"hour":j=this._d.valueOf(),j+=MS_PER_HOUR-mod$1(j+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":j=this._d.valueOf(),j+=MS_PER_MINUTE-mod$1(j,MS_PER_MINUTE)-1;break;case"second":j=this._d.valueOf(),j+=MS_PER_SECOND-mod$1(j,MS_PER_SECOND)-1;break}return this._d.setTime(j),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var _e=this;return[_e.year(),_e.month(),_e.date(),_e.hour(),_e.minute(),_e.second(),_e.millisecond()]}function toObject(){var _e=this;return{years:_e.year(),months:_e.month(),date:_e.date(),hours:_e.hours(),minutes:_e.minutes(),seconds:_e.seconds(),milliseconds:_e.milliseconds()}}function toJSON$2(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend$1({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(_e,j,et,tt){var nt=et._locale.erasParse(_e,tt,et._strict);nt?getParsingFlags(et).era=nt:getParsingFlags(et).invalidEra=_e});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(_e,j,et,tt){var nt;et._locale._eraYearOrdinalRegex&&(nt=_e.match(et._locale._eraYearOrdinalRegex)),et._locale.eraYearOrdinalParse?j[YEAR]=et._locale.eraYearOrdinalParse(_e,nt):j[YEAR]=parseInt(_e,10)});function localeEras(_e,j){var et,tt,nt,rt=this._eras||getLocale("en")._eras;for(et=0,tt=rt.length;et<tt;++et){switch(typeof rt[et].since){case"string":nt=hooks(rt[et].since).startOf("day"),rt[et].since=nt.valueOf();break}switch(typeof rt[et].until){case"undefined":rt[et].until=1/0;break;case"string":nt=hooks(rt[et].until).startOf("day").valueOf(),rt[et].until=nt.valueOf();break}}return rt}function localeErasParse(_e,j,et){var tt,nt,rt=this.eras(),it,st,at;for(_e=_e.toUpperCase(),tt=0,nt=rt.length;tt<nt;++tt)if(it=rt[tt].name.toUpperCase(),st=rt[tt].abbr.toUpperCase(),at=rt[tt].narrow.toUpperCase(),et)switch(j){case"N":case"NN":case"NNN":if(st===_e)return rt[tt];break;case"NNNN":if(it===_e)return rt[tt];break;case"NNNNN":if(at===_e)return rt[tt];break}else if([it,st,at].indexOf(_e)>=0)return rt[tt]}function localeErasConvertYear(_e,j){var et=_e.since<=_e.until?1:-1;return j===void 0?hooks(_e.since).year():hooks(_e.since).year()+(j-_e.offset)*et}function getEraName(){var _e,j,et,tt=this.localeData().eras();for(_e=0,j=tt.length;_e<j;++_e)if(et=this.clone().startOf("day").valueOf(),tt[_e].since<=et&&et<=tt[_e].until||tt[_e].until<=et&&et<=tt[_e].since)return tt[_e].name;return""}function getEraNarrow(){var _e,j,et,tt=this.localeData().eras();for(_e=0,j=tt.length;_e<j;++_e)if(et=this.clone().startOf("day").valueOf(),tt[_e].since<=et&&et<=tt[_e].until||tt[_e].until<=et&&et<=tt[_e].since)return tt[_e].narrow;return""}function getEraAbbr(){var _e,j,et,tt=this.localeData().eras();for(_e=0,j=tt.length;_e<j;++_e)if(et=this.clone().startOf("day").valueOf(),tt[_e].since<=et&&et<=tt[_e].until||tt[_e].until<=et&&et<=tt[_e].since)return tt[_e].abbr;return""}function getEraYear(){var _e,j,et,tt,nt=this.localeData().eras();for(_e=0,j=nt.length;_e<j;++_e)if(et=nt[_e].since<=nt[_e].until?1:-1,tt=this.clone().startOf("day").valueOf(),nt[_e].since<=tt&&tt<=nt[_e].until||nt[_e].until<=tt&&tt<=nt[_e].since)return(this.year()-hooks(nt[_e].since).year())*et+nt[_e].offset;return this.year()}function erasNameRegex(_e){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),_e?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(_e){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),_e?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(_e){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),_e?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(_e,j){return j.erasAbbrRegex(_e)}function matchEraName(_e,j){return j.erasNameRegex(_e)}function matchEraNarrow(_e,j){return j.erasNarrowRegex(_e)}function matchEraYearOrdinal(_e,j){return j._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var _e=[],j=[],et=[],tt=[],nt,rt,it=this.eras();for(nt=0,rt=it.length;nt<rt;++nt)j.push(regexEscape(it[nt].name)),_e.push(regexEscape(it[nt].abbr)),et.push(regexEscape(it[nt].narrow)),tt.push(regexEscape(it[nt].name)),tt.push(regexEscape(it[nt].abbr)),tt.push(regexEscape(it[nt].narrow));this._erasRegex=new RegExp("^("+tt.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+j.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+_e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+et.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(_e,j){addFormatToken(0,[_e,_e.length],0,j)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addUnitPriority("weekYear",1);addUnitPriority("isoWeekYear",1);addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(_e,j,et,tt){j[tt.substr(0,2)]=toInt(_e)});addWeekParseToken(["gg","GG"],function(_e,j,et,tt){j[tt]=hooks.parseTwoDigitYear(_e)});function getSetWeekYear(_e){return getSetWeekYearHelper.call(this,_e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(_e){return getSetWeekYearHelper.call(this,_e,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var _e=this.localeData()._week;return weeksInYear(this.year(),_e.dow,_e.doy)}function getWeeksInWeekYear(){var _e=this.localeData()._week;return weeksInYear(this.weekYear(),_e.dow,_e.doy)}function getSetWeekYearHelper(_e,j,et,tt,nt){var rt;return _e==null?weekOfYear(this,tt,nt).year:(rt=weeksInYear(_e,tt,nt),j>rt&&(j=rt),setWeekAll.call(this,_e,j,et,tt,nt))}function setWeekAll(_e,j,et,tt,nt){var rt=dayOfYearFromWeeks(_e,j,et,tt,nt),it=createUTCDate(rt.year,0,rt.dayOfYear);return this.year(it.getUTCFullYear()),this.month(it.getUTCMonth()),this.date(it.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addUnitPriority("quarter",7);addRegexToken("Q",match1);addParseToken("Q",function(_e,j){j[MONTH]=(toInt(_e)-1)*3});function getSetQuarter(_e){return _e==null?Math.ceil((this.month()+1)/3):this.month((_e-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addUnitPriority("date",9);addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(_e,j){return _e?j._dayOfMonthOrdinalParse||j._ordinalParse:j._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(_e,j){j[DATE]=toInt(_e.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addUnitPriority("dayOfYear",4);addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(_e,j,et){et._dayOfYear=toInt(_e)});function getSetDayOfYear(_e){var j=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return _e==null?j:this.add(_e-j,"d")}addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addUnitPriority("minute",14);addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addUnitPriority("second",15);addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addUnitPriority("millisecond",16);addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token$1,getSetMillisecond;for(token$1="SSSS";token$1.length<=9;token$1+="S")addRegexToken(token$1,matchUnsigned);function parseMs(_e,j){j[MILLISECOND]=toInt(("0."+_e)*1e3)}for(token$1="S";token$1.length<=9;token$1+="S")addParseToken(token$1,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto=Moment.prototype;proto.add=add$2;proto.calendar=calendar$1;proto.clone=clone;proto.diff=diff;proto.endOf=endOf;proto.format=format$1;proto.from=from;proto.fromNow=fromNow;proto.to=to;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract;proto.toArray=toArray;proto.toObject=toObject;proto.toDate=toDate;proto.toISOString=toISOString;proto.inspect=inspect;typeof Symbol!="undefined"&&Symbol.for!=null&&(proto[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto.toJSON=toJSON$2;proto.toString=toString$2;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.eraName=getEraName;proto.eraNarrow=getEraNarrow;proto.eraAbbr=getEraAbbr;proto.eraYear=getEraYear;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.weeksInWeekYear=getWeeksInWeekYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(_e){return createLocal(_e*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(_e){return _e}var proto$1=Locale.prototype;proto$1.calendar=calendar;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal$1;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set$2;proto$1.eras=localeEras;proto$1.erasParse=localeErasParse;proto$1.erasConvertYear=localeErasConvertYear;proto$1.erasAbbrRegex=erasAbbrRegex;proto$1.erasNameRegex=erasNameRegex;proto$1.erasNarrowRegex=erasNarrowRegex;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1$1(_e,j,et,tt){var nt=getLocale(),rt=createUTC().set(tt,j);return nt[et](rt,_e)}function listMonthsImpl(_e,j,et){if(isNumber(_e)&&(j=_e,_e=void 0),_e=_e||"",j!=null)return get$1$1(_e,j,et,"month");var tt,nt=[];for(tt=0;tt<12;tt++)nt[tt]=get$1$1(_e,tt,et,"month");return nt}function listWeekdaysImpl(_e,j,et,tt){typeof _e=="boolean"?(isNumber(j)&&(et=j,j=void 0),j=j||""):(j=_e,et=j,_e=!1,isNumber(j)&&(et=j,j=void 0),j=j||"");var nt=getLocale(),rt=_e?nt._week.dow:0,it,st=[];if(et!=null)return get$1$1(j,(et+rt)%7,tt,"day");for(it=0;it<7;it++)st[it]=get$1$1(j,(it+rt)%7,tt,"day");return st}function listMonths(_e,j){return listMonthsImpl(_e,j,"months")}function listMonthsShort(_e,j){return listMonthsImpl(_e,j,"monthsShort")}function listWeekdays(_e,j,et){return listWeekdaysImpl(_e,j,et,"weekdays")}function listWeekdaysShort(_e,j,et){return listWeekdaysImpl(_e,j,et,"weekdaysShort")}function listWeekdaysMin(_e,j,et){return listWeekdaysImpl(_e,j,et,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(_e){var j=_e%10,et=toInt(_e%100/10)===1?"th":j===1?"st":j===2?"nd":j===3?"rd":"th";return _e+et}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs(){var _e=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),_e.milliseconds=mathAbs(_e.milliseconds),_e.seconds=mathAbs(_e.seconds),_e.minutes=mathAbs(_e.minutes),_e.hours=mathAbs(_e.hours),_e.months=mathAbs(_e.months),_e.years=mathAbs(_e.years),this}function addSubtract$1(_e,j,et,tt){var nt=createDuration(j,et);return _e._milliseconds+=tt*nt._milliseconds,_e._days+=tt*nt._days,_e._months+=tt*nt._months,_e._bubble()}function add$1$1(_e,j){return addSubtract$1(this,_e,j,1)}function subtract$1(_e,j){return addSubtract$1(this,_e,j,-1)}function absCeil(_e){return _e<0?Math.floor(_e):Math.ceil(_e)}function bubble(){var _e=this._milliseconds,j=this._days,et=this._months,tt=this._data,nt,rt,it,st,at;return _e>=0&&j>=0&&et>=0||_e<=0&&j<=0&&et<=0||(_e+=absCeil(monthsToDays(et)+j)*864e5,j=0,et=0),tt.milliseconds=_e%1e3,nt=absFloor(_e/1e3),tt.seconds=nt%60,rt=absFloor(nt/60),tt.minutes=rt%60,it=absFloor(rt/60),tt.hours=it%24,j+=absFloor(it/24),at=absFloor(daysToMonths(j)),et+=at,j-=absCeil(monthsToDays(at)),st=absFloor(et/12),et%=12,tt.days=j,tt.months=et,tt.years=st,this}function daysToMonths(_e){return _e*4800/146097}function monthsToDays(_e){return _e*146097/4800}function as(_e){if(!this.isValid())return NaN;var j,et,tt=this._milliseconds;if(_e=normalizeUnits(_e),_e==="month"||_e==="quarter"||_e==="year")switch(j=this._days+tt/864e5,et=this._months+daysToMonths(j),_e){case"month":return et;case"quarter":return et/3;case"year":return et/12}else switch(j=this._days+Math.round(monthsToDays(this._months)),_e){case"week":return j/7+tt/6048e5;case"day":return j+tt/864e5;case"hour":return j*24+tt/36e5;case"minute":return j*1440+tt/6e4;case"second":return j*86400+tt/1e3;case"millisecond":return Math.floor(j*864e5)+tt;default:throw new Error("Unknown unit "+_e)}}function valueOf$1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6:NaN}function makeAs(_e){return function(){return this.as(_e)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y");function clone$1(){return createDuration(this)}function get$2$1(_e){return _e=normalizeUnits(_e),this.isValid()?this[_e+"s"]():NaN}function makeGetter(_e){return function(){return this.isValid()?this._data[_e]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round$1=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(_e,j,et,tt,nt){return nt.relativeTime(j||1,!!et,_e,tt)}function relativeTime$1(_e,j,et,tt){var nt=createDuration(_e).abs(),rt=round$1(nt.as("s")),it=round$1(nt.as("m")),st=round$1(nt.as("h")),at=round$1(nt.as("d")),ot=round$1(nt.as("M")),lt=round$1(nt.as("w")),ut=round$1(nt.as("y")),ct=rt<=et.ss&&["s",rt]||rt<et.s&&["ss",rt]||it<=1&&["m"]||it<et.m&&["mm",it]||st<=1&&["h"]||st<et.h&&["hh",st]||at<=1&&["d"]||at<et.d&&["dd",at];return et.w!=null&&(ct=ct||lt<=1&&["w"]||lt<et.w&&["ww",lt]),ct=ct||ot<=1&&["M"]||ot<et.M&&["MM",ot]||ut<=1&&["y"]||["yy",ut],ct[2]=j,ct[3]=+_e>0,ct[4]=tt,substituteTimeAgo.apply(null,ct)}function getSetRelativeTimeRounding(_e){return _e===void 0?round$1:typeof _e=="function"?(round$1=_e,!0):!1}function getSetRelativeTimeThreshold(_e,j){return thresholds[_e]===void 0?!1:j===void 0?thresholds[_e]:(thresholds[_e]=j,_e==="s"&&(thresholds.ss=j-1),!0)}function humanize(_e,j){if(!this.isValid())return this.localeData().invalidDate();var et=!1,tt=thresholds,nt,rt;return typeof _e=="object"&&(j=_e,_e=!1),typeof _e=="boolean"&&(et=_e),typeof j=="object"&&(tt=Object.assign({},thresholds,j),j.s!=null&&j.ss==null&&(tt.ss=j.s-1)),nt=this.localeData(),rt=relativeTime$1(this,!et,tt,nt),et&&(rt=nt.pastFuture(+this,rt)),nt.postformat(rt)}var abs$1=Math.abs;function sign$3(_e){return(_e>0)-(_e<0)||+_e}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var _e=abs$1(this._milliseconds)/1e3,j=abs$1(this._days),et=abs$1(this._months),tt,nt,rt,it,st=this.asSeconds(),at,ot,lt,ut;return st?(tt=absFloor(_e/60),nt=absFloor(tt/60),_e%=60,tt%=60,rt=absFloor(et/12),et%=12,it=_e?_e.toFixed(3).replace(/\.?0+$/,""):"",at=st<0?"-":"",ot=sign$3(this._months)!==sign$3(st)?"-":"",lt=sign$3(this._days)!==sign$3(st)?"-":"",ut=sign$3(this._milliseconds)!==sign$3(st)?"-":"",at+"P"+(rt?ot+rt+"Y":"")+(et?ot+et+"M":"")+(j?lt+j+"D":"")+(nt||tt||_e?"T":"")+(nt?ut+nt+"H":"")+(tt?ut+tt+"M":"")+(_e?ut+it+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs;proto$2.add=add$1$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1;proto$2.get=get$2$1;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(_e,j,et){et._d=new Date(parseFloat(_e)*1e3)});addParseToken("x",function(_e,j,et){et._d=new Date(toInt(_e))});//! moment.js
hooks.version="2.29.4";setHookCallback(createLocal);hooks.fn=proto;hooks.min=min;hooks.max=max;hooks.now=now$3;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const SECOND_FORMAT="YYYY-MM-DD HH:mm:ss",DATE_FORMAT="YYYY-MM-DD",TIMESTAMP_STR="MMMM Do YYYY, h:mm:ss a",formatTimestamp=(_e,j=DATE_FORMAT,et)=>{const tt=hooks.unix(typeof _e=="string"?parseInt(_e):_e).format(j);return et?et(tt):tt};var styles$5={"cron-bulletin-board-wrapper":"_cron-bulletin-board-wrapper_1qdi4_1","cron-bulletin-board":"_cron-bulletin-board_1qdi4_1","cron-feature-log":"_cron-feature-log_1qdi4_14"};const CronBulletinBoard=_e=>{const{size:j,onSizeChange:et,cronStr:tt}=_e,[nt,rt]=react.exports.useState(!0),[it,st]=react.exports.useState(""),[at,ot]=react.exports.useState([]);return react.exports.useEffect(()=>{try{const lt=parser$1.parseExpression(tt);let ut=[];for(let ct=0;ct<j;ct++){const ht=lt.next().getTime();ut.push(hooks(ht).format(TIMESTAMP_STR))}ot([...ut]),rt(!0)}catch(lt){st(lt.message),rt(!1)}},[tt,j]),jsx("div",{className:classnames$2([styles$5["cron-bulletin-board-wrapper"]]),children:jsxs("div",{className:classnames$2([styles$5["cron-bulletin-board"]]),children:[jsxs("h2",{children:[jsx("span",{children:"The trigger time of the task"}),jsx("input",{type:"text",value:j,className:classnames$2(["animation-breath","input-underline"]),onChange:et}),jsx("span",{children:"times in the future"})]}),jsx("div",{className:classnames$2([styles$5["cron-feature-log"]]),children:nt?jsx("ol",{children:Array(j).fill(0).map((lt,ut)=>jsx("li",{children:at[ut]},ut))}):jsx("div",{children:it})})]})})};var CronBulletinBoard$1=react.exports.memo(CronBulletinBoard);const CRON_VALUES=["second","minute","hour","dayOfMonth","month","dayOfWeek"],Cron$2=()=>{const[_e,j]=react.exports.useState(Array(CRON_VALUES.length).fill("*")),[et,tt]=react.exports.useState(10),nt=(it,st)=>{const at=CRON_VALUES.indexOf(it);_e[at]=st,j([..._e])},rt=it=>{const st=it.target.value?parseInt(it.target.value):0;tt(Math.min(st,100))};return jsxs("div",{className:classnames$2([styles$7.content]),children:[jsx("div",{className:classnames$2([styles$7["cron-input-wrapper"]]),children:CRON_VALUES.map(it=>jsx(CronInput$1,{inputChange:nt,type:it},it))}),jsx(CronBulletinBoard$1,{size:et,onSizeChange:rt,cronStr:_e.join(" ")})]})};var CronBody=react.exports.memo(Cron$2),styles$4={"cron-root-wrapper":"_cron-root-wrapper_1q80f_1","cur-wrapper":"_cur-wrapper_1q80f_7"};const Cron$1=()=>{const[_e,j]=react.exports.useState(new Date().getTime()/1e3);return react.exports.useEffect(()=>{const et=setInterval(()=>{const tt=new Date;j(tt.getTime()/1e3)},1e3);return()=>{clearInterval(et)}},[]),jsx(Fragment,{children:jsxs("div",{id:"cron-root-wrapper",className:classnames$2([styles$4["cron-root-wrapper"]]),children:[jsx("header",{className:classnames$2([styles$4.header]),children:jsx("h1",{children:"Cron Expression"})}),jsxs("div",{className:classnames$2([styles$4["cur-wrapper"]]),children:[jsx("span",{className:classnames$2([styles$4.label]),children:"Current Time: "}),jsx("span",{className:classnames$2([styles$4.timestamp]),children:formatTimestamp(_e,TIMESTAMP_STR)})]}),jsx(CronBody,{})]})})};var CronC=react.exports.memo(Cron$1);const Cron=()=>jsx(CronC,{});var index$k=react.exports.memo(Cron),__glob_1_0=Object.freeze(Object.defineProperty({__proto__:null,default:index$k},Symbol.toStringTag,{value:"Module"}));class InternMap extends Map{constructor(j,et=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:et}}),j!=null)for(const[tt,nt]of j)this.set(tt,nt)}get(j){return super.get(intern_get(this,j))}has(j){return super.has(intern_get(this,j))}set(j,et){return super.set(intern_set(this,j),et)}delete(j){return super.delete(intern_delete(this,j))}}function intern_get({_intern:_e,_key:j},et){const tt=j(et);return _e.has(tt)?_e.get(tt):et}function intern_set({_intern:_e,_key:j},et){const tt=j(et);return _e.has(tt)?_e.get(tt):(_e.set(tt,et),et)}function intern_delete({_intern:_e,_key:j},et){const tt=j(et);return _e.has(tt)&&(et=_e.get(tt),_e.delete(tt)),et}function keyof(_e){return _e!==null&&typeof _e=="object"?_e.valueOf():_e}var noop$1={value:()=>{}};function dispatch(){for(var _e=0,j=arguments.length,et={},tt;_e<j;++_e){if(!(tt=arguments[_e]+"")||tt in et||/[\s.]/.test(tt))throw new Error("illegal type: "+tt);et[tt]=[]}return new Dispatch(et)}function Dispatch(_e){this._=_e}function parseTypenames$1(_e,j){return _e.trim().split(/^|\s+/).map(function(et){var tt="",nt=et.indexOf(".");if(nt>=0&&(tt=et.slice(nt+1),et=et.slice(0,nt)),et&&!j.hasOwnProperty(et))throw new Error("unknown type: "+et);return{type:et,name:tt}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(_e,j){var et=this._,tt=parseTypenames$1(_e+"",et),nt,rt=-1,it=tt.length;if(arguments.length<2){for(;++rt<it;)if((nt=(_e=tt[rt]).type)&&(nt=get$1(et[nt],_e.name)))return nt;return}if(j!=null&&typeof j!="function")throw new Error("invalid callback: "+j);for(;++rt<it;)if(nt=(_e=tt[rt]).type)et[nt]=set$1(et[nt],_e.name,j);else if(j==null)for(nt in et)et[nt]=set$1(et[nt],_e.name,null);return this},copy:function(){var _e={},j=this._;for(var et in j)_e[et]=j[et].slice();return new Dispatch(_e)},call:function(_e,j){if((nt=arguments.length-2)>0)for(var et=new Array(nt),tt=0,nt,rt;tt<nt;++tt)et[tt]=arguments[tt+2];if(!this._.hasOwnProperty(_e))throw new Error("unknown type: "+_e);for(rt=this._[_e],tt=0,nt=rt.length;tt<nt;++tt)rt[tt].value.apply(j,et)},apply:function(_e,j,et){if(!this._.hasOwnProperty(_e))throw new Error("unknown type: "+_e);for(var tt=this._[_e],nt=0,rt=tt.length;nt<rt;++nt)tt[nt].value.apply(j,et)}};function get$1(_e,j){for(var et=0,tt=_e.length,nt;et<tt;++et)if((nt=_e[et]).name===j)return nt.value}function set$1(_e,j,et){for(var tt=0,nt=_e.length;tt<nt;++tt)if(_e[tt].name===j){_e[tt]=noop$1,_e=_e.slice(0,tt).concat(_e.slice(tt+1));break}return et!=null&&_e.push({name:j,value:et}),_e}var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(_e){var j=_e+="",et=j.indexOf(":");return et>=0&&(j=_e.slice(0,et))!=="xmlns"&&(_e=_e.slice(et+1)),namespaces.hasOwnProperty(j)?{space:namespaces[j],local:_e}:_e}function creatorInherit(_e){return function(){var j=this.ownerDocument,et=this.namespaceURI;return et===xhtml&&j.documentElement.namespaceURI===xhtml?j.createElement(_e):j.createElementNS(et,_e)}}function creatorFixed(_e){return function(){return this.ownerDocument.createElementNS(_e.space,_e.local)}}function creator(_e){var j=namespace(_e);return(j.local?creatorFixed:creatorInherit)(j)}function none(){}function selector(_e){return _e==null?none:function(){return this.querySelector(_e)}}function selection_select(_e){typeof _e!="function"&&(_e=selector(_e));for(var j=this._groups,et=j.length,tt=new Array(et),nt=0;nt<et;++nt)for(var rt=j[nt],it=rt.length,st=tt[nt]=new Array(it),at,ot,lt=0;lt<it;++lt)(at=rt[lt])&&(ot=_e.call(at,at.__data__,lt,rt))&&("__data__"in at&&(ot.__data__=at.__data__),st[lt]=ot);return new Selection$1(tt,this._parents)}function array(_e){return _e==null?[]:Array.isArray(_e)?_e:Array.from(_e)}function empty$1(){return[]}function selectorAll(_e){return _e==null?empty$1:function(){return this.querySelectorAll(_e)}}function arrayAll(_e){return function(){return array(_e.apply(this,arguments))}}function selection_selectAll(_e){typeof _e=="function"?_e=arrayAll(_e):_e=selectorAll(_e);for(var j=this._groups,et=j.length,tt=[],nt=[],rt=0;rt<et;++rt)for(var it=j[rt],st=it.length,at,ot=0;ot<st;++ot)(at=it[ot])&&(tt.push(_e.call(at,at.__data__,ot,it)),nt.push(at));return new Selection$1(tt,nt)}function matcher(_e){return function(){return this.matches(_e)}}function childMatcher(_e){return function(j){return j.matches(_e)}}var find$1=Array.prototype.find;function childFind(_e){return function(){return find$1.call(this.children,_e)}}function childFirst(){return this.firstElementChild}function selection_selectChild(_e){return this.select(_e==null?childFirst:childFind(typeof _e=="function"?_e:childMatcher(_e)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(_e){return function(){return filter.call(this.children,_e)}}function selection_selectChildren(_e){return this.selectAll(_e==null?children:childrenFilter(typeof _e=="function"?_e:childMatcher(_e)))}function selection_filter(_e){typeof _e!="function"&&(_e=matcher(_e));for(var j=this._groups,et=j.length,tt=new Array(et),nt=0;nt<et;++nt)for(var rt=j[nt],it=rt.length,st=tt[nt]=[],at,ot=0;ot<it;++ot)(at=rt[ot])&&_e.call(at,at.__data__,ot,rt)&&st.push(at);return new Selection$1(tt,this._parents)}function sparse(_e){return new Array(_e.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(_e,j){this.ownerDocument=_e.ownerDocument,this.namespaceURI=_e.namespaceURI,this._next=null,this._parent=_e,this.__data__=j}EnterNode.prototype={constructor:EnterNode,appendChild:function(_e){return this._parent.insertBefore(_e,this._next)},insertBefore:function(_e,j){return this._parent.insertBefore(_e,j)},querySelector:function(_e){return this._parent.querySelector(_e)},querySelectorAll:function(_e){return this._parent.querySelectorAll(_e)}};function constant$4(_e){return function(){return _e}}function bindIndex(_e,j,et,tt,nt,rt){for(var it=0,st,at=j.length,ot=rt.length;it<ot;++it)(st=j[it])?(st.__data__=rt[it],tt[it]=st):et[it]=new EnterNode(_e,rt[it]);for(;it<at;++it)(st=j[it])&&(nt[it]=st)}function bindKey(_e,j,et,tt,nt,rt,it){var st,at,ot=new Map,lt=j.length,ut=rt.length,ct=new Array(lt),ht;for(st=0;st<lt;++st)(at=j[st])&&(ct[st]=ht=it.call(at,at.__data__,st,j)+"",ot.has(ht)?nt[st]=at:ot.set(ht,at));for(st=0;st<ut;++st)ht=it.call(_e,rt[st],st,rt)+"",(at=ot.get(ht))?(tt[st]=at,at.__data__=rt[st],ot.delete(ht)):et[st]=new EnterNode(_e,rt[st]);for(st=0;st<lt;++st)(at=j[st])&&ot.get(ct[st])===at&&(nt[st]=at)}function datum(_e){return _e.__data__}function selection_data(_e,j){if(!arguments.length)return Array.from(this,datum);var et=j?bindKey:bindIndex,tt=this._parents,nt=this._groups;typeof _e!="function"&&(_e=constant$4(_e));for(var rt=nt.length,it=new Array(rt),st=new Array(rt),at=new Array(rt),ot=0;ot<rt;++ot){var lt=tt[ot],ut=nt[ot],ct=ut.length,ht=arraylike(_e.call(lt,lt&&lt.__data__,ot,tt)),pt=ht.length,gt=st[ot]=new Array(pt),vt=it[ot]=new Array(pt),ft=at[ot]=new Array(ct);et(lt,ut,gt,vt,ft,ht,j);for(var mt=0,xt=0,_t,Tt;mt<pt;++mt)if(_t=gt[mt]){for(mt>=xt&&(xt=mt+1);!(Tt=vt[xt])&&++xt<pt;);_t._next=Tt||null}}return it=new Selection$1(it,tt),it._enter=st,it._exit=at,it}function arraylike(_e){return typeof _e=="object"&&"length"in _e?_e:Array.from(_e)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(_e,j,et){var tt=this.enter(),nt=this,rt=this.exit();return typeof _e=="function"?(tt=_e(tt),tt&&(tt=tt.selection())):tt=tt.append(_e+""),j!=null&&(nt=j(nt),nt&&(nt=nt.selection())),et==null?rt.remove():et(rt),tt&&nt?tt.merge(nt).order():nt}function selection_merge(_e){for(var j=_e.selection?_e.selection():_e,et=this._groups,tt=j._groups,nt=et.length,rt=tt.length,it=Math.min(nt,rt),st=new Array(nt),at=0;at<it;++at)for(var ot=et[at],lt=tt[at],ut=ot.length,ct=st[at]=new Array(ut),ht,pt=0;pt<ut;++pt)(ht=ot[pt]||lt[pt])&&(ct[pt]=ht);for(;at<nt;++at)st[at]=et[at];return new Selection$1(st,this._parents)}function selection_order(){for(var _e=this._groups,j=-1,et=_e.length;++j<et;)for(var tt=_e[j],nt=tt.length-1,rt=tt[nt],it;--nt>=0;)(it=tt[nt])&&(rt&&it.compareDocumentPosition(rt)^4&&rt.parentNode.insertBefore(it,rt),rt=it);return this}function selection_sort(_e){_e||(_e=ascending);function j(ut,ct){return ut&&ct?_e(ut.__data__,ct.__data__):!ut-!ct}for(var et=this._groups,tt=et.length,nt=new Array(tt),rt=0;rt<tt;++rt){for(var it=et[rt],st=it.length,at=nt[rt]=new Array(st),ot,lt=0;lt<st;++lt)(ot=it[lt])&&(at[lt]=ot);at.sort(j)}return new Selection$1(nt,this._parents).order()}function ascending(_e,j){return _e<j?-1:_e>j?1:_e>=j?0:NaN}function selection_call(){var _e=arguments[0];return arguments[0]=this,_e.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var _e=this._groups,j=0,et=_e.length;j<et;++j)for(var tt=_e[j],nt=0,rt=tt.length;nt<rt;++nt){var it=tt[nt];if(it)return it}return null}function selection_size(){let _e=0;for(const j of this)++_e;return _e}function selection_empty(){return!this.node()}function selection_each(_e){for(var j=this._groups,et=0,tt=j.length;et<tt;++et)for(var nt=j[et],rt=0,it=nt.length,st;rt<it;++rt)(st=nt[rt])&&_e.call(st,st.__data__,rt,nt);return this}function attrRemove$1(_e){return function(){this.removeAttribute(_e)}}function attrRemoveNS$1(_e){return function(){this.removeAttributeNS(_e.space,_e.local)}}function attrConstant$1(_e,j){return function(){this.setAttribute(_e,j)}}function attrConstantNS$1(_e,j){return function(){this.setAttributeNS(_e.space,_e.local,j)}}function attrFunction$1(_e,j){return function(){var et=j.apply(this,arguments);et==null?this.removeAttribute(_e):this.setAttribute(_e,et)}}function attrFunctionNS$1(_e,j){return function(){var et=j.apply(this,arguments);et==null?this.removeAttributeNS(_e.space,_e.local):this.setAttributeNS(_e.space,_e.local,et)}}function selection_attr(_e,j){var et=namespace(_e);if(arguments.length<2){var tt=this.node();return et.local?tt.getAttributeNS(et.space,et.local):tt.getAttribute(et)}return this.each((j==null?et.local?attrRemoveNS$1:attrRemove$1:typeof j=="function"?et.local?attrFunctionNS$1:attrFunction$1:et.local?attrConstantNS$1:attrConstant$1)(et,j))}function defaultView(_e){return _e.ownerDocument&&_e.ownerDocument.defaultView||_e.document&&_e||_e.defaultView}function styleRemove$1(_e){return function(){this.style.removeProperty(_e)}}function styleConstant$1(_e,j,et){return function(){this.style.setProperty(_e,j,et)}}function styleFunction$1(_e,j,et){return function(){var tt=j.apply(this,arguments);tt==null?this.style.removeProperty(_e):this.style.setProperty(_e,tt,et)}}function selection_style(_e,j,et){return arguments.length>1?this.each((j==null?styleRemove$1:typeof j=="function"?styleFunction$1:styleConstant$1)(_e,j,et==null?"":et)):styleValue(this.node(),_e)}function styleValue(_e,j){return _e.style.getPropertyValue(j)||defaultView(_e).getComputedStyle(_e,null).getPropertyValue(j)}function propertyRemove(_e){return function(){delete this[_e]}}function propertyConstant(_e,j){return function(){this[_e]=j}}function propertyFunction(_e,j){return function(){var et=j.apply(this,arguments);et==null?delete this[_e]:this[_e]=et}}function selection_property(_e,j){return arguments.length>1?this.each((j==null?propertyRemove:typeof j=="function"?propertyFunction:propertyConstant)(_e,j)):this.node()[_e]}function classArray(_e){return _e.trim().split(/^|\s+/)}function classList(_e){return _e.classList||new ClassList(_e)}function ClassList(_e){this._node=_e,this._names=classArray(_e.getAttribute("class")||"")}ClassList.prototype={add:function(_e){var j=this._names.indexOf(_e);j<0&&(this._names.push(_e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(_e){var j=this._names.indexOf(_e);j>=0&&(this._names.splice(j,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(_e){return this._names.indexOf(_e)>=0}};function classedAdd(_e,j){for(var et=classList(_e),tt=-1,nt=j.length;++tt<nt;)et.add(j[tt])}function classedRemove(_e,j){for(var et=classList(_e),tt=-1,nt=j.length;++tt<nt;)et.remove(j[tt])}function classedTrue(_e){return function(){classedAdd(this,_e)}}function classedFalse(_e){return function(){classedRemove(this,_e)}}function classedFunction(_e,j){return function(){(j.apply(this,arguments)?classedAdd:classedRemove)(this,_e)}}function selection_classed(_e,j){var et=classArray(_e+"");if(arguments.length<2){for(var tt=classList(this.node()),nt=-1,rt=et.length;++nt<rt;)if(!tt.contains(et[nt]))return!1;return!0}return this.each((typeof j=="function"?classedFunction:j?classedTrue:classedFalse)(et,j))}function textRemove(){this.textContent=""}function textConstant$1(_e){return function(){this.textContent=_e}}function textFunction$1(_e){return function(){var j=_e.apply(this,arguments);this.textContent=j==null?"":j}}function selection_text(_e){return arguments.length?this.each(_e==null?textRemove:(typeof _e=="function"?textFunction$1:textConstant$1)(_e)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(_e){return function(){this.innerHTML=_e}}function htmlFunction(_e){return function(){var j=_e.apply(this,arguments);this.innerHTML=j==null?"":j}}function selection_html(_e){return arguments.length?this.each(_e==null?htmlRemove:(typeof _e=="function"?htmlFunction:htmlConstant)(_e)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(_e){var j=typeof _e=="function"?_e:creator(_e);return this.select(function(){return this.appendChild(j.apply(this,arguments))})}function constantNull(){return null}function selection_insert(_e,j){var et=typeof _e=="function"?_e:creator(_e),tt=j==null?constantNull:typeof j=="function"?j:selector(j);return this.select(function(){return this.insertBefore(et.apply(this,arguments),tt.apply(this,arguments)||null)})}function remove$1(){var _e=this.parentNode;_e&&_e.removeChild(this)}function selection_remove(){return this.each(remove$1)}function selection_cloneShallow(){var _e=this.cloneNode(!1),j=this.parentNode;return j?j.insertBefore(_e,this.nextSibling):_e}function selection_cloneDeep(){var _e=this.cloneNode(!0),j=this.parentNode;return j?j.insertBefore(_e,this.nextSibling):_e}function selection_clone(_e){return this.select(_e?selection_cloneDeep:selection_cloneShallow)}function selection_datum(_e){return arguments.length?this.property("__data__",_e):this.node().__data__}function contextListener(_e){return function(j){_e.call(this,j,this.__data__)}}function parseTypenames(_e){return _e.trim().split(/^|\s+/).map(function(j){var et="",tt=j.indexOf(".");return tt>=0&&(et=j.slice(tt+1),j=j.slice(0,tt)),{type:j,name:et}})}function onRemove(_e){return function(){var j=this.__on;if(!!j){for(var et=0,tt=-1,nt=j.length,rt;et<nt;++et)rt=j[et],(!_e.type||rt.type===_e.type)&&rt.name===_e.name?this.removeEventListener(rt.type,rt.listener,rt.options):j[++tt]=rt;++tt?j.length=tt:delete this.__on}}}function onAdd(_e,j,et){return function(){var tt=this.__on,nt,rt=contextListener(j);if(tt){for(var it=0,st=tt.length;it<st;++it)if((nt=tt[it]).type===_e.type&&nt.name===_e.name){this.removeEventListener(nt.type,nt.listener,nt.options),this.addEventListener(nt.type,nt.listener=rt,nt.options=et),nt.value=j;return}}this.addEventListener(_e.type,rt,et),nt={type:_e.type,name:_e.name,value:j,listener:rt,options:et},tt?tt.push(nt):this.__on=[nt]}}function selection_on(_e,j,et){var tt=parseTypenames(_e+""),nt,rt=tt.length,it;if(arguments.length<2){var st=this.node().__on;if(st){for(var at=0,ot=st.length,lt;at<ot;++at)for(nt=0,lt=st[at];nt<rt;++nt)if((it=tt[nt]).type===lt.type&&it.name===lt.name)return lt.value}return}for(st=j?onAdd:onRemove,nt=0;nt<rt;++nt)this.each(st(tt[nt],j,et));return this}function dispatchEvent(_e,j,et){var tt=defaultView(_e),nt=tt.CustomEvent;typeof nt=="function"?nt=new nt(j,et):(nt=tt.document.createEvent("Event"),et?(nt.initEvent(j,et.bubbles,et.cancelable),nt.detail=et.detail):nt.initEvent(j,!1,!1)),_e.dispatchEvent(nt)}function dispatchConstant(_e,j){return function(){return dispatchEvent(this,_e,j)}}function dispatchFunction(_e,j){return function(){return dispatchEvent(this,_e,j.apply(this,arguments))}}function selection_dispatch(_e,j){return this.each((typeof j=="function"?dispatchFunction:dispatchConstant)(_e,j))}function*selection_iterator(){for(var _e=this._groups,j=0,et=_e.length;j<et;++j)for(var tt=_e[j],nt=0,rt=tt.length,it;nt<rt;++nt)(it=tt[nt])&&(yield it)}var root=[null];function Selection$1(_e,j){this._groups=_e,this._parents=j}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(_e){return typeof _e=="string"?new Selection$1([[document.querySelector(_e)]],[document.documentElement]):new Selection$1([[_e]],root)}function sourceEvent(_e){let j;for(;j=_e.sourceEvent;)_e=j;return _e}function pointer(_e,j){if(_e=sourceEvent(_e),j===void 0&&(j=_e.currentTarget),j){var et=j.ownerSVGElement||j;if(et.createSVGPoint){var tt=et.createSVGPoint();return tt.x=_e.clientX,tt.y=_e.clientY,tt=tt.matrixTransform(j.getScreenCTM().inverse()),[tt.x,tt.y]}if(j.getBoundingClientRect){var nt=j.getBoundingClientRect();return[_e.clientX-nt.left-j.clientLeft,_e.clientY-nt.top-j.clientTop]}}return[_e.pageX,_e.pageY]}const nonpassive={passive:!1},nonpassivecapture={capture:!0,passive:!1};function nopropagation$1(_e){_e.stopImmediatePropagation()}function noevent$1(_e){_e.preventDefault(),_e.stopImmediatePropagation()}function dragDisable(_e){var j=_e.document.documentElement,et=select(_e).on("dragstart.drag",noevent$1,nonpassivecapture);"onselectstart"in j?et.on("selectstart.drag",noevent$1,nonpassivecapture):(j.__noselect=j.style.MozUserSelect,j.style.MozUserSelect="none")}function yesdrag(_e,j){var et=_e.document.documentElement,tt=select(_e).on("dragstart.drag",null);j&&(tt.on("click.drag",noevent$1,nonpassivecapture),setTimeout(function(){tt.on("click.drag",null)},0)),"onselectstart"in et?tt.on("selectstart.drag",null):(et.style.MozUserSelect=et.__noselect,delete et.__noselect)}var constant$3=_e=>()=>_e;function DragEvent(_e,{sourceEvent:j,subject:et,target:tt,identifier:nt,active:rt,x:it,y:st,dx:at,dy:ot,dispatch:lt}){Object.defineProperties(this,{type:{value:_e,enumerable:!0,configurable:!0},sourceEvent:{value:j,enumerable:!0,configurable:!0},subject:{value:et,enumerable:!0,configurable:!0},target:{value:tt,enumerable:!0,configurable:!0},identifier:{value:nt,enumerable:!0,configurable:!0},active:{value:rt,enumerable:!0,configurable:!0},x:{value:it,enumerable:!0,configurable:!0},y:{value:st,enumerable:!0,configurable:!0},dx:{value:at,enumerable:!0,configurable:!0},dy:{value:ot,enumerable:!0,configurable:!0},_:{value:lt}})}DragEvent.prototype.on=function(){var _e=this._.on.apply(this._,arguments);return _e===this._?this:_e};function defaultFilter$1(_e){return!_e.ctrlKey&&!_e.button}function defaultContainer(){return this.parentNode}function defaultSubject(_e,j){return j==null?{x:_e.x,y:_e.y}:j}function defaultTouchable$1(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var _e=defaultFilter$1,j=defaultContainer,et=defaultSubject,tt=defaultTouchable$1,nt={},rt=dispatch("start","drag","end"),it=0,st,at,ot,lt,ut=0;function ct(_t){_t.on("mousedown.drag",ht).filter(tt).on("touchstart.drag",vt).on("touchmove.drag",ft,nonpassive).on("touchend.drag touchcancel.drag",mt).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function ht(_t,Tt){if(!(lt||!_e.call(this,_t,Tt))){var wt=xt(this,j.call(this,_t,Tt),_t,Tt,"mouse");!wt||(select(_t.view).on("mousemove.drag",pt,nonpassivecapture).on("mouseup.drag",gt,nonpassivecapture),dragDisable(_t.view),nopropagation$1(_t),ot=!1,st=_t.clientX,at=_t.clientY,wt("start",_t))}}function pt(_t){if(noevent$1(_t),!ot){var Tt=_t.clientX-st,wt=_t.clientY-at;ot=Tt*Tt+wt*wt>ut}nt.mouse("drag",_t)}function gt(_t){select(_t.view).on("mousemove.drag mouseup.drag",null),yesdrag(_t.view,ot),noevent$1(_t),nt.mouse("end",_t)}function vt(_t,Tt){if(!!_e.call(this,_t,Tt)){var wt=_t.changedTouches,bt=j.call(this,_t,Tt),Ct=wt.length,Lt,$t;for(Lt=0;Lt<Ct;++Lt)($t=xt(this,bt,_t,Tt,wt[Lt].identifier,wt[Lt]))&&(nopropagation$1(_t),$t("start",_t,wt[Lt]))}}function ft(_t){var Tt=_t.changedTouches,wt=Tt.length,bt,Ct;for(bt=0;bt<wt;++bt)(Ct=nt[Tt[bt].identifier])&&(noevent$1(_t),Ct("drag",_t,Tt[bt]))}function mt(_t){var Tt=_t.changedTouches,wt=Tt.length,bt,Ct;for(lt&&clearTimeout(lt),lt=setTimeout(function(){lt=null},500),bt=0;bt<wt;++bt)(Ct=nt[Tt[bt].identifier])&&(nopropagation$1(_t),Ct("end",_t,Tt[bt]))}function xt(_t,Tt,wt,bt,Ct,Lt){var $t=rt.copy(),Rt=pointer(Lt||wt,Tt),Bt,Gt,Ft;if((Ft=et.call(_t,new DragEvent("beforestart",{sourceEvent:wt,target:ct,identifier:Ct,active:it,x:Rt[0],y:Rt[1],dx:0,dy:0,dispatch:$t}),bt))!=null)return Bt=Ft.x-Rt[0]||0,Gt=Ft.y-Rt[1]||0,function kt(It,Ot,Ut){var zt=Rt,Ht;switch(It){case"start":nt[Ct]=kt,Ht=it++;break;case"end":delete nt[Ct],--it;case"drag":Rt=pointer(Ut||Ot,Tt),Ht=it;break}$t.call(It,_t,new DragEvent(It,{sourceEvent:Ot,subject:Ft,target:ct,identifier:Ct,active:Ht,x:Rt[0]+Bt,y:Rt[1]+Gt,dx:Rt[0]-zt[0],dy:Rt[1]-zt[1],dispatch:$t}),bt)}}return ct.filter=function(_t){return arguments.length?(_e=typeof _t=="function"?_t:constant$3(!!_t),ct):_e},ct.container=function(_t){return arguments.length?(j=typeof _t=="function"?_t:constant$3(_t),ct):j},ct.subject=function(_t){return arguments.length?(et=typeof _t=="function"?_t:constant$3(_t),ct):et},ct.touchable=function(_t){return arguments.length?(tt=typeof _t=="function"?_t:constant$3(!!_t),ct):tt},ct.on=function(){var _t=rt.on.apply(rt,arguments);return _t===rt?ct:_t},ct.clickDistance=function(_t){return arguments.length?(ut=(_t=+_t)*_t,ct):Math.sqrt(ut)},ct}function define(_e,j,et){_e.prototype=j.prototype=et,et.constructor=_e}function extend(_e,j){var et=Object.create(_e.prototype);for(var tt in j)et[tt]=j[tt];return et}function Color$1(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color$1,color,{copy(_e){return Object.assign(new this.constructor,this,_e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(_e){var j,et;return _e=(_e+"").trim().toLowerCase(),(j=reHex.exec(_e))?(et=j[1].length,j=parseInt(j[1],16),et===6?rgbn(j):et===3?new Rgb(j>>8&15|j>>4&240,j>>4&15|j&240,(j&15)<<4|j&15,1):et===8?rgba(j>>24&255,j>>16&255,j>>8&255,(j&255)/255):et===4?rgba(j>>12&15|j>>8&240,j>>8&15|j>>4&240,j>>4&15|j&240,((j&15)<<4|j&15)/255):null):(j=reRgbInteger.exec(_e))?new Rgb(j[1],j[2],j[3],1):(j=reRgbPercent.exec(_e))?new Rgb(j[1]*255/100,j[2]*255/100,j[3]*255/100,1):(j=reRgbaInteger.exec(_e))?rgba(j[1],j[2],j[3],j[4]):(j=reRgbaPercent.exec(_e))?rgba(j[1]*255/100,j[2]*255/100,j[3]*255/100,j[4]):(j=reHslPercent.exec(_e))?hsla(j[1],j[2]/100,j[3]/100,1):(j=reHslaPercent.exec(_e))?hsla(j[1],j[2]/100,j[3]/100,j[4]):named.hasOwnProperty(_e)?rgbn(named[_e]):_e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(_e){return new Rgb(_e>>16&255,_e>>8&255,_e&255,1)}function rgba(_e,j,et,tt){return tt<=0&&(_e=j=et=NaN),new Rgb(_e,j,et,tt)}function rgbConvert(_e){return _e instanceof Color$1||(_e=color(_e)),_e?(_e=_e.rgb(),new Rgb(_e.r,_e.g,_e.b,_e.opacity)):new Rgb}function rgb(_e,j,et,tt){return arguments.length===1?rgbConvert(_e):new Rgb(_e,j,et,tt==null?1:tt)}function Rgb(_e,j,et,tt){this.r=+_e,this.g=+j,this.b=+et,this.opacity=+tt}define(Rgb,rgb,extend(Color$1,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const _e=clampa(this.opacity);return`${_e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${_e===1?")":`, ${_e})`}`}function clampa(_e){return isNaN(_e)?1:Math.max(0,Math.min(1,_e))}function clampi(_e){return Math.max(0,Math.min(255,Math.round(_e)||0))}function hex(_e){return _e=clampi(_e),(_e<16?"0":"")+_e.toString(16)}function hsla(_e,j,et,tt){return tt<=0?_e=j=et=NaN:et<=0||et>=1?_e=j=NaN:j<=0&&(_e=NaN),new Hsl(_e,j,et,tt)}function hslConvert(_e){if(_e instanceof Hsl)return new Hsl(_e.h,_e.s,_e.l,_e.opacity);if(_e instanceof Color$1||(_e=color(_e)),!_e)return new Hsl;if(_e instanceof Hsl)return _e;_e=_e.rgb();var j=_e.r/255,et=_e.g/255,tt=_e.b/255,nt=Math.min(j,et,tt),rt=Math.max(j,et,tt),it=NaN,st=rt-nt,at=(rt+nt)/2;return st?(j===rt?it=(et-tt)/st+(et<tt)*6:et===rt?it=(tt-j)/st+2:it=(j-et)/st+4,st/=at<.5?rt+nt:2-rt-nt,it*=60):st=at>0&&at<1?0:it,new Hsl(it,st,at,_e.opacity)}function hsl(_e,j,et,tt){return arguments.length===1?hslConvert(_e):new Hsl(_e,j,et,tt==null?1:tt)}function Hsl(_e,j,et,tt){this.h=+_e,this.s=+j,this.l=+et,this.opacity=+tt}define(Hsl,hsl,extend(Color$1,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},rgb(){var _e=this.h%360+(this.h<0)*360,j=isNaN(_e)||isNaN(this.s)?0:this.s,et=this.l,tt=et+(et<.5?et:1-et)*j,nt=2*et-tt;return new Rgb(hsl2rgb(_e>=240?_e-240:_e+120,nt,tt),hsl2rgb(_e,nt,tt),hsl2rgb(_e<120?_e+240:_e-120,nt,tt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const _e=clampa(this.opacity);return`${_e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${_e===1?")":`, ${_e})`}`}}));function clamph(_e){return _e=(_e||0)%360,_e<0?_e+360:_e}function clampt(_e){return Math.max(0,Math.min(1,_e||0))}function hsl2rgb(_e,j,et){return(_e<60?j+(et-j)*_e/60:_e<180?et:_e<240?j+(et-j)*(240-_e)/60:j)*255}var constant$2=_e=>()=>_e;function linear(_e,j){return function(et){return _e+et*j}}function exponential(_e,j,et){return _e=Math.pow(_e,et),j=Math.pow(j,et)-_e,et=1/et,function(tt){return Math.pow(_e+tt*j,et)}}function gamma(_e){return(_e=+_e)==1?nogamma:function(j,et){return et-j?exponential(j,et,_e):constant$2(isNaN(j)?et:j)}}function nogamma(_e,j){var et=j-_e;return et?linear(_e,et):constant$2(isNaN(_e)?j:_e)}var interpolateRgb=function _e(j){var et=gamma(j);function tt(nt,rt){var it=et((nt=rgb(nt)).r,(rt=rgb(rt)).r),st=et(nt.g,rt.g),at=et(nt.b,rt.b),ot=nogamma(nt.opacity,rt.opacity);return function(lt){return nt.r=it(lt),nt.g=st(lt),nt.b=at(lt),nt.opacity=ot(lt),nt+""}}return tt.gamma=_e,tt}(1);function interpolateNumber(_e,j){return _e=+_e,j=+j,function(et){return _e*(1-et)+j*et}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(_e){return function(){return _e}}function one(_e){return function(j){return _e(j)+""}}function interpolateString(_e,j){var et=reA.lastIndex=reB.lastIndex=0,tt,nt,rt,it=-1,st=[],at=[];for(_e=_e+"",j=j+"";(tt=reA.exec(_e))&&(nt=reB.exec(j));)(rt=nt.index)>et&&(rt=j.slice(et,rt),st[it]?st[it]+=rt:st[++it]=rt),(tt=tt[0])===(nt=nt[0])?st[it]?st[it]+=nt:st[++it]=nt:(st[++it]=null,at.push({i:it,x:interpolateNumber(tt,nt)})),et=reB.lastIndex;return et<j.length&&(rt=j.slice(et),st[it]?st[it]+=rt:st[++it]=rt),st.length<2?at[0]?one(at[0].x):zero(j):(j=at.length,function(ot){for(var lt=0,ut;lt<j;++lt)st[(ut=at[lt]).i]=ut.x(ot);return st.join("")})}var degrees=180/Math.PI,identity$1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(_e,j,et,tt,nt,rt){var it,st,at;return(it=Math.sqrt(_e*_e+j*j))&&(_e/=it,j/=it),(at=_e*et+j*tt)&&(et-=_e*at,tt-=j*at),(st=Math.sqrt(et*et+tt*tt))&&(et/=st,tt/=st,at/=st),_e*tt<j*et&&(_e=-_e,j=-j,at=-at,it=-it),{translateX:nt,translateY:rt,rotate:Math.atan2(j,_e)*degrees,skewX:Math.atan(at)*degrees,scaleX:it,scaleY:st}}var svgNode;function parseCss(_e){const j=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(_e+"");return j.isIdentity?identity$1:decompose(j.a,j.b,j.c,j.d,j.e,j.f)}function parseSvg(_e){return _e==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",_e),!(_e=svgNode.transform.baseVal.consolidate()))?identity$1:(_e=_e.matrix,decompose(_e.a,_e.b,_e.c,_e.d,_e.e,_e.f))}function interpolateTransform(_e,j,et,tt){function nt(ot){return ot.length?ot.pop()+" ":""}function rt(ot,lt,ut,ct,ht,pt){if(ot!==ut||lt!==ct){var gt=ht.push("translate(",null,j,null,et);pt.push({i:gt-4,x:interpolateNumber(ot,ut)},{i:gt-2,x:interpolateNumber(lt,ct)})}else(ut||ct)&&ht.push("translate("+ut+j+ct+et)}function it(ot,lt,ut,ct){ot!==lt?(ot-lt>180?lt+=360:lt-ot>180&&(ot+=360),ct.push({i:ut.push(nt(ut)+"rotate(",null,tt)-2,x:interpolateNumber(ot,lt)})):lt&&ut.push(nt(ut)+"rotate("+lt+tt)}function st(ot,lt,ut,ct){ot!==lt?ct.push({i:ut.push(nt(ut)+"skewX(",null,tt)-2,x:interpolateNumber(ot,lt)}):lt&&ut.push(nt(ut)+"skewX("+lt+tt)}function at(ot,lt,ut,ct,ht,pt){if(ot!==ut||lt!==ct){var gt=ht.push(nt(ht)+"scale(",null,",",null,")");pt.push({i:gt-4,x:interpolateNumber(ot,ut)},{i:gt-2,x:interpolateNumber(lt,ct)})}else(ut!==1||ct!==1)&&ht.push(nt(ht)+"scale("+ut+","+ct+")")}return function(ot,lt){var ut=[],ct=[];return ot=_e(ot),lt=_e(lt),rt(ot.translateX,ot.translateY,lt.translateX,lt.translateY,ut,ct),it(ot.rotate,lt.rotate,ut,ct),st(ot.skewX,lt.skewX,ut,ct),at(ot.scaleX,ot.scaleY,lt.scaleX,lt.scaleY,ut,ct),ot=lt=null,function(ht){for(var pt=-1,gt=ct.length,vt;++pt<gt;)ut[(vt=ct[pt]).i]=vt.x(ht);return ut.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),epsilon2=1e-12;function cosh(_e){return((_e=Math.exp(_e))+1/_e)/2}function sinh(_e){return((_e=Math.exp(_e))-1/_e)/2}function tanh(_e){return((_e=Math.exp(2*_e))-1)/(_e+1)}var interpolateZoom=function _e(j,et,tt){function nt(rt,it){var st=rt[0],at=rt[1],ot=rt[2],lt=it[0],ut=it[1],ct=it[2],ht=lt-st,pt=ut-at,gt=ht*ht+pt*pt,vt,ft;if(gt<epsilon2)ft=Math.log(ct/ot)/j,vt=function(bt){return[st+bt*ht,at+bt*pt,ot*Math.exp(j*bt*ft)]};else{var mt=Math.sqrt(gt),xt=(ct*ct-ot*ot+tt*gt)/(2*ot*et*mt),_t=(ct*ct-ot*ot-tt*gt)/(2*ct*et*mt),Tt=Math.log(Math.sqrt(xt*xt+1)-xt),wt=Math.log(Math.sqrt(_t*_t+1)-_t);ft=(wt-Tt)/j,vt=function(bt){var Ct=bt*ft,Lt=cosh(Tt),$t=ot/(et*mt)*(Lt*tanh(j*Ct+Tt)-sinh(Tt));return[st+$t*ht,at+$t*pt,ot*Lt/cosh(j*Ct+Tt)]}}return vt.duration=ft*1e3*j/Math.SQRT2,vt}return nt.rho=function(rt){var it=Math.max(.001,+rt),st=it*it,at=st*st;return _e(it,st,at)},nt}(Math.SQRT2,2,4),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(_e){setTimeout(_e,17)};function now$2(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(_e,j,et){if(typeof _e!="function")throw new TypeError("callback is not a function");et=(et==null?now$2():+et)+(j==null?0:+j),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=_e,this._time=et,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(_e,j,et){var tt=new Timer;return tt.restart(_e,j,et),tt}function timerFlush(){now$2(),++frame;for(var _e=taskHead,j;_e;)(j=clockNow-_e._time)>=0&&_e._call.call(void 0,j),_e=_e._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var _e=clock.now(),j=_e-clockLast;j>pokeDelay&&(clockSkew-=j,clockLast=_e)}function nap(){for(var _e,j=taskHead,et,tt=1/0;j;)j._call?(tt>j._time&&(tt=j._time),_e=j,j=j._next):(et=j._next,j._next=null,j=_e?_e._next=et:taskHead=et);taskTail=_e,sleep(tt)}function sleep(_e){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var j=_e-clockNow;j>24?(_e<1/0&&(timeout$1=setTimeout(wake,_e-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(_e,j,et){var tt=new Timer;return j=j==null?0:+j,tt.restart(nt=>{tt.stop(),_e(nt+j)},j,et),tt}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(_e,j,et,tt,nt,rt){var it=_e.__transition;if(!it)_e.__transition={};else if(et in it)return;create(_e,et,{name:j,index:tt,group:nt,on:emptyOn,tween:emptyTween,time:rt.time,delay:rt.delay,duration:rt.duration,ease:rt.ease,timer:null,state:CREATED})}function init$1(_e,j){var et=get(_e,j);if(et.state>CREATED)throw new Error("too late; already scheduled");return et}function set(_e,j){var et=get(_e,j);if(et.state>STARTED)throw new Error("too late; already running");return et}function get(_e,j){var et=_e.__transition;if(!et||!(et=et[j]))throw new Error("transition not found");return et}function create(_e,j,et){var tt=_e.__transition,nt;tt[j]=et,et.timer=timer(rt,0,et.time);function rt(ot){et.state=SCHEDULED,et.timer.restart(it,et.delay,et.time),et.delay<=ot&&it(ot-et.delay)}function it(ot){var lt,ut,ct,ht;if(et.state!==SCHEDULED)return at();for(lt in tt)if(ht=tt[lt],ht.name===et.name){if(ht.state===STARTED)return timeout(it);ht.state===RUNNING?(ht.state=ENDED,ht.timer.stop(),ht.on.call("interrupt",_e,_e.__data__,ht.index,ht.group),delete tt[lt]):+lt<j&&(ht.state=ENDED,ht.timer.stop(),ht.on.call("cancel",_e,_e.__data__,ht.index,ht.group),delete tt[lt])}if(timeout(function(){et.state===STARTED&&(et.state=RUNNING,et.timer.restart(st,et.delay,et.time),st(ot))}),et.state=STARTING,et.on.call("start",_e,_e.__data__,et.index,et.group),et.state===STARTING){for(et.state=STARTED,nt=new Array(ct=et.tween.length),lt=0,ut=-1;lt<ct;++lt)(ht=et.tween[lt].value.call(_e,_e.__data__,et.index,et.group))&&(nt[++ut]=ht);nt.length=ut+1}}function st(ot){for(var lt=ot<et.duration?et.ease.call(null,ot/et.duration):(et.timer.restart(at),et.state=ENDING,1),ut=-1,ct=nt.length;++ut<ct;)nt[ut].call(_e,lt);et.state===ENDING&&(et.on.call("end",_e,_e.__data__,et.index,et.group),at())}function at(){et.state=ENDED,et.timer.stop(),delete tt[j];for(var ot in tt)return;delete _e.__transition}}function interrupt(_e,j){var et=_e.__transition,tt,nt,rt=!0,it;if(!!et){j=j==null?null:j+"";for(it in et){if((tt=et[it]).name!==j){rt=!1;continue}nt=tt.state>STARTING&&tt.state<ENDING,tt.state=ENDED,tt.timer.stop(),tt.on.call(nt?"interrupt":"cancel",_e,_e.__data__,tt.index,tt.group),delete et[it]}rt&&delete _e.__transition}}function selection_interrupt(_e){return this.each(function(){interrupt(this,_e)})}function tweenRemove(_e,j){var et,tt;return function(){var nt=set(this,_e),rt=nt.tween;if(rt!==et){tt=et=rt;for(var it=0,st=tt.length;it<st;++it)if(tt[it].name===j){tt=tt.slice(),tt.splice(it,1);break}}nt.tween=tt}}function tweenFunction(_e,j,et){var tt,nt;if(typeof et!="function")throw new Error;return function(){var rt=set(this,_e),it=rt.tween;if(it!==tt){nt=(tt=it).slice();for(var st={name:j,value:et},at=0,ot=nt.length;at<ot;++at)if(nt[at].name===j){nt[at]=st;break}at===ot&&nt.push(st)}rt.tween=nt}}function transition_tween(_e,j){var et=this._id;if(_e+="",arguments.length<2){for(var tt=get(this.node(),et).tween,nt=0,rt=tt.length,it;nt<rt;++nt)if((it=tt[nt]).name===_e)return it.value;return null}return this.each((j==null?tweenRemove:tweenFunction)(et,_e,j))}function tweenValue(_e,j,et){var tt=_e._id;return _e.each(function(){var nt=set(this,tt);(nt.value||(nt.value={}))[j]=et.apply(this,arguments)}),function(nt){return get(nt,tt).value[j]}}function interpolate(_e,j){var et;return(typeof j=="number"?interpolateNumber:j instanceof color?interpolateRgb:(et=color(j))?(j=et,interpolateRgb):interpolateString)(_e,j)}function attrRemove(_e){return function(){this.removeAttribute(_e)}}function attrRemoveNS(_e){return function(){this.removeAttributeNS(_e.space,_e.local)}}function attrConstant(_e,j,et){var tt,nt=et+"",rt;return function(){var it=this.getAttribute(_e);return it===nt?null:it===tt?rt:rt=j(tt=it,et)}}function attrConstantNS(_e,j,et){var tt,nt=et+"",rt;return function(){var it=this.getAttributeNS(_e.space,_e.local);return it===nt?null:it===tt?rt:rt=j(tt=it,et)}}function attrFunction(_e,j,et){var tt,nt,rt;return function(){var it,st=et(this),at;return st==null?void this.removeAttribute(_e):(it=this.getAttribute(_e),at=st+"",it===at?null:it===tt&&at===nt?rt:(nt=at,rt=j(tt=it,st)))}}function attrFunctionNS(_e,j,et){var tt,nt,rt;return function(){var it,st=et(this),at;return st==null?void this.removeAttributeNS(_e.space,_e.local):(it=this.getAttributeNS(_e.space,_e.local),at=st+"",it===at?null:it===tt&&at===nt?rt:(nt=at,rt=j(tt=it,st)))}}function transition_attr(_e,j){var et=namespace(_e),tt=et==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(_e,typeof j=="function"?(et.local?attrFunctionNS:attrFunction)(et,tt,tweenValue(this,"attr."+_e,j)):j==null?(et.local?attrRemoveNS:attrRemove)(et):(et.local?attrConstantNS:attrConstant)(et,tt,j))}function attrInterpolate(_e,j){return function(et){this.setAttribute(_e,j.call(this,et))}}function attrInterpolateNS(_e,j){return function(et){this.setAttributeNS(_e.space,_e.local,j.call(this,et))}}function attrTweenNS(_e,j){var et,tt;function nt(){var rt=j.apply(this,arguments);return rt!==tt&&(et=(tt=rt)&&attrInterpolateNS(_e,rt)),et}return nt._value=j,nt}function attrTween(_e,j){var et,tt;function nt(){var rt=j.apply(this,arguments);return rt!==tt&&(et=(tt=rt)&&attrInterpolate(_e,rt)),et}return nt._value=j,nt}function transition_attrTween(_e,j){var et="attr."+_e;if(arguments.length<2)return(et=this.tween(et))&&et._value;if(j==null)return this.tween(et,null);if(typeof j!="function")throw new Error;var tt=namespace(_e);return this.tween(et,(tt.local?attrTweenNS:attrTween)(tt,j))}function delayFunction(_e,j){return function(){init$1(this,_e).delay=+j.apply(this,arguments)}}function delayConstant(_e,j){return j=+j,function(){init$1(this,_e).delay=j}}function transition_delay(_e){var j=this._id;return arguments.length?this.each((typeof _e=="function"?delayFunction:delayConstant)(j,_e)):get(this.node(),j).delay}function durationFunction(_e,j){return function(){set(this,_e).duration=+j.apply(this,arguments)}}function durationConstant(_e,j){return j=+j,function(){set(this,_e).duration=j}}function transition_duration(_e){var j=this._id;return arguments.length?this.each((typeof _e=="function"?durationFunction:durationConstant)(j,_e)):get(this.node(),j).duration}function easeConstant(_e,j){if(typeof j!="function")throw new Error;return function(){set(this,_e).ease=j}}function transition_ease(_e){var j=this._id;return arguments.length?this.each(easeConstant(j,_e)):get(this.node(),j).ease}function easeVarying(_e,j){return function(){var et=j.apply(this,arguments);if(typeof et!="function")throw new Error;set(this,_e).ease=et}}function transition_easeVarying(_e){if(typeof _e!="function")throw new Error;return this.each(easeVarying(this._id,_e))}function transition_filter(_e){typeof _e!="function"&&(_e=matcher(_e));for(var j=this._groups,et=j.length,tt=new Array(et),nt=0;nt<et;++nt)for(var rt=j[nt],it=rt.length,st=tt[nt]=[],at,ot=0;ot<it;++ot)(at=rt[ot])&&_e.call(at,at.__data__,ot,rt)&&st.push(at);return new Transition(tt,this._parents,this._name,this._id)}function transition_merge(_e){if(_e._id!==this._id)throw new Error;for(var j=this._groups,et=_e._groups,tt=j.length,nt=et.length,rt=Math.min(tt,nt),it=new Array(tt),st=0;st<rt;++st)for(var at=j[st],ot=et[st],lt=at.length,ut=it[st]=new Array(lt),ct,ht=0;ht<lt;++ht)(ct=at[ht]||ot[ht])&&(ut[ht]=ct);for(;st<tt;++st)it[st]=j[st];return new Transition(it,this._parents,this._name,this._id)}function start(_e){return(_e+"").trim().split(/^|\s+/).every(function(j){var et=j.indexOf(".");return et>=0&&(j=j.slice(0,et)),!j||j==="start"})}function onFunction(_e,j,et){var tt,nt,rt=start(j)?init$1:set;return function(){var it=rt(this,_e),st=it.on;st!==tt&&(nt=(tt=st).copy()).on(j,et),it.on=nt}}function transition_on(_e,j){var et=this._id;return arguments.length<2?get(this.node(),et).on.on(_e):this.each(onFunction(et,_e,j))}function removeFunction(_e){return function(){var j=this.parentNode;for(var et in this.__transition)if(+et!==_e)return;j&&j.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(_e){var j=this._name,et=this._id;typeof _e!="function"&&(_e=selector(_e));for(var tt=this._groups,nt=tt.length,rt=new Array(nt),it=0;it<nt;++it)for(var st=tt[it],at=st.length,ot=rt[it]=new Array(at),lt,ut,ct=0;ct<at;++ct)(lt=st[ct])&&(ut=_e.call(lt,lt.__data__,ct,st))&&("__data__"in lt&&(ut.__data__=lt.__data__),ot[ct]=ut,schedule(ot[ct],j,et,ct,ot,get(lt,et)));return new Transition(rt,this._parents,j,et)}function transition_selectAll(_e){var j=this._name,et=this._id;typeof _e!="function"&&(_e=selectorAll(_e));for(var tt=this._groups,nt=tt.length,rt=[],it=[],st=0;st<nt;++st)for(var at=tt[st],ot=at.length,lt,ut=0;ut<ot;++ut)if(lt=at[ut]){for(var ct=_e.call(lt,lt.__data__,ut,at),ht,pt=get(lt,et),gt=0,vt=ct.length;gt<vt;++gt)(ht=ct[gt])&&schedule(ht,j,et,gt,ct,pt);rt.push(ct),it.push(lt)}return new Transition(rt,it,j,et)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(_e,j){var et,tt,nt;return function(){var rt=styleValue(this,_e),it=(this.style.removeProperty(_e),styleValue(this,_e));return rt===it?null:rt===et&&it===tt?nt:nt=j(et=rt,tt=it)}}function styleRemove(_e){return function(){this.style.removeProperty(_e)}}function styleConstant(_e,j,et){var tt,nt=et+"",rt;return function(){var it=styleValue(this,_e);return it===nt?null:it===tt?rt:rt=j(tt=it,et)}}function styleFunction(_e,j,et){var tt,nt,rt;return function(){var it=styleValue(this,_e),st=et(this),at=st+"";return st==null&&(at=st=(this.style.removeProperty(_e),styleValue(this,_e))),it===at?null:it===tt&&at===nt?rt:(nt=at,rt=j(tt=it,st))}}function styleMaybeRemove(_e,j){var et,tt,nt,rt="style."+j,it="end."+rt,st;return function(){var at=set(this,_e),ot=at.on,lt=at.value[rt]==null?st||(st=styleRemove(j)):void 0;(ot!==et||nt!==lt)&&(tt=(et=ot).copy()).on(it,nt=lt),at.on=tt}}function transition_style(_e,j,et){var tt=(_e+="")=="transform"?interpolateTransformCss:interpolate;return j==null?this.styleTween(_e,styleNull(_e,tt)).on("end.style."+_e,styleRemove(_e)):typeof j=="function"?this.styleTween(_e,styleFunction(_e,tt,tweenValue(this,"style."+_e,j))).each(styleMaybeRemove(this._id,_e)):this.styleTween(_e,styleConstant(_e,tt,j),et).on("end.style."+_e,null)}function styleInterpolate(_e,j,et){return function(tt){this.style.setProperty(_e,j.call(this,tt),et)}}function styleTween(_e,j,et){var tt,nt;function rt(){var it=j.apply(this,arguments);return it!==nt&&(tt=(nt=it)&&styleInterpolate(_e,it,et)),tt}return rt._value=j,rt}function transition_styleTween(_e,j,et){var tt="style."+(_e+="");if(arguments.length<2)return(tt=this.tween(tt))&&tt._value;if(j==null)return this.tween(tt,null);if(typeof j!="function")throw new Error;return this.tween(tt,styleTween(_e,j,et==null?"":et))}function textConstant(_e){return function(){this.textContent=_e}}function textFunction(_e){return function(){var j=_e(this);this.textContent=j==null?"":j}}function transition_text(_e){return this.tween("text",typeof _e=="function"?textFunction(tweenValue(this,"text",_e)):textConstant(_e==null?"":_e+""))}function textInterpolate(_e){return function(j){this.textContent=_e.call(this,j)}}function textTween(_e){var j,et;function tt(){var nt=_e.apply(this,arguments);return nt!==et&&(j=(et=nt)&&textInterpolate(nt)),j}return tt._value=_e,tt}function transition_textTween(_e){var j="text";if(arguments.length<1)return(j=this.tween(j))&&j._value;if(_e==null)return this.tween(j,null);if(typeof _e!="function")throw new Error;return this.tween(j,textTween(_e))}function transition_transition(){for(var _e=this._name,j=this._id,et=newId(),tt=this._groups,nt=tt.length,rt=0;rt<nt;++rt)for(var it=tt[rt],st=it.length,at,ot=0;ot<st;++ot)if(at=it[ot]){var lt=get(at,j);schedule(at,_e,et,ot,it,{time:lt.time+lt.delay+lt.duration,delay:0,duration:lt.duration,ease:lt.ease})}return new Transition(tt,this._parents,_e,et)}function transition_end(){var _e,j,et=this,tt=et._id,nt=et.size();return new Promise(function(rt,it){var st={value:it},at={value:function(){--nt===0&&rt()}};et.each(function(){var ot=set(this,tt),lt=ot.on;lt!==_e&&(j=(_e=lt).copy(),j._.cancel.push(st),j._.interrupt.push(st),j._.end.push(at)),ot.on=j}),nt===0&&rt()})}var id=0;function Transition(_e,j,et,tt){this._groups=_e,this._parents=j,this._name=et,this._id=tt}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(_e){return((_e*=2)<=1?_e*_e*_e:(_e-=2)*_e*_e+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(_e,j){for(var et;!(et=_e.__transition)||!(et=et[j]);)if(!(_e=_e.parentNode))throw new Error(`transition ${j} not found`);return et}function selection_transition(_e){var j,et;_e instanceof Transition?(j=_e._id,_e=_e._name):(j=newId(),(et=defaultTiming).time=now$2(),_e=_e==null?null:_e+"");for(var tt=this._groups,nt=tt.length,rt=0;rt<nt;++rt)for(var it=tt[rt],st=it.length,at,ot=0;ot<st;++ot)(at=it[ot])&&schedule(at,_e,j,ot,it,et||inherit(at,j));return new Transition(tt,this._parents,_e,j)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;function tree_add(_e){const j=+this._x.call(null,_e),et=+this._y.call(null,_e);return add$1(this.cover(j,et),j,et,_e)}function add$1(_e,j,et,tt){if(isNaN(j)||isNaN(et))return _e;var nt,rt=_e._root,it={data:tt},st=_e._x0,at=_e._y0,ot=_e._x1,lt=_e._y1,ut,ct,ht,pt,gt,vt,ft,mt;if(!rt)return _e._root=it,_e;for(;rt.length;)if((gt=j>=(ut=(st+ot)/2))?st=ut:ot=ut,(vt=et>=(ct=(at+lt)/2))?at=ct:lt=ct,nt=rt,!(rt=rt[ft=vt<<1|gt]))return nt[ft]=it,_e;if(ht=+_e._x.call(null,rt.data),pt=+_e._y.call(null,rt.data),j===ht&&et===pt)return it.next=rt,nt?nt[ft]=it:_e._root=it,_e;do nt=nt?nt[ft]=new Array(4):_e._root=new Array(4),(gt=j>=(ut=(st+ot)/2))?st=ut:ot=ut,(vt=et>=(ct=(at+lt)/2))?at=ct:lt=ct;while((ft=vt<<1|gt)===(mt=(pt>=ct)<<1|ht>=ut));return nt[mt]=rt,nt[ft]=it,_e}function addAll(_e){var j,et,tt=_e.length,nt,rt,it=new Array(tt),st=new Array(tt),at=1/0,ot=1/0,lt=-1/0,ut=-1/0;for(et=0;et<tt;++et)isNaN(nt=+this._x.call(null,j=_e[et]))||isNaN(rt=+this._y.call(null,j))||(it[et]=nt,st[et]=rt,nt<at&&(at=nt),nt>lt&&(lt=nt),rt<ot&&(ot=rt),rt>ut&&(ut=rt));if(at>lt||ot>ut)return this;for(this.cover(at,ot).cover(lt,ut),et=0;et<tt;++et)add$1(this,it[et],st[et],_e[et]);return this}function tree_cover(_e,j){if(isNaN(_e=+_e)||isNaN(j=+j))return this;var et=this._x0,tt=this._y0,nt=this._x1,rt=this._y1;if(isNaN(et))nt=(et=Math.floor(_e))+1,rt=(tt=Math.floor(j))+1;else{for(var it=nt-et||1,st=this._root,at,ot;et>_e||_e>=nt||tt>j||j>=rt;)switch(ot=(j<tt)<<1|_e<et,at=new Array(4),at[ot]=st,st=at,it*=2,ot){case 0:nt=et+it,rt=tt+it;break;case 1:et=nt-it,rt=tt+it;break;case 2:nt=et+it,tt=rt-it;break;case 3:et=nt-it,tt=rt-it;break}this._root&&this._root.length&&(this._root=st)}return this._x0=et,this._y0=tt,this._x1=nt,this._y1=rt,this}function tree_data(){var _e=[];return this.visit(function(j){if(!j.length)do _e.push(j.data);while(j=j.next)}),_e}function tree_extent(_e){return arguments.length?this.cover(+_e[0][0],+_e[0][1]).cover(+_e[1][0],+_e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad$1(_e,j,et,tt,nt){this.node=_e,this.x0=j,this.y0=et,this.x1=tt,this.y1=nt}function tree_find(_e,j,et){var tt,nt=this._x0,rt=this._y0,it,st,at,ot,lt=this._x1,ut=this._y1,ct=[],ht=this._root,pt,gt;for(ht&&ct.push(new Quad$1(ht,nt,rt,lt,ut)),et==null?et=1/0:(nt=_e-et,rt=j-et,lt=_e+et,ut=j+et,et*=et);pt=ct.pop();)if(!(!(ht=pt.node)||(it=pt.x0)>lt||(st=pt.y0)>ut||(at=pt.x1)<nt||(ot=pt.y1)<rt))if(ht.length){var vt=(it+at)/2,ft=(st+ot)/2;ct.push(new Quad$1(ht[3],vt,ft,at,ot),new Quad$1(ht[2],it,ft,vt,ot),new Quad$1(ht[1],vt,st,at,ft),new Quad$1(ht[0],it,st,vt,ft)),(gt=(j>=ft)<<1|_e>=vt)&&(pt=ct[ct.length-1],ct[ct.length-1]=ct[ct.length-1-gt],ct[ct.length-1-gt]=pt)}else{var mt=_e-+this._x.call(null,ht.data),xt=j-+this._y.call(null,ht.data),_t=mt*mt+xt*xt;if(_t<et){var Tt=Math.sqrt(et=_t);nt=_e-Tt,rt=j-Tt,lt=_e+Tt,ut=j+Tt,tt=ht.data}}return tt}function tree_remove(_e){if(isNaN(lt=+this._x.call(null,_e))||isNaN(ut=+this._y.call(null,_e)))return this;var j,et=this._root,tt,nt,rt,it=this._x0,st=this._y0,at=this._x1,ot=this._y1,lt,ut,ct,ht,pt,gt,vt,ft;if(!et)return this;if(et.length)for(;;){if((pt=lt>=(ct=(it+at)/2))?it=ct:at=ct,(gt=ut>=(ht=(st+ot)/2))?st=ht:ot=ht,j=et,!(et=et[vt=gt<<1|pt]))return this;if(!et.length)break;(j[vt+1&3]||j[vt+2&3]||j[vt+3&3])&&(tt=j,ft=vt)}for(;et.data!==_e;)if(nt=et,!(et=et.next))return this;return(rt=et.next)&&delete et.next,nt?(rt?nt.next=rt:delete nt.next,this):j?(rt?j[vt]=rt:delete j[vt],(et=j[0]||j[1]||j[2]||j[3])&&et===(j[3]||j[2]||j[1]||j[0])&&!et.length&&(tt?tt[ft]=et:this._root=et),this):(this._root=rt,this)}function removeAll$1(_e){for(var j=0,et=_e.length;j<et;++j)this.remove(_e[j]);return this}function tree_root(){return this._root}function tree_size(){var _e=0;return this.visit(function(j){if(!j.length)do++_e;while(j=j.next)}),_e}function tree_visit(_e){var j=[],et,tt=this._root,nt,rt,it,st,at;for(tt&&j.push(new Quad$1(tt,this._x0,this._y0,this._x1,this._y1));et=j.pop();)if(!_e(tt=et.node,rt=et.x0,it=et.y0,st=et.x1,at=et.y1)&&tt.length){var ot=(rt+st)/2,lt=(it+at)/2;(nt=tt[3])&&j.push(new Quad$1(nt,ot,lt,st,at)),(nt=tt[2])&&j.push(new Quad$1(nt,rt,lt,ot,at)),(nt=tt[1])&&j.push(new Quad$1(nt,ot,it,st,lt)),(nt=tt[0])&&j.push(new Quad$1(nt,rt,it,ot,lt))}return this}function tree_visitAfter(_e){var j=[],et=[],tt;for(this._root&&j.push(new Quad$1(this._root,this._x0,this._y0,this._x1,this._y1));tt=j.pop();){var nt=tt.node;if(nt.length){var rt,it=tt.x0,st=tt.y0,at=tt.x1,ot=tt.y1,lt=(it+at)/2,ut=(st+ot)/2;(rt=nt[0])&&j.push(new Quad$1(rt,it,st,lt,ut)),(rt=nt[1])&&j.push(new Quad$1(rt,lt,st,at,ut)),(rt=nt[2])&&j.push(new Quad$1(rt,it,ut,lt,ot)),(rt=nt[3])&&j.push(new Quad$1(rt,lt,ut,at,ot))}et.push(tt)}for(;tt=et.pop();)_e(tt.node,tt.x0,tt.y0,tt.x1,tt.y1);return this}function defaultX(_e){return _e[0]}function tree_x(_e){return arguments.length?(this._x=_e,this):this._x}function defaultY(_e){return _e[1]}function tree_y(_e){return arguments.length?(this._y=_e,this):this._y}function quadtree(_e,j,et){var tt=new Quadtree(j==null?defaultX:j,et==null?defaultY:et,NaN,NaN,NaN,NaN);return _e==null?tt:tt.addAll(_e)}function Quadtree(_e,j,et,tt,nt,rt){this._x=_e,this._y=j,this._x0=et,this._y0=tt,this._x1=nt,this._y1=rt,this._root=void 0}function leaf_copy(_e){for(var j={data:_e.data},et=j;_e=_e.next;)et=et.next={data:_e.data};return j}var treeProto=quadtree.prototype=Quadtree.prototype;treeProto.copy=function(){var _e=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),j=this._root,et,tt;if(!j)return _e;if(!j.length)return _e._root=leaf_copy(j),_e;for(et=[{source:j,target:_e._root=new Array(4)}];j=et.pop();)for(var nt=0;nt<4;++nt)(tt=j.source[nt])&&(tt.length?et.push({source:tt,target:j.target[nt]=new Array(4)}):j.target[nt]=leaf_copy(tt));return _e};treeProto.add=tree_add;treeProto.addAll=addAll;treeProto.cover=tree_cover;treeProto.data=tree_data;treeProto.extent=tree_extent;treeProto.find=tree_find;treeProto.remove=tree_remove;treeProto.removeAll=removeAll$1;treeProto.root=tree_root;treeProto.size=tree_size;treeProto.visit=tree_visit;treeProto.visitAfter=tree_visitAfter;treeProto.x=tree_x;treeProto.y=tree_y;function constant$1(_e){return function(){return _e}}function jiggle(_e){return(_e()-.5)*1e-6}function index$j(_e){return _e.index}function find(_e,j){var et=_e.get(j);if(!et)throw new Error("node not found: "+j);return et}function link(_e){var j=index$j,et=ut,tt,nt=constant$1(30),rt,it,st,at,ot,lt=1;_e==null&&(_e=[]);function ut(vt){return 1/Math.min(st[vt.source.index],st[vt.target.index])}function ct(vt){for(var ft=0,mt=_e.length;ft<lt;++ft)for(var xt=0,_t,Tt,wt,bt,Ct,Lt,$t;xt<mt;++xt)_t=_e[xt],Tt=_t.source,wt=_t.target,bt=wt.x+wt.vx-Tt.x-Tt.vx||jiggle(ot),Ct=wt.y+wt.vy-Tt.y-Tt.vy||jiggle(ot),Lt=Math.sqrt(bt*bt+Ct*Ct),Lt=(Lt-rt[xt])/Lt*vt*tt[xt],bt*=Lt,Ct*=Lt,wt.vx-=bt*($t=at[xt]),wt.vy-=Ct*$t,Tt.vx+=bt*($t=1-$t),Tt.vy+=Ct*$t}function ht(){if(!!it){var vt,ft=it.length,mt=_e.length,xt=new Map(it.map((Tt,wt)=>[j(Tt,wt,it),Tt])),_t;for(vt=0,st=new Array(ft);vt<mt;++vt)_t=_e[vt],_t.index=vt,typeof _t.source!="object"&&(_t.source=find(xt,_t.source)),typeof _t.target!="object"&&(_t.target=find(xt,_t.target)),st[_t.source.index]=(st[_t.source.index]||0)+1,st[_t.target.index]=(st[_t.target.index]||0)+1;for(vt=0,at=new Array(mt);vt<mt;++vt)_t=_e[vt],at[vt]=st[_t.source.index]/(st[_t.source.index]+st[_t.target.index]);tt=new Array(mt),pt(),rt=new Array(mt),gt()}}function pt(){if(!!it)for(var vt=0,ft=_e.length;vt<ft;++vt)tt[vt]=+et(_e[vt],vt,_e)}function gt(){if(!!it)for(var vt=0,ft=_e.length;vt<ft;++vt)rt[vt]=+nt(_e[vt],vt,_e)}return ct.initialize=function(vt,ft){it=vt,ot=ft,ht()},ct.links=function(vt){return arguments.length?(_e=vt,ht(),ct):_e},ct.id=function(vt){return arguments.length?(j=vt,ct):j},ct.iterations=function(vt){return arguments.length?(lt=+vt,ct):lt},ct.strength=function(vt){return arguments.length?(et=typeof vt=="function"?vt:constant$1(+vt),pt(),ct):et},ct.distance=function(vt){return arguments.length?(nt=typeof vt=="function"?vt:constant$1(+vt),gt(),ct):nt},ct}const a=1664525,c=1013904223,m=4294967296;function lcg(){let _e=1;return()=>(_e=(a*_e+c)%m)/m}function x$1(_e){return _e.x}function y(_e){return _e.y}var initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5));function simulation(_e){var j,et=1,tt=.001,nt=1-Math.pow(tt,1/300),rt=0,it=.6,st=new Map,at=timer(ut),ot=dispatch("tick","end"),lt=lcg();_e==null&&(_e=[]);function ut(){ct(),ot.call("tick",j),et<tt&&(at.stop(),ot.call("end",j))}function ct(gt){var vt,ft=_e.length,mt;gt===void 0&&(gt=1);for(var xt=0;xt<gt;++xt)for(et+=(rt-et)*nt,st.forEach(function(_t){_t(et)}),vt=0;vt<ft;++vt)mt=_e[vt],mt.fx==null?mt.x+=mt.vx*=it:(mt.x=mt.fx,mt.vx=0),mt.fy==null?mt.y+=mt.vy*=it:(mt.y=mt.fy,mt.vy=0);return j}function ht(){for(var gt=0,vt=_e.length,ft;gt<vt;++gt){if(ft=_e[gt],ft.index=gt,ft.fx!=null&&(ft.x=ft.fx),ft.fy!=null&&(ft.y=ft.fy),isNaN(ft.x)||isNaN(ft.y)){var mt=initialRadius*Math.sqrt(.5+gt),xt=gt*initialAngle;ft.x=mt*Math.cos(xt),ft.y=mt*Math.sin(xt)}(isNaN(ft.vx)||isNaN(ft.vy))&&(ft.vx=ft.vy=0)}}function pt(gt){return gt.initialize&&gt.initialize(_e,lt),gt}return ht(),j={tick:ct,restart:function(){return at.restart(ut),j},stop:function(){return at.stop(),j},nodes:function(gt){return arguments.length?(_e=gt,ht(),st.forEach(pt),j):_e},alpha:function(gt){return arguments.length?(et=+gt,j):et},alphaMin:function(gt){return arguments.length?(tt=+gt,j):tt},alphaDecay:function(gt){return arguments.length?(nt=+gt,j):+nt},alphaTarget:function(gt){return arguments.length?(rt=+gt,j):rt},velocityDecay:function(gt){return arguments.length?(it=1-gt,j):1-it},randomSource:function(gt){return arguments.length?(lt=gt,st.forEach(pt),j):lt},force:function(gt,vt){return arguments.length>1?(vt==null?st.delete(gt):st.set(gt,pt(vt)),j):st.get(gt)},find:function(gt,vt,ft){var mt=0,xt=_e.length,_t,Tt,wt,bt,Ct;for(ft==null?ft=1/0:ft*=ft,mt=0;mt<xt;++mt)bt=_e[mt],_t=gt-bt.x,Tt=vt-bt.y,wt=_t*_t+Tt*Tt,wt<ft&&(Ct=bt,ft=wt);return Ct},on:function(gt,vt){return arguments.length>1?(ot.on(gt,vt),j):ot.on(gt)}}}function manyBody(){var _e,j,et,tt,nt=constant$1(-30),rt,it=1,st=1/0,at=.81;function ot(ht){var pt,gt=_e.length,vt=quadtree(_e,x$1,y).visitAfter(ut);for(tt=ht,pt=0;pt<gt;++pt)j=_e[pt],vt.visit(ct)}function lt(){if(!!_e){var ht,pt=_e.length,gt;for(rt=new Array(pt),ht=0;ht<pt;++ht)gt=_e[ht],rt[gt.index]=+nt(gt,ht,_e)}}function ut(ht){var pt=0,gt,vt,ft=0,mt,xt,_t;if(ht.length){for(mt=xt=_t=0;_t<4;++_t)(gt=ht[_t])&&(vt=Math.abs(gt.value))&&(pt+=gt.value,ft+=vt,mt+=vt*gt.x,xt+=vt*gt.y);ht.x=mt/ft,ht.y=xt/ft}else{gt=ht,gt.x=gt.data.x,gt.y=gt.data.y;do pt+=rt[gt.data.index];while(gt=gt.next)}ht.value=pt}function ct(ht,pt,gt,vt){if(!ht.value)return!0;var ft=ht.x-j.x,mt=ht.y-j.y,xt=vt-pt,_t=ft*ft+mt*mt;if(xt*xt/at<_t)return _t<st&&(ft===0&&(ft=jiggle(et),_t+=ft*ft),mt===0&&(mt=jiggle(et),_t+=mt*mt),_t<it&&(_t=Math.sqrt(it*_t)),j.vx+=ft*ht.value*tt/_t,j.vy+=mt*ht.value*tt/_t),!0;if(ht.length||_t>=st)return;(ht.data!==j||ht.next)&&(ft===0&&(ft=jiggle(et),_t+=ft*ft),mt===0&&(mt=jiggle(et),_t+=mt*mt),_t<it&&(_t=Math.sqrt(it*_t)));do ht.data!==j&&(xt=rt[ht.data.index]*tt/_t,j.vx+=ft*xt,j.vy+=mt*xt);while(ht=ht.next)}return ot.initialize=function(ht,pt){_e=ht,et=pt,lt()},ot.strength=function(ht){return arguments.length?(nt=typeof ht=="function"?ht:constant$1(+ht),lt(),ot):nt},ot.distanceMin=function(ht){return arguments.length?(it=ht*ht,ot):Math.sqrt(it)},ot.distanceMax=function(ht){return arguments.length?(st=ht*ht,ot):Math.sqrt(st)},ot.theta=function(ht){return arguments.length?(at=ht*ht,ot):Math.sqrt(at)},ot}function initRange(_e,j){switch(arguments.length){case 0:break;case 1:this.range(_e);break;default:this.range(j).domain(_e);break}return this}const implicit=Symbol("implicit");function ordinal(){var _e=new InternMap,j=[],et=[],tt=implicit;function nt(rt){let it=_e.get(rt);if(it===void 0){if(tt!==implicit)return tt;_e.set(rt,it=j.push(rt)-1)}return et[it%et.length]}return nt.domain=function(rt){if(!arguments.length)return j.slice();j=[],_e=new InternMap;for(const it of rt)_e.has(it)||_e.set(it,j.push(it)-1);return nt},nt.range=function(rt){return arguments.length?(et=Array.from(rt),nt):et.slice()},nt.unknown=function(rt){return arguments.length?(tt=rt,nt):tt},nt.copy=function(){return ordinal(j,et).unknown(tt)},initRange.apply(nt,arguments),nt}function colors(_e){for(var j=_e.length/6|0,et=new Array(j),tt=0;tt<j;)et[tt]="#"+_e.slice(tt*6,++tt*6);return et}var category10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),constant=_e=>()=>_e;function ZoomEvent(_e,{sourceEvent:j,target:et,transform:tt,dispatch:nt}){Object.defineProperties(this,{type:{value:_e,enumerable:!0,configurable:!0},sourceEvent:{value:j,enumerable:!0,configurable:!0},target:{value:et,enumerable:!0,configurable:!0},transform:{value:tt,enumerable:!0,configurable:!0},_:{value:nt}})}function Transform$2(_e,j,et){this.k=_e,this.x=j,this.y=et}Transform$2.prototype={constructor:Transform$2,scale:function(_e){return _e===1?this:new Transform$2(this.k*_e,this.x,this.y)},translate:function(_e,j){return _e===0&j===0?this:new Transform$2(this.k,this.x+this.k*_e,this.y+this.k*j)},apply:function(_e){return[_e[0]*this.k+this.x,_e[1]*this.k+this.y]},applyX:function(_e){return _e*this.k+this.x},applyY:function(_e){return _e*this.k+this.y},invert:function(_e){return[(_e[0]-this.x)/this.k,(_e[1]-this.y)/this.k]},invertX:function(_e){return(_e-this.x)/this.k},invertY:function(_e){return(_e-this.y)/this.k},rescaleX:function(_e){return _e.copy().domain(_e.range().map(this.invertX,this).map(_e.invert,_e))},rescaleY:function(_e){return _e.copy().domain(_e.range().map(this.invertY,this).map(_e.invert,_e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity=new Transform$2(1,0,0);Transform$2.prototype;function nopropagation(_e){_e.stopImmediatePropagation()}function noevent(_e){_e.preventDefault(),_e.stopImmediatePropagation()}function defaultFilter(_e){return(!_e.ctrlKey||_e.type==="wheel")&&!_e.button}function defaultExtent(){var _e=this;return _e instanceof SVGElement?(_e=_e.ownerSVGElement||_e,_e.hasAttribute("viewBox")?(_e=_e.viewBox.baseVal,[[_e.x,_e.y],[_e.x+_e.width,_e.y+_e.height]]):[[0,0],[_e.width.baseVal.value,_e.height.baseVal.value]]):[[0,0],[_e.clientWidth,_e.clientHeight]]}function defaultTransform(){return this.__zoom||identity}function defaultWheelDelta(_e){return-_e.deltaY*(_e.deltaMode===1?.05:_e.deltaMode?1:.002)*(_e.ctrlKey?10:1)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(_e,j,et){var tt=_e.invertX(j[0][0])-et[0][0],nt=_e.invertX(j[1][0])-et[1][0],rt=_e.invertY(j[0][1])-et[0][1],it=_e.invertY(j[1][1])-et[1][1];return _e.translate(nt>tt?(tt+nt)/2:Math.min(0,tt)||Math.max(0,nt),it>rt?(rt+it)/2:Math.min(0,rt)||Math.max(0,it))}function zoom(){var _e=defaultFilter,j=defaultExtent,et=defaultConstrain,tt=defaultWheelDelta,nt=defaultTouchable,rt=[0,1/0],it=[[-1/0,-1/0],[1/0,1/0]],st=250,at=interpolateZoom,ot=dispatch("start","zoom","end"),lt,ut,ct,ht=500,pt=150,gt=0,vt=10;function ft(Ft){Ft.property("__zoom",defaultTransform).on("wheel.zoom",Ct,{passive:!1}).on("mousedown.zoom",Lt).on("dblclick.zoom",$t).filter(nt).on("touchstart.zoom",Rt).on("touchmove.zoom",Bt).on("touchend.zoom touchcancel.zoom",Gt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}ft.transform=function(Ft,kt,It,Ot){var Ut=Ft.selection?Ft.selection():Ft;Ut.property("__zoom",defaultTransform),Ft!==Ut?Tt(Ft,kt,It,Ot):Ut.interrupt().each(function(){wt(this,arguments).event(Ot).start().zoom(null,typeof kt=="function"?kt.apply(this,arguments):kt).end()})},ft.scaleBy=function(Ft,kt,It,Ot){ft.scaleTo(Ft,function(){var Ut=this.__zoom.k,zt=typeof kt=="function"?kt.apply(this,arguments):kt;return Ut*zt},It,Ot)},ft.scaleTo=function(Ft,kt,It,Ot){ft.transform(Ft,function(){var Ut=j.apply(this,arguments),zt=this.__zoom,Ht=It==null?_t(Ut):typeof It=="function"?It.apply(this,arguments):It,Vt=zt.invert(Ht),qt=typeof kt=="function"?kt.apply(this,arguments):kt;return et(xt(mt(zt,qt),Ht,Vt),Ut,it)},It,Ot)},ft.translateBy=function(Ft,kt,It,Ot){ft.transform(Ft,function(){return et(this.__zoom.translate(typeof kt=="function"?kt.apply(this,arguments):kt,typeof It=="function"?It.apply(this,arguments):It),j.apply(this,arguments),it)},null,Ot)},ft.translateTo=function(Ft,kt,It,Ot,Ut){ft.transform(Ft,function(){var zt=j.apply(this,arguments),Ht=this.__zoom,Vt=Ot==null?_t(zt):typeof Ot=="function"?Ot.apply(this,arguments):Ot;return et(identity.translate(Vt[0],Vt[1]).scale(Ht.k).translate(typeof kt=="function"?-kt.apply(this,arguments):-kt,typeof It=="function"?-It.apply(this,arguments):-It),zt,it)},Ot,Ut)};function mt(Ft,kt){return kt=Math.max(rt[0],Math.min(rt[1],kt)),kt===Ft.k?Ft:new Transform$2(kt,Ft.x,Ft.y)}function xt(Ft,kt,It){var Ot=kt[0]-It[0]*Ft.k,Ut=kt[1]-It[1]*Ft.k;return Ot===Ft.x&&Ut===Ft.y?Ft:new Transform$2(Ft.k,Ot,Ut)}function _t(Ft){return[(+Ft[0][0]+ +Ft[1][0])/2,(+Ft[0][1]+ +Ft[1][1])/2]}function Tt(Ft,kt,It,Ot){Ft.on("start.zoom",function(){wt(this,arguments).event(Ot).start()}).on("interrupt.zoom end.zoom",function(){wt(this,arguments).event(Ot).end()}).tween("zoom",function(){var Ut=this,zt=arguments,Ht=wt(Ut,zt).event(Ot),Vt=j.apply(Ut,zt),qt=It==null?_t(Vt):typeof It=="function"?It.apply(Ut,zt):It,an=Math.max(Vt[1][0]-Vt[0][0],Vt[1][1]-Vt[0][1]),gn=Ut.__zoom,yn=typeof kt=="function"?kt.apply(Ut,zt):kt,fn=at(gn.invert(qt).concat(an/gn.k),yn.invert(qt).concat(an/yn.k));return function(In){if(In===1)In=yn;else{var Dn=fn(In),Mn=an/Dn[2];In=new Transform$2(Mn,qt[0]-Dn[0]*Mn,qt[1]-Dn[1]*Mn)}Ht.zoom(null,In)}})}function wt(Ft,kt,It){return!It&&Ft.__zooming||new bt(Ft,kt)}function bt(Ft,kt){this.that=Ft,this.args=kt,this.active=0,this.sourceEvent=null,this.extent=j.apply(Ft,kt),this.taps=0}bt.prototype={event:function(Ft){return Ft&&(this.sourceEvent=Ft),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Ft,kt){return this.mouse&&Ft!=="mouse"&&(this.mouse[1]=kt.invert(this.mouse[0])),this.touch0&&Ft!=="touch"&&(this.touch0[1]=kt.invert(this.touch0[0])),this.touch1&&Ft!=="touch"&&(this.touch1[1]=kt.invert(this.touch1[0])),this.that.__zoom=kt,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Ft){var kt=select(this.that).datum();ot.call(Ft,this.that,new ZoomEvent(Ft,{sourceEvent:this.sourceEvent,target:ft,type:Ft,transform:this.that.__zoom,dispatch:ot}),kt)}};function Ct(Ft,...kt){if(!_e.apply(this,arguments))return;var It=wt(this,kt).event(Ft),Ot=this.__zoom,Ut=Math.max(rt[0],Math.min(rt[1],Ot.k*Math.pow(2,tt.apply(this,arguments)))),zt=pointer(Ft);if(It.wheel)(It.mouse[0][0]!==zt[0]||It.mouse[0][1]!==zt[1])&&(It.mouse[1]=Ot.invert(It.mouse[0]=zt)),clearTimeout(It.wheel);else{if(Ot.k===Ut)return;It.mouse=[zt,Ot.invert(zt)],interrupt(this),It.start()}noevent(Ft),It.wheel=setTimeout(Ht,pt),It.zoom("mouse",et(xt(mt(Ot,Ut),It.mouse[0],It.mouse[1]),It.extent,it));function Ht(){It.wheel=null,It.end()}}function Lt(Ft,...kt){if(ct||!_e.apply(this,arguments))return;var It=Ft.currentTarget,Ot=wt(this,kt,!0).event(Ft),Ut=select(Ft.view).on("mousemove.zoom",qt,!0).on("mouseup.zoom",an,!0),zt=pointer(Ft,It),Ht=Ft.clientX,Vt=Ft.clientY;dragDisable(Ft.view),nopropagation(Ft),Ot.mouse=[zt,this.__zoom.invert(zt)],interrupt(this),Ot.start();function qt(gn){if(noevent(gn),!Ot.moved){var yn=gn.clientX-Ht,fn=gn.clientY-Vt;Ot.moved=yn*yn+fn*fn>gt}Ot.event(gn).zoom("mouse",et(xt(Ot.that.__zoom,Ot.mouse[0]=pointer(gn,It),Ot.mouse[1]),Ot.extent,it))}function an(gn){Ut.on("mousemove.zoom mouseup.zoom",null),yesdrag(gn.view,Ot.moved),noevent(gn),Ot.event(gn).end()}}function $t(Ft,...kt){if(!!_e.apply(this,arguments)){var It=this.__zoom,Ot=pointer(Ft.changedTouches?Ft.changedTouches[0]:Ft,this),Ut=It.invert(Ot),zt=It.k*(Ft.shiftKey?.5:2),Ht=et(xt(mt(It,zt),Ot,Ut),j.apply(this,kt),it);noevent(Ft),st>0?select(this).transition().duration(st).call(Tt,Ht,Ot,Ft):select(this).call(ft.transform,Ht,Ot,Ft)}}function Rt(Ft,...kt){if(!!_e.apply(this,arguments)){var It=Ft.touches,Ot=It.length,Ut=wt(this,kt,Ft.changedTouches.length===Ot).event(Ft),zt,Ht,Vt,qt;for(nopropagation(Ft),Ht=0;Ht<Ot;++Ht)Vt=It[Ht],qt=pointer(Vt,this),qt=[qt,this.__zoom.invert(qt),Vt.identifier],Ut.touch0?!Ut.touch1&&Ut.touch0[2]!==qt[2]&&(Ut.touch1=qt,Ut.taps=0):(Ut.touch0=qt,zt=!0,Ut.taps=1+!!lt);lt&&(lt=clearTimeout(lt)),zt&&(Ut.taps<2&&(ut=qt[0],lt=setTimeout(function(){lt=null},ht)),interrupt(this),Ut.start())}}function Bt(Ft,...kt){if(!!this.__zooming){var It=wt(this,kt).event(Ft),Ot=Ft.changedTouches,Ut=Ot.length,zt,Ht,Vt,qt;for(noevent(Ft),zt=0;zt<Ut;++zt)Ht=Ot[zt],Vt=pointer(Ht,this),It.touch0&&It.touch0[2]===Ht.identifier?It.touch0[0]=Vt:It.touch1&&It.touch1[2]===Ht.identifier&&(It.touch1[0]=Vt);if(Ht=It.that.__zoom,It.touch1){var an=It.touch0[0],gn=It.touch0[1],yn=It.touch1[0],fn=It.touch1[1],In=(In=yn[0]-an[0])*In+(In=yn[1]-an[1])*In,Dn=(Dn=fn[0]-gn[0])*Dn+(Dn=fn[1]-gn[1])*Dn;Ht=mt(Ht,Math.sqrt(In/Dn)),Vt=[(an[0]+yn[0])/2,(an[1]+yn[1])/2],qt=[(gn[0]+fn[0])/2,(gn[1]+fn[1])/2]}else if(It.touch0)Vt=It.touch0[0],qt=It.touch0[1];else return;It.zoom("touch",et(xt(Ht,Vt,qt),It.extent,it))}}function Gt(Ft,...kt){if(!!this.__zooming){var It=wt(this,kt).event(Ft),Ot=Ft.changedTouches,Ut=Ot.length,zt,Ht;for(nopropagation(Ft),ct&&clearTimeout(ct),ct=setTimeout(function(){ct=null},ht),zt=0;zt<Ut;++zt)Ht=Ot[zt],It.touch0&&It.touch0[2]===Ht.identifier?delete It.touch0:It.touch1&&It.touch1[2]===Ht.identifier&&delete It.touch1;if(It.touch1&&!It.touch0&&(It.touch0=It.touch1,delete It.touch1),It.touch0)It.touch0[1]=this.__zoom.invert(It.touch0[0]);else if(It.end(),It.taps===2&&(Ht=pointer(Ht,this),Math.hypot(ut[0]-Ht[0],ut[1]-Ht[1])<vt)){var Vt=select(this).on("dblclick.zoom");Vt&&Vt.apply(this,arguments)}}}return ft.wheelDelta=function(Ft){return arguments.length?(tt=typeof Ft=="function"?Ft:constant(+Ft),ft):tt},ft.filter=function(Ft){return arguments.length?(_e=typeof Ft=="function"?Ft:constant(!!Ft),ft):_e},ft.touchable=function(Ft){return arguments.length?(nt=typeof Ft=="function"?Ft:constant(!!Ft),ft):nt},ft.extent=function(Ft){return arguments.length?(j=typeof Ft=="function"?Ft:constant([[+Ft[0][0],+Ft[0][1]],[+Ft[1][0],+Ft[1][1]]]),ft):j},ft.scaleExtent=function(Ft){return arguments.length?(rt[0]=+Ft[0],rt[1]=+Ft[1],ft):[rt[0],rt[1]]},ft.translateExtent=function(Ft){return arguments.length?(it[0][0]=+Ft[0][0],it[1][0]=+Ft[1][0],it[0][1]=+Ft[0][1],it[1][1]=+Ft[1][1],ft):[[it[0][0],it[0][1]],[it[1][0],it[1][1]]]},ft.constrain=function(Ft){return arguments.length?(et=Ft,ft):et},ft.duration=function(Ft){return arguments.length?(st=+Ft,ft):st},ft.interpolate=function(Ft){return arguments.length?(at=Ft,ft):at},ft.on=function(){var Ft=ot.on.apply(ot,arguments);return Ft===ot?ft:Ft},ft.clickDistance=function(Ft){return arguments.length?(gt=(Ft=+Ft)*Ft,ft):Math.sqrt(gt)},ft.tapDistance=function(Ft){return arguments.length?(vt=+Ft,ft):vt},ft}var classnames$1={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(_e){(function(){var j={}.hasOwnProperty;function et(){for(var tt=[],nt=0;nt<arguments.length;nt++){var rt=arguments[nt];if(!!rt){var it=typeof rt;if(it==="string"||it==="number")tt.push(rt);else if(Array.isArray(rt)){if(rt.length){var st=et.apply(null,rt);st&&tt.push(st)}}else if(it==="object")if(rt.toString===Object.prototype.toString)for(var at in rt)j.call(rt,at)&&rt[at]&&tt.push(at);else tt.push(rt.toString())}}return tt.join(" ")}_e.exports?(et.default=et,_e.exports=et):window.classNames=et})()})(classnames$1);var classnames=classnames$1.exports,cu;class D3Force$1{constructor(){yy(this,cu,{});is(this,"getSimulation",()=>Bv(this,cu));this.createSimulation()}createSimulation(){return xy(this,cu,simulation()),this}addNodes(j){var et;return(et=Bv(this,cu))==null||et.nodes(j),this}addLinks(j){return this.addForce({link_force:link(j)}),this}addForce(j){Object.keys(j).forEach(et=>{var tt;(tt=Bv(this,cu))==null||tt.force(et,Reflect.get(j,et))})}render(j,et){return this.addNodes(j).addLinks(et),this}}cu=new WeakMap;const cbDrag=_e=>{function j(nt){nt.active||_e.alphaTarget(.3).restart(),nt.subject.fx=nt.subject.x,nt.subject.fy=nt.subject.y}const et=nt=>{nt.subject.fx=nt.x,nt.subject.fy=nt.y},tt=nt=>{nt.active||_e.alphaTarget(0),nt.subject.fx=null,nt.subject.fy=null};return drag().on("start",j).on("drag",et).on("end",tt)},cbZoom=(_e=[.4,2])=>zoom().scaleExtent(_e).on("start",()=>{select("svg").attr("cursor","pointer")}).on("zoom",j=>{select("#d3-force-g-links").attr("transform",j.transform),select("#d3-force-g-nodes").attr("transform",j.transform)}).on("end",()=>{select("svg").attr("cursor","default")}),GET_D3_FORCE_DEFAULT_FORCES=_e=>{const{links:j,nodes:et}=_e;return{charge_force:manyBody().strength(-200),link_force:link(j).distance(60)}};var styles$3={"d3-force-wrapper":"_d3-force-wrapper_ej7xu_1","d3-force-svg-wrapper":"_d3-force-svg-wrapper_ej7xu_4"},styles$2={"svg-g-line":"_svg-g-line_1a185_1"};const Link=_e=>{const{data:j}=_e;return jsx(Fragment,{children:j.map((et,tt)=>jsx("line",{className:classnames(styles$2["svg-g-line"])},tt))})},DEFAULT_COLORS=ordinal(category10),DEFAULT_NODE={CCircle:{r:15}},Node$3=_e=>{const{data:j}=_e,{CCircle:et}=DEFAULT_NODE;return jsx(Fragment,{children:j.map((tt,nt)=>react.exports.createElement("circle",{...et,style:{fill:DEFAULT_COLORS(`${nt}`)},key:nt}))})},d3Force=(_e,j)=>{var $t,Rt;const{Link:et,Node:tt,children:nt,data:rt,options:it={}}=_e,{nodes:st,links:at}=rt,{forces:ot,isDrag:lt=!0,isZoom:ut=!0}=it,[ct,ht]=react.exports.useState(!1),pt=react.exports.useRef(!1),gt=react.exports.useRef(),vt=react.exports.useRef([]),ft=($t=Array.isArray(nt)?nt[0]:nt==null?void 0:nt.Link)!=null?$t:et,mt=(Rt=Array.isArray(nt)?nt[1]:nt==null?void 0:nt.Node)!=null?Rt:tt;react.exports.useEffect(()=>{const Bt=xt();gt.current=Bt,ht(!0)},[st,at]),react.exports.useEffect(()=>{if(pt.current){const Bt=select("#d3-force-svg-wrapper"),Gt=Bt.selectAll("#d3-force-g-nodes>*"),Ft=Bt.selectAll("#d3-force-g-links>*");vt.current=[Bt,Gt,Ft];const kt=gt.current,It=kt.getSimulation();kt.addForce(Object.assign(GET_D3_FORCE_DEFAULT_FORCES({nodes:st,links:at}),ot)),It.on("tick",_t),lt&&Gt.call(cbDrag(It)),ut&&Bt.call(cbZoom(it.zoomScale)),Tt({svg:Bt,nodeEls:Gt,linkEls:Ft},it.bindEvents)}},[ct]);const xt=react.exports.useCallback(()=>{const Bt=new D3Force$1;return Bt.render(st,at),Bt},[at,st]),_t=react.exports.useCallback(()=>{if(!vt.current.length)return;const[Bt,Gt,Ft]=vt.current;Gt.data(st).attr("transform",kt=>`translate(${kt.x},${kt.y})`),Ft.data(at).attr("x1",kt=>kt.source.x).attr("y1",kt=>kt.source.y).attr("x2",kt=>kt.target.x).attr("y2",kt=>kt.target.y)},[at,st]),Tt=(Bt,Gt=[])=>{Gt.forEach(Ft=>{Reflect.get(Bt,Ft.targeDom).call(Ft.event)})},wt=()=>{var Bt;return{D3Force:gt.current,simulation:(Bt=gt.current)==null?void 0:Bt.getSimulation()}};react.exports.useImperativeHandle(j,()=>({currentDom:j.current,getInstances:wt}));const bt=()=>(pt.current=!0,jsx("g",{id:"d3-force-g-nodes",children:mt!=null?mt:jsx(Node$3,{data:st})})),Ct=()=>jsx("g",{id:"d3-force-g-links",children:ft!=null?ft:jsx(Link,{data:at})}),Lt=()=>jsxs(Fragment,{children:[Ct(),bt()]});return jsxs(Fragment,{children:[jsx("h1",{children:"d3-force"}),jsx("div",{className:classnames(styles$3["d3-force-wrapper"]),id:"d3-force-wrapper",ref:j,children:jsx("svg",{className:classnames(styles$3["d3-force-svg-wrapper"]),id:"d3-force-svg-wrapper",children:ct&&Lt()})})]})};var D3Force=react.exports.memo(react.exports.forwardRef(d3Force));const nodes=[{id:"Donald",name:"Donald"},{id:"Bernie",name:"Bernie"},{id:"Jill",name:"Jill"},{id:"Ben",name:"Ben"},{id:"Gary",name:"Gary"},{id:"Killary",name:"Killary"},{id:"Yeb",name:"Yeb"},{id:"Marco",name:"Marco"},{id:"Carly",name:"Carly"},{id:"Ted",name:"Ted"}],links=[{source:0,target:1},{source:0,target:2},{source:0,target:3},{source:0,target:4},{source:1,target:5},{source:2,target:5},{source:2,target:5},{source:3,target:4},{source:5,target:8},{source:5,target:9},{source:6,target:7},{source:7,target:8},{source:8,target:9}];function center(_e,j){var et,tt=1;_e==null&&(_e=0),j==null&&(j=0);function nt(){var rt,it=et.length,st,at=0,ot=0;for(rt=0;rt<it;++rt)st=et[rt],at+=st.x,ot+=st.y;for(at=(at/it-_e)*tt,ot=(ot/it-j)*tt,rt=0;rt<it;++rt)st=et[rt],st.x-=at,st.y-=ot}return nt.initialize=function(rt){et=rt},nt.x=function(rt){return arguments.length?(_e=+rt,nt):_e},nt.y=function(rt){return arguments.length?(j=+rt,nt):j},nt.strength=function(rt){return arguments.length?(tt=+rt,nt):tt},nt}function Transform$1(_e,j,et){this.k=_e,this.x=j,this.y=et}Transform$1.prototype={constructor:Transform$1,scale:function(_e){return _e===1?this:new Transform$1(this.k*_e,this.x,this.y)},translate:function(_e,j){return _e===0&j===0?this:new Transform$1(this.k,this.x+this.k*_e,this.y+this.k*j)},apply:function(_e){return[_e[0]*this.k+this.x,_e[1]*this.k+this.y]},applyX:function(_e){return _e*this.k+this.x},applyY:function(_e){return _e*this.k+this.y},invert:function(_e){return[(_e[0]-this.x)/this.k,(_e[1]-this.y)/this.k]},invertX:function(_e){return(_e-this.x)/this.k},invertY:function(_e){return(_e-this.y)/this.k},rescaleX:function(_e){return _e.copy().domain(_e.range().map(this.invertX,this).map(_e.invert,_e))},rescaleY:function(_e){return _e.copy().domain(_e.range().map(this.invertY,this).map(_e.invert,_e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Transform$1(1,0,0);Transform$1.prototype;const D3ForceP=()=>{const _e=react.exports.useRef(),[j,et]=react.exports.useState(0),[tt,nt]=react.exports.useState(0);return react.exports.useEffect(()=>{var it,st;const{currentDom:rt}=_e.current;et(((it=rt==null?void 0:rt.clientWidth)!=null?it:0)/2),nt(((st=rt==null?void 0:rt.clientHeight)!=null?st:0)/2)},[]),jsx(D3Force,{ref:_e,data:{nodes,links},options:{forces:{center_force:center(j,tt)}}})};var index$i=react.exports.memo(D3ForceP),__glob_1_1=Object.freeze(Object.defineProperty({__proto__:null,default:index$i},Symbol.toStringTag,{value:"Module"}));const Main$1=_e=>{const{title:j,routes:et}=_e;return jsxs(Fragment,{children:[jsx("h1",{children:j}),jsx("ul",{children:et.map(tt=>jsx("li",{children:jsx("a",{href:tt.path,children:tt.key})},tt.key))})]})};Main$1.defaultProps={title:"React Test Project"};var Sitemap=react.exports.memo(Main$1);const Main=()=>{const _e=getRoutes(["main"]);return jsx(Sitemap,{routes:_e})};var index$h=react.exports.memo(Main),__glob_1_2=Object.freeze(Object.defineProperty({__proto__:null,default:index$h},Symbol.toStringTag,{value:"Module"})),matter={exports:{}};/*!
 * matter-js 0.18.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(_e,j){(function(tt,nt){_e.exports=nt()})(commonjsGlobal$2,function(){return function(et){var tt={};function nt(rt){if(tt[rt])return tt[rt].exports;var it=tt[rt]={i:rt,l:!1,exports:{}};return et[rt].call(it.exports,it,it.exports,nt),it.l=!0,it.exports}return nt.m=et,nt.c=tt,nt.d=function(rt,it,st){nt.o(rt,it)||Object.defineProperty(rt,it,{enumerable:!0,get:st})},nt.r=function(rt){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(rt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(rt,"__esModule",{value:!0})},nt.t=function(rt,it){if(it&1&&(rt=nt(rt)),it&8||it&4&&typeof rt=="object"&&rt&&rt.__esModule)return rt;var st=Object.create(null);if(nt.r(st),Object.defineProperty(st,"default",{enumerable:!0,value:rt}),it&2&&typeof rt!="string")for(var at in rt)nt.d(st,at,function(ot){return rt[ot]}.bind(null,at));return st},nt.n=function(rt){var it=rt&&rt.__esModule?function(){return rt.default}:function(){return rt};return nt.d(it,"a",it),it},nt.o=function(rt,it){return Object.prototype.hasOwnProperty.call(rt,it)},nt.p="",nt(nt.s=21)}([function(et,tt){var nt={};et.exports=nt,function(){nt._nextId=0,nt._seed=0,nt._nowStartTime=+new Date,nt._warnedOnce={},nt._decomp=null,nt.extend=function(it,st){var at,ot;typeof st=="boolean"?(at=2,ot=st):(at=1,ot=!0);for(var lt=at;lt<arguments.length;lt++){var ut=arguments[lt];if(ut)for(var ct in ut)ot&&ut[ct]&&ut[ct].constructor===Object&&(!it[ct]||it[ct].constructor===Object)?(it[ct]=it[ct]||{},nt.extend(it[ct],ot,ut[ct])):it[ct]=ut[ct]}return it},nt.clone=function(it,st){return nt.extend({},st,it)},nt.keys=function(it){if(Object.keys)return Object.keys(it);var st=[];for(var at in it)st.push(at);return st},nt.values=function(it){var st=[];if(Object.keys){for(var at=Object.keys(it),ot=0;ot<at.length;ot++)st.push(it[at[ot]]);return st}for(var lt in it)st.push(it[lt]);return st},nt.get=function(it,st,at,ot){st=st.split(".").slice(at,ot);for(var lt=0;lt<st.length;lt+=1)it=it[st[lt]];return it},nt.set=function(it,st,at,ot,lt){var ut=st.split(".").slice(ot,lt);return nt.get(it,st,0,-1)[ut[ut.length-1]]=at,at},nt.shuffle=function(it){for(var st=it.length-1;st>0;st--){var at=Math.floor(nt.random()*(st+1)),ot=it[st];it[st]=it[at],it[at]=ot}return it},nt.choose=function(it){return it[Math.floor(nt.random()*it.length)]},nt.isElement=function(it){return typeof HTMLElement!="undefined"?it instanceof HTMLElement:!!(it&&it.nodeType&&it.nodeName)},nt.isArray=function(it){return Object.prototype.toString.call(it)==="[object Array]"},nt.isFunction=function(it){return typeof it=="function"},nt.isPlainObject=function(it){return typeof it=="object"&&it.constructor===Object},nt.isString=function(it){return toString.call(it)==="[object String]"},nt.clamp=function(it,st,at){return it<st?st:it>at?at:it},nt.sign=function(it){return it<0?-1:1},nt.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-nt._nowStartTime},nt.random=function(it,st){return it=typeof it!="undefined"?it:0,st=typeof st!="undefined"?st:1,it+rt()*(st-it)};var rt=function(){return nt._seed=(nt._seed*9301+49297)%233280,nt._seed/233280};nt.colorToNumber=function(it){return it=it.replace("#",""),it.length==3&&(it=it.charAt(0)+it.charAt(0)+it.charAt(1)+it.charAt(1)+it.charAt(2)+it.charAt(2)),parseInt(it,16)},nt.logLevel=1,nt.log=function(){console&&nt.logLevel>0&&nt.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},nt.info=function(){console&&nt.logLevel>0&&nt.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},nt.warn=function(){console&&nt.logLevel>0&&nt.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},nt.warnOnce=function(){var it=Array.prototype.slice.call(arguments).join(" ");nt._warnedOnce[it]||(nt.warn(it),nt._warnedOnce[it]=!0)},nt.deprecated=function(it,st,at){it[st]=nt.chain(function(){nt.warnOnce("\u{1F505} deprecated \u{1F505}",at)},it[st])},nt.nextId=function(){return nt._nextId++},nt.indexOf=function(it,st){if(it.indexOf)return it.indexOf(st);for(var at=0;at<it.length;at++)if(it[at]===st)return at;return-1},nt.map=function(it,st){if(it.map)return it.map(st);for(var at=[],ot=0;ot<it.length;ot+=1)at.push(st(it[ot]));return at},nt.topologicalSort=function(it){var st=[],at=[],ot=[];for(var lt in it)!at[lt]&&!ot[lt]&&nt._topologicalSort(lt,at,ot,it,st);return st},nt._topologicalSort=function(it,st,at,ot,lt){var ut=ot[it]||[];at[it]=!0;for(var ct=0;ct<ut.length;ct+=1){var ht=ut[ct];at[ht]||st[ht]||nt._topologicalSort(ht,st,at,ot,lt)}at[it]=!1,st[it]=!0,lt.push(it)},nt.chain=function(){for(var it=[],st=0;st<arguments.length;st+=1){var at=arguments[st];at._chained?it.push.apply(it,at._chained):it.push(at)}var ot=function(){for(var lt,ut=new Array(arguments.length),ct=0,ht=arguments.length;ct<ht;ct++)ut[ct]=arguments[ct];for(ct=0;ct<it.length;ct+=1){var pt=it[ct].apply(lt,ut);typeof pt!="undefined"&&(lt=pt)}return lt};return ot._chained=it,ot},nt.chainPathBefore=function(it,st,at){return nt.set(it,st,nt.chain(at,nt.get(it,st)))},nt.chainPathAfter=function(it,st,at){return nt.set(it,st,nt.chain(nt.get(it,st),at))},nt.setDecomp=function(it){nt._decomp=it},nt.getDecomp=function(){var it=nt._decomp;try{!it&&typeof window!="undefined"&&(it=window.decomp),!it&&typeof commonjsGlobal$2!="undefined"&&(it=commonjsGlobal$2.decomp)}catch{it=null}return it}}()},function(et,tt){var nt={};et.exports=nt,function(){nt.create=function(rt){var it={min:{x:0,y:0},max:{x:0,y:0}};return rt&&nt.update(it,rt),it},nt.update=function(rt,it,st){rt.min.x=1/0,rt.max.x=-1/0,rt.min.y=1/0,rt.max.y=-1/0;for(var at=0;at<it.length;at++){var ot=it[at];ot.x>rt.max.x&&(rt.max.x=ot.x),ot.x<rt.min.x&&(rt.min.x=ot.x),ot.y>rt.max.y&&(rt.max.y=ot.y),ot.y<rt.min.y&&(rt.min.y=ot.y)}st&&(st.x>0?rt.max.x+=st.x:rt.min.x+=st.x,st.y>0?rt.max.y+=st.y:rt.min.y+=st.y)},nt.contains=function(rt,it){return it.x>=rt.min.x&&it.x<=rt.max.x&&it.y>=rt.min.y&&it.y<=rt.max.y},nt.overlaps=function(rt,it){return rt.min.x<=it.max.x&&rt.max.x>=it.min.x&&rt.max.y>=it.min.y&&rt.min.y<=it.max.y},nt.translate=function(rt,it){rt.min.x+=it.x,rt.max.x+=it.x,rt.min.y+=it.y,rt.max.y+=it.y},nt.shift=function(rt,it){var st=rt.max.x-rt.min.x,at=rt.max.y-rt.min.y;rt.min.x=it.x,rt.max.x=it.x+st,rt.min.y=it.y,rt.max.y=it.y+at}}()},function(et,tt){var nt={};et.exports=nt,function(){nt.create=function(rt,it){return{x:rt||0,y:it||0}},nt.clone=function(rt){return{x:rt.x,y:rt.y}},nt.magnitude=function(rt){return Math.sqrt(rt.x*rt.x+rt.y*rt.y)},nt.magnitudeSquared=function(rt){return rt.x*rt.x+rt.y*rt.y},nt.rotate=function(rt,it,st){var at=Math.cos(it),ot=Math.sin(it);st||(st={});var lt=rt.x*at-rt.y*ot;return st.y=rt.x*ot+rt.y*at,st.x=lt,st},nt.rotateAbout=function(rt,it,st,at){var ot=Math.cos(it),lt=Math.sin(it);at||(at={});var ut=st.x+((rt.x-st.x)*ot-(rt.y-st.y)*lt);return at.y=st.y+((rt.x-st.x)*lt+(rt.y-st.y)*ot),at.x=ut,at},nt.normalise=function(rt){var it=nt.magnitude(rt);return it===0?{x:0,y:0}:{x:rt.x/it,y:rt.y/it}},nt.dot=function(rt,it){return rt.x*it.x+rt.y*it.y},nt.cross=function(rt,it){return rt.x*it.y-rt.y*it.x},nt.cross3=function(rt,it,st){return(it.x-rt.x)*(st.y-rt.y)-(it.y-rt.y)*(st.x-rt.x)},nt.add=function(rt,it,st){return st||(st={}),st.x=rt.x+it.x,st.y=rt.y+it.y,st},nt.sub=function(rt,it,st){return st||(st={}),st.x=rt.x-it.x,st.y=rt.y-it.y,st},nt.mult=function(rt,it){return{x:rt.x*it,y:rt.y*it}},nt.div=function(rt,it){return{x:rt.x/it,y:rt.y/it}},nt.perp=function(rt,it){return it=it===!0?-1:1,{x:it*-rt.y,y:it*rt.x}},nt.neg=function(rt){return{x:-rt.x,y:-rt.y}},nt.angle=function(rt,it){return Math.atan2(it.y-rt.y,it.x-rt.x)},nt._temp=[nt.create(),nt.create(),nt.create(),nt.create(),nt.create(),nt.create()]}()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(2),st=nt(0);(function(){rt.create=function(at,ot){for(var lt=[],ut=0;ut<at.length;ut++){var ct=at[ut],ht={x:ct.x,y:ct.y,index:ut,body:ot,isInternal:!1};lt.push(ht)}return lt},rt.fromPath=function(at,ot){var lt=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,ut=[];return at.replace(lt,function(ct,ht,pt){ut.push({x:parseFloat(ht),y:parseFloat(pt)})}),rt.create(ut,ot)},rt.centre=function(at){for(var ot=rt.area(at,!0),lt={x:0,y:0},ut,ct,ht,pt=0;pt<at.length;pt++)ht=(pt+1)%at.length,ut=it.cross(at[pt],at[ht]),ct=it.mult(it.add(at[pt],at[ht]),ut),lt=it.add(lt,ct);return it.div(lt,6*ot)},rt.mean=function(at){for(var ot={x:0,y:0},lt=0;lt<at.length;lt++)ot.x+=at[lt].x,ot.y+=at[lt].y;return it.div(ot,at.length)},rt.area=function(at,ot){for(var lt=0,ut=at.length-1,ct=0;ct<at.length;ct++)lt+=(at[ut].x-at[ct].x)*(at[ut].y+at[ct].y),ut=ct;return ot?lt/2:Math.abs(lt)/2},rt.inertia=function(at,ot){for(var lt=0,ut=0,ct=at,ht,pt,gt=0;gt<ct.length;gt++)pt=(gt+1)%ct.length,ht=Math.abs(it.cross(ct[pt],ct[gt])),lt+=ht*(it.dot(ct[pt],ct[pt])+it.dot(ct[pt],ct[gt])+it.dot(ct[gt],ct[gt])),ut+=ht;return ot/6*(lt/ut)},rt.translate=function(at,ot,lt){lt=typeof lt!="undefined"?lt:1;var ut=at.length,ct=ot.x*lt,ht=ot.y*lt,pt;for(pt=0;pt<ut;pt++)at[pt].x+=ct,at[pt].y+=ht;return at},rt.rotate=function(at,ot,lt){if(ot!==0){var ut=Math.cos(ot),ct=Math.sin(ot),ht=lt.x,pt=lt.y,gt=at.length,vt,ft,mt,xt;for(xt=0;xt<gt;xt++)vt=at[xt],ft=vt.x-ht,mt=vt.y-pt,vt.x=ht+(ft*ut-mt*ct),vt.y=pt+(ft*ct+mt*ut);return at}},rt.contains=function(at,ot){for(var lt=ot.x,ut=ot.y,ct=at.length,ht=at[ct-1],pt,gt=0;gt<ct;gt++){if(pt=at[gt],(lt-ht.x)*(pt.y-ht.y)+(ut-ht.y)*(ht.x-pt.x)>0)return!1;ht=pt}return!0},rt.scale=function(at,ot,lt,ut){if(ot===1&&lt===1)return at;ut=ut||rt.centre(at);for(var ct,ht,pt=0;pt<at.length;pt++)ct=at[pt],ht=it.sub(ct,ut),at[pt].x=ut.x+ht.x*ot,at[pt].y=ut.y+ht.y*lt;return at},rt.chamfer=function(at,ot,lt,ut,ct){typeof ot=="number"?ot=[ot]:ot=ot||[8],lt=typeof lt!="undefined"?lt:-1,ut=ut||2,ct=ct||14;for(var ht=[],pt=0;pt<at.length;pt++){var gt=at[pt-1>=0?pt-1:at.length-1],vt=at[pt],ft=at[(pt+1)%at.length],mt=ot[pt<ot.length?pt:ot.length-1];if(mt===0){ht.push(vt);continue}var xt=it.normalise({x:vt.y-gt.y,y:gt.x-vt.x}),_t=it.normalise({x:ft.y-vt.y,y:vt.x-ft.x}),Tt=Math.sqrt(2*Math.pow(mt,2)),wt=it.mult(st.clone(xt),mt),bt=it.normalise(it.mult(it.add(xt,_t),.5)),Ct=it.sub(vt,it.mult(bt,Tt)),Lt=lt;lt===-1&&(Lt=Math.pow(mt,.32)*1.75),Lt=st.clamp(Lt,ut,ct),Lt%2===1&&(Lt+=1);for(var $t=Math.acos(it.dot(xt,_t)),Rt=$t/Lt,Bt=0;Bt<Lt;Bt++)ht.push(it.add(it.rotate(wt,Rt*Bt),Ct))}return ht},rt.clockwiseSort=function(at){var ot=rt.mean(at);return at.sort(function(lt,ut){return it.angle(ot,lt)-it.angle(ot,ut)}),at},rt.isConvex=function(at){var ot=0,lt=at.length,ut,ct,ht,pt;if(lt<3)return null;for(ut=0;ut<lt;ut++)if(ct=(ut+1)%lt,ht=(ut+2)%lt,pt=(at[ct].x-at[ut].x)*(at[ht].y-at[ct].y),pt-=(at[ct].y-at[ut].y)*(at[ht].x-at[ct].x),pt<0?ot|=1:pt>0&&(ot|=2),ot===3)return!1;return ot!==0?!0:null},rt.hull=function(at){var ot=[],lt=[],ut,ct;for(at=at.slice(0),at.sort(function(ht,pt){var gt=ht.x-pt.x;return gt!==0?gt:ht.y-pt.y}),ct=0;ct<at.length;ct+=1){for(ut=at[ct];lt.length>=2&&it.cross3(lt[lt.length-2],lt[lt.length-1],ut)<=0;)lt.pop();lt.push(ut)}for(ct=at.length-1;ct>=0;ct-=1){for(ut=at[ct];ot.length>=2&&it.cross3(ot[ot.length-2],ot[ot.length-1],ut)<=0;)ot.pop();ot.push(ut)}return ot.pop(),lt.pop(),ot.concat(lt)}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(0);(function(){rt.on=function(st,at,ot){for(var lt=at.split(" "),ut,ct=0;ct<lt.length;ct++)ut=lt[ct],st.events=st.events||{},st.events[ut]=st.events[ut]||[],st.events[ut].push(ot);return ot},rt.off=function(st,at,ot){if(!at){st.events={};return}typeof at=="function"&&(ot=at,at=it.keys(st.events).join(" "));for(var lt=at.split(" "),ut=0;ut<lt.length;ut++){var ct=st.events[lt[ut]],ht=[];if(ot&&ct)for(var pt=0;pt<ct.length;pt++)ct[pt]!==ot&&ht.push(ct[pt]);st.events[lt[ut]]=ht}},rt.trigger=function(st,at,ot){var lt,ut,ct,ht,pt=st.events;if(pt&&it.keys(pt).length>0){ot||(ot={}),lt=at.split(" ");for(var gt=0;gt<lt.length;gt++)if(ut=lt[gt],ct=pt[ut],ct){ht=it.clone(ot,!1),ht.name=ut,ht.source=st;for(var vt=0;vt<ct.length;vt++)ct[vt].apply(st,[ht])}}}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(4),st=nt(0),at=nt(1),ot=nt(6);(function(){rt.create=function(lt){return st.extend({id:st.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},lt)},rt.setModified=function(lt,ut,ct,ht){if(lt.isModified=ut,ut&&lt.cache&&(lt.cache.allBodies=null,lt.cache.allConstraints=null,lt.cache.allComposites=null),ct&&lt.parent&&rt.setModified(lt.parent,ut,ct,ht),ht)for(var pt=0;pt<lt.composites.length;pt++){var gt=lt.composites[pt];rt.setModified(gt,ut,ct,ht)}},rt.add=function(lt,ut){var ct=[].concat(ut);it.trigger(lt,"beforeAdd",{object:ut});for(var ht=0;ht<ct.length;ht++){var pt=ct[ht];switch(pt.type){case"body":if(pt.parent!==pt){st.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}rt.addBody(lt,pt);break;case"constraint":rt.addConstraint(lt,pt);break;case"composite":rt.addComposite(lt,pt);break;case"mouseConstraint":rt.addConstraint(lt,pt.constraint);break}}return it.trigger(lt,"afterAdd",{object:ut}),lt},rt.remove=function(lt,ut,ct){var ht=[].concat(ut);it.trigger(lt,"beforeRemove",{object:ut});for(var pt=0;pt<ht.length;pt++){var gt=ht[pt];switch(gt.type){case"body":rt.removeBody(lt,gt,ct);break;case"constraint":rt.removeConstraint(lt,gt,ct);break;case"composite":rt.removeComposite(lt,gt,ct);break;case"mouseConstraint":rt.removeConstraint(lt,gt.constraint);break}}return it.trigger(lt,"afterRemove",{object:ut}),lt},rt.addComposite=function(lt,ut){return lt.composites.push(ut),ut.parent=lt,rt.setModified(lt,!0,!0,!1),lt},rt.removeComposite=function(lt,ut,ct){var ht=st.indexOf(lt.composites,ut);if(ht!==-1&&rt.removeCompositeAt(lt,ht),ct)for(var pt=0;pt<lt.composites.length;pt++)rt.removeComposite(lt.composites[pt],ut,!0);return lt},rt.removeCompositeAt=function(lt,ut){return lt.composites.splice(ut,1),rt.setModified(lt,!0,!0,!1),lt},rt.addBody=function(lt,ut){return lt.bodies.push(ut),rt.setModified(lt,!0,!0,!1),lt},rt.removeBody=function(lt,ut,ct){var ht=st.indexOf(lt.bodies,ut);if(ht!==-1&&rt.removeBodyAt(lt,ht),ct)for(var pt=0;pt<lt.composites.length;pt++)rt.removeBody(lt.composites[pt],ut,!0);return lt},rt.removeBodyAt=function(lt,ut){return lt.bodies.splice(ut,1),rt.setModified(lt,!0,!0,!1),lt},rt.addConstraint=function(lt,ut){return lt.constraints.push(ut),rt.setModified(lt,!0,!0,!1),lt},rt.removeConstraint=function(lt,ut,ct){var ht=st.indexOf(lt.constraints,ut);if(ht!==-1&&rt.removeConstraintAt(lt,ht),ct)for(var pt=0;pt<lt.composites.length;pt++)rt.removeConstraint(lt.composites[pt],ut,!0);return lt},rt.removeConstraintAt=function(lt,ut){return lt.constraints.splice(ut,1),rt.setModified(lt,!0,!0,!1),lt},rt.clear=function(lt,ut,ct){if(ct)for(var ht=0;ht<lt.composites.length;ht++)rt.clear(lt.composites[ht],ut,!0);return ut?lt.bodies=lt.bodies.filter(function(pt){return pt.isStatic}):lt.bodies.length=0,lt.constraints.length=0,lt.composites.length=0,rt.setModified(lt,!0,!0,!1),lt},rt.allBodies=function(lt){if(lt.cache&&lt.cache.allBodies)return lt.cache.allBodies;for(var ut=[].concat(lt.bodies),ct=0;ct<lt.composites.length;ct++)ut=ut.concat(rt.allBodies(lt.composites[ct]));return lt.cache&&(lt.cache.allBodies=ut),ut},rt.allConstraints=function(lt){if(lt.cache&&lt.cache.allConstraints)return lt.cache.allConstraints;for(var ut=[].concat(lt.constraints),ct=0;ct<lt.composites.length;ct++)ut=ut.concat(rt.allConstraints(lt.composites[ct]));return lt.cache&&(lt.cache.allConstraints=ut),ut},rt.allComposites=function(lt){if(lt.cache&&lt.cache.allComposites)return lt.cache.allComposites;for(var ut=[].concat(lt.composites),ct=0;ct<lt.composites.length;ct++)ut=ut.concat(rt.allComposites(lt.composites[ct]));return lt.cache&&(lt.cache.allComposites=ut),ut},rt.get=function(lt,ut,ct){var ht,pt;switch(ct){case"body":ht=rt.allBodies(lt);break;case"constraint":ht=rt.allConstraints(lt);break;case"composite":ht=rt.allComposites(lt).concat(lt);break}return ht?(pt=ht.filter(function(gt){return gt.id.toString()===ut.toString()}),pt.length===0?null:pt[0]):null},rt.move=function(lt,ut,ct){return rt.remove(lt,ut),rt.add(ct,ut),lt},rt.rebase=function(lt){for(var ut=rt.allBodies(lt).concat(rt.allConstraints(lt)).concat(rt.allComposites(lt)),ct=0;ct<ut.length;ct++)ut[ct].id=st.nextId();return lt},rt.translate=function(lt,ut,ct){for(var ht=ct?rt.allBodies(lt):lt.bodies,pt=0;pt<ht.length;pt++)ot.translate(ht[pt],ut);return lt},rt.rotate=function(lt,ut,ct,ht){for(var pt=Math.cos(ut),gt=Math.sin(ut),vt=ht?rt.allBodies(lt):lt.bodies,ft=0;ft<vt.length;ft++){var mt=vt[ft],xt=mt.position.x-ct.x,_t=mt.position.y-ct.y;ot.setPosition(mt,{x:ct.x+(xt*pt-_t*gt),y:ct.y+(xt*gt+_t*pt)}),ot.rotate(mt,ut)}return lt},rt.scale=function(lt,ut,ct,ht,pt){for(var gt=pt?rt.allBodies(lt):lt.bodies,vt=0;vt<gt.length;vt++){var ft=gt[vt],mt=ft.position.x-ht.x,xt=ft.position.y-ht.y;ot.setPosition(ft,{x:ht.x+mt*ut,y:ht.y+xt*ct}),ot.scale(ft,ut,ct)}return lt},rt.bounds=function(lt){for(var ut=rt.allBodies(lt),ct=[],ht=0;ht<ut.length;ht+=1){var pt=ut[ht];ct.push(pt.bounds.min,pt.bounds.max)}return at.create(ct)}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(3),st=nt(2),at=nt(7);nt(16);var ot=nt(0),lt=nt(1),ut=nt(11);(function(){rt._inertiaScale=4,rt._nextCollidingGroupId=1,rt._nextNonCollidingGroupId=-1,rt._nextCategory=1,rt.create=function(ht){var pt={id:ot.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:it.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},gt=ot.extend(pt,ht);return ct(gt,ht),gt},rt.nextGroup=function(ht){return ht?rt._nextNonCollidingGroupId--:rt._nextCollidingGroupId++},rt.nextCategory=function(){return rt._nextCategory=rt._nextCategory<<1,rt._nextCategory};var ct=function(ht,pt){pt=pt||{},rt.set(ht,{bounds:ht.bounds||lt.create(ht.vertices),positionPrev:ht.positionPrev||st.clone(ht.position),anglePrev:ht.anglePrev||ht.angle,vertices:ht.vertices,parts:ht.parts||[ht],isStatic:ht.isStatic,isSleeping:ht.isSleeping,parent:ht.parent||ht}),it.rotate(ht.vertices,ht.angle,ht.position),ut.rotate(ht.axes,ht.angle),lt.update(ht.bounds,ht.vertices,ht.velocity),rt.set(ht,{axes:pt.axes||ht.axes,area:pt.area||ht.area,mass:pt.mass||ht.mass,inertia:pt.inertia||ht.inertia});var gt=ht.isStatic?"#14151f":ot.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),vt=ht.isStatic?"#555":"#ccc",ft=ht.isStatic&&ht.render.fillStyle===null?1:0;ht.render.fillStyle=ht.render.fillStyle||gt,ht.render.strokeStyle=ht.render.strokeStyle||vt,ht.render.lineWidth=ht.render.lineWidth||ft,ht.render.sprite.xOffset+=-(ht.bounds.min.x-ht.position.x)/(ht.bounds.max.x-ht.bounds.min.x),ht.render.sprite.yOffset+=-(ht.bounds.min.y-ht.position.y)/(ht.bounds.max.y-ht.bounds.min.y)};rt.set=function(ht,pt,gt){var vt;typeof pt=="string"&&(vt=pt,pt={},pt[vt]=gt);for(vt in pt)if(!!Object.prototype.hasOwnProperty.call(pt,vt))switch(gt=pt[vt],vt){case"isStatic":rt.setStatic(ht,gt);break;case"isSleeping":at.set(ht,gt);break;case"mass":rt.setMass(ht,gt);break;case"density":rt.setDensity(ht,gt);break;case"inertia":rt.setInertia(ht,gt);break;case"vertices":rt.setVertices(ht,gt);break;case"position":rt.setPosition(ht,gt);break;case"angle":rt.setAngle(ht,gt);break;case"velocity":rt.setVelocity(ht,gt);break;case"angularVelocity":rt.setAngularVelocity(ht,gt);break;case"parts":rt.setParts(ht,gt);break;case"centre":rt.setCentre(ht,gt);break;default:ht[vt]=gt}},rt.setStatic=function(ht,pt){for(var gt=0;gt<ht.parts.length;gt++){var vt=ht.parts[gt];vt.isStatic=pt,pt?(vt._original={restitution:vt.restitution,friction:vt.friction,mass:vt.mass,inertia:vt.inertia,density:vt.density,inverseMass:vt.inverseMass,inverseInertia:vt.inverseInertia},vt.restitution=0,vt.friction=1,vt.mass=vt.inertia=vt.density=1/0,vt.inverseMass=vt.inverseInertia=0,vt.positionPrev.x=vt.position.x,vt.positionPrev.y=vt.position.y,vt.anglePrev=vt.angle,vt.angularVelocity=0,vt.speed=0,vt.angularSpeed=0,vt.motion=0):vt._original&&(vt.restitution=vt._original.restitution,vt.friction=vt._original.friction,vt.mass=vt._original.mass,vt.inertia=vt._original.inertia,vt.density=vt._original.density,vt.inverseMass=vt._original.inverseMass,vt.inverseInertia=vt._original.inverseInertia,vt._original=null)}},rt.setMass=function(ht,pt){var gt=ht.inertia/(ht.mass/6);ht.inertia=gt*(pt/6),ht.inverseInertia=1/ht.inertia,ht.mass=pt,ht.inverseMass=1/ht.mass,ht.density=ht.mass/ht.area},rt.setDensity=function(ht,pt){rt.setMass(ht,pt*ht.area),ht.density=pt},rt.setInertia=function(ht,pt){ht.inertia=pt,ht.inverseInertia=1/ht.inertia},rt.setVertices=function(ht,pt){pt[0].body===ht?ht.vertices=pt:ht.vertices=it.create(pt,ht),ht.axes=ut.fromVertices(ht.vertices),ht.area=it.area(ht.vertices),rt.setMass(ht,ht.density*ht.area);var gt=it.centre(ht.vertices);it.translate(ht.vertices,gt,-1),rt.setInertia(ht,rt._inertiaScale*it.inertia(ht.vertices,ht.mass)),it.translate(ht.vertices,ht.position),lt.update(ht.bounds,ht.vertices,ht.velocity)},rt.setParts=function(ht,pt,gt){var vt;for(pt=pt.slice(0),ht.parts.length=0,ht.parts.push(ht),ht.parent=ht,vt=0;vt<pt.length;vt++){var ft=pt[vt];ft!==ht&&(ft.parent=ht,ht.parts.push(ft))}if(ht.parts.length!==1){if(gt=typeof gt!="undefined"?gt:!0,gt){var mt=[];for(vt=0;vt<pt.length;vt++)mt=mt.concat(pt[vt].vertices);it.clockwiseSort(mt);var xt=it.hull(mt),_t=it.centre(xt);rt.setVertices(ht,xt),it.translate(ht.vertices,_t)}var Tt=rt._totalProperties(ht);ht.area=Tt.area,ht.parent=ht,ht.position.x=Tt.centre.x,ht.position.y=Tt.centre.y,ht.positionPrev.x=Tt.centre.x,ht.positionPrev.y=Tt.centre.y,rt.setMass(ht,Tt.mass),rt.setInertia(ht,Tt.inertia),rt.setPosition(ht,Tt.centre)}},rt.setCentre=function(ht,pt,gt){gt?(ht.positionPrev.x+=pt.x,ht.positionPrev.y+=pt.y,ht.position.x+=pt.x,ht.position.y+=pt.y):(ht.positionPrev.x=pt.x-(ht.position.x-ht.positionPrev.x),ht.positionPrev.y=pt.y-(ht.position.y-ht.positionPrev.y),ht.position.x=pt.x,ht.position.y=pt.y)},rt.setPosition=function(ht,pt){var gt=st.sub(pt,ht.position);ht.positionPrev.x+=gt.x,ht.positionPrev.y+=gt.y;for(var vt=0;vt<ht.parts.length;vt++){var ft=ht.parts[vt];ft.position.x+=gt.x,ft.position.y+=gt.y,it.translate(ft.vertices,gt),lt.update(ft.bounds,ft.vertices,ht.velocity)}},rt.setAngle=function(ht,pt){var gt=pt-ht.angle;ht.anglePrev+=gt;for(var vt=0;vt<ht.parts.length;vt++){var ft=ht.parts[vt];ft.angle+=gt,it.rotate(ft.vertices,gt,ht.position),ut.rotate(ft.axes,gt),lt.update(ft.bounds,ft.vertices,ht.velocity),vt>0&&st.rotateAbout(ft.position,gt,ht.position,ft.position)}},rt.setVelocity=function(ht,pt){ht.positionPrev.x=ht.position.x-pt.x,ht.positionPrev.y=ht.position.y-pt.y,ht.velocity.x=pt.x,ht.velocity.y=pt.y,ht.speed=st.magnitude(ht.velocity)},rt.setAngularVelocity=function(ht,pt){ht.anglePrev=ht.angle-pt,ht.angularVelocity=pt,ht.angularSpeed=Math.abs(ht.angularVelocity)},rt.translate=function(ht,pt){rt.setPosition(ht,st.add(ht.position,pt))},rt.rotate=function(ht,pt,gt){if(!gt)rt.setAngle(ht,ht.angle+pt);else{var vt=Math.cos(pt),ft=Math.sin(pt),mt=ht.position.x-gt.x,xt=ht.position.y-gt.y;rt.setPosition(ht,{x:gt.x+(mt*vt-xt*ft),y:gt.y+(mt*ft+xt*vt)}),rt.setAngle(ht,ht.angle+pt)}},rt.scale=function(ht,pt,gt,vt){var ft=0,mt=0;vt=vt||ht.position;for(var xt=0;xt<ht.parts.length;xt++){var _t=ht.parts[xt];it.scale(_t.vertices,pt,gt,vt),_t.axes=ut.fromVertices(_t.vertices),_t.area=it.area(_t.vertices),rt.setMass(_t,ht.density*_t.area),it.translate(_t.vertices,{x:-_t.position.x,y:-_t.position.y}),rt.setInertia(_t,rt._inertiaScale*it.inertia(_t.vertices,_t.mass)),it.translate(_t.vertices,{x:_t.position.x,y:_t.position.y}),xt>0&&(ft+=_t.area,mt+=_t.inertia),_t.position.x=vt.x+(_t.position.x-vt.x)*pt,_t.position.y=vt.y+(_t.position.y-vt.y)*gt,lt.update(_t.bounds,_t.vertices,ht.velocity)}ht.parts.length>1&&(ht.area=ft,ht.isStatic||(rt.setMass(ht,ht.density*ft),rt.setInertia(ht,mt))),ht.circleRadius&&(pt===gt?ht.circleRadius*=pt:ht.circleRadius=null)},rt.update=function(ht,pt,gt,vt){var ft=Math.pow(pt*gt*ht.timeScale,2),mt=1-ht.frictionAir*gt*ht.timeScale,xt=ht.position.x-ht.positionPrev.x,_t=ht.position.y-ht.positionPrev.y;ht.velocity.x=xt*mt*vt+ht.force.x/ht.mass*ft,ht.velocity.y=_t*mt*vt+ht.force.y/ht.mass*ft,ht.positionPrev.x=ht.position.x,ht.positionPrev.y=ht.position.y,ht.position.x+=ht.velocity.x,ht.position.y+=ht.velocity.y,ht.angularVelocity=(ht.angle-ht.anglePrev)*mt*vt+ht.torque/ht.inertia*ft,ht.anglePrev=ht.angle,ht.angle+=ht.angularVelocity,ht.speed=st.magnitude(ht.velocity),ht.angularSpeed=Math.abs(ht.angularVelocity);for(var Tt=0;Tt<ht.parts.length;Tt++){var wt=ht.parts[Tt];it.translate(wt.vertices,ht.velocity),Tt>0&&(wt.position.x+=ht.velocity.x,wt.position.y+=ht.velocity.y),ht.angularVelocity!==0&&(it.rotate(wt.vertices,ht.angularVelocity,ht.position),ut.rotate(wt.axes,ht.angularVelocity),Tt>0&&st.rotateAbout(wt.position,ht.angularVelocity,ht.position,wt.position)),lt.update(wt.bounds,wt.vertices,ht.velocity)}},rt.applyForce=function(ht,pt,gt){ht.force.x+=gt.x,ht.force.y+=gt.y;var vt={x:pt.x-ht.position.x,y:pt.y-ht.position.y};ht.torque+=vt.x*gt.y-vt.y*gt.x},rt._totalProperties=function(ht){for(var pt={mass:0,area:0,inertia:0,centre:{x:0,y:0}},gt=ht.parts.length===1?0:1;gt<ht.parts.length;gt++){var vt=ht.parts[gt],ft=vt.mass!==1/0?vt.mass:1;pt.mass+=ft,pt.area+=vt.area,pt.inertia+=vt.inertia,pt.centre=st.add(pt.centre,st.mult(vt.position,ft))}return pt.centre=st.div(pt.centre,pt.mass),pt}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(4);(function(){rt._motionWakeThreshold=.18,rt._motionSleepThreshold=.08,rt._minBias=.9,rt.update=function(st,at){for(var ot=at*at*at,lt=0;lt<st.length;lt++){var ut=st[lt],ct=ut.speed*ut.speed+ut.angularSpeed*ut.angularSpeed;if(ut.force.x!==0||ut.force.y!==0){rt.set(ut,!1);continue}var ht=Math.min(ut.motion,ct),pt=Math.max(ut.motion,ct);ut.motion=rt._minBias*ht+(1-rt._minBias)*pt,ut.sleepThreshold>0&&ut.motion<rt._motionSleepThreshold*ot?(ut.sleepCounter+=1,ut.sleepCounter>=ut.sleepThreshold&&rt.set(ut,!0)):ut.sleepCounter>0&&(ut.sleepCounter-=1)}},rt.afterCollisions=function(st,at){for(var ot=at*at*at,lt=0;lt<st.length;lt++){var ut=st[lt];if(!!ut.isActive){var ct=ut.collision,ht=ct.bodyA.parent,pt=ct.bodyB.parent;if(!(ht.isSleeping&&pt.isSleeping||ht.isStatic||pt.isStatic)&&(ht.isSleeping||pt.isSleeping)){var gt=ht.isSleeping&&!ht.isStatic?ht:pt,vt=gt===ht?pt:ht;!gt.isStatic&&vt.motion>rt._motionWakeThreshold*ot&&rt.set(gt,!1)}}}},rt.set=function(st,at){var ot=st.isSleeping;at?(st.isSleeping=!0,st.sleepCounter=st.sleepThreshold,st.positionImpulse.x=0,st.positionImpulse.y=0,st.positionPrev.x=st.position.x,st.positionPrev.y=st.position.y,st.anglePrev=st.angle,st.speed=0,st.angularSpeed=0,st.motion=0,ot||it.trigger(st,"sleepStart")):(st.isSleeping=!1,st.sleepCounter=0,ot&&it.trigger(st,"sleepEnd"))}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(3),st=nt(9);(function(){var at=[],ot={overlap:0,axis:null},lt={overlap:0,axis:null};rt.create=function(ut,ct){return{pair:null,collided:!1,bodyA:ut,bodyB:ct,parentA:ut.parent,parentB:ct.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},rt.collides=function(ut,ct,ht){if(rt._overlapAxes(ot,ut.vertices,ct.vertices,ut.axes),ot.overlap<=0||(rt._overlapAxes(lt,ct.vertices,ut.vertices,ct.axes),lt.overlap<=0))return null;var pt=ht&&ht.table[st.id(ut,ct)],gt;pt?gt=pt.collision:(gt=rt.create(ut,ct),gt.collided=!0,gt.bodyA=ut.id<ct.id?ut:ct,gt.bodyB=ut.id<ct.id?ct:ut,gt.parentA=gt.bodyA.parent,gt.parentB=gt.bodyB.parent),ut=gt.bodyA,ct=gt.bodyB;var vt;ot.overlap<lt.overlap?vt=ot:vt=lt;var ft=gt.normal,mt=gt.supports,xt=vt.axis,_t=xt.x,Tt=xt.y;_t*(ct.position.x-ut.position.x)+Tt*(ct.position.y-ut.position.y)<0?(ft.x=_t,ft.y=Tt):(ft.x=-_t,ft.y=-Tt),gt.tangent.x=-ft.y,gt.tangent.y=ft.x,gt.depth=vt.overlap,gt.penetration.x=ft.x*gt.depth,gt.penetration.y=ft.y*gt.depth;var wt=rt._findSupports(ut,ct,ft,1),bt=0;if(it.contains(ut.vertices,wt[0])&&(mt[bt++]=wt[0]),it.contains(ut.vertices,wt[1])&&(mt[bt++]=wt[1]),bt<2){var Ct=rt._findSupports(ct,ut,ft,-1);it.contains(ct.vertices,Ct[0])&&(mt[bt++]=Ct[0]),bt<2&&it.contains(ct.vertices,Ct[1])&&(mt[bt++]=Ct[1])}return bt===0&&(mt[bt++]=wt[0]),mt.length=bt,gt},rt._overlapAxes=function(ut,ct,ht,pt){var gt=ct.length,vt=ht.length,ft=ct[0].x,mt=ct[0].y,xt=ht[0].x,_t=ht[0].y,Tt=pt.length,wt=Number.MAX_VALUE,bt=0,Ct,Lt,$t,Rt,Bt,Gt;for(Bt=0;Bt<Tt;Bt++){var Ft=pt[Bt],kt=Ft.x,It=Ft.y,Ot=ft*kt+mt*It,Ut=xt*kt+_t*It,zt=Ot,Ht=Ut;for(Gt=1;Gt<gt;Gt+=1)Rt=ct[Gt].x*kt+ct[Gt].y*It,Rt>zt?zt=Rt:Rt<Ot&&(Ot=Rt);for(Gt=1;Gt<vt;Gt+=1)Rt=ht[Gt].x*kt+ht[Gt].y*It,Rt>Ht?Ht=Rt:Rt<Ut&&(Ut=Rt);if(Lt=zt-Ut,$t=Ht-Ot,Ct=Lt<$t?Lt:$t,Ct<wt&&(wt=Ct,bt=Bt,Ct<=0))break}ut.axis=pt[bt],ut.overlap=wt},rt._projectToAxis=function(ut,ct,ht){for(var pt=ct[0].x*ht.x+ct[0].y*ht.y,gt=pt,vt=1;vt<ct.length;vt+=1){var ft=ct[vt].x*ht.x+ct[vt].y*ht.y;ft>gt?gt=ft:ft<pt&&(pt=ft)}ut.min=pt,ut.max=gt},rt._findSupports=function(ut,ct,ht,pt){var gt=ct.vertices,vt=gt.length,ft=ut.position.x,mt=ut.position.y,xt=ht.x*pt,_t=ht.y*pt,Tt=Number.MAX_VALUE,wt,bt,Ct,Lt,$t;for($t=0;$t<vt;$t+=1)bt=gt[$t],Lt=xt*(ft-bt.x)+_t*(mt-bt.y),Lt<Tt&&(Tt=Lt,wt=bt);return Ct=gt[(vt+wt.index-1)%vt],Tt=xt*(ft-Ct.x)+_t*(mt-Ct.y),bt=gt[(wt.index+1)%vt],xt*(ft-bt.x)+_t*(mt-bt.y)<Tt?(at[0]=wt,at[1]=bt,at):(at[0]=wt,at[1]=Ct,at)}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(17);(function(){rt.create=function(st,at){var ot=st.bodyA,lt=st.bodyB,ut={id:rt.id(ot,lt),bodyA:ot,bodyB:lt,collision:st,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:ot.isSensor||lt.isSensor,timeCreated:at,timeUpdated:at,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return rt.update(ut,st,at),ut},rt.update=function(st,at,ot){var lt=st.contacts,ut=at.supports,ct=st.activeContacts,ht=at.parentA,pt=at.parentB,gt=ht.vertices.length;st.isActive=!0,st.timeUpdated=ot,st.collision=at,st.separation=at.depth,st.inverseMass=ht.inverseMass+pt.inverseMass,st.friction=ht.friction<pt.friction?ht.friction:pt.friction,st.frictionStatic=ht.frictionStatic>pt.frictionStatic?ht.frictionStatic:pt.frictionStatic,st.restitution=ht.restitution>pt.restitution?ht.restitution:pt.restitution,st.slop=ht.slop>pt.slop?ht.slop:pt.slop,at.pair=st,ct.length=0;for(var vt=0;vt<ut.length;vt++){var ft=ut[vt],mt=ft.body===ht?ft.index:gt+ft.index,xt=lt[mt];xt?ct.push(xt):ct.push(lt[mt]=it.create(ft))}},rt.setActive=function(st,at,ot){at?(st.isActive=!0,st.timeUpdated=ot):(st.isActive=!1,st.activeContacts.length=0)},rt.id=function(st,at){return st.id<at.id?"A"+st.id+"B"+at.id:"A"+at.id+"B"+st.id}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(3),st=nt(2),at=nt(7),ot=nt(1),lt=nt(11),ut=nt(0);(function(){rt._warming=.4,rt._torqueDampen=1,rt._minLength=1e-6,rt.create=function(ct){var ht=ct;ht.bodyA&&!ht.pointA&&(ht.pointA={x:0,y:0}),ht.bodyB&&!ht.pointB&&(ht.pointB={x:0,y:0});var pt=ht.bodyA?st.add(ht.bodyA.position,ht.pointA):ht.pointA,gt=ht.bodyB?st.add(ht.bodyB.position,ht.pointB):ht.pointB,vt=st.magnitude(st.sub(pt,gt));ht.length=typeof ht.length!="undefined"?ht.length:vt,ht.id=ht.id||ut.nextId(),ht.label=ht.label||"Constraint",ht.type="constraint",ht.stiffness=ht.stiffness||(ht.length>0?1:.7),ht.damping=ht.damping||0,ht.angularStiffness=ht.angularStiffness||0,ht.angleA=ht.bodyA?ht.bodyA.angle:ht.angleA,ht.angleB=ht.bodyB?ht.bodyB.angle:ht.angleB,ht.plugin={};var ft={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return ht.length===0&&ht.stiffness>.1?(ft.type="pin",ft.anchors=!1):ht.stiffness<.9&&(ft.type="spring"),ht.render=ut.extend(ft,ht.render),ht},rt.preSolveAll=function(ct){for(var ht=0;ht<ct.length;ht+=1){var pt=ct[ht],gt=pt.constraintImpulse;pt.isStatic||gt.x===0&&gt.y===0&&gt.angle===0||(pt.position.x+=gt.x,pt.position.y+=gt.y,pt.angle+=gt.angle)}},rt.solveAll=function(ct,ht){for(var pt=0;pt<ct.length;pt+=1){var gt=ct[pt],vt=!gt.bodyA||gt.bodyA&&gt.bodyA.isStatic,ft=!gt.bodyB||gt.bodyB&&gt.bodyB.isStatic;(vt||ft)&&rt.solve(ct[pt],ht)}for(pt=0;pt<ct.length;pt+=1)gt=ct[pt],vt=!gt.bodyA||gt.bodyA&&gt.bodyA.isStatic,ft=!gt.bodyB||gt.bodyB&&gt.bodyB.isStatic,!vt&&!ft&&rt.solve(ct[pt],ht)},rt.solve=function(ct,ht){var pt=ct.bodyA,gt=ct.bodyB,vt=ct.pointA,ft=ct.pointB;if(!(!pt&&!gt)){pt&&!pt.isStatic&&(st.rotate(vt,pt.angle-ct.angleA,vt),ct.angleA=pt.angle),gt&&!gt.isStatic&&(st.rotate(ft,gt.angle-ct.angleB,ft),ct.angleB=gt.angle);var mt=vt,xt=ft;if(pt&&(mt=st.add(pt.position,vt)),gt&&(xt=st.add(gt.position,ft)),!(!mt||!xt)){var _t=st.sub(mt,xt),Tt=st.magnitude(_t);Tt<rt._minLength&&(Tt=rt._minLength);var wt=(Tt-ct.length)/Tt,bt=ct.stiffness<1?ct.stiffness*ht:ct.stiffness,Ct=st.mult(_t,wt*bt),Lt=(pt?pt.inverseMass:0)+(gt?gt.inverseMass:0),$t=(pt?pt.inverseInertia:0)+(gt?gt.inverseInertia:0),Rt=Lt+$t,Bt,Gt,Ft,kt,It;if(ct.damping){var Ot=st.create();Ft=st.div(_t,Tt),It=st.sub(gt&&st.sub(gt.position,gt.positionPrev)||Ot,pt&&st.sub(pt.position,pt.positionPrev)||Ot),kt=st.dot(Ft,It)}pt&&!pt.isStatic&&(Gt=pt.inverseMass/Lt,pt.constraintImpulse.x-=Ct.x*Gt,pt.constraintImpulse.y-=Ct.y*Gt,pt.position.x-=Ct.x*Gt,pt.position.y-=Ct.y*Gt,ct.damping&&(pt.positionPrev.x-=ct.damping*Ft.x*kt*Gt,pt.positionPrev.y-=ct.damping*Ft.y*kt*Gt),Bt=st.cross(vt,Ct)/Rt*rt._torqueDampen*pt.inverseInertia*(1-ct.angularStiffness),pt.constraintImpulse.angle-=Bt,pt.angle-=Bt),gt&&!gt.isStatic&&(Gt=gt.inverseMass/Lt,gt.constraintImpulse.x+=Ct.x*Gt,gt.constraintImpulse.y+=Ct.y*Gt,gt.position.x+=Ct.x*Gt,gt.position.y+=Ct.y*Gt,ct.damping&&(gt.positionPrev.x+=ct.damping*Ft.x*kt*Gt,gt.positionPrev.y+=ct.damping*Ft.y*kt*Gt),Bt=st.cross(ft,Ct)/Rt*rt._torqueDampen*gt.inverseInertia*(1-ct.angularStiffness),gt.constraintImpulse.angle+=Bt,gt.angle+=Bt)}}},rt.postSolveAll=function(ct){for(var ht=0;ht<ct.length;ht++){var pt=ct[ht],gt=pt.constraintImpulse;if(!(pt.isStatic||gt.x===0&&gt.y===0&&gt.angle===0)){at.set(pt,!1);for(var vt=0;vt<pt.parts.length;vt++){var ft=pt.parts[vt];it.translate(ft.vertices,gt),vt>0&&(ft.position.x+=gt.x,ft.position.y+=gt.y),gt.angle!==0&&(it.rotate(ft.vertices,gt.angle,pt.position),lt.rotate(ft.axes,gt.angle),vt>0&&st.rotateAbout(ft.position,gt.angle,pt.position,ft.position)),ot.update(ft.bounds,ft.vertices,pt.velocity)}gt.angle*=rt._warming,gt.x*=rt._warming,gt.y*=rt._warming}}},rt.pointAWorld=function(ct){return{x:(ct.bodyA?ct.bodyA.position.x:0)+ct.pointA.x,y:(ct.bodyA?ct.bodyA.position.y:0)+ct.pointA.y}},rt.pointBWorld=function(ct){return{x:(ct.bodyB?ct.bodyB.position.x:0)+ct.pointB.x,y:(ct.bodyB?ct.bodyB.position.y:0)+ct.pointB.y}}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(2),st=nt(0);(function(){rt.fromVertices=function(at){for(var ot={},lt=0;lt<at.length;lt++){var ut=(lt+1)%at.length,ct=it.normalise({x:at[ut].y-at[lt].y,y:at[lt].x-at[ut].x}),ht=ct.y===0?1/0:ct.x/ct.y;ht=ht.toFixed(3).toString(),ot[ht]=ct}return st.values(ot)},rt.rotate=function(at,ot){if(ot!==0)for(var lt=Math.cos(ot),ut=Math.sin(ot),ct=0;ct<at.length;ct++){var ht=at[ct],pt;pt=ht.x*lt-ht.y*ut,ht.y=ht.x*ut+ht.y*lt,ht.x=pt}}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(3),st=nt(0),at=nt(6),ot=nt(1),lt=nt(2);(function(){rt.rectangle=function(ut,ct,ht,pt,gt){gt=gt||{};var vt={label:"Rectangle Body",position:{x:ut,y:ct},vertices:it.fromPath("L 0 0 L "+ht+" 0 L "+ht+" "+pt+" L 0 "+pt)};if(gt.chamfer){var ft=gt.chamfer;vt.vertices=it.chamfer(vt.vertices,ft.radius,ft.quality,ft.qualityMin,ft.qualityMax),delete gt.chamfer}return at.create(st.extend({},vt,gt))},rt.trapezoid=function(ut,ct,ht,pt,gt,vt){vt=vt||{},gt*=.5;var ft=(1-gt*2)*ht,mt=ht*gt,xt=mt+ft,_t=xt+mt,Tt;gt<.5?Tt="L 0 0 L "+mt+" "+-pt+" L "+xt+" "+-pt+" L "+_t+" 0":Tt="L 0 0 L "+xt+" "+-pt+" L "+_t+" 0";var wt={label:"Trapezoid Body",position:{x:ut,y:ct},vertices:it.fromPath(Tt)};if(vt.chamfer){var bt=vt.chamfer;wt.vertices=it.chamfer(wt.vertices,bt.radius,bt.quality,bt.qualityMin,bt.qualityMax),delete vt.chamfer}return at.create(st.extend({},wt,vt))},rt.circle=function(ut,ct,ht,pt,gt){pt=pt||{};var vt={label:"Circle Body",circleRadius:ht};gt=gt||25;var ft=Math.ceil(Math.max(10,Math.min(gt,ht)));return ft%2===1&&(ft+=1),rt.polygon(ut,ct,ft,ht,st.extend({},vt,pt))},rt.polygon=function(ut,ct,ht,pt,gt){if(gt=gt||{},ht<3)return rt.circle(ut,ct,pt,gt);for(var vt=2*Math.PI/ht,ft="",mt=vt*.5,xt=0;xt<ht;xt+=1){var _t=mt+xt*vt,Tt=Math.cos(_t)*pt,wt=Math.sin(_t)*pt;ft+="L "+Tt.toFixed(3)+" "+wt.toFixed(3)+" "}var bt={label:"Polygon Body",position:{x:ut,y:ct},vertices:it.fromPath(ft)};if(gt.chamfer){var Ct=gt.chamfer;bt.vertices=it.chamfer(bt.vertices,Ct.radius,Ct.quality,Ct.qualityMin,Ct.qualityMax),delete gt.chamfer}return at.create(st.extend({},bt,gt))},rt.fromVertices=function(ut,ct,ht,pt,gt,vt,ft,mt){var xt=st.getDecomp(),_t,Tt,wt,bt,Ct,Lt,$t,Rt,Bt,Gt,Ft;for(_t=Boolean(xt&&xt.quickDecomp),pt=pt||{},wt=[],gt=typeof gt!="undefined"?gt:!1,vt=typeof vt!="undefined"?vt:.01,ft=typeof ft!="undefined"?ft:10,mt=typeof mt!="undefined"?mt:.01,st.isArray(ht[0])||(ht=[ht]),Gt=0;Gt<ht.length;Gt+=1)if(Lt=ht[Gt],bt=it.isConvex(Lt),Ct=!bt,Ct&&!_t&&st.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),bt||!_t)bt?Lt=it.clockwiseSort(Lt):Lt=it.hull(Lt),wt.push({position:{x:ut,y:ct},vertices:Lt});else{var kt=Lt.map(function(fn){return[fn.x,fn.y]});xt.makeCCW(kt),vt!==!1&&xt.removeCollinearPoints(kt,vt),mt!==!1&&xt.removeDuplicatePoints&&xt.removeDuplicatePoints(kt,mt);var It=xt.quickDecomp(kt);for($t=0;$t<It.length;$t++){var Ot=It[$t],Ut=Ot.map(function(fn){return{x:fn[0],y:fn[1]}});ft>0&&it.area(Ut)<ft||wt.push({position:it.centre(Ut),vertices:Ut})}}for($t=0;$t<wt.length;$t++)wt[$t]=at.create(st.extend(wt[$t],pt));if(gt){var zt=5;for($t=0;$t<wt.length;$t++){var Ht=wt[$t];for(Rt=$t+1;Rt<wt.length;Rt++){var Vt=wt[Rt];if(ot.overlaps(Ht.bounds,Vt.bounds)){var qt=Ht.vertices,an=Vt.vertices;for(Bt=0;Bt<Ht.vertices.length;Bt++)for(Ft=0;Ft<Vt.vertices.length;Ft++){var gn=lt.magnitudeSquared(lt.sub(qt[(Bt+1)%qt.length],an[Ft])),yn=lt.magnitudeSquared(lt.sub(qt[Bt],an[(Ft+1)%an.length]));gn<zt&&yn<zt&&(qt[Bt].isInternal=!0,an[Ft].isInternal=!0)}}}}}return wt.length>1?(Tt=at.create(st.extend({parts:wt.slice(0)},pt)),at.setPosition(Tt,{x:ut,y:ct}),Tt):wt[0]}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(0);(function(){rt.create=function(st){var at={};return st||it.log("Mouse.create: element was undefined, defaulting to document.body","warn"),at.element=st||document.body,at.absolute={x:0,y:0},at.position={x:0,y:0},at.mousedownPosition={x:0,y:0},at.mouseupPosition={x:0,y:0},at.offset={x:0,y:0},at.scale={x:1,y:1},at.wheelDelta=0,at.button=-1,at.pixelRatio=parseInt(at.element.getAttribute("data-pixel-ratio"),10)||1,at.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},at.mousemove=function(ot){var lt=rt._getRelativeMousePosition(ot,at.element,at.pixelRatio),ut=ot.changedTouches;ut&&(at.button=0,ot.preventDefault()),at.absolute.x=lt.x,at.absolute.y=lt.y,at.position.x=at.absolute.x*at.scale.x+at.offset.x,at.position.y=at.absolute.y*at.scale.y+at.offset.y,at.sourceEvents.mousemove=ot},at.mousedown=function(ot){var lt=rt._getRelativeMousePosition(ot,at.element,at.pixelRatio),ut=ot.changedTouches;ut?(at.button=0,ot.preventDefault()):at.button=ot.button,at.absolute.x=lt.x,at.absolute.y=lt.y,at.position.x=at.absolute.x*at.scale.x+at.offset.x,at.position.y=at.absolute.y*at.scale.y+at.offset.y,at.mousedownPosition.x=at.position.x,at.mousedownPosition.y=at.position.y,at.sourceEvents.mousedown=ot},at.mouseup=function(ot){var lt=rt._getRelativeMousePosition(ot,at.element,at.pixelRatio),ut=ot.changedTouches;ut&&ot.preventDefault(),at.button=-1,at.absolute.x=lt.x,at.absolute.y=lt.y,at.position.x=at.absolute.x*at.scale.x+at.offset.x,at.position.y=at.absolute.y*at.scale.y+at.offset.y,at.mouseupPosition.x=at.position.x,at.mouseupPosition.y=at.position.y,at.sourceEvents.mouseup=ot},at.mousewheel=function(ot){at.wheelDelta=Math.max(-1,Math.min(1,ot.wheelDelta||-ot.detail)),ot.preventDefault()},rt.setElement(at,at.element),at},rt.setElement=function(st,at){st.element=at,at.addEventListener("mousemove",st.mousemove),at.addEventListener("mousedown",st.mousedown),at.addEventListener("mouseup",st.mouseup),at.addEventListener("mousewheel",st.mousewheel),at.addEventListener("DOMMouseScroll",st.mousewheel),at.addEventListener("touchmove",st.mousemove),at.addEventListener("touchstart",st.mousedown),at.addEventListener("touchend",st.mouseup)},rt.clearSourceEvents=function(st){st.sourceEvents.mousemove=null,st.sourceEvents.mousedown=null,st.sourceEvents.mouseup=null,st.sourceEvents.mousewheel=null,st.wheelDelta=0},rt.setOffset=function(st,at){st.offset.x=at.x,st.offset.y=at.y,st.position.x=st.absolute.x*st.scale.x+st.offset.x,st.position.y=st.absolute.y*st.scale.y+st.offset.y},rt.setScale=function(st,at){st.scale.x=at.x,st.scale.y=at.y,st.position.x=st.absolute.x*st.scale.x+st.offset.x,st.position.y=st.absolute.y*st.scale.y+st.offset.y},rt._getRelativeMousePosition=function(st,at,ot){var lt=at.getBoundingClientRect(),ut=document.documentElement||document.body.parentNode||document.body,ct=window.pageXOffset!==void 0?window.pageXOffset:ut.scrollLeft,ht=window.pageYOffset!==void 0?window.pageYOffset:ut.scrollTop,pt=st.changedTouches,gt,vt;return pt?(gt=pt[0].pageX-lt.left-ct,vt=pt[0].pageY-lt.top-ht):(gt=st.pageX-lt.left-ct,vt=st.pageY-lt.top-ht),{x:gt/(at.clientWidth/(at.width||at.clientWidth)*ot),y:vt/(at.clientHeight/(at.height||at.clientHeight)*ot)}}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(0),st=nt(8);(function(){rt.create=function(at){var ot={bodies:[],pairs:null};return it.extend(ot,at)},rt.setBodies=function(at,ot){at.bodies=ot.slice(0)},rt.clear=function(at){at.bodies=[]},rt.collisions=function(at){var ot=[],lt=at.pairs,ut=at.bodies,ct=ut.length,ht=rt.canCollide,pt=st.collides,gt,vt;for(ut.sort(rt._compareBoundsX),gt=0;gt<ct;gt++){var ft=ut[gt],mt=ft.bounds,xt=ft.bounds.max.x,_t=ft.bounds.max.y,Tt=ft.bounds.min.y,wt=ft.isStatic||ft.isSleeping,bt=ft.parts.length,Ct=bt===1;for(vt=gt+1;vt<ct;vt++){var Lt=ut[vt],$t=Lt.bounds;if($t.min.x>xt)break;if(!(_t<$t.min.y||Tt>$t.max.y)&&!(wt&&(Lt.isStatic||Lt.isSleeping))&&!!ht(ft.collisionFilter,Lt.collisionFilter)){var Rt=Lt.parts.length;if(Ct&&Rt===1){var Bt=pt(ft,Lt,lt);Bt&&ot.push(Bt)}else for(var Gt=bt>1?1:0,Ft=Rt>1?1:0,kt=Gt;kt<bt;kt++)for(var It=ft.parts[kt],mt=It.bounds,Ot=Ft;Ot<Rt;Ot++){var Ut=Lt.parts[Ot],$t=Ut.bounds;if(!(mt.min.x>$t.max.x||mt.max.x<$t.min.x||mt.max.y<$t.min.y||mt.min.y>$t.max.y)){var Bt=pt(It,Ut,lt);Bt&&ot.push(Bt)}}}}}return ot},rt.canCollide=function(at,ot){return at.group===ot.group&&at.group!==0?at.group>0:(at.mask&ot.category)!==0&&(ot.mask&at.category)!==0},rt._compareBoundsX=function(at,ot){return at.bounds.min.x-ot.bounds.min.x}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(0);(function(){rt._registry={},rt.register=function(st){if(rt.isPlugin(st)||it.warn("Plugin.register:",rt.toString(st),"does not implement all required fields."),st.name in rt._registry){var at=rt._registry[st.name],ot=rt.versionParse(st.version).number,lt=rt.versionParse(at.version).number;ot>lt?(it.warn("Plugin.register:",rt.toString(at),"was upgraded to",rt.toString(st)),rt._registry[st.name]=st):ot<lt?it.warn("Plugin.register:",rt.toString(at),"can not be downgraded to",rt.toString(st)):st!==at&&it.warn("Plugin.register:",rt.toString(st),"is already registered to different plugin object")}else rt._registry[st.name]=st;return st},rt.resolve=function(st){return rt._registry[rt.dependencyParse(st).name]},rt.toString=function(st){return typeof st=="string"?st:(st.name||"anonymous")+"@"+(st.version||st.range||"0.0.0")},rt.isPlugin=function(st){return st&&st.name&&st.version&&st.install},rt.isUsed=function(st,at){return st.used.indexOf(at)>-1},rt.isFor=function(st,at){var ot=st.for&&rt.dependencyParse(st.for);return!st.for||at.name===ot.name&&rt.versionSatisfies(at.version,ot.range)},rt.use=function(st,at){if(st.uses=(st.uses||[]).concat(at||[]),st.uses.length===0){it.warn("Plugin.use:",rt.toString(st),"does not specify any dependencies to install.");return}for(var ot=rt.dependencies(st),lt=it.topologicalSort(ot),ut=[],ct=0;ct<lt.length;ct+=1)if(lt[ct]!==st.name){var ht=rt.resolve(lt[ct]);if(!ht){ut.push("\u274C "+lt[ct]);continue}rt.isUsed(st,ht.name)||(rt.isFor(ht,st)||(it.warn("Plugin.use:",rt.toString(ht),"is for",ht.for,"but installed on",rt.toString(st)+"."),ht._warned=!0),ht.install?ht.install(st):(it.warn("Plugin.use:",rt.toString(ht),"does not specify an install function."),ht._warned=!0),ht._warned?(ut.push("\u{1F536} "+rt.toString(ht)),delete ht._warned):ut.push("\u2705 "+rt.toString(ht)),st.used.push(ht.name))}ut.length>0&&it.info(ut.join("  "))},rt.dependencies=function(st,at){var ot=rt.dependencyParse(st),lt=ot.name;if(at=at||{},!(lt in at)){st=rt.resolve(st)||st,at[lt]=it.map(st.uses||[],function(ct){rt.isPlugin(ct)&&rt.register(ct);var ht=rt.dependencyParse(ct),pt=rt.resolve(ct);return pt&&!rt.versionSatisfies(pt.version,ht.range)?(it.warn("Plugin.dependencies:",rt.toString(pt),"does not satisfy",rt.toString(ht),"used by",rt.toString(ot)+"."),pt._warned=!0,st._warned=!0):pt||(it.warn("Plugin.dependencies:",rt.toString(ct),"used by",rt.toString(ot),"could not be resolved."),st._warned=!0),ht.name});for(var ut=0;ut<at[lt].length;ut+=1)rt.dependencies(at[lt][ut],at);return at}},rt.dependencyParse=function(st){if(it.isString(st)){var at=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return at.test(st)||it.warn("Plugin.dependencyParse:",st,"is not a valid dependency string."),{name:st.split("@")[0],range:st.split("@")[1]||"*"}}return{name:st.name,range:st.range||st.version}},rt.versionParse=function(st){var at=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;at.test(st)||it.warn("Plugin.versionParse:",st,"is not a valid version or range.");var ot=at.exec(st),lt=Number(ot[4]),ut=Number(ot[5]),ct=Number(ot[6]);return{isRange:Boolean(ot[1]||ot[2]),version:ot[3],range:st,operator:ot[1]||ot[2]||"",major:lt,minor:ut,patch:ct,parts:[lt,ut,ct],prerelease:ot[7],number:lt*1e8+ut*1e4+ct}},rt.versionSatisfies=function(st,at){at=at||"*";var ot=rt.versionParse(at),lt=rt.versionParse(st);if(ot.isRange){if(ot.operator==="*"||st==="*")return!0;if(ot.operator===">")return lt.number>ot.number;if(ot.operator===">=")return lt.number>=ot.number;if(ot.operator==="~")return lt.major===ot.major&&lt.minor===ot.minor&&lt.patch>=ot.patch;if(ot.operator==="^")return ot.major>0?lt.major===ot.major&&lt.number>=ot.number:ot.minor>0?lt.minor===ot.minor&&lt.patch>=ot.patch:lt.patch===ot.patch}return st===at||st==="*"}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(0),st=nt(5),at=nt(1),ot=nt(4),lt=nt(2),ut=nt(13);(function(){var ct,ht;typeof window!="undefined"&&(ct=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(_t){window.setTimeout(function(){_t(it.now())},1e3/60)},ht=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),rt._goodFps=30,rt._goodDelta=1e3/60,rt.create=function(_t){var Tt={controller:rt,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!_t.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},wt=it.extend(Tt,_t);return wt.canvas&&(wt.canvas.width=wt.options.width||wt.canvas.width,wt.canvas.height=wt.options.height||wt.canvas.height),wt.mouse=_t.mouse,wt.engine=_t.engine,wt.canvas=wt.canvas||vt(wt.options.width,wt.options.height),wt.context=wt.canvas.getContext("2d"),wt.textures={},wt.bounds=wt.bounds||{min:{x:0,y:0},max:{x:wt.canvas.width,y:wt.canvas.height}},wt.options.showBroadphase=!1,wt.options.pixelRatio!==1&&rt.setPixelRatio(wt,wt.options.pixelRatio),it.isElement(wt.element)?wt.element.appendChild(wt.canvas):wt.canvas.parentNode||it.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),wt},rt.run=function(_t){(function Tt(wt){_t.frameRequestId=ct(Tt),pt(_t,wt),rt.world(_t,wt),(_t.options.showStats||_t.options.showDebug)&&rt.stats(_t,_t.context,wt),(_t.options.showPerformance||_t.options.showDebug)&&rt.performance(_t,_t.context,wt)})()},rt.stop=function(_t){ht(_t.frameRequestId)},rt.setPixelRatio=function(_t,Tt){var wt=_t.options,bt=_t.canvas;Tt==="auto"&&(Tt=ft(bt)),wt.pixelRatio=Tt,bt.setAttribute("data-pixel-ratio",Tt),bt.width=wt.width*Tt,bt.height=wt.height*Tt,bt.style.width=wt.width+"px",bt.style.height=wt.height+"px"},rt.lookAt=function(_t,Tt,wt,bt){bt=typeof bt!="undefined"?bt:!0,Tt=it.isArray(Tt)?Tt:[Tt],wt=wt||{x:0,y:0};for(var Ct={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},Lt=0;Lt<Tt.length;Lt+=1){var $t=Tt[Lt],Rt=$t.bounds?$t.bounds.min:$t.min||$t.position||$t,Bt=$t.bounds?$t.bounds.max:$t.max||$t.position||$t;Rt&&Bt&&(Rt.x<Ct.min.x&&(Ct.min.x=Rt.x),Bt.x>Ct.max.x&&(Ct.max.x=Bt.x),Rt.y<Ct.min.y&&(Ct.min.y=Rt.y),Bt.y>Ct.max.y&&(Ct.max.y=Bt.y))}var Gt=Ct.max.x-Ct.min.x+2*wt.x,Ft=Ct.max.y-Ct.min.y+2*wt.y,kt=_t.canvas.height,It=_t.canvas.width,Ot=It/kt,Ut=Gt/Ft,zt=1,Ht=1;Ut>Ot?Ht=Ut/Ot:zt=Ot/Ut,_t.options.hasBounds=!0,_t.bounds.min.x=Ct.min.x,_t.bounds.max.x=Ct.min.x+Gt*zt,_t.bounds.min.y=Ct.min.y,_t.bounds.max.y=Ct.min.y+Ft*Ht,bt&&(_t.bounds.min.x+=Gt*.5-Gt*zt*.5,_t.bounds.max.x+=Gt*.5-Gt*zt*.5,_t.bounds.min.y+=Ft*.5-Ft*Ht*.5,_t.bounds.max.y+=Ft*.5-Ft*Ht*.5),_t.bounds.min.x-=wt.x,_t.bounds.max.x-=wt.x,_t.bounds.min.y-=wt.y,_t.bounds.max.y-=wt.y,_t.mouse&&(ut.setScale(_t.mouse,{x:(_t.bounds.max.x-_t.bounds.min.x)/_t.canvas.width,y:(_t.bounds.max.y-_t.bounds.min.y)/_t.canvas.height}),ut.setOffset(_t.mouse,_t.bounds.min))},rt.startViewTransform=function(_t){var Tt=_t.bounds.max.x-_t.bounds.min.x,wt=_t.bounds.max.y-_t.bounds.min.y,bt=Tt/_t.options.width,Ct=wt/_t.options.height;_t.context.setTransform(_t.options.pixelRatio/bt,0,0,_t.options.pixelRatio/Ct,0,0),_t.context.translate(-_t.bounds.min.x,-_t.bounds.min.y)},rt.endViewTransform=function(_t){_t.context.setTransform(_t.options.pixelRatio,0,0,_t.options.pixelRatio,0,0)},rt.world=function(_t,Tt){var wt=it.now(),bt=_t.engine,Ct=bt.world,Lt=_t.canvas,$t=_t.context,Rt=_t.options,Bt=_t.timing,Gt=st.allBodies(Ct),Ft=st.allConstraints(Ct),kt=Rt.wireframes?Rt.wireframeBackground:Rt.background,It=[],Ot=[],Ut,zt={timestamp:bt.timing.timestamp};if(ot.trigger(_t,"beforeRender",zt),_t.currentBackground!==kt&&xt(_t,kt),$t.globalCompositeOperation="source-in",$t.fillStyle="transparent",$t.fillRect(0,0,Lt.width,Lt.height),$t.globalCompositeOperation="source-over",Rt.hasBounds){for(Ut=0;Ut<Gt.length;Ut++){var Ht=Gt[Ut];at.overlaps(Ht.bounds,_t.bounds)&&It.push(Ht)}for(Ut=0;Ut<Ft.length;Ut++){var Vt=Ft[Ut],qt=Vt.bodyA,an=Vt.bodyB,gn=Vt.pointA,yn=Vt.pointB;qt&&(gn=lt.add(qt.position,Vt.pointA)),an&&(yn=lt.add(an.position,Vt.pointB)),!(!gn||!yn)&&(at.contains(_t.bounds,gn)||at.contains(_t.bounds,yn))&&Ot.push(Vt)}rt.startViewTransform(_t),_t.mouse&&(ut.setScale(_t.mouse,{x:(_t.bounds.max.x-_t.bounds.min.x)/_t.options.width,y:(_t.bounds.max.y-_t.bounds.min.y)/_t.options.height}),ut.setOffset(_t.mouse,_t.bounds.min))}else Ot=Ft,It=Gt,_t.options.pixelRatio!==1&&_t.context.setTransform(_t.options.pixelRatio,0,0,_t.options.pixelRatio,0,0);!Rt.wireframes||bt.enableSleeping&&Rt.showSleeping?rt.bodies(_t,It,$t):(Rt.showConvexHulls&&rt.bodyConvexHulls(_t,It,$t),rt.bodyWireframes(_t,It,$t)),Rt.showBounds&&rt.bodyBounds(_t,It,$t),(Rt.showAxes||Rt.showAngleIndicator)&&rt.bodyAxes(_t,It,$t),Rt.showPositions&&rt.bodyPositions(_t,It,$t),Rt.showVelocity&&rt.bodyVelocity(_t,It,$t),Rt.showIds&&rt.bodyIds(_t,It,$t),Rt.showSeparations&&rt.separations(_t,bt.pairs.list,$t),Rt.showCollisions&&rt.collisions(_t,bt.pairs.list,$t),Rt.showVertexNumbers&&rt.vertexNumbers(_t,It,$t),Rt.showMousePosition&&rt.mousePosition(_t,_t.mouse,$t),rt.constraints(Ot,$t),Rt.hasBounds&&rt.endViewTransform(_t),ot.trigger(_t,"afterRender",zt),Bt.lastElapsed=it.now()-wt},rt.stats=function(_t,Tt,wt){for(var bt=_t.engine,Ct=bt.world,Lt=st.allBodies(Ct),$t=0,Rt=55,Bt=44,Gt=0,Ft=0,kt=0;kt<Lt.length;kt+=1)$t+=Lt[kt].parts.length;var It={Part:$t,Body:Lt.length,Cons:st.allConstraints(Ct).length,Comp:st.allComposites(Ct).length,Pair:bt.pairs.list.length};Tt.fillStyle="#0e0f19",Tt.fillRect(Gt,Ft,Rt*5.5,Bt),Tt.font="12px Arial",Tt.textBaseline="top",Tt.textAlign="right";for(var Ot in It){var Ut=It[Ot];Tt.fillStyle="#aaa",Tt.fillText(Ot,Gt+Rt,Ft+8),Tt.fillStyle="#eee",Tt.fillText(Ut,Gt+Rt,Ft+26),Gt+=Rt}},rt.performance=function(_t,Tt){var wt=_t.engine,bt=_t.timing,Ct=bt.deltaHistory,Lt=bt.elapsedHistory,$t=bt.timestampElapsedHistory,Rt=bt.engineDeltaHistory,Bt=bt.engineElapsedHistory,Gt=wt.timing.lastDelta,Ft=gt(Ct),kt=gt(Lt),It=gt(Rt),Ot=gt(Bt),Ut=gt($t),zt=Ut/Ft||0,Ht=1e3/Ft||0,Vt=4,qt=12,an=60,gn=34,yn=10,fn=69;Tt.fillStyle="#0e0f19",Tt.fillRect(0,50,qt*4+an*5+22,gn),rt.status(Tt,yn,fn,an,Vt,Ct.length,Math.round(Ht)+" fps",Ht/rt._goodFps,function(In){return Ct[In]/Ft-1}),rt.status(Tt,yn+qt+an,fn,an,Vt,Rt.length,Gt.toFixed(2)+" dt",rt._goodDelta/Gt,function(In){return Rt[In]/It-1}),rt.status(Tt,yn+(qt+an)*2,fn,an,Vt,Bt.length,Ot.toFixed(2)+" ut",1-Ot/rt._goodFps,function(In){return Bt[In]/Ot-1}),rt.status(Tt,yn+(qt+an)*3,fn,an,Vt,Lt.length,kt.toFixed(2)+" rt",1-kt/rt._goodFps,function(In){return Lt[In]/kt-1}),rt.status(Tt,yn+(qt+an)*4,fn,an,Vt,$t.length,zt.toFixed(2)+" x",zt*zt*zt,function(In){return($t[In]/Ct[In]/zt||0)-1})},rt.status=function(_t,Tt,wt,bt,Ct,Lt,$t,Rt,Bt){_t.strokeStyle="#888",_t.fillStyle="#444",_t.lineWidth=1,_t.fillRect(Tt,wt+7,bt,1),_t.beginPath(),_t.moveTo(Tt,wt+7-Ct*it.clamp(.4*Bt(0),-2,2));for(var Gt=0;Gt<bt;Gt+=1)_t.lineTo(Tt+Gt,wt+7-(Gt<Lt?Ct*it.clamp(.4*Bt(Gt),-2,2):0));_t.stroke(),_t.fillStyle="hsl("+it.clamp(25+95*Rt,0,120)+",100%,60%)",_t.fillRect(Tt,wt-7,4,4),_t.font="12px Arial",_t.textBaseline="middle",_t.textAlign="right",_t.fillStyle="#eee",_t.fillText($t,Tt+bt,wt-5)},rt.constraints=function(_t,Tt){for(var wt=Tt,bt=0;bt<_t.length;bt++){var Ct=_t[bt];if(!(!Ct.render.visible||!Ct.pointA||!Ct.pointB)){var Lt=Ct.bodyA,$t=Ct.bodyB,Rt,Bt;if(Lt?Rt=lt.add(Lt.position,Ct.pointA):Rt=Ct.pointA,Ct.render.type==="pin")wt.beginPath(),wt.arc(Rt.x,Rt.y,3,0,2*Math.PI),wt.closePath();else{if($t?Bt=lt.add($t.position,Ct.pointB):Bt=Ct.pointB,wt.beginPath(),wt.moveTo(Rt.x,Rt.y),Ct.render.type==="spring")for(var Gt=lt.sub(Bt,Rt),Ft=lt.perp(lt.normalise(Gt)),kt=Math.ceil(it.clamp(Ct.length/5,12,20)),It,Ot=1;Ot<kt;Ot+=1)It=Ot%2===0?1:-1,wt.lineTo(Rt.x+Gt.x*(Ot/kt)+Ft.x*It*4,Rt.y+Gt.y*(Ot/kt)+Ft.y*It*4);wt.lineTo(Bt.x,Bt.y)}Ct.render.lineWidth&&(wt.lineWidth=Ct.render.lineWidth,wt.strokeStyle=Ct.render.strokeStyle,wt.stroke()),Ct.render.anchors&&(wt.fillStyle=Ct.render.strokeStyle,wt.beginPath(),wt.arc(Rt.x,Rt.y,3,0,2*Math.PI),wt.arc(Bt.x,Bt.y,3,0,2*Math.PI),wt.closePath(),wt.fill())}}},rt.bodies=function(_t,Tt,wt){var bt=wt;_t.engine;var Ct=_t.options,Lt=Ct.showInternalEdges||!Ct.wireframes,$t,Rt,Bt,Gt;for(Bt=0;Bt<Tt.length;Bt++)if($t=Tt[Bt],!!$t.render.visible){for(Gt=$t.parts.length>1?1:0;Gt<$t.parts.length;Gt++)if(Rt=$t.parts[Gt],!!Rt.render.visible){if(Ct.showSleeping&&$t.isSleeping?bt.globalAlpha=.5*Rt.render.opacity:Rt.render.opacity!==1&&(bt.globalAlpha=Rt.render.opacity),Rt.render.sprite&&Rt.render.sprite.texture&&!Ct.wireframes){var Ft=Rt.render.sprite,kt=mt(_t,Ft.texture);bt.translate(Rt.position.x,Rt.position.y),bt.rotate(Rt.angle),bt.drawImage(kt,kt.width*-Ft.xOffset*Ft.xScale,kt.height*-Ft.yOffset*Ft.yScale,kt.width*Ft.xScale,kt.height*Ft.yScale),bt.rotate(-Rt.angle),bt.translate(-Rt.position.x,-Rt.position.y)}else{if(Rt.circleRadius)bt.beginPath(),bt.arc(Rt.position.x,Rt.position.y,Rt.circleRadius,0,2*Math.PI);else{bt.beginPath(),bt.moveTo(Rt.vertices[0].x,Rt.vertices[0].y);for(var It=1;It<Rt.vertices.length;It++)!Rt.vertices[It-1].isInternal||Lt?bt.lineTo(Rt.vertices[It].x,Rt.vertices[It].y):bt.moveTo(Rt.vertices[It].x,Rt.vertices[It].y),Rt.vertices[It].isInternal&&!Lt&&bt.moveTo(Rt.vertices[(It+1)%Rt.vertices.length].x,Rt.vertices[(It+1)%Rt.vertices.length].y);bt.lineTo(Rt.vertices[0].x,Rt.vertices[0].y),bt.closePath()}Ct.wireframes?(bt.lineWidth=1,bt.strokeStyle="#bbb",bt.stroke()):(bt.fillStyle=Rt.render.fillStyle,Rt.render.lineWidth&&(bt.lineWidth=Rt.render.lineWidth,bt.strokeStyle=Rt.render.strokeStyle,bt.stroke()),bt.fill())}bt.globalAlpha=1}}},rt.bodyWireframes=function(_t,Tt,wt){var bt=wt,Ct=_t.options.showInternalEdges,Lt,$t,Rt,Bt,Gt;for(bt.beginPath(),Rt=0;Rt<Tt.length;Rt++)if(Lt=Tt[Rt],!!Lt.render.visible)for(Gt=Lt.parts.length>1?1:0;Gt<Lt.parts.length;Gt++){for($t=Lt.parts[Gt],bt.moveTo($t.vertices[0].x,$t.vertices[0].y),Bt=1;Bt<$t.vertices.length;Bt++)!$t.vertices[Bt-1].isInternal||Ct?bt.lineTo($t.vertices[Bt].x,$t.vertices[Bt].y):bt.moveTo($t.vertices[Bt].x,$t.vertices[Bt].y),$t.vertices[Bt].isInternal&&!Ct&&bt.moveTo($t.vertices[(Bt+1)%$t.vertices.length].x,$t.vertices[(Bt+1)%$t.vertices.length].y);bt.lineTo($t.vertices[0].x,$t.vertices[0].y)}bt.lineWidth=1,bt.strokeStyle="#bbb",bt.stroke()},rt.bodyConvexHulls=function(_t,Tt,wt){var bt=wt,Ct,Lt,$t;for(bt.beginPath(),Lt=0;Lt<Tt.length;Lt++)if(Ct=Tt[Lt],!(!Ct.render.visible||Ct.parts.length===1)){for(bt.moveTo(Ct.vertices[0].x,Ct.vertices[0].y),$t=1;$t<Ct.vertices.length;$t++)bt.lineTo(Ct.vertices[$t].x,Ct.vertices[$t].y);bt.lineTo(Ct.vertices[0].x,Ct.vertices[0].y)}bt.lineWidth=1,bt.strokeStyle="rgba(255,255,255,0.2)",bt.stroke()},rt.vertexNumbers=function(_t,Tt,wt){var bt=wt,Ct,Lt,$t;for(Ct=0;Ct<Tt.length;Ct++){var Rt=Tt[Ct].parts;for($t=Rt.length>1?1:0;$t<Rt.length;$t++){var Bt=Rt[$t];for(Lt=0;Lt<Bt.vertices.length;Lt++)bt.fillStyle="rgba(255,255,255,0.2)",bt.fillText(Ct+"_"+Lt,Bt.position.x+(Bt.vertices[Lt].x-Bt.position.x)*.8,Bt.position.y+(Bt.vertices[Lt].y-Bt.position.y)*.8)}}},rt.mousePosition=function(_t,Tt,wt){var bt=wt;bt.fillStyle="rgba(255,255,255,0.8)",bt.fillText(Tt.position.x+"  "+Tt.position.y,Tt.position.x+5,Tt.position.y-5)},rt.bodyBounds=function(_t,Tt,wt){var bt=wt;_t.engine;var Ct=_t.options;bt.beginPath();for(var Lt=0;Lt<Tt.length;Lt++){var $t=Tt[Lt];if($t.render.visible)for(var Rt=Tt[Lt].parts,Bt=Rt.length>1?1:0;Bt<Rt.length;Bt++){var Gt=Rt[Bt];bt.rect(Gt.bounds.min.x,Gt.bounds.min.y,Gt.bounds.max.x-Gt.bounds.min.x,Gt.bounds.max.y-Gt.bounds.min.y)}}Ct.wireframes?bt.strokeStyle="rgba(255,255,255,0.08)":bt.strokeStyle="rgba(0,0,0,0.1)",bt.lineWidth=1,bt.stroke()},rt.bodyAxes=function(_t,Tt,wt){var bt=wt;_t.engine;var Ct=_t.options,Lt,$t,Rt,Bt;for(bt.beginPath(),$t=0;$t<Tt.length;$t++){var Gt=Tt[$t],Ft=Gt.parts;if(!!Gt.render.visible)if(Ct.showAxes)for(Rt=Ft.length>1?1:0;Rt<Ft.length;Rt++)for(Lt=Ft[Rt],Bt=0;Bt<Lt.axes.length;Bt++){var kt=Lt.axes[Bt];bt.moveTo(Lt.position.x,Lt.position.y),bt.lineTo(Lt.position.x+kt.x*20,Lt.position.y+kt.y*20)}else for(Rt=Ft.length>1?1:0;Rt<Ft.length;Rt++)for(Lt=Ft[Rt],Bt=0;Bt<Lt.axes.length;Bt++)bt.moveTo(Lt.position.x,Lt.position.y),bt.lineTo((Lt.vertices[0].x+Lt.vertices[Lt.vertices.length-1].x)/2,(Lt.vertices[0].y+Lt.vertices[Lt.vertices.length-1].y)/2)}Ct.wireframes?(bt.strokeStyle="indianred",bt.lineWidth=1):(bt.strokeStyle="rgba(255, 255, 255, 0.4)",bt.globalCompositeOperation="overlay",bt.lineWidth=2),bt.stroke(),bt.globalCompositeOperation="source-over"},rt.bodyPositions=function(_t,Tt,wt){var bt=wt;_t.engine;var Ct=_t.options,Lt,$t,Rt,Bt;for(bt.beginPath(),Rt=0;Rt<Tt.length;Rt++)if(Lt=Tt[Rt],!!Lt.render.visible)for(Bt=0;Bt<Lt.parts.length;Bt++)$t=Lt.parts[Bt],bt.arc($t.position.x,$t.position.y,3,0,2*Math.PI,!1),bt.closePath();for(Ct.wireframes?bt.fillStyle="indianred":bt.fillStyle="rgba(0,0,0,0.5)",bt.fill(),bt.beginPath(),Rt=0;Rt<Tt.length;Rt++)Lt=Tt[Rt],Lt.render.visible&&(bt.arc(Lt.positionPrev.x,Lt.positionPrev.y,2,0,2*Math.PI,!1),bt.closePath());bt.fillStyle="rgba(255,165,0,0.8)",bt.fill()},rt.bodyVelocity=function(_t,Tt,wt){var bt=wt;bt.beginPath();for(var Ct=0;Ct<Tt.length;Ct++){var Lt=Tt[Ct];!Lt.render.visible||(bt.moveTo(Lt.position.x,Lt.position.y),bt.lineTo(Lt.position.x+(Lt.position.x-Lt.positionPrev.x)*2,Lt.position.y+(Lt.position.y-Lt.positionPrev.y)*2))}bt.lineWidth=3,bt.strokeStyle="cornflowerblue",bt.stroke()},rt.bodyIds=function(_t,Tt,wt){var bt=wt,Ct,Lt;for(Ct=0;Ct<Tt.length;Ct++)if(!!Tt[Ct].render.visible){var $t=Tt[Ct].parts;for(Lt=$t.length>1?1:0;Lt<$t.length;Lt++){var Rt=$t[Lt];bt.font="12px Arial",bt.fillStyle="rgba(255,255,255,0.5)",bt.fillText(Rt.id,Rt.position.x+10,Rt.position.y-10)}}},rt.collisions=function(_t,Tt,wt){var bt=wt,Ct=_t.options,Lt,$t,Rt,Bt;for(bt.beginPath(),Rt=0;Rt<Tt.length;Rt++)if(Lt=Tt[Rt],!!Lt.isActive)for($t=Lt.collision,Bt=0;Bt<Lt.activeContacts.length;Bt++){var Gt=Lt.activeContacts[Bt],Ft=Gt.vertex;bt.rect(Ft.x-1.5,Ft.y-1.5,3.5,3.5)}for(Ct.wireframes?bt.fillStyle="rgba(255,255,255,0.7)":bt.fillStyle="orange",bt.fill(),bt.beginPath(),Rt=0;Rt<Tt.length;Rt++)if(Lt=Tt[Rt],!!Lt.isActive&&($t=Lt.collision,Lt.activeContacts.length>0)){var kt=Lt.activeContacts[0].vertex.x,It=Lt.activeContacts[0].vertex.y;Lt.activeContacts.length===2&&(kt=(Lt.activeContacts[0].vertex.x+Lt.activeContacts[1].vertex.x)/2,It=(Lt.activeContacts[0].vertex.y+Lt.activeContacts[1].vertex.y)/2),$t.bodyB===$t.supports[0].body||$t.bodyA.isStatic===!0?bt.moveTo(kt-$t.normal.x*8,It-$t.normal.y*8):bt.moveTo(kt+$t.normal.x*8,It+$t.normal.y*8),bt.lineTo(kt,It)}Ct.wireframes?bt.strokeStyle="rgba(255,165,0,0.7)":bt.strokeStyle="orange",bt.lineWidth=1,bt.stroke()},rt.separations=function(_t,Tt,wt){var bt=wt,Ct=_t.options,Lt,$t,Rt,Bt,Gt;for(bt.beginPath(),Gt=0;Gt<Tt.length;Gt++)if(Lt=Tt[Gt],!!Lt.isActive){$t=Lt.collision,Rt=$t.bodyA,Bt=$t.bodyB;var Ft=1;!Bt.isStatic&&!Rt.isStatic&&(Ft=.5),Bt.isStatic&&(Ft=0),bt.moveTo(Bt.position.x,Bt.position.y),bt.lineTo(Bt.position.x-$t.penetration.x*Ft,Bt.position.y-$t.penetration.y*Ft),Ft=1,!Bt.isStatic&&!Rt.isStatic&&(Ft=.5),Rt.isStatic&&(Ft=0),bt.moveTo(Rt.position.x,Rt.position.y),bt.lineTo(Rt.position.x+$t.penetration.x*Ft,Rt.position.y+$t.penetration.y*Ft)}Ct.wireframes?bt.strokeStyle="rgba(255,165,0,0.5)":bt.strokeStyle="orange",bt.stroke()},rt.inspector=function(_t,Tt){_t.engine;var wt=_t.selected,bt=_t.render,Ct=bt.options,Lt;if(Ct.hasBounds){var $t=bt.bounds.max.x-bt.bounds.min.x,Rt=bt.bounds.max.y-bt.bounds.min.y,Bt=$t/bt.options.width,Gt=Rt/bt.options.height;Tt.scale(1/Bt,1/Gt),Tt.translate(-bt.bounds.min.x,-bt.bounds.min.y)}for(var Ft=0;Ft<wt.length;Ft++){var kt=wt[Ft].data;switch(Tt.translate(.5,.5),Tt.lineWidth=1,Tt.strokeStyle="rgba(255,165,0,0.9)",Tt.setLineDash([1,2]),kt.type){case"body":Lt=kt.bounds,Tt.beginPath(),Tt.rect(Math.floor(Lt.min.x-3),Math.floor(Lt.min.y-3),Math.floor(Lt.max.x-Lt.min.x+6),Math.floor(Lt.max.y-Lt.min.y+6)),Tt.closePath(),Tt.stroke();break;case"constraint":var It=kt.pointA;kt.bodyA&&(It=kt.pointB),Tt.beginPath(),Tt.arc(It.x,It.y,10,0,2*Math.PI),Tt.closePath(),Tt.stroke();break}Tt.setLineDash([]),Tt.translate(-.5,-.5)}_t.selectStart!==null&&(Tt.translate(.5,.5),Tt.lineWidth=1,Tt.strokeStyle="rgba(255,165,0,0.6)",Tt.fillStyle="rgba(255,165,0,0.1)",Lt=_t.selectBounds,Tt.beginPath(),Tt.rect(Math.floor(Lt.min.x),Math.floor(Lt.min.y),Math.floor(Lt.max.x-Lt.min.x),Math.floor(Lt.max.y-Lt.min.y)),Tt.closePath(),Tt.stroke(),Tt.fill(),Tt.translate(-.5,-.5)),Ct.hasBounds&&Tt.setTransform(1,0,0,1,0,0)};var pt=function(_t,Tt){var wt=_t.engine,bt=_t.timing,Ct=bt.historySize,Lt=wt.timing.timestamp;bt.delta=Tt-bt.lastTime||rt._goodDelta,bt.lastTime=Tt,bt.timestampElapsed=Lt-bt.lastTimestamp||0,bt.lastTimestamp=Lt,bt.deltaHistory.unshift(bt.delta),bt.deltaHistory.length=Math.min(bt.deltaHistory.length,Ct),bt.engineDeltaHistory.unshift(wt.timing.lastDelta),bt.engineDeltaHistory.length=Math.min(bt.engineDeltaHistory.length,Ct),bt.timestampElapsedHistory.unshift(bt.timestampElapsed),bt.timestampElapsedHistory.length=Math.min(bt.timestampElapsedHistory.length,Ct),bt.engineElapsedHistory.unshift(wt.timing.lastElapsed),bt.engineElapsedHistory.length=Math.min(bt.engineElapsedHistory.length,Ct),bt.elapsedHistory.unshift(bt.lastElapsed),bt.elapsedHistory.length=Math.min(bt.elapsedHistory.length,Ct)},gt=function(_t){for(var Tt=0,wt=0;wt<_t.length;wt+=1)Tt+=_t[wt];return Tt/_t.length||0},vt=function(_t,Tt){var wt=document.createElement("canvas");return wt.width=_t,wt.height=Tt,wt.oncontextmenu=function(){return!1},wt.onselectstart=function(){return!1},wt},ft=function(_t){var Tt=_t.getContext("2d"),wt=window.devicePixelRatio||1,bt=Tt.webkitBackingStorePixelRatio||Tt.mozBackingStorePixelRatio||Tt.msBackingStorePixelRatio||Tt.oBackingStorePixelRatio||Tt.backingStorePixelRatio||1;return wt/bt},mt=function(_t,Tt){var wt=_t.textures[Tt];return wt||(wt=_t.textures[Tt]=new Image,wt.src=Tt,wt)},xt=function(_t,Tt){var wt=Tt;/(jpg|gif|png)$/.test(Tt)&&(wt="url("+Tt+")"),_t.canvas.style.background=wt,_t.canvas.style.backgroundSize="contain",_t.currentBackground=Tt}})()},function(et,tt){var nt={};et.exports=nt,function(){nt.create=function(rt){return{vertex:rt,normalImpulse:0,tangentImpulse:0}}}()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(7),st=nt(19),at=nt(14),ot=nt(20),lt=nt(4),ut=nt(5),ct=nt(10),ht=nt(0),pt=nt(6);(function(){rt.create=function(gt){gt=gt||{};var vt={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},ft=ht.extend(vt,gt);return ft.world=gt.world||ut.create({label:"World"}),ft.pairs=gt.pairs||ot.create(),ft.detector=gt.detector||at.create(),ft.grid={buckets:[]},ft.world.gravity=ft.gravity,ft.broadphase=ft.grid,ft.metrics={},ft},rt.update=function(gt,vt,ft){var mt=ht.now();vt=vt||1e3/60,ft=ft||1;var xt=gt.world,_t=gt.detector,Tt=gt.pairs,wt=gt.timing,bt=wt.timestamp,Ct;wt.timestamp+=vt*wt.timeScale,wt.lastDelta=vt*wt.timeScale;var Lt={timestamp:wt.timestamp};lt.trigger(gt,"beforeUpdate",Lt);var $t=ut.allBodies(xt),Rt=ut.allConstraints(xt);for(xt.isModified&&at.setBodies(_t,$t),xt.isModified&&ut.setModified(xt,!1,!1,!0),gt.enableSleeping&&it.update($t,wt.timeScale),rt._bodiesApplyGravity($t,gt.gravity),rt._bodiesUpdate($t,vt,wt.timeScale,ft,xt.bounds),ct.preSolveAll($t),Ct=0;Ct<gt.constraintIterations;Ct++)ct.solveAll(Rt,wt.timeScale);ct.postSolveAll($t),_t.pairs=gt.pairs;var Bt=at.collisions(_t);for(ot.update(Tt,Bt,bt),gt.enableSleeping&&it.afterCollisions(Tt.list,wt.timeScale),Tt.collisionStart.length>0&&lt.trigger(gt,"collisionStart",{pairs:Tt.collisionStart}),st.preSolvePosition(Tt.list),Ct=0;Ct<gt.positionIterations;Ct++)st.solvePosition(Tt.list,wt.timeScale);for(st.postSolvePosition($t),ct.preSolveAll($t),Ct=0;Ct<gt.constraintIterations;Ct++)ct.solveAll(Rt,wt.timeScale);for(ct.postSolveAll($t),st.preSolveVelocity(Tt.list),Ct=0;Ct<gt.velocityIterations;Ct++)st.solveVelocity(Tt.list,wt.timeScale);return Tt.collisionActive.length>0&&lt.trigger(gt,"collisionActive",{pairs:Tt.collisionActive}),Tt.collisionEnd.length>0&&lt.trigger(gt,"collisionEnd",{pairs:Tt.collisionEnd}),rt._bodiesClearForces($t),lt.trigger(gt,"afterUpdate",Lt),gt.timing.lastElapsed=ht.now()-mt,gt},rt.merge=function(gt,vt){if(ht.extend(gt,vt),vt.world){gt.world=vt.world,rt.clear(gt);for(var ft=ut.allBodies(gt.world),mt=0;mt<ft.length;mt++){var xt=ft[mt];it.set(xt,!1),xt.id=ht.nextId()}}},rt.clear=function(gt){ot.clear(gt.pairs),at.clear(gt.detector)},rt._bodiesClearForces=function(gt){for(var vt=0;vt<gt.length;vt++){var ft=gt[vt];ft.force.x=0,ft.force.y=0,ft.torque=0}},rt._bodiesApplyGravity=function(gt,vt){var ft=typeof vt.scale!="undefined"?vt.scale:.001;if(!(vt.x===0&&vt.y===0||ft===0))for(var mt=0;mt<gt.length;mt++){var xt=gt[mt];xt.isStatic||xt.isSleeping||(xt.force.y+=xt.mass*vt.y*ft,xt.force.x+=xt.mass*vt.x*ft)}},rt._bodiesUpdate=function(gt,vt,ft,mt,xt){for(var _t=0;_t<gt.length;_t++){var Tt=gt[_t];Tt.isStatic||Tt.isSleeping||pt.update(Tt,vt,ft,mt)}}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(3),st=nt(1);(function(){rt._restingThresh=4,rt._restingThreshTangent=6,rt._positionDampen=.9,rt._positionWarming=.8,rt._frictionNormalMultiplier=5,rt.preSolvePosition=function(at){var ot,lt,ut,ct=at.length;for(ot=0;ot<ct;ot++)lt=at[ot],lt.isActive&&(ut=lt.activeContacts.length,lt.collision.parentA.totalContacts+=ut,lt.collision.parentB.totalContacts+=ut)},rt.solvePosition=function(at,ot){var lt,ut,ct,ht,pt,gt,vt,ft,mt=rt._positionDampen,xt=at.length;for(lt=0;lt<xt;lt++)ut=at[lt],!(!ut.isActive||ut.isSensor)&&(ct=ut.collision,ht=ct.parentA,pt=ct.parentB,gt=ct.normal,ut.separation=gt.x*(pt.positionImpulse.x+ct.penetration.x-ht.positionImpulse.x)+gt.y*(pt.positionImpulse.y+ct.penetration.y-ht.positionImpulse.y));for(lt=0;lt<xt;lt++)ut=at[lt],!(!ut.isActive||ut.isSensor)&&(ct=ut.collision,ht=ct.parentA,pt=ct.parentB,gt=ct.normal,ft=(ut.separation-ut.slop)*ot,(ht.isStatic||pt.isStatic)&&(ft*=2),ht.isStatic||ht.isSleeping||(vt=mt/ht.totalContacts,ht.positionImpulse.x+=gt.x*ft*vt,ht.positionImpulse.y+=gt.y*ft*vt),pt.isStatic||pt.isSleeping||(vt=mt/pt.totalContacts,pt.positionImpulse.x-=gt.x*ft*vt,pt.positionImpulse.y-=gt.y*ft*vt))},rt.postSolvePosition=function(at){for(var ot=rt._positionWarming,lt=at.length,ut=it.translate,ct=st.update,ht=0;ht<lt;ht++){var pt=at[ht],gt=pt.positionImpulse,vt=gt.x,ft=gt.y,mt=pt.velocity;if(pt.totalContacts=0,vt!==0||ft!==0){for(var xt=0;xt<pt.parts.length;xt++){var _t=pt.parts[xt];ut(_t.vertices,gt),ct(_t.bounds,_t.vertices,mt),_t.position.x+=vt,_t.position.y+=ft}pt.positionPrev.x+=vt,pt.positionPrev.y+=ft,vt*mt.x+ft*mt.y<0?(gt.x=0,gt.y=0):(gt.x*=ot,gt.y*=ot)}}},rt.preSolveVelocity=function(at){var ot=at.length,lt,ut;for(lt=0;lt<ot;lt++){var ct=at[lt];if(!(!ct.isActive||ct.isSensor)){var ht=ct.activeContacts,pt=ht.length,gt=ct.collision,vt=gt.parentA,ft=gt.parentB,mt=gt.normal,xt=gt.tangent;for(ut=0;ut<pt;ut++){var _t=ht[ut],Tt=_t.vertex,wt=_t.normalImpulse,bt=_t.tangentImpulse;if(wt!==0||bt!==0){var Ct=mt.x*wt+xt.x*bt,Lt=mt.y*wt+xt.y*bt;vt.isStatic||vt.isSleeping||(vt.positionPrev.x+=Ct*vt.inverseMass,vt.positionPrev.y+=Lt*vt.inverseMass,vt.anglePrev+=vt.inverseInertia*((Tt.x-vt.position.x)*Lt-(Tt.y-vt.position.y)*Ct)),ft.isStatic||ft.isSleeping||(ft.positionPrev.x-=Ct*ft.inverseMass,ft.positionPrev.y-=Lt*ft.inverseMass,ft.anglePrev-=ft.inverseInertia*((Tt.x-ft.position.x)*Lt-(Tt.y-ft.position.y)*Ct))}}}}},rt.solveVelocity=function(at,ot){var lt=ot*ot,ut=rt._restingThresh*lt,ct=rt._frictionNormalMultiplier,ht=rt._restingThreshTangent*lt,pt=Number.MAX_VALUE,gt=at.length,vt,ft,mt,xt;for(mt=0;mt<gt;mt++){var _t=at[mt];if(!(!_t.isActive||_t.isSensor)){var Tt=_t.collision,wt=Tt.parentA,bt=Tt.parentB,Ct=wt.velocity,Lt=bt.velocity,$t=Tt.normal.x,Rt=Tt.normal.y,Bt=Tt.tangent.x,Gt=Tt.tangent.y,Ft=_t.activeContacts,kt=Ft.length,It=1/kt,Ot=wt.inverseMass+bt.inverseMass,Ut=_t.friction*_t.frictionStatic*ct*lt;for(Ct.x=wt.position.x-wt.positionPrev.x,Ct.y=wt.position.y-wt.positionPrev.y,Lt.x=bt.position.x-bt.positionPrev.x,Lt.y=bt.position.y-bt.positionPrev.y,wt.angularVelocity=wt.angle-wt.anglePrev,bt.angularVelocity=bt.angle-bt.anglePrev,xt=0;xt<kt;xt++){var zt=Ft[xt],Ht=zt.vertex,Vt=Ht.x-wt.position.x,qt=Ht.y-wt.position.y,an=Ht.x-bt.position.x,gn=Ht.y-bt.position.y,yn=Ct.x-qt*wt.angularVelocity,fn=Ct.y+Vt*wt.angularVelocity,In=Lt.x-gn*bt.angularVelocity,Dn=Lt.y+an*bt.angularVelocity,Mn=yn-In,Fn=fn-Dn,Vn=$t*Mn+Rt*Fn,mn=Bt*Mn+Gt*Fn,dn=_t.separation+Vn,An=Math.min(dn,1);An=dn<0?0:An;var Yn=An*Ut;mn>Yn||-mn>Yn?(ft=mn>0?mn:-mn,vt=_t.friction*(mn>0?1:-1)*lt,vt<-ft?vt=-ft:vt>ft&&(vt=ft)):(vt=mn,ft=pt);var Bn=Vt*Rt-qt*$t,tr=an*Rt-gn*$t,rr=It/(Ot+wt.inverseInertia*Bn*Bn+bt.inverseInertia*tr*tr),hr=(1+_t.restitution)*Vn*rr;if(vt*=rr,Vn*Vn>ut&&Vn<0)zt.normalImpulse=0;else{var fr=zt.normalImpulse;zt.normalImpulse+=hr,zt.normalImpulse=Math.min(zt.normalImpulse,0),hr=zt.normalImpulse-fr}if(mn*mn>ht)zt.tangentImpulse=0;else{var sn=zt.tangentImpulse;zt.tangentImpulse+=vt,zt.tangentImpulse<-ft&&(zt.tangentImpulse=-ft),zt.tangentImpulse>ft&&(zt.tangentImpulse=ft),vt=zt.tangentImpulse-sn}var nn=$t*hr+Bt*vt,Cn=Rt*hr+Gt*vt;wt.isStatic||wt.isSleeping||(wt.positionPrev.x+=nn*wt.inverseMass,wt.positionPrev.y+=Cn*wt.inverseMass,wt.anglePrev+=(Vt*Cn-qt*nn)*wt.inverseInertia),bt.isStatic||bt.isSleeping||(bt.positionPrev.x-=nn*bt.inverseMass,bt.positionPrev.y-=Cn*bt.inverseMass,bt.anglePrev-=(an*Cn-gn*nn)*bt.inverseInertia)}}}}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(9),st=nt(0);(function(){rt.create=function(at){return st.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},at)},rt.update=function(at,ot,lt){var ut=at.list,ct=ut.length,ht=at.table,pt=ot.length,gt=at.collisionStart,vt=at.collisionEnd,ft=at.collisionActive,mt,xt,_t,Tt;for(gt.length=0,vt.length=0,ft.length=0,Tt=0;Tt<ct;Tt++)ut[Tt].confirmedActive=!1;for(Tt=0;Tt<pt;Tt++)mt=ot[Tt],_t=mt.pair,_t?(_t.isActive?ft.push(_t):gt.push(_t),it.update(_t,mt,lt),_t.confirmedActive=!0):(_t=it.create(mt,lt),ht[_t.id]=_t,gt.push(_t),ut.push(_t));var wt=[];for(ct=ut.length,Tt=0;Tt<ct;Tt++)_t=ut[Tt],_t.confirmedActive||(it.setActive(_t,!1,lt),vt.push(_t),!_t.collision.bodyA.isSleeping&&!_t.collision.bodyB.isSleeping&&wt.push(Tt));for(Tt=0;Tt<wt.length;Tt++)xt=wt[Tt]-Tt,_t=ut[xt],ut.splice(xt,1),delete ht[_t.id]},rt.clear=function(at){return at.table={},at.list.length=0,at.collisionStart.length=0,at.collisionActive.length=0,at.collisionEnd.length=0,at}})()},function(et,tt,nt){var rt=et.exports=nt(22);rt.Axes=nt(11),rt.Bodies=nt(12),rt.Body=nt(6),rt.Bounds=nt(1),rt.Collision=nt(8),rt.Common=nt(0),rt.Composite=nt(5),rt.Composites=nt(23),rt.Constraint=nt(10),rt.Contact=nt(17),rt.Detector=nt(14),rt.Engine=nt(18),rt.Events=nt(4),rt.Grid=nt(24),rt.Mouse=nt(13),rt.MouseConstraint=nt(25),rt.Pair=nt(9),rt.Pairs=nt(20),rt.Plugin=nt(15),rt.Query=nt(26),rt.Render=nt(16),rt.Resolver=nt(19),rt.Runner=nt(27),rt.SAT=nt(28),rt.Sleeping=nt(7),rt.Svg=nt(29),rt.Vector=nt(2),rt.Vertices=nt(3),rt.World=nt(30),rt.Engine.run=rt.Runner.run,rt.Common.deprecated(rt.Engine,"run","Engine.run \u27A4 use Matter.Runner.run(engine) instead")},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(15),st=nt(0);(function(){rt.name="matter-js",rt.version="0.18.0",rt.uses=[],rt.used=[],rt.use=function(){it.use(rt,Array.prototype.slice.call(arguments))},rt.before=function(at,ot){return at=at.replace(/^Matter./,""),st.chainPathBefore(rt,at,ot)},rt.after=function(at,ot){return at=at.replace(/^Matter./,""),st.chainPathAfter(rt,at,ot)}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(5),st=nt(10),at=nt(0),ot=nt(6),lt=nt(12),ut=at.deprecated;(function(){rt.stack=function(ct,ht,pt,gt,vt,ft,mt){for(var xt=it.create({label:"Stack"}),_t=ct,Tt=ht,wt,bt=0,Ct=0;Ct<gt;Ct++){for(var Lt=0,$t=0;$t<pt;$t++){var Rt=mt(_t,Tt,$t,Ct,wt,bt);if(Rt){var Bt=Rt.bounds.max.y-Rt.bounds.min.y,Gt=Rt.bounds.max.x-Rt.bounds.min.x;Bt>Lt&&(Lt=Bt),ot.translate(Rt,{x:Gt*.5,y:Bt*.5}),_t=Rt.bounds.max.x+vt,it.addBody(xt,Rt),wt=Rt,bt+=1}else _t+=vt}Tt+=Lt+ft,_t=ct}return xt},rt.chain=function(ct,ht,pt,gt,vt,ft){for(var mt=ct.bodies,xt=1;xt<mt.length;xt++){var _t=mt[xt-1],Tt=mt[xt],wt=_t.bounds.max.y-_t.bounds.min.y,bt=_t.bounds.max.x-_t.bounds.min.x,Ct=Tt.bounds.max.y-Tt.bounds.min.y,Lt=Tt.bounds.max.x-Tt.bounds.min.x,$t={bodyA:_t,pointA:{x:bt*ht,y:wt*pt},bodyB:Tt,pointB:{x:Lt*gt,y:Ct*vt}},Rt=at.extend($t,ft);it.addConstraint(ct,st.create(Rt))}return ct.label+=" Chain",ct},rt.mesh=function(ct,ht,pt,gt,vt){var ft=ct.bodies,mt,xt,_t,Tt,wt;for(mt=0;mt<pt;mt++){for(xt=1;xt<ht;xt++)_t=ft[xt-1+mt*ht],Tt=ft[xt+mt*ht],it.addConstraint(ct,st.create(at.extend({bodyA:_t,bodyB:Tt},vt)));if(mt>0)for(xt=0;xt<ht;xt++)_t=ft[xt+(mt-1)*ht],Tt=ft[xt+mt*ht],it.addConstraint(ct,st.create(at.extend({bodyA:_t,bodyB:Tt},vt))),gt&&xt>0&&(wt=ft[xt-1+(mt-1)*ht],it.addConstraint(ct,st.create(at.extend({bodyA:wt,bodyB:Tt},vt)))),gt&&xt<ht-1&&(wt=ft[xt+1+(mt-1)*ht],it.addConstraint(ct,st.create(at.extend({bodyA:wt,bodyB:Tt},vt))))}return ct.label+=" Mesh",ct},rt.pyramid=function(ct,ht,pt,gt,vt,ft,mt){return rt.stack(ct,ht,pt,gt,vt,ft,function(xt,_t,Tt,wt,bt,Ct){var Lt=Math.min(gt,Math.ceil(pt/2)),$t=bt?bt.bounds.max.x-bt.bounds.min.x:0;if(!(wt>Lt)){wt=Lt-wt;var Rt=wt,Bt=pt-1-wt;if(!(Tt<Rt||Tt>Bt)){Ct===1&&ot.translate(bt,{x:(Tt+(pt%2===1?1:-1))*$t,y:0});var Gt=bt?Tt*$t:0;return mt(ct+Gt+Tt*vt,_t,Tt,wt,bt,Ct)}}})},rt.newtonsCradle=function(ct,ht,pt,gt,vt){for(var ft=it.create({label:"Newtons Cradle"}),mt=0;mt<pt;mt++){var xt=1.9,_t=lt.circle(ct+mt*(gt*xt),ht+vt,gt,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),Tt=st.create({pointA:{x:ct+mt*(gt*xt),y:ht},bodyB:_t});it.addBody(ft,_t),it.addConstraint(ft,Tt)}return ft},ut(rt,"newtonsCradle","Composites.newtonsCradle \u27A4 moved to newtonsCradle example"),rt.car=function(ct,ht,pt,gt,vt){var ft=ot.nextGroup(!0),mt=20,xt=-pt*.5+mt,_t=pt*.5-mt,Tt=0,wt=it.create({label:"Car"}),bt=lt.rectangle(ct,ht,pt,gt,{collisionFilter:{group:ft},chamfer:{radius:gt*.5},density:2e-4}),Ct=lt.circle(ct+xt,ht+Tt,vt,{collisionFilter:{group:ft},friction:.8}),Lt=lt.circle(ct+_t,ht+Tt,vt,{collisionFilter:{group:ft},friction:.8}),$t=st.create({bodyB:bt,pointB:{x:xt,y:Tt},bodyA:Ct,stiffness:1,length:0}),Rt=st.create({bodyB:bt,pointB:{x:_t,y:Tt},bodyA:Lt,stiffness:1,length:0});return it.addBody(wt,bt),it.addBody(wt,Ct),it.addBody(wt,Lt),it.addConstraint(wt,$t),it.addConstraint(wt,Rt),wt},ut(rt,"car","Composites.car \u27A4 moved to car example"),rt.softBody=function(ct,ht,pt,gt,vt,ft,mt,xt,_t,Tt){_t=at.extend({inertia:1/0},_t),Tt=at.extend({stiffness:.2,render:{type:"line",anchors:!1}},Tt);var wt=rt.stack(ct,ht,pt,gt,vt,ft,function(bt,Ct){return lt.circle(bt,Ct,xt,_t)});return rt.mesh(wt,pt,gt,mt,Tt),wt.label="Soft Body",wt},ut(rt,"softBody","Composites.softBody \u27A4 moved to softBody and cloth examples")})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(9),st=nt(0),at=st.deprecated;(function(){rt.create=function(ot){var lt={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return st.extend(lt,ot)},rt.update=function(ot,lt,ut,ct){var ht,pt,gt,vt=ut.world,ft=ot.buckets,mt,xt,_t=!1;for(ht=0;ht<lt.length;ht++){var Tt=lt[ht];if(!(Tt.isSleeping&&!ct)&&!(vt.bounds&&(Tt.bounds.max.x<vt.bounds.min.x||Tt.bounds.min.x>vt.bounds.max.x||Tt.bounds.max.y<vt.bounds.min.y||Tt.bounds.min.y>vt.bounds.max.y))){var wt=rt._getRegion(ot,Tt);if(!Tt.region||wt.id!==Tt.region.id||ct){(!Tt.region||ct)&&(Tt.region=wt);var bt=rt._regionUnion(wt,Tt.region);for(pt=bt.startCol;pt<=bt.endCol;pt++)for(gt=bt.startRow;gt<=bt.endRow;gt++){xt=rt._getBucketId(pt,gt),mt=ft[xt];var Ct=pt>=wt.startCol&&pt<=wt.endCol&&gt>=wt.startRow&&gt<=wt.endRow,Lt=pt>=Tt.region.startCol&&pt<=Tt.region.endCol&&gt>=Tt.region.startRow&&gt<=Tt.region.endRow;!Ct&&Lt&&Lt&&mt&&rt._bucketRemoveBody(ot,mt,Tt),(Tt.region===wt||Ct&&!Lt||ct)&&(mt||(mt=rt._createBucket(ft,xt)),rt._bucketAddBody(ot,mt,Tt))}Tt.region=wt,_t=!0}}}_t&&(ot.pairsList=rt._createActivePairsList(ot))},at(rt,"update","Grid.update \u27A4 replaced by Matter.Detector"),rt.clear=function(ot){ot.buckets={},ot.pairs={},ot.pairsList=[]},at(rt,"clear","Grid.clear \u27A4 replaced by Matter.Detector"),rt._regionUnion=function(ot,lt){var ut=Math.min(ot.startCol,lt.startCol),ct=Math.max(ot.endCol,lt.endCol),ht=Math.min(ot.startRow,lt.startRow),pt=Math.max(ot.endRow,lt.endRow);return rt._createRegion(ut,ct,ht,pt)},rt._getRegion=function(ot,lt){var ut=lt.bounds,ct=Math.floor(ut.min.x/ot.bucketWidth),ht=Math.floor(ut.max.x/ot.bucketWidth),pt=Math.floor(ut.min.y/ot.bucketHeight),gt=Math.floor(ut.max.y/ot.bucketHeight);return rt._createRegion(ct,ht,pt,gt)},rt._createRegion=function(ot,lt,ut,ct){return{id:ot+","+lt+","+ut+","+ct,startCol:ot,endCol:lt,startRow:ut,endRow:ct}},rt._getBucketId=function(ot,lt){return"C"+ot+"R"+lt},rt._createBucket=function(ot,lt){var ut=ot[lt]=[];return ut},rt._bucketAddBody=function(ot,lt,ut){var ct=ot.pairs,ht=it.id,pt=lt.length,gt;for(gt=0;gt<pt;gt++){var vt=lt[gt];if(!(ut.id===vt.id||ut.isStatic&&vt.isStatic)){var ft=ht(ut,vt),mt=ct[ft];mt?mt[2]+=1:ct[ft]=[ut,vt,1]}}lt.push(ut)},rt._bucketRemoveBody=function(ot,lt,ut){var ct=ot.pairs,ht=it.id,pt;lt.splice(st.indexOf(lt,ut),1);var gt=lt.length;for(pt=0;pt<gt;pt++){var vt=ct[ht(ut,lt[pt])];vt&&(vt[2]-=1)}},rt._createActivePairsList=function(ot){var lt,ut=ot.pairs,ct=st.keys(ut),ht=ct.length,pt=[],gt;for(gt=0;gt<ht;gt++)lt=ut[ct[gt]],lt[2]>0?pt.push(lt):delete ut[ct[gt]];return pt}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(3),st=nt(7),at=nt(13),ot=nt(4),lt=nt(14),ut=nt(10),ct=nt(5),ht=nt(0),pt=nt(1);(function(){rt.create=function(gt,vt){var ft=(gt?gt.mouse:null)||(vt?vt.mouse:null);ft||(gt&&gt.render&&gt.render.canvas?ft=at.create(gt.render.canvas):vt&&vt.element?ft=at.create(vt.element):(ft=at.create(),ht.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var mt=ut.create({label:"Mouse Constraint",pointA:ft.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),xt={type:"mouseConstraint",mouse:ft,element:null,body:null,constraint:mt,collisionFilter:{category:1,mask:4294967295,group:0}},_t=ht.extend(xt,vt);return ot.on(gt,"beforeUpdate",function(){var Tt=ct.allBodies(gt.world);rt.update(_t,Tt),rt._triggerEvents(_t)}),_t},rt.update=function(gt,vt){var ft=gt.mouse,mt=gt.constraint,xt=gt.body;if(ft.button===0){if(mt.bodyB)st.set(mt.bodyB,!1),mt.pointA=ft.position;else for(var _t=0;_t<vt.length;_t++)if(xt=vt[_t],pt.contains(xt.bounds,ft.position)&&lt.canCollide(xt.collisionFilter,gt.collisionFilter))for(var Tt=xt.parts.length>1?1:0;Tt<xt.parts.length;Tt++){var wt=xt.parts[Tt];if(it.contains(wt.vertices,ft.position)){mt.pointA=ft.position,mt.bodyB=gt.body=xt,mt.pointB={x:ft.position.x-xt.position.x,y:ft.position.y-xt.position.y},mt.angleB=xt.angle,st.set(xt,!1),ot.trigger(gt,"startdrag",{mouse:ft,body:xt});break}}}else mt.bodyB=gt.body=null,mt.pointB=null,xt&&ot.trigger(gt,"enddrag",{mouse:ft,body:xt})},rt._triggerEvents=function(gt){var vt=gt.mouse,ft=vt.sourceEvents;ft.mousemove&&ot.trigger(gt,"mousemove",{mouse:vt}),ft.mousedown&&ot.trigger(gt,"mousedown",{mouse:vt}),ft.mouseup&&ot.trigger(gt,"mouseup",{mouse:vt}),at.clearSourceEvents(vt)}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(2),st=nt(8),at=nt(1),ot=nt(12),lt=nt(3);(function(){rt.collides=function(ut,ct){for(var ht=[],pt=ct.length,gt=ut.bounds,vt=st.collides,ft=at.overlaps,mt=0;mt<pt;mt++){var xt=ct[mt],_t=xt.parts.length,Tt=_t===1?0:1;if(ft(xt.bounds,gt))for(var wt=Tt;wt<_t;wt++){var bt=xt.parts[wt];if(ft(bt.bounds,gt)){var Ct=vt(bt,ut);if(Ct){ht.push(Ct);break}}}}return ht},rt.ray=function(ut,ct,ht,pt){pt=pt||1e-100;for(var gt=it.angle(ct,ht),vt=it.magnitude(it.sub(ct,ht)),ft=(ht.x+ct.x)*.5,mt=(ht.y+ct.y)*.5,xt=ot.rectangle(ft,mt,vt,pt,{angle:gt}),_t=rt.collides(xt,ut),Tt=0;Tt<_t.length;Tt+=1){var wt=_t[Tt];wt.body=wt.bodyB=wt.bodyA}return _t},rt.region=function(ut,ct,ht){for(var pt=[],gt=0;gt<ut.length;gt++){var vt=ut[gt],ft=at.overlaps(vt.bounds,ct);(ft&&!ht||!ft&&ht)&&pt.push(vt)}return pt},rt.point=function(ut,ct){for(var ht=[],pt=0;pt<ut.length;pt++){var gt=ut[pt];if(at.contains(gt.bounds,ct))for(var vt=gt.parts.length===1?0:1;vt<gt.parts.length;vt++){var ft=gt.parts[vt];if(at.contains(ft.bounds,ct)&&lt.contains(ft.vertices,ct)){ht.push(gt);break}}}return ht}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(4),st=nt(18),at=nt(0);(function(){var ot,lt;if(typeof window!="undefined"&&(ot=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,lt=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),!ot){var ut;ot=function(ct){ut=setTimeout(function(){ct(at.now())},1e3/60)},lt=function(){clearTimeout(ut)}}rt.create=function(ct){var ht={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},pt=at.extend(ht,ct);return pt.delta=pt.delta||1e3/pt.fps,pt.deltaMin=pt.deltaMin||1e3/pt.fps,pt.deltaMax=pt.deltaMax||1e3/(pt.fps*.5),pt.fps=1e3/pt.delta,pt},rt.run=function(ct,ht){return typeof ct.positionIterations!="undefined"&&(ht=ct,ct=rt.create()),function pt(gt){ct.frameRequestId=ot(pt),gt&&ct.enabled&&rt.tick(ct,ht,gt)}(),ct},rt.tick=function(ct,ht,pt){var gt=ht.timing,vt=1,ft,mt={timestamp:gt.timestamp};it.trigger(ct,"beforeTick",mt),ct.isFixed?ft=ct.delta:(ft=pt-ct.timePrev||ct.delta,ct.timePrev=pt,ct.deltaHistory.push(ft),ct.deltaHistory=ct.deltaHistory.slice(-ct.deltaSampleSize),ft=Math.min.apply(null,ct.deltaHistory),ft=ft<ct.deltaMin?ct.deltaMin:ft,ft=ft>ct.deltaMax?ct.deltaMax:ft,vt=ft/ct.delta,ct.delta=ft),ct.timeScalePrev!==0&&(vt*=gt.timeScale/ct.timeScalePrev),gt.timeScale===0&&(vt=0),ct.timeScalePrev=gt.timeScale,ct.correction=vt,ct.frameCounter+=1,pt-ct.counterTimestamp>=1e3&&(ct.fps=ct.frameCounter*((pt-ct.counterTimestamp)/1e3),ct.counterTimestamp=pt,ct.frameCounter=0),it.trigger(ct,"tick",mt),it.trigger(ct,"beforeUpdate",mt),st.update(ht,ft,vt),it.trigger(ct,"afterUpdate",mt),it.trigger(ct,"afterTick",mt)},rt.stop=function(ct){lt(ct.frameRequestId)},rt.start=function(ct,ht){rt.run(ct,ht)}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(8),st=nt(0),at=st.deprecated;(function(){rt.collides=function(ot,lt){return it.collides(ot,lt)},at(rt,"collides","SAT.collides \u27A4 replaced by Collision.collides")})()},function(et,tt,nt){var rt={};et.exports=rt,nt(1);var it=nt(0);(function(){rt.pathToVertices=function(st,at){typeof window!="undefined"&&!("SVGPathSeg"in window)&&it.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var ot,lt,ut,ct,ht,pt,gt,vt,ft,mt,xt=[],_t,Tt,wt=0,bt=0,Ct=0;at=at||15;var Lt=function(Rt,Bt,Gt){var Ft=Gt%2===1&&Gt>1;if(!ft||Rt!=ft.x||Bt!=ft.y){ft&&Ft?(_t=ft.x,Tt=ft.y):(_t=0,Tt=0);var kt={x:_t+Rt,y:Tt+Bt};(Ft||!ft)&&(ft=kt),xt.push(kt),bt=_t+Rt,Ct=Tt+Bt}},$t=function(Rt){var Bt=Rt.pathSegTypeAsLetter.toUpperCase();if(Bt!=="Z"){switch(Bt){case"M":case"L":case"T":case"C":case"S":case"Q":bt=Rt.x,Ct=Rt.y;break;case"H":bt=Rt.x;break;case"V":Ct=Rt.y;break}Lt(bt,Ct,Rt.pathSegType)}};for(rt._svgPathToAbsolute(st),ut=st.getTotalLength(),pt=[],ot=0;ot<st.pathSegList.numberOfItems;ot+=1)pt.push(st.pathSegList.getItem(ot));for(gt=pt.concat();wt<ut;){if(mt=st.getPathSegAtLength(wt),ht=pt[mt],ht!=vt){for(;gt.length&&gt[0]!=ht;)$t(gt.shift());vt=ht}switch(ht.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":ct=st.getPointAtLength(wt),Lt(ct.x,ct.y,0);break}wt+=at}for(ot=0,lt=gt.length;ot<lt;++ot)$t(gt[ot]);return xt},rt._svgPathToAbsolute=function(st){for(var at,ot,lt,ut,ct,ht,pt=st.pathSegList,gt=0,vt=0,ft=pt.numberOfItems,mt=0;mt<ft;++mt){var xt=pt.getItem(mt),_t=xt.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(_t))"x"in xt&&(gt=xt.x),"y"in xt&&(vt=xt.y);else switch("x1"in xt&&(lt=gt+xt.x1),"x2"in xt&&(ct=gt+xt.x2),"y1"in xt&&(ut=vt+xt.y1),"y2"in xt&&(ht=vt+xt.y2),"x"in xt&&(gt+=xt.x),"y"in xt&&(vt+=xt.y),_t){case"m":pt.replaceItem(st.createSVGPathSegMovetoAbs(gt,vt),mt);break;case"l":pt.replaceItem(st.createSVGPathSegLinetoAbs(gt,vt),mt);break;case"h":pt.replaceItem(st.createSVGPathSegLinetoHorizontalAbs(gt),mt);break;case"v":pt.replaceItem(st.createSVGPathSegLinetoVerticalAbs(vt),mt);break;case"c":pt.replaceItem(st.createSVGPathSegCurvetoCubicAbs(gt,vt,lt,ut,ct,ht),mt);break;case"s":pt.replaceItem(st.createSVGPathSegCurvetoCubicSmoothAbs(gt,vt,ct,ht),mt);break;case"q":pt.replaceItem(st.createSVGPathSegCurvetoQuadraticAbs(gt,vt,lt,ut),mt);break;case"t":pt.replaceItem(st.createSVGPathSegCurvetoQuadraticSmoothAbs(gt,vt),mt);break;case"a":pt.replaceItem(st.createSVGPathSegArcAbs(gt,vt,xt.r1,xt.r2,xt.angle,xt.largeArcFlag,xt.sweepFlag),mt);break;case"z":case"Z":gt=at,vt=ot;break}(_t=="M"||_t=="m")&&(at=gt,ot=vt)}}})()},function(et,tt,nt){var rt={};et.exports=rt;var it=nt(5);nt(0),function(){rt.create=it.create,rt.add=it.add,rt.remove=it.remove,rt.clear=it.clear,rt.addComposite=it.addComposite,rt.addBody=it.addBody,rt.addConstraint=it.addConstraint}()}])})})(matter);class BulletproofGlassGame$1{constructor(j,et){is(this,"engine");is(this,"render");is(this,"runner");is(this,"initGame",()=>{let j=matter.exports.Bodies.rectangle(400,610,810,60,{isStatic:!0});matter.exports.Composite.add(this.engine.world,[j]),this.engine.gravity.y=1});this.engine=matter.exports.Engine.create(),this.render=matter.exports.Render.create({element:j,engine:this.engine}),this.runner=matter.exports.Runner.create(),this.initGame(),matter.exports.Render.run(this.render),matter.exports.Runner.run(this.runner,this.engine)}}var __glob_1_10=Object.freeze(Object.defineProperty({__proto__:null,default:BulletproofGlassGame$1},Symbol.toStringTag,{value:"Module"}));const BulletproofGlass$1=()=>{var rt;const _e=react.exports.useRef(null),[j,et]=react.exports.useState(),tt=it=>{const st={x:it.offsetX,y:it.offsetY};let at=nt(st);matter.exports.World.add(j.engine.world,at)},nt=(it,st=20)=>{const at=matter.exports.Bodies.circle(it.x,it.y,st,{isStatic:!1});return at.restitution=.8,at.mass=.1,at};return react.exports.useEffect(()=>{if(document.querySelectorAll("#game-canvas>*").length<1){const it=new BulletproofGlassGame$1(document.querySelector("#game-canvas"));et(it)}},[]),(rt=_e.current)==null||rt.addEventListener("click",tt),jsx("div",{id:"canvas-container",style:{height:"100%",overflow:"hidden"},ref:_e,children:jsx("div",{id:"game-canvas"})})};var index$g=react.exports.memo(BulletproofGlass$1),__glob_1_3=Object.freeze(Object.defineProperty({__proto__:null,default:index$g},Symbol.toStringTag,{value:"Module"}));function finallyConstructor(_e){var j=this.constructor;return this.then(function(et){return j.resolve(_e()).then(function(){return et})},function(et){return j.resolve(_e()).then(function(){return j.reject(et)})})}function allSettled(_e){var j=this;return new j(function(et,tt){if(!(_e&&typeof _e.length!="undefined"))return tt(new TypeError(typeof _e+" "+_e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var nt=Array.prototype.slice.call(_e);if(nt.length===0)return et([]);var rt=nt.length;function it(at,ot){if(ot&&(typeof ot=="object"||typeof ot=="function")){var lt=ot.then;if(typeof lt=="function"){lt.call(ot,function(ut){it(at,ut)},function(ut){nt[at]={status:"rejected",reason:ut},--rt===0&&et(nt)});return}}nt[at]={status:"fulfilled",value:ot},--rt===0&&et(nt)}for(var st=0;st<nt.length;st++)it(st,nt[st])})}var setTimeoutFunc=setTimeout;function isArray(_e){return Boolean(_e&&typeof _e.length!="undefined")}function noop(){}function bind(_e,j){return function(){_e.apply(j,arguments)}}function Promise$1(_e){if(!(this instanceof Promise$1))throw new TypeError("Promises must be constructed via new");if(typeof _e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(_e,this)}function handle(_e,j){for(;_e._state===3;)_e=_e._value;if(_e._state===0){_e._deferreds.push(j);return}_e._handled=!0,Promise$1._immediateFn(function(){var et=_e._state===1?j.onFulfilled:j.onRejected;if(et===null){(_e._state===1?resolve$1:reject)(j.promise,_e._value);return}var tt;try{tt=et(_e._value)}catch(nt){reject(j.promise,nt);return}resolve$1(j.promise,tt)})}function resolve$1(_e,j){try{if(j===_e)throw new TypeError("A promise cannot be resolved with itself.");if(j&&(typeof j=="object"||typeof j=="function")){var et=j.then;if(j instanceof Promise$1){_e._state=3,_e._value=j,finale(_e);return}else if(typeof et=="function"){doResolve(bind(et,j),_e);return}}_e._state=1,_e._value=j,finale(_e)}catch(tt){reject(_e,tt)}}function reject(_e,j){_e._state=2,_e._value=j,finale(_e)}function finale(_e){_e._state===2&&_e._deferreds.length===0&&Promise$1._immediateFn(function(){_e._handled||Promise$1._unhandledRejectionFn(_e._value)});for(var j=0,et=_e._deferreds.length;j<et;j++)handle(_e,_e._deferreds[j]);_e._deferreds=null}function Handler(_e,j,et){this.onFulfilled=typeof _e=="function"?_e:null,this.onRejected=typeof j=="function"?j:null,this.promise=et}function doResolve(_e,j){var et=!1;try{_e(function(tt){et||(et=!0,resolve$1(j,tt))},function(tt){et||(et=!0,reject(j,tt))})}catch(tt){if(et)return;et=!0,reject(j,tt)}}Promise$1.prototype.catch=function(_e){return this.then(null,_e)};Promise$1.prototype.then=function(_e,j){var et=new this.constructor(noop);return handle(this,new Handler(_e,j,et)),et};Promise$1.prototype.finally=finallyConstructor;Promise$1.all=function(_e){return new Promise$1(function(j,et){if(!isArray(_e))return et(new TypeError("Promise.all accepts an array"));var tt=Array.prototype.slice.call(_e);if(tt.length===0)return j([]);var nt=tt.length;function rt(st,at){try{if(at&&(typeof at=="object"||typeof at=="function")){var ot=at.then;if(typeof ot=="function"){ot.call(at,function(lt){rt(st,lt)},et);return}}tt[st]=at,--nt===0&&j(tt)}catch(lt){et(lt)}}for(var it=0;it<tt.length;it++)rt(it,tt[it])})};Promise$1.allSettled=allSettled;Promise$1.resolve=function(_e){return _e&&typeof _e=="object"&&_e.constructor===Promise$1?_e:new Promise$1(function(j){j(_e)})};Promise$1.reject=function(_e){return new Promise$1(function(j,et){et(_e)})};Promise$1.race=function(_e){return new Promise$1(function(j,et){if(!isArray(_e))return et(new TypeError("Promise.race accepts an array"));for(var tt=0,nt=_e.length;tt<nt;tt++)Promise$1.resolve(_e[tt]).then(j,et)})};Promise$1._immediateFn=typeof setImmediate=="function"&&function(_e){setImmediate(_e)}||function(_e){setTimeoutFunc(_e,0)};Promise$1._unhandledRejectionFn=function(j){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",j)};/*!
 * @pixi/polyfill - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis=="undefined"&&(typeof self!="undefined"?self.globalThis=self:typeof global!="undefined"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Promise$1);Object.assign||(Object.assign=objectAssign);var ONE_FRAME_TIME=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var startTime_1=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-startTime_1}}var lastTime=Date.now(),vendors=["ms","moz","webkit","o"];for(var x=0;x<vendors.length&&!globalThis.requestAnimationFrame;++x){var p=vendors[x];globalThis.requestAnimationFrame=globalThis[p+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[p+"CancelAnimationFrame"]||globalThis[p+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(_e){if(typeof _e!="function")throw new TypeError(_e+"is not a function");var j=Date.now(),et=ONE_FRAME_TIME+lastTime-j;return et<0&&(et=0),lastTime=j,globalThis.self.setTimeout(function(){lastTime=Date.now(),_e(performance.now())},et)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(_e){return clearTimeout(_e)});Math.sign||(Math.sign=function(j){return j=Number(j),j===0||isNaN(j)?j:j>0?1:-1});Number.isInteger||(Number.isInteger=function(j){return typeof j=="number"&&isFinite(j)&&Math.floor(j)===j});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/settings - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$6;(function(_e){_e[_e.WEBGL_LEGACY=0]="WEBGL_LEGACY",_e[_e.WEBGL=1]="WEBGL",_e[_e.WEBGL2=2]="WEBGL2"})(ENV$6||(ENV$6={}));var RENDERER_TYPE$6;(function(_e){_e[_e.UNKNOWN=0]="UNKNOWN",_e[_e.WEBGL=1]="WEBGL",_e[_e.CANVAS=2]="CANVAS"})(RENDERER_TYPE$6||(RENDERER_TYPE$6={}));var BUFFER_BITS$6;(function(_e){_e[_e.COLOR=16384]="COLOR",_e[_e.DEPTH=256]="DEPTH",_e[_e.STENCIL=1024]="STENCIL"})(BUFFER_BITS$6||(BUFFER_BITS$6={}));var BLEND_MODES$6;(function(_e){_e[_e.NORMAL=0]="NORMAL",_e[_e.ADD=1]="ADD",_e[_e.MULTIPLY=2]="MULTIPLY",_e[_e.SCREEN=3]="SCREEN",_e[_e.OVERLAY=4]="OVERLAY",_e[_e.DARKEN=5]="DARKEN",_e[_e.LIGHTEN=6]="LIGHTEN",_e[_e.COLOR_DODGE=7]="COLOR_DODGE",_e[_e.COLOR_BURN=8]="COLOR_BURN",_e[_e.HARD_LIGHT=9]="HARD_LIGHT",_e[_e.SOFT_LIGHT=10]="SOFT_LIGHT",_e[_e.DIFFERENCE=11]="DIFFERENCE",_e[_e.EXCLUSION=12]="EXCLUSION",_e[_e.HUE=13]="HUE",_e[_e.SATURATION=14]="SATURATION",_e[_e.COLOR=15]="COLOR",_e[_e.LUMINOSITY=16]="LUMINOSITY",_e[_e.NORMAL_NPM=17]="NORMAL_NPM",_e[_e.ADD_NPM=18]="ADD_NPM",_e[_e.SCREEN_NPM=19]="SCREEN_NPM",_e[_e.NONE=20]="NONE",_e[_e.SRC_OVER=0]="SRC_OVER",_e[_e.SRC_IN=21]="SRC_IN",_e[_e.SRC_OUT=22]="SRC_OUT",_e[_e.SRC_ATOP=23]="SRC_ATOP",_e[_e.DST_OVER=24]="DST_OVER",_e[_e.DST_IN=25]="DST_IN",_e[_e.DST_OUT=26]="DST_OUT",_e[_e.DST_ATOP=27]="DST_ATOP",_e[_e.ERASE=26]="ERASE",_e[_e.SUBTRACT=28]="SUBTRACT",_e[_e.XOR=29]="XOR"})(BLEND_MODES$6||(BLEND_MODES$6={}));var DRAW_MODES$6;(function(_e){_e[_e.POINTS=0]="POINTS",_e[_e.LINES=1]="LINES",_e[_e.LINE_LOOP=2]="LINE_LOOP",_e[_e.LINE_STRIP=3]="LINE_STRIP",_e[_e.TRIANGLES=4]="TRIANGLES",_e[_e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",_e[_e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$6||(DRAW_MODES$6={}));var FORMATS$6;(function(_e){_e[_e.RGBA=6408]="RGBA",_e[_e.RGB=6407]="RGB",_e[_e.RG=33319]="RG",_e[_e.RED=6403]="RED",_e[_e.RGBA_INTEGER=36249]="RGBA_INTEGER",_e[_e.RGB_INTEGER=36248]="RGB_INTEGER",_e[_e.RG_INTEGER=33320]="RG_INTEGER",_e[_e.RED_INTEGER=36244]="RED_INTEGER",_e[_e.ALPHA=6406]="ALPHA",_e[_e.LUMINANCE=6409]="LUMINANCE",_e[_e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",_e[_e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",_e[_e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$6||(FORMATS$6={}));var TARGETS$6;(function(_e){_e[_e.TEXTURE_2D=3553]="TEXTURE_2D",_e[_e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",_e[_e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$6||(TARGETS$6={}));var TYPES$6;(function(_e){_e[_e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",_e[_e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",_e[_e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",_e[_e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",_e[_e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",_e[_e.UNSIGNED_INT=5125]="UNSIGNED_INT",_e[_e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",_e[_e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",_e[_e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",_e[_e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",_e[_e.BYTE=5120]="BYTE",_e[_e.SHORT=5122]="SHORT",_e[_e.INT=5124]="INT",_e[_e.FLOAT=5126]="FLOAT",_e[_e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",_e[_e.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$6||(TYPES$6={}));var SAMPLER_TYPES$6;(function(_e){_e[_e.FLOAT=0]="FLOAT",_e[_e.INT=1]="INT",_e[_e.UINT=2]="UINT"})(SAMPLER_TYPES$6||(SAMPLER_TYPES$6={}));var SCALE_MODES$6;(function(_e){_e[_e.NEAREST=0]="NEAREST",_e[_e.LINEAR=1]="LINEAR"})(SCALE_MODES$6||(SCALE_MODES$6={}));var WRAP_MODES$6;(function(_e){_e[_e.CLAMP=33071]="CLAMP",_e[_e.REPEAT=10497]="REPEAT",_e[_e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$6||(WRAP_MODES$6={}));var MIPMAP_MODES$6;(function(_e){_e[_e.OFF=0]="OFF",_e[_e.POW2=1]="POW2",_e[_e.ON=2]="ON",_e[_e.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$6||(MIPMAP_MODES$6={}));var ALPHA_MODES$6;(function(_e){_e[_e.NPM=0]="NPM",_e[_e.UNPACK=1]="UNPACK",_e[_e.PMA=2]="PMA",_e[_e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",_e[_e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",_e[_e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",_e[_e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$6||(ALPHA_MODES$6={}));var CLEAR_MODES$6;(function(_e){_e[_e.NO=0]="NO",_e[_e.YES=1]="YES",_e[_e.AUTO=2]="AUTO",_e[_e.BLEND=0]="BLEND",_e[_e.CLEAR=1]="CLEAR",_e[_e.BLIT=2]="BLIT"})(CLEAR_MODES$6||(CLEAR_MODES$6={}));var GC_MODES$6;(function(_e){_e[_e.AUTO=0]="AUTO",_e[_e.MANUAL=1]="MANUAL"})(GC_MODES$6||(GC_MODES$6={}));var PRECISION$6;(function(_e){_e.LOW="lowp",_e.MEDIUM="mediump",_e.HIGH="highp"})(PRECISION$6||(PRECISION$6={}));var MASK_TYPES$6;(function(_e){_e[_e.NONE=0]="NONE",_e[_e.SCISSOR=1]="SCISSOR",_e[_e.STENCIL=2]="STENCIL",_e[_e.SPRITE=3]="SPRITE",_e[_e.COLOR=4]="COLOR"})(MASK_TYPES$6||(MASK_TYPES$6={}));var COLOR_MASK_BITS$6;(function(_e){_e[_e.RED=1]="RED",_e[_e.GREEN=2]="GREEN",_e[_e.BLUE=4]="BLUE",_e[_e.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS$6||(COLOR_MASK_BITS$6={}));var MSAA_QUALITY$6;(function(_e){_e[_e.NONE=0]="NONE",_e[_e.LOW=2]="LOW",_e[_e.MEDIUM=4]="MEDIUM",_e[_e.HIGH=8]="HIGH"})(MSAA_QUALITY$6||(MSAA_QUALITY$6={}));var BUFFER_TYPE$6;(function(_e){_e[_e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",_e[_e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",_e[_e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$6||(BUFFER_TYPE$6={}));var BrowserAdapter$1={createCanvas:function(_e,j){var et=document.createElement("canvas");return et.width=_e,et.height=j,et},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var _e;return(_e=document.baseURI)!==null&&_e!==void 0?_e:window.location.href},fetch:function(_e,j){return fetch(_e,j)}},appleIphone$1=/iPhone/i,appleIpod$1=/iPod/i,appleTablet$1=/iPad/i,appleUniversal$1=/\biOS-universal(?:.+)Mac\b/i,androidPhone$1=/\bAndroid(?:.+)Mobile\b/i,androidTablet$1=/Android/i,amazonPhone$1=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet$1=/Silk/i,windowsPhone$1=/Windows Phone/i,windowsTablet$1=/\bWindows(?:.+)ARM\b/i,otherBlackBerry$1=/BlackBerry/i,otherBlackBerry10$1=/BB10/i,otherOpera$1=/Opera Mini/i,otherChrome$1=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox$1=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13$1=function(_e){return typeof _e!="undefined"&&_e.platform==="MacIntel"&&typeof _e.maxTouchPoints=="number"&&_e.maxTouchPoints>1&&typeof MSStream=="undefined"};function createMatch$1(_e){return function(j){return j.test(_e)}}function isMobile$1$1(_e){var j={userAgent:"",platform:"",maxTouchPoints:0};!_e&&typeof navigator!="undefined"?j={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof _e=="string"?j.userAgent=_e:_e&&_e.userAgent&&(j={userAgent:_e.userAgent,platform:_e.platform,maxTouchPoints:_e.maxTouchPoints||0});var et=j.userAgent,tt=et.split("[FBAN");typeof tt[1]!="undefined"&&(et=tt[0]),tt=et.split("Twitter"),typeof tt[1]!="undefined"&&(et=tt[0]);var nt=createMatch$1(et),rt={apple:{phone:nt(appleIphone$1)&&!nt(windowsPhone$1),ipod:nt(appleIpod$1),tablet:!nt(appleIphone$1)&&(nt(appleTablet$1)||isAppleTabletOnIos13$1(j))&&!nt(windowsPhone$1),universal:nt(appleUniversal$1),device:(nt(appleIphone$1)||nt(appleIpod$1)||nt(appleTablet$1)||nt(appleUniversal$1)||isAppleTabletOnIos13$1(j))&&!nt(windowsPhone$1)},amazon:{phone:nt(amazonPhone$1),tablet:!nt(amazonPhone$1)&&nt(amazonTablet$1),device:nt(amazonPhone$1)||nt(amazonTablet$1)},android:{phone:!nt(windowsPhone$1)&&nt(amazonPhone$1)||!nt(windowsPhone$1)&&nt(androidPhone$1),tablet:!nt(windowsPhone$1)&&!nt(amazonPhone$1)&&!nt(androidPhone$1)&&(nt(amazonTablet$1)||nt(androidTablet$1)),device:!nt(windowsPhone$1)&&(nt(amazonPhone$1)||nt(amazonTablet$1)||nt(androidPhone$1)||nt(androidTablet$1))||nt(/\bokhttp\b/i)},windows:{phone:nt(windowsPhone$1),tablet:nt(windowsTablet$1),device:nt(windowsPhone$1)||nt(windowsTablet$1)},other:{blackberry:nt(otherBlackBerry$1),blackberry10:nt(otherBlackBerry10$1),opera:nt(otherOpera$1),firefox:nt(otherFirefox$1),chrome:nt(otherChrome$1),device:nt(otherBlackBerry$1)||nt(otherBlackBerry10$1)||nt(otherOpera$1)||nt(otherFirefox$1)||nt(otherChrome$1)},any:!1,phone:!1,tablet:!1};return rt.any=rt.apple.device||rt.android.device||rt.windows.device||rt.other.device,rt.phone=rt.apple.phone||rt.android.phone||rt.windows.phone,rt.tablet=rt.apple.tablet||rt.android.tablet||rt.windows.tablet,rt}var isMobile$2=isMobile$1$1(globalThis.navigator);function canUploadSameBuffer$1(){return!isMobile$2.apple.device}function maxRecommendedTextures$1(_e){var j=!0;if(isMobile$2.tablet||isMobile$2.phone){if(isMobile$2.apple.device){var et=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(et){var tt=parseInt(et[1],10);tt<11&&(j=!1)}}if(isMobile$2.android.device){var et=navigator.userAgent.match(/Android\s([0-9.]*)/);if(et){var tt=parseInt(et[1],10);tt<7&&(j=!1)}}}return j?_e:4}var settings$1={ADAPTER:BrowserAdapter$1,MIPMAP_TEXTURES:MIPMAP_MODES$6.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:MSAA_QUALITY$6.NONE,SPRITE_MAX_TEXTURES:maxRecommendedTextures$1(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:GC_MODES$6.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:WRAP_MODES$6.CLAMP,SCALE_MODE:SCALE_MODES$6.LINEAR,PRECISION_VERTEX:PRECISION$6.HIGH,PRECISION_FRAGMENT:isMobile$2.apple.device?PRECISION$6.HIGH:PRECISION$6.MEDIUM,CAN_UPLOAD_SAME_BUFFER:canUploadSameBuffer$1(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},eventemitter3={exports:{}};(function(_e){var j=Object.prototype.hasOwnProperty,et="~";function tt(){}Object.create&&(tt.prototype=Object.create(null),new tt().__proto__||(et=!1));function nt(at,ot,lt){this.fn=at,this.context=ot,this.once=lt||!1}function rt(at,ot,lt,ut,ct){if(typeof lt!="function")throw new TypeError("The listener must be a function");var ht=new nt(lt,ut||at,ct),pt=et?et+ot:ot;return at._events[pt]?at._events[pt].fn?at._events[pt]=[at._events[pt],ht]:at._events[pt].push(ht):(at._events[pt]=ht,at._eventsCount++),at}function it(at,ot){--at._eventsCount===0?at._events=new tt:delete at._events[ot]}function st(){this._events=new tt,this._eventsCount=0}st.prototype.eventNames=function(){var ot=[],lt,ut;if(this._eventsCount===0)return ot;for(ut in lt=this._events)j.call(lt,ut)&&ot.push(et?ut.slice(1):ut);return Object.getOwnPropertySymbols?ot.concat(Object.getOwnPropertySymbols(lt)):ot},st.prototype.listeners=function(ot){var lt=et?et+ot:ot,ut=this._events[lt];if(!ut)return[];if(ut.fn)return[ut.fn];for(var ct=0,ht=ut.length,pt=new Array(ht);ct<ht;ct++)pt[ct]=ut[ct].fn;return pt},st.prototype.listenerCount=function(ot){var lt=et?et+ot:ot,ut=this._events[lt];return ut?ut.fn?1:ut.length:0},st.prototype.emit=function(ot,lt,ut,ct,ht,pt){var gt=et?et+ot:ot;if(!this._events[gt])return!1;var vt=this._events[gt],ft=arguments.length,mt,xt;if(vt.fn){switch(vt.once&&this.removeListener(ot,vt.fn,void 0,!0),ft){case 1:return vt.fn.call(vt.context),!0;case 2:return vt.fn.call(vt.context,lt),!0;case 3:return vt.fn.call(vt.context,lt,ut),!0;case 4:return vt.fn.call(vt.context,lt,ut,ct),!0;case 5:return vt.fn.call(vt.context,lt,ut,ct,ht),!0;case 6:return vt.fn.call(vt.context,lt,ut,ct,ht,pt),!0}for(xt=1,mt=new Array(ft-1);xt<ft;xt++)mt[xt-1]=arguments[xt];vt.fn.apply(vt.context,mt)}else{var _t=vt.length,Tt;for(xt=0;xt<_t;xt++)switch(vt[xt].once&&this.removeListener(ot,vt[xt].fn,void 0,!0),ft){case 1:vt[xt].fn.call(vt[xt].context);break;case 2:vt[xt].fn.call(vt[xt].context,lt);break;case 3:vt[xt].fn.call(vt[xt].context,lt,ut);break;case 4:vt[xt].fn.call(vt[xt].context,lt,ut,ct);break;default:if(!mt)for(Tt=1,mt=new Array(ft-1);Tt<ft;Tt++)mt[Tt-1]=arguments[Tt];vt[xt].fn.apply(vt[xt].context,mt)}}return!0},st.prototype.on=function(ot,lt,ut){return rt(this,ot,lt,ut,!1)},st.prototype.once=function(ot,lt,ut){return rt(this,ot,lt,ut,!0)},st.prototype.removeListener=function(ot,lt,ut,ct){var ht=et?et+ot:ot;if(!this._events[ht])return this;if(!lt)return it(this,ht),this;var pt=this._events[ht];if(pt.fn)pt.fn===lt&&(!ct||pt.once)&&(!ut||pt.context===ut)&&it(this,ht);else{for(var gt=0,vt=[],ft=pt.length;gt<ft;gt++)(pt[gt].fn!==lt||ct&&!pt[gt].once||ut&&pt[gt].context!==ut)&&vt.push(pt[gt]);vt.length?this._events[ht]=vt.length===1?vt[0]:vt:it(this,ht)}return this},st.prototype.removeAllListeners=function(ot){var lt;return ot?(lt=et?et+ot:ot,this._events[lt]&&it(this,lt)):(this._events=new tt,this._eventsCount=0),this},st.prototype.off=st.prototype.removeListener,st.prototype.addListener=st.prototype.on,st.prefixed=et,st.EventEmitter=st,_e.exports=st})(eventemitter3);var EventEmitter=eventemitter3.exports,earcut$2={exports:{}};earcut$2.exports=earcut;earcut$2.exports.default=earcut;function earcut(_e,j,et){et=et||2;var tt=j&&j.length,nt=tt?j[0]*et:_e.length,rt=linkedList$1(_e,0,nt,et,!0),it=[];if(!rt||rt.next===rt.prev)return it;var st,at,ot,lt,ut,ct,ht;if(tt&&(rt=eliminateHoles$1(_e,j,rt,et)),_e.length>80*et){st=ot=_e[0],at=lt=_e[1];for(var pt=et;pt<nt;pt+=et)ut=_e[pt],ct=_e[pt+1],ut<st&&(st=ut),ct<at&&(at=ct),ut>ot&&(ot=ut),ct>lt&&(lt=ct);ht=Math.max(ot-st,lt-at),ht=ht!==0?32767/ht:0}return earcutLinked$1(rt,it,et,st,at,ht,0),it}function linkedList$1(_e,j,et,tt,nt){var rt,it;if(nt===signedArea$1(_e,j,et,tt)>0)for(rt=j;rt<et;rt+=tt)it=insertNode$1(rt,_e[rt],_e[rt+1],it);else for(rt=et-tt;rt>=j;rt-=tt)it=insertNode$1(rt,_e[rt],_e[rt+1],it);return it&&equals$1(it,it.next)&&(removeNode$1(it),it=it.next),it}function filterPoints$1(_e,j){if(!_e)return _e;j||(j=_e);var et=_e,tt;do if(tt=!1,!et.steiner&&(equals$1(et,et.next)||area$1(et.prev,et,et.next)===0)){if(removeNode$1(et),et=j=et.prev,et===et.next)break;tt=!0}else et=et.next;while(tt||et!==j);return j}function earcutLinked$1(_e,j,et,tt,nt,rt,it){if(!!_e){!it&&rt&&indexCurve$1(_e,tt,nt,rt);for(var st=_e,at,ot;_e.prev!==_e.next;){if(at=_e.prev,ot=_e.next,rt?isEarHashed$1(_e,tt,nt,rt):isEar$1(_e)){j.push(at.i/et|0),j.push(_e.i/et|0),j.push(ot.i/et|0),removeNode$1(_e),_e=ot.next,st=ot.next;continue}if(_e=ot,_e===st){it?it===1?(_e=cureLocalIntersections$1(filterPoints$1(_e),j,et),earcutLinked$1(_e,j,et,tt,nt,rt,2)):it===2&&splitEarcut$1(_e,j,et,tt,nt,rt):earcutLinked$1(filterPoints$1(_e),j,et,tt,nt,rt,1);break}}}}function isEar$1(_e){var j=_e.prev,et=_e,tt=_e.next;if(area$1(j,et,tt)>=0)return!1;for(var nt=j.x,rt=et.x,it=tt.x,st=j.y,at=et.y,ot=tt.y,lt=nt<rt?nt<it?nt:it:rt<it?rt:it,ut=st<at?st<ot?st:ot:at<ot?at:ot,ct=nt>rt?nt>it?nt:it:rt>it?rt:it,ht=st>at?st>ot?st:ot:at>ot?at:ot,pt=tt.next;pt!==j;){if(pt.x>=lt&&pt.x<=ct&&pt.y>=ut&&pt.y<=ht&&pointInTriangle$1(nt,st,rt,at,it,ot,pt.x,pt.y)&&area$1(pt.prev,pt,pt.next)>=0)return!1;pt=pt.next}return!0}function isEarHashed$1(_e,j,et,tt){var nt=_e.prev,rt=_e,it=_e.next;if(area$1(nt,rt,it)>=0)return!1;for(var st=nt.x,at=rt.x,ot=it.x,lt=nt.y,ut=rt.y,ct=it.y,ht=st<at?st<ot?st:ot:at<ot?at:ot,pt=lt<ut?lt<ct?lt:ct:ut<ct?ut:ct,gt=st>at?st>ot?st:ot:at>ot?at:ot,vt=lt>ut?lt>ct?lt:ct:ut>ct?ut:ct,ft=zOrder$1(ht,pt,j,et,tt),mt=zOrder$1(gt,vt,j,et,tt),xt=_e.prevZ,_t=_e.nextZ;xt&&xt.z>=ft&&_t&&_t.z<=mt;){if(xt.x>=ht&&xt.x<=gt&&xt.y>=pt&&xt.y<=vt&&xt!==nt&&xt!==it&&pointInTriangle$1(st,lt,at,ut,ot,ct,xt.x,xt.y)&&area$1(xt.prev,xt,xt.next)>=0||(xt=xt.prevZ,_t.x>=ht&&_t.x<=gt&&_t.y>=pt&&_t.y<=vt&&_t!==nt&&_t!==it&&pointInTriangle$1(st,lt,at,ut,ot,ct,_t.x,_t.y)&&area$1(_t.prev,_t,_t.next)>=0))return!1;_t=_t.nextZ}for(;xt&&xt.z>=ft;){if(xt.x>=ht&&xt.x<=gt&&xt.y>=pt&&xt.y<=vt&&xt!==nt&&xt!==it&&pointInTriangle$1(st,lt,at,ut,ot,ct,xt.x,xt.y)&&area$1(xt.prev,xt,xt.next)>=0)return!1;xt=xt.prevZ}for(;_t&&_t.z<=mt;){if(_t.x>=ht&&_t.x<=gt&&_t.y>=pt&&_t.y<=vt&&_t!==nt&&_t!==it&&pointInTriangle$1(st,lt,at,ut,ot,ct,_t.x,_t.y)&&area$1(_t.prev,_t,_t.next)>=0)return!1;_t=_t.nextZ}return!0}function cureLocalIntersections$1(_e,j,et){var tt=_e;do{var nt=tt.prev,rt=tt.next.next;!equals$1(nt,rt)&&intersects$1(nt,tt,tt.next,rt)&&locallyInside$1(nt,rt)&&locallyInside$1(rt,nt)&&(j.push(nt.i/et|0),j.push(tt.i/et|0),j.push(rt.i/et|0),removeNode$1(tt),removeNode$1(tt.next),tt=_e=rt),tt=tt.next}while(tt!==_e);return filterPoints$1(tt)}function splitEarcut$1(_e,j,et,tt,nt,rt){var it=_e;do{for(var st=it.next.next;st!==it.prev;){if(it.i!==st.i&&isValidDiagonal$1(it,st)){var at=splitPolygon$1(it,st);it=filterPoints$1(it,it.next),at=filterPoints$1(at,at.next),earcutLinked$1(it,j,et,tt,nt,rt,0),earcutLinked$1(at,j,et,tt,nt,rt,0);return}st=st.next}it=it.next}while(it!==_e)}function eliminateHoles$1(_e,j,et,tt){var nt=[],rt,it,st,at,ot;for(rt=0,it=j.length;rt<it;rt++)st=j[rt]*tt,at=rt<it-1?j[rt+1]*tt:_e.length,ot=linkedList$1(_e,st,at,tt,!1),ot===ot.next&&(ot.steiner=!0),nt.push(getLeftmost$1(ot));for(nt.sort(compareX$1),rt=0;rt<nt.length;rt++)et=eliminateHole$1(nt[rt],et);return et}function compareX$1(_e,j){return _e.x-j.x}function eliminateHole$1(_e,j){var et=findHoleBridge$1(_e,j);if(!et)return j;var tt=splitPolygon$1(et,_e);return filterPoints$1(tt,tt.next),filterPoints$1(et,et.next)}function findHoleBridge$1(_e,j){var et=j,tt=_e.x,nt=_e.y,rt=-1/0,it;do{if(nt<=et.y&&nt>=et.next.y&&et.next.y!==et.y){var st=et.x+(nt-et.y)*(et.next.x-et.x)/(et.next.y-et.y);if(st<=tt&&st>rt&&(rt=st,it=et.x<et.next.x?et:et.next,st===tt))return it}et=et.next}while(et!==j);if(!it)return null;var at=it,ot=it.x,lt=it.y,ut=1/0,ct;et=it;do tt>=et.x&&et.x>=ot&&tt!==et.x&&pointInTriangle$1(nt<lt?tt:rt,nt,ot,lt,nt<lt?rt:tt,nt,et.x,et.y)&&(ct=Math.abs(nt-et.y)/(tt-et.x),locallyInside$1(et,_e)&&(ct<ut||ct===ut&&(et.x>it.x||et.x===it.x&&sectorContainsSector$1(it,et)))&&(it=et,ut=ct)),et=et.next;while(et!==at);return it}function sectorContainsSector$1(_e,j){return area$1(_e.prev,_e,j.prev)<0&&area$1(j.next,_e,_e.next)<0}function indexCurve$1(_e,j,et,tt){var nt=_e;do nt.z===0&&(nt.z=zOrder$1(nt.x,nt.y,j,et,tt)),nt.prevZ=nt.prev,nt.nextZ=nt.next,nt=nt.next;while(nt!==_e);nt.prevZ.nextZ=null,nt.prevZ=null,sortLinked$1(nt)}function sortLinked$1(_e){var j,et,tt,nt,rt,it,st,at,ot=1;do{for(et=_e,_e=null,rt=null,it=0;et;){for(it++,tt=et,st=0,j=0;j<ot&&(st++,tt=tt.nextZ,!!tt);j++);for(at=ot;st>0||at>0&&tt;)st!==0&&(at===0||!tt||et.z<=tt.z)?(nt=et,et=et.nextZ,st--):(nt=tt,tt=tt.nextZ,at--),rt?rt.nextZ=nt:_e=nt,nt.prevZ=rt,rt=nt;et=tt}rt.nextZ=null,ot*=2}while(it>1);return _e}function zOrder$1(_e,j,et,tt,nt){return _e=(_e-et)*nt|0,j=(j-tt)*nt|0,_e=(_e|_e<<8)&16711935,_e=(_e|_e<<4)&252645135,_e=(_e|_e<<2)&858993459,_e=(_e|_e<<1)&1431655765,j=(j|j<<8)&16711935,j=(j|j<<4)&252645135,j=(j|j<<2)&858993459,j=(j|j<<1)&1431655765,_e|j<<1}function getLeftmost$1(_e){var j=_e,et=_e;do(j.x<et.x||j.x===et.x&&j.y<et.y)&&(et=j),j=j.next;while(j!==_e);return et}function pointInTriangle$1(_e,j,et,tt,nt,rt,it,st){return(nt-it)*(j-st)>=(_e-it)*(rt-st)&&(_e-it)*(tt-st)>=(et-it)*(j-st)&&(et-it)*(rt-st)>=(nt-it)*(tt-st)}function isValidDiagonal$1(_e,j){return _e.next.i!==j.i&&_e.prev.i!==j.i&&!intersectsPolygon$1(_e,j)&&(locallyInside$1(_e,j)&&locallyInside$1(j,_e)&&middleInside$1(_e,j)&&(area$1(_e.prev,_e,j.prev)||area$1(_e,j.prev,j))||equals$1(_e,j)&&area$1(_e.prev,_e,_e.next)>0&&area$1(j.prev,j,j.next)>0)}function area$1(_e,j,et){return(j.y-_e.y)*(et.x-j.x)-(j.x-_e.x)*(et.y-j.y)}function equals$1(_e,j){return _e.x===j.x&&_e.y===j.y}function intersects$1(_e,j,et,tt){var nt=sign$2(area$1(_e,j,et)),rt=sign$2(area$1(_e,j,tt)),it=sign$2(area$1(et,tt,_e)),st=sign$2(area$1(et,tt,j));return!!(nt!==rt&&it!==st||nt===0&&onSegment$1(_e,et,j)||rt===0&&onSegment$1(_e,tt,j)||it===0&&onSegment$1(et,_e,tt)||st===0&&onSegment$1(et,j,tt))}function onSegment$1(_e,j,et){return j.x<=Math.max(_e.x,et.x)&&j.x>=Math.min(_e.x,et.x)&&j.y<=Math.max(_e.y,et.y)&&j.y>=Math.min(_e.y,et.y)}function sign$2(_e){return _e>0?1:_e<0?-1:0}function intersectsPolygon$1(_e,j){var et=_e;do{if(et.i!==_e.i&&et.next.i!==_e.i&&et.i!==j.i&&et.next.i!==j.i&&intersects$1(et,et.next,_e,j))return!0;et=et.next}while(et!==_e);return!1}function locallyInside$1(_e,j){return area$1(_e.prev,_e,_e.next)<0?area$1(_e,j,_e.next)>=0&&area$1(_e,_e.prev,j)>=0:area$1(_e,j,_e.prev)<0||area$1(_e,_e.next,j)<0}function middleInside$1(_e,j){var et=_e,tt=!1,nt=(_e.x+j.x)/2,rt=(_e.y+j.y)/2;do et.y>rt!=et.next.y>rt&&et.next.y!==et.y&&nt<(et.next.x-et.x)*(rt-et.y)/(et.next.y-et.y)+et.x&&(tt=!tt),et=et.next;while(et!==_e);return tt}function splitPolygon$1(_e,j){var et=new Node$2(_e.i,_e.x,_e.y),tt=new Node$2(j.i,j.x,j.y),nt=_e.next,rt=j.prev;return _e.next=j,j.prev=_e,et.next=nt,nt.prev=et,tt.next=et,et.prev=tt,rt.next=tt,tt.prev=rt,tt}function insertNode$1(_e,j,et,tt){var nt=new Node$2(_e,j,et);return tt?(nt.next=tt.next,nt.prev=tt,tt.next.prev=nt,tt.next=nt):(nt.prev=nt,nt.next=nt),nt}function removeNode$1(_e){_e.next.prev=_e.prev,_e.prev.next=_e.next,_e.prevZ&&(_e.prevZ.nextZ=_e.nextZ),_e.nextZ&&(_e.nextZ.prevZ=_e.prevZ)}function Node$2(_e,j,et){this.i=_e,this.x=j,this.y=et,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}earcut.deviation=function(_e,j,et,tt){var nt=j&&j.length,rt=nt?j[0]*et:_e.length,it=Math.abs(signedArea$1(_e,0,rt,et));if(nt)for(var st=0,at=j.length;st<at;st++){var ot=j[st]*et,lt=st<at-1?j[st+1]*et:_e.length;it-=Math.abs(signedArea$1(_e,ot,lt,et))}var ut=0;for(st=0;st<tt.length;st+=3){var ct=tt[st]*et,ht=tt[st+1]*et,pt=tt[st+2]*et;ut+=Math.abs((_e[ct]-_e[pt])*(_e[ht+1]-_e[ct+1])-(_e[ct]-_e[ht])*(_e[pt+1]-_e[ct+1]))}return it===0&&ut===0?0:Math.abs((ut-it)/it)};function signedArea$1(_e,j,et,tt){for(var nt=0,rt=j,it=et-tt;rt<et;rt+=tt)nt+=(_e[it]-_e[rt])*(_e[rt+1]+_e[it+1]),it=rt;return nt}earcut.flatten=function(_e){for(var j=_e[0][0].length,et={vertices:[],holes:[],dimensions:j},tt=0,nt=0;nt<_e.length;nt++){for(var rt=0;rt<_e[nt].length;rt++)for(var it=0;it<j;it++)et.vertices.push(_e[nt][rt][it]);nt>0&&(tt+=_e[nt-1].length,et.holes.push(tt))}return et};var earcut$1=earcut$2.exports,punycode$1={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(_e,j){(function(et){var tt=j&&!j.nodeType&&j,nt=_e&&!_e.nodeType&&_e,rt=typeof commonjsGlobal$2=="object"&&commonjsGlobal$2;(rt.global===rt||rt.window===rt||rt.self===rt)&&(et=rt);var it,st=2147483647,at=36,ot=1,lt=26,ut=38,ct=700,ht=72,pt=128,gt="-",vt=/^xn--/,ft=/[^\x20-\x7E]/,mt=/[\x2E\u3002\uFF0E\uFF61]/g,xt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_t=at-ot,Tt=Math.floor,wt=String.fromCharCode,bt;function Ct(Ht){throw RangeError(xt[Ht])}function Lt(Ht,Vt){for(var qt=Ht.length,an=[];qt--;)an[qt]=Vt(Ht[qt]);return an}function $t(Ht,Vt){var qt=Ht.split("@"),an="";qt.length>1&&(an=qt[0]+"@",Ht=qt[1]),Ht=Ht.replace(mt,".");var gn=Ht.split("."),yn=Lt(gn,Vt).join(".");return an+yn}function Rt(Ht){for(var Vt=[],qt=0,an=Ht.length,gn,yn;qt<an;)gn=Ht.charCodeAt(qt++),gn>=55296&&gn<=56319&&qt<an?(yn=Ht.charCodeAt(qt++),(yn&64512)==56320?Vt.push(((gn&1023)<<10)+(yn&1023)+65536):(Vt.push(gn),qt--)):Vt.push(gn);return Vt}function Bt(Ht){return Lt(Ht,function(Vt){var qt="";return Vt>65535&&(Vt-=65536,qt+=wt(Vt>>>10&1023|55296),Vt=56320|Vt&1023),qt+=wt(Vt),qt}).join("")}function Gt(Ht){return Ht-48<10?Ht-22:Ht-65<26?Ht-65:Ht-97<26?Ht-97:at}function Ft(Ht,Vt){return Ht+22+75*(Ht<26)-((Vt!=0)<<5)}function kt(Ht,Vt,qt){var an=0;for(Ht=qt?Tt(Ht/ct):Ht>>1,Ht+=Tt(Ht/Vt);Ht>_t*lt>>1;an+=at)Ht=Tt(Ht/_t);return Tt(an+(_t+1)*Ht/(Ht+ut))}function It(Ht){var Vt=[],qt=Ht.length,an,gn=0,yn=pt,fn=ht,In,Dn,Mn,Fn,Vn,mn,dn,An,Yn;for(In=Ht.lastIndexOf(gt),In<0&&(In=0),Dn=0;Dn<In;++Dn)Ht.charCodeAt(Dn)>=128&&Ct("not-basic"),Vt.push(Ht.charCodeAt(Dn));for(Mn=In>0?In+1:0;Mn<qt;){for(Fn=gn,Vn=1,mn=at;Mn>=qt&&Ct("invalid-input"),dn=Gt(Ht.charCodeAt(Mn++)),(dn>=at||dn>Tt((st-gn)/Vn))&&Ct("overflow"),gn+=dn*Vn,An=mn<=fn?ot:mn>=fn+lt?lt:mn-fn,!(dn<An);mn+=at)Yn=at-An,Vn>Tt(st/Yn)&&Ct("overflow"),Vn*=Yn;an=Vt.length+1,fn=kt(gn-Fn,an,Fn==0),Tt(gn/an)>st-yn&&Ct("overflow"),yn+=Tt(gn/an),gn%=an,Vt.splice(gn++,0,yn)}return Bt(Vt)}function Ot(Ht){var Vt,qt,an,gn,yn,fn,In,Dn,Mn,Fn,Vn,mn=[],dn,An,Yn,Bn;for(Ht=Rt(Ht),dn=Ht.length,Vt=pt,qt=0,yn=ht,fn=0;fn<dn;++fn)Vn=Ht[fn],Vn<128&&mn.push(wt(Vn));for(an=gn=mn.length,gn&&mn.push(gt);an<dn;){for(In=st,fn=0;fn<dn;++fn)Vn=Ht[fn],Vn>=Vt&&Vn<In&&(In=Vn);for(An=an+1,In-Vt>Tt((st-qt)/An)&&Ct("overflow"),qt+=(In-Vt)*An,Vt=In,fn=0;fn<dn;++fn)if(Vn=Ht[fn],Vn<Vt&&++qt>st&&Ct("overflow"),Vn==Vt){for(Dn=qt,Mn=at;Fn=Mn<=yn?ot:Mn>=yn+lt?lt:Mn-yn,!(Dn<Fn);Mn+=at)Bn=Dn-Fn,Yn=at-Fn,mn.push(wt(Ft(Fn+Bn%Yn,0))),Dn=Tt(Bn/Yn);mn.push(wt(Ft(Dn,0))),yn=kt(qt,An,an==gn),qt=0,++an}++qt,++Vt}return mn.join("")}function Ut(Ht){return $t(Ht,function(Vt){return vt.test(Vt)?It(Vt.slice(4).toLowerCase()):Vt})}function zt(Ht){return $t(Ht,function(Vt){return ft.test(Vt)?"xn--"+Ot(Vt):Vt})}if(it={version:"1.3.2",ucs2:{decode:Rt,encode:Bt},decode:It,encode:Ot,toASCII:zt,toUnicode:Ut},tt&&nt)if(_e.exports==tt)nt.exports=it;else for(bt in it)it.hasOwnProperty(bt)&&(tt[bt]=it[bt]);else et.punycode=it})(commonjsGlobal$2)})(punycode$1,punycode$1.exports);var util$1={isString:function(_e){return typeof _e=="string"},isObject:function(_e){return typeof _e=="object"&&_e!==null},isNull:function(_e){return _e===null},isNullOrUndefined:function(_e){return _e==null}},querystring$1={};function hasOwnProperty$1(_e,j){return Object.prototype.hasOwnProperty.call(_e,j)}var decode$4=function(_e,j,et,tt){j=j||"&",et=et||"=";var nt={};if(typeof _e!="string"||_e.length===0)return nt;var rt=/\+/g;_e=_e.split(j);var it=1e3;tt&&typeof tt.maxKeys=="number"&&(it=tt.maxKeys);var st=_e.length;it>0&&st>it&&(st=it);for(var at=0;at<st;++at){var ot=_e[at].replace(rt,"%20"),lt=ot.indexOf(et),ut,ct,ht,pt;lt>=0?(ut=ot.substr(0,lt),ct=ot.substr(lt+1)):(ut=ot,ct=""),ht=decodeURIComponent(ut),pt=decodeURIComponent(ct),hasOwnProperty$1(nt,ht)?Array.isArray(nt[ht])?nt[ht].push(pt):nt[ht]=[nt[ht],pt]:nt[ht]=pt}return nt},stringifyPrimitive$1=function(_e){switch(typeof _e){case"string":return _e;case"boolean":return _e?"true":"false";case"number":return isFinite(_e)?_e:"";default:return""}},encode$3=function(_e,j,et,tt){return j=j||"&",et=et||"=",_e===null&&(_e=void 0),typeof _e=="object"?Object.keys(_e).map(function(nt){var rt=encodeURIComponent(stringifyPrimitive$1(nt))+et;return Array.isArray(_e[nt])?_e[nt].map(function(it){return rt+encodeURIComponent(stringifyPrimitive$1(it))}).join(j):rt+encodeURIComponent(stringifyPrimitive$1(_e[nt]))}).join(j):tt?encodeURIComponent(stringifyPrimitive$1(tt))+et+encodeURIComponent(stringifyPrimitive$1(_e)):""};querystring$1.decode=querystring$1.parse=decode$4;querystring$1.encode=querystring$1.stringify=encode$3;var punycode=punycode$1.exports,util=util$1,parse$1=urlParse,resolve=urlResolve,format=urlFormat;function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=querystring$1;function urlParse(_e,j,et){if(_e&&util.isObject(_e)&&_e instanceof Url)return _e;var tt=new Url;return tt.parse(_e,j,et),tt}Url.prototype.parse=function(_e,j,et){if(!util.isString(_e))throw new TypeError("Parameter 'url' must be a string, not "+typeof _e);var tt=_e.indexOf("?"),nt=tt!==-1&&tt<_e.indexOf("#")?"?":"#",rt=_e.split(nt),it=/\\/g;rt[0]=rt[0].replace(it,"/"),_e=rt.join(nt);var st=_e;if(st=st.trim(),!et&&_e.split("#").length===1){var at=simplePathPattern.exec(st);if(at)return this.path=st,this.href=st,this.pathname=at[1],at[2]?(this.search=at[2],j?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):j&&(this.search="",this.query={}),this}var ot=protocolPattern.exec(st);if(ot){ot=ot[0];var lt=ot.toLowerCase();this.protocol=lt,st=st.substr(ot.length)}if(et||ot||st.match(/^\/\/[^@\/]+@[^@\/]+/)){var ut=st.substr(0,2)==="//";ut&&!(ot&&hostlessProtocol[ot])&&(st=st.substr(2),this.slashes=!0)}if(!hostlessProtocol[ot]&&(ut||ot&&!slashedProtocol[ot])){for(var ct=-1,ht=0;ht<hostEndingChars.length;ht++){var pt=st.indexOf(hostEndingChars[ht]);pt!==-1&&(ct===-1||pt<ct)&&(ct=pt)}var gt,vt;ct===-1?vt=st.lastIndexOf("@"):vt=st.lastIndexOf("@",ct),vt!==-1&&(gt=st.slice(0,vt),st=st.slice(vt+1),this.auth=decodeURIComponent(gt)),ct=-1;for(var ht=0;ht<nonHostChars.length;ht++){var pt=st.indexOf(nonHostChars[ht]);pt!==-1&&(ct===-1||pt<ct)&&(ct=pt)}ct===-1&&(ct=st.length),this.host=st.slice(0,ct),st=st.slice(ct),this.parseHost(),this.hostname=this.hostname||"";var ft=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ft)for(var mt=this.hostname.split(/\./),ht=0,xt=mt.length;ht<xt;ht++){var _t=mt[ht];if(!!_t&&!_t.match(hostnamePartPattern)){for(var Tt="",wt=0,bt=_t.length;wt<bt;wt++)_t.charCodeAt(wt)>127?Tt+="x":Tt+=_t[wt];if(!Tt.match(hostnamePartPattern)){var Ct=mt.slice(0,ht),Lt=mt.slice(ht+1),$t=_t.match(hostnamePartStart);$t&&(Ct.push($t[1]),Lt.unshift($t[2])),Lt.length&&(st="/"+Lt.join(".")+st),this.hostname=Ct.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),ft||(this.hostname=punycode.toASCII(this.hostname));var Rt=this.port?":"+this.port:"",Bt=this.hostname||"";this.host=Bt+Rt,this.href+=this.host,ft&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),st[0]!=="/"&&(st="/"+st))}if(!unsafeProtocol[lt])for(var ht=0,xt=autoEscape.length;ht<xt;ht++){var Gt=autoEscape[ht];if(st.indexOf(Gt)!==-1){var Ft=encodeURIComponent(Gt);Ft===Gt&&(Ft=escape(Gt)),st=st.split(Gt).join(Ft)}}var kt=st.indexOf("#");kt!==-1&&(this.hash=st.substr(kt),st=st.slice(0,kt));var It=st.indexOf("?");if(It!==-1?(this.search=st.substr(It),this.query=st.substr(It+1),j&&(this.query=querystring.parse(this.query)),st=st.slice(0,It)):j&&(this.search="",this.query={}),st&&(this.pathname=st),slashedProtocol[lt]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Rt=this.pathname||"",Ot=this.search||"";this.path=Rt+Ot}return this.href=this.format(),this};function urlFormat(_e){return util.isString(_e)&&(_e=urlParse(_e)),_e instanceof Url?_e.format():Url.prototype.format.call(_e)}Url.prototype.format=function(){var _e=this.auth||"";_e&&(_e=encodeURIComponent(_e),_e=_e.replace(/%3A/i,":"),_e+="@");var j=this.protocol||"",et=this.pathname||"",tt=this.hash||"",nt=!1,rt="";this.host?nt=_e+this.host:this.hostname&&(nt=_e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(nt+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(rt=querystring.stringify(this.query));var it=this.search||rt&&"?"+rt||"";return j&&j.substr(-1)!==":"&&(j+=":"),this.slashes||(!j||slashedProtocol[j])&&nt!==!1?(nt="//"+(nt||""),et&&et.charAt(0)!=="/"&&(et="/"+et)):nt||(nt=""),tt&&tt.charAt(0)!=="#"&&(tt="#"+tt),it&&it.charAt(0)!=="?"&&(it="?"+it),et=et.replace(/[?#]/g,function(st){return encodeURIComponent(st)}),it=it.replace("#","%23"),j+nt+et+it+tt};function urlResolve(_e,j){return urlParse(_e,!1,!0).resolve(j)}Url.prototype.resolve=function(_e){return this.resolveObject(urlParse(_e,!1,!0)).format()};Url.prototype.resolveObject=function(_e){if(util.isString(_e)){var j=new Url;j.parse(_e,!1,!0),_e=j}for(var et=new Url,tt=Object.keys(this),nt=0;nt<tt.length;nt++){var rt=tt[nt];et[rt]=this[rt]}if(et.hash=_e.hash,_e.href==="")return et.href=et.format(),et;if(_e.slashes&&!_e.protocol){for(var it=Object.keys(_e),st=0;st<it.length;st++){var at=it[st];at!=="protocol"&&(et[at]=_e[at])}return slashedProtocol[et.protocol]&&et.hostname&&!et.pathname&&(et.path=et.pathname="/"),et.href=et.format(),et}if(_e.protocol&&_e.protocol!==et.protocol){if(!slashedProtocol[_e.protocol]){for(var ot=Object.keys(_e),lt=0;lt<ot.length;lt++){var ut=ot[lt];et[ut]=_e[ut]}return et.href=et.format(),et}if(et.protocol=_e.protocol,!_e.host&&!hostlessProtocol[_e.protocol]){for(var xt=(_e.pathname||"").split("/");xt.length&&!(_e.host=xt.shift()););_e.host||(_e.host=""),_e.hostname||(_e.hostname=""),xt[0]!==""&&xt.unshift(""),xt.length<2&&xt.unshift(""),et.pathname=xt.join("/")}else et.pathname=_e.pathname;if(et.search=_e.search,et.query=_e.query,et.host=_e.host||"",et.auth=_e.auth,et.hostname=_e.hostname||_e.host,et.port=_e.port,et.pathname||et.search){var ct=et.pathname||"",ht=et.search||"";et.path=ct+ht}return et.slashes=et.slashes||_e.slashes,et.href=et.format(),et}var pt=et.pathname&&et.pathname.charAt(0)==="/",gt=_e.host||_e.pathname&&_e.pathname.charAt(0)==="/",vt=gt||pt||et.host&&_e.pathname,ft=vt,mt=et.pathname&&et.pathname.split("/")||[],xt=_e.pathname&&_e.pathname.split("/")||[],_t=et.protocol&&!slashedProtocol[et.protocol];if(_t&&(et.hostname="",et.port=null,et.host&&(mt[0]===""?mt[0]=et.host:mt.unshift(et.host)),et.host="",_e.protocol&&(_e.hostname=null,_e.port=null,_e.host&&(xt[0]===""?xt[0]=_e.host:xt.unshift(_e.host)),_e.host=null),vt=vt&&(xt[0]===""||mt[0]==="")),gt)et.host=_e.host||_e.host===""?_e.host:et.host,et.hostname=_e.hostname||_e.hostname===""?_e.hostname:et.hostname,et.search=_e.search,et.query=_e.query,mt=xt;else if(xt.length)mt||(mt=[]),mt.pop(),mt=mt.concat(xt),et.search=_e.search,et.query=_e.query;else if(!util.isNullOrUndefined(_e.search)){if(_t){et.hostname=et.host=mt.shift();var Tt=et.host&&et.host.indexOf("@")>0?et.host.split("@"):!1;Tt&&(et.auth=Tt.shift(),et.host=et.hostname=Tt.shift())}return et.search=_e.search,et.query=_e.query,(!util.isNull(et.pathname)||!util.isNull(et.search))&&(et.path=(et.pathname?et.pathname:"")+(et.search?et.search:"")),et.href=et.format(),et}if(!mt.length)return et.pathname=null,et.search?et.path="/"+et.search:et.path=null,et.href=et.format(),et;for(var wt=mt.slice(-1)[0],bt=(et.host||_e.host||mt.length>1)&&(wt==="."||wt==="..")||wt==="",Ct=0,Lt=mt.length;Lt>=0;Lt--)wt=mt[Lt],wt==="."?mt.splice(Lt,1):wt===".."?(mt.splice(Lt,1),Ct++):Ct&&(mt.splice(Lt,1),Ct--);if(!vt&&!ft)for(;Ct--;Ct)mt.unshift("..");vt&&mt[0]!==""&&(!mt[0]||mt[0].charAt(0)!=="/")&&mt.unshift(""),bt&&mt.join("/").substr(-1)!=="/"&&mt.push("");var $t=mt[0]===""||mt[0]&&mt[0].charAt(0)==="/";if(_t){et.hostname=et.host=$t?"":mt.length?mt.shift():"";var Tt=et.host&&et.host.indexOf("@")>0?et.host.split("@"):!1;Tt&&(et.auth=Tt.shift(),et.host=et.hostname=Tt.shift())}return vt=vt||et.host&&mt.length,vt&&!$t&&mt.unshift(""),mt.length?et.pathname=mt.join("/"):(et.pathname=null,et.path=null),(!util.isNull(et.pathname)||!util.isNull(et.search))&&(et.path=(et.pathname?et.pathname:"")+(et.search?et.search:"")),et.auth=_e.auth||et.auth,et.slashes=et.slashes||_e.slashes,et.href=et.format(),et};Url.prototype.parseHost=function(){var _e=this.host,j=portPattern.exec(_e);j&&(j=j[0],j!==":"&&(this.port=j.substr(1)),_e=_e.substr(0,_e.length-j.length)),_e&&(this.hostname=_e)};/*!
 * @pixi/constants - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$5;(function(_e){_e[_e.WEBGL_LEGACY=0]="WEBGL_LEGACY",_e[_e.WEBGL=1]="WEBGL",_e[_e.WEBGL2=2]="WEBGL2"})(ENV$5||(ENV$5={}));var RENDERER_TYPE$5;(function(_e){_e[_e.UNKNOWN=0]="UNKNOWN",_e[_e.WEBGL=1]="WEBGL",_e[_e.CANVAS=2]="CANVAS"})(RENDERER_TYPE$5||(RENDERER_TYPE$5={}));var BUFFER_BITS$5;(function(_e){_e[_e.COLOR=16384]="COLOR",_e[_e.DEPTH=256]="DEPTH",_e[_e.STENCIL=1024]="STENCIL"})(BUFFER_BITS$5||(BUFFER_BITS$5={}));var BLEND_MODES$5;(function(_e){_e[_e.NORMAL=0]="NORMAL",_e[_e.ADD=1]="ADD",_e[_e.MULTIPLY=2]="MULTIPLY",_e[_e.SCREEN=3]="SCREEN",_e[_e.OVERLAY=4]="OVERLAY",_e[_e.DARKEN=5]="DARKEN",_e[_e.LIGHTEN=6]="LIGHTEN",_e[_e.COLOR_DODGE=7]="COLOR_DODGE",_e[_e.COLOR_BURN=8]="COLOR_BURN",_e[_e.HARD_LIGHT=9]="HARD_LIGHT",_e[_e.SOFT_LIGHT=10]="SOFT_LIGHT",_e[_e.DIFFERENCE=11]="DIFFERENCE",_e[_e.EXCLUSION=12]="EXCLUSION",_e[_e.HUE=13]="HUE",_e[_e.SATURATION=14]="SATURATION",_e[_e.COLOR=15]="COLOR",_e[_e.LUMINOSITY=16]="LUMINOSITY",_e[_e.NORMAL_NPM=17]="NORMAL_NPM",_e[_e.ADD_NPM=18]="ADD_NPM",_e[_e.SCREEN_NPM=19]="SCREEN_NPM",_e[_e.NONE=20]="NONE",_e[_e.SRC_OVER=0]="SRC_OVER",_e[_e.SRC_IN=21]="SRC_IN",_e[_e.SRC_OUT=22]="SRC_OUT",_e[_e.SRC_ATOP=23]="SRC_ATOP",_e[_e.DST_OVER=24]="DST_OVER",_e[_e.DST_IN=25]="DST_IN",_e[_e.DST_OUT=26]="DST_OUT",_e[_e.DST_ATOP=27]="DST_ATOP",_e[_e.ERASE=26]="ERASE",_e[_e.SUBTRACT=28]="SUBTRACT",_e[_e.XOR=29]="XOR"})(BLEND_MODES$5||(BLEND_MODES$5={}));var DRAW_MODES$5;(function(_e){_e[_e.POINTS=0]="POINTS",_e[_e.LINES=1]="LINES",_e[_e.LINE_LOOP=2]="LINE_LOOP",_e[_e.LINE_STRIP=3]="LINE_STRIP",_e[_e.TRIANGLES=4]="TRIANGLES",_e[_e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",_e[_e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$5||(DRAW_MODES$5={}));var FORMATS$5;(function(_e){_e[_e.RGBA=6408]="RGBA",_e[_e.RGB=6407]="RGB",_e[_e.RG=33319]="RG",_e[_e.RED=6403]="RED",_e[_e.RGBA_INTEGER=36249]="RGBA_INTEGER",_e[_e.RGB_INTEGER=36248]="RGB_INTEGER",_e[_e.RG_INTEGER=33320]="RG_INTEGER",_e[_e.RED_INTEGER=36244]="RED_INTEGER",_e[_e.ALPHA=6406]="ALPHA",_e[_e.LUMINANCE=6409]="LUMINANCE",_e[_e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",_e[_e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",_e[_e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$5||(FORMATS$5={}));var TARGETS$5;(function(_e){_e[_e.TEXTURE_2D=3553]="TEXTURE_2D",_e[_e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",_e[_e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$5||(TARGETS$5={}));var TYPES$5;(function(_e){_e[_e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",_e[_e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",_e[_e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",_e[_e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",_e[_e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",_e[_e.UNSIGNED_INT=5125]="UNSIGNED_INT",_e[_e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",_e[_e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",_e[_e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",_e[_e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",_e[_e.BYTE=5120]="BYTE",_e[_e.SHORT=5122]="SHORT",_e[_e.INT=5124]="INT",_e[_e.FLOAT=5126]="FLOAT",_e[_e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",_e[_e.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$5||(TYPES$5={}));var SAMPLER_TYPES$5;(function(_e){_e[_e.FLOAT=0]="FLOAT",_e[_e.INT=1]="INT",_e[_e.UINT=2]="UINT"})(SAMPLER_TYPES$5||(SAMPLER_TYPES$5={}));var SCALE_MODES$5;(function(_e){_e[_e.NEAREST=0]="NEAREST",_e[_e.LINEAR=1]="LINEAR"})(SCALE_MODES$5||(SCALE_MODES$5={}));var WRAP_MODES$5;(function(_e){_e[_e.CLAMP=33071]="CLAMP",_e[_e.REPEAT=10497]="REPEAT",_e[_e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$5||(WRAP_MODES$5={}));var MIPMAP_MODES$5;(function(_e){_e[_e.OFF=0]="OFF",_e[_e.POW2=1]="POW2",_e[_e.ON=2]="ON",_e[_e.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$5||(MIPMAP_MODES$5={}));var ALPHA_MODES$5;(function(_e){_e[_e.NPM=0]="NPM",_e[_e.UNPACK=1]="UNPACK",_e[_e.PMA=2]="PMA",_e[_e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",_e[_e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",_e[_e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",_e[_e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$5||(ALPHA_MODES$5={}));var CLEAR_MODES$5;(function(_e){_e[_e.NO=0]="NO",_e[_e.YES=1]="YES",_e[_e.AUTO=2]="AUTO",_e[_e.BLEND=0]="BLEND",_e[_e.CLEAR=1]="CLEAR",_e[_e.BLIT=2]="BLIT"})(CLEAR_MODES$5||(CLEAR_MODES$5={}));var GC_MODES$5;(function(_e){_e[_e.AUTO=0]="AUTO",_e[_e.MANUAL=1]="MANUAL"})(GC_MODES$5||(GC_MODES$5={}));var PRECISION$5;(function(_e){_e.LOW="lowp",_e.MEDIUM="mediump",_e.HIGH="highp"})(PRECISION$5||(PRECISION$5={}));var MASK_TYPES$5;(function(_e){_e[_e.NONE=0]="NONE",_e[_e.SCISSOR=1]="SCISSOR",_e[_e.STENCIL=2]="STENCIL",_e[_e.SPRITE=3]="SPRITE",_e[_e.COLOR=4]="COLOR"})(MASK_TYPES$5||(MASK_TYPES$5={}));var COLOR_MASK_BITS$5;(function(_e){_e[_e.RED=1]="RED",_e[_e.GREEN=2]="GREEN",_e[_e.BLUE=4]="BLUE",_e[_e.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS$5||(COLOR_MASK_BITS$5={}));var MSAA_QUALITY$5;(function(_e){_e[_e.NONE=0]="NONE",_e[_e.LOW=2]="LOW",_e[_e.MEDIUM=4]="MEDIUM",_e[_e.HIGH=8]="HIGH"})(MSAA_QUALITY$5||(MSAA_QUALITY$5={}));var BUFFER_TYPE$5;(function(_e){_e[_e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",_e[_e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",_e[_e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$5||(BUFFER_TYPE$5={}));/*!
 * @pixi/utils - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var url$1={parse:parse$1,format,resolve};settings$1.RETINA_PREFIX=/@([0-9\.]+)x/;settings$1.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var saidHello=!1,VERSION$1="6.5.1";function sayHello(_e){var j;if(!saidHello){if(settings$1.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var et=[`
 %c %c %c PixiJS `+VERSION$1+" - \u2730 "+_e+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(j=globalThis.console).log.apply(j,et)}else globalThis.console&&globalThis.console.log("PixiJS "+VERSION$1+" - "+_e+" - http://www.pixijs.com/");saidHello=!0}}var supported;function isWebGLSupported(){return typeof supported=="undefined"&&(supported=function(){var j={stencil:!0,failIfMajorPerformanceCaveat:settings$1.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!settings$1.ADAPTER.getWebGLRenderingContext())return!1;var et=settings$1.ADAPTER.createCanvas(),tt=et.getContext("webgl",j)||et.getContext("experimental-webgl",j),nt=!!(tt&&tt.getContextAttributes().stencil);if(tt){var rt=tt.getExtension("WEBGL_lose_context");rt&&rt.loseContext()}return tt=null,nt}catch{return!1}}()),supported}var aliceblue="#f0f8ff",antiquewhite="#faebd7",aqua="#00ffff",aquamarine="#7fffd4",azure="#f0ffff",beige="#f5f5dc",bisque="#ffe4c4",black="#000000",blanchedalmond="#ffebcd",blue="#0000ff",blueviolet="#8a2be2",brown="#a52a2a",burlywood="#deb887",cadetblue="#5f9ea0",chartreuse="#7fff00",chocolate="#d2691e",coral="#ff7f50",cornflowerblue="#6495ed",cornsilk="#fff8dc",crimson="#dc143c",cyan="#00ffff",darkblue="#00008b",darkcyan="#008b8b",darkgoldenrod="#b8860b",darkgray="#a9a9a9",darkgreen="#006400",darkgrey="#a9a9a9",darkkhaki="#bdb76b",darkmagenta="#8b008b",darkolivegreen="#556b2f",darkorange="#ff8c00",darkorchid="#9932cc",darkred="#8b0000",darksalmon="#e9967a",darkseagreen="#8fbc8f",darkslateblue="#483d8b",darkslategray="#2f4f4f",darkslategrey="#2f4f4f",darkturquoise="#00ced1",darkviolet="#9400d3",deeppink="#ff1493",deepskyblue="#00bfff",dimgray="#696969",dimgrey="#696969",dodgerblue="#1e90ff",firebrick="#b22222",floralwhite="#fffaf0",forestgreen="#228b22",fuchsia="#ff00ff",gainsboro="#dcdcdc",ghostwhite="#f8f8ff",goldenrod="#daa520",gold="#ffd700",gray="#808080",green="#008000",greenyellow="#adff2f",grey="#808080",honeydew="#f0fff0",hotpink="#ff69b4",indianred="#cd5c5c",indigo="#4b0082",ivory="#fffff0",khaki="#f0e68c",lavenderblush="#fff0f5",lavender="#e6e6fa",lawngreen="#7cfc00",lemonchiffon="#fffacd",lightblue="#add8e6",lightcoral="#f08080",lightcyan="#e0ffff",lightgoldenrodyellow="#fafad2",lightgray="#d3d3d3",lightgreen="#90ee90",lightgrey="#d3d3d3",lightpink="#ffb6c1",lightsalmon="#ffa07a",lightseagreen="#20b2aa",lightskyblue="#87cefa",lightslategray="#778899",lightslategrey="#778899",lightsteelblue="#b0c4de",lightyellow="#ffffe0",lime="#00ff00",limegreen="#32cd32",linen="#faf0e6",magenta="#ff00ff",maroon="#800000",mediumaquamarine="#66cdaa",mediumblue="#0000cd",mediumorchid="#ba55d3",mediumpurple="#9370db",mediumseagreen="#3cb371",mediumslateblue="#7b68ee",mediumspringgreen="#00fa9a",mediumturquoise="#48d1cc",mediumvioletred="#c71585",midnightblue="#191970",mintcream="#f5fffa",mistyrose="#ffe4e1",moccasin="#ffe4b5",navajowhite="#ffdead",navy="#000080",oldlace="#fdf5e6",olive="#808000",olivedrab="#6b8e23",orange="#ffa500",orangered="#ff4500",orchid="#da70d6",palegoldenrod="#eee8aa",palegreen="#98fb98",paleturquoise="#afeeee",palevioletred="#db7093",papayawhip="#ffefd5",peachpuff="#ffdab9",peru="#cd853f",pink="#ffc0cb",plum="#dda0dd",powderblue="#b0e0e6",purple="#800080",rebeccapurple="#663399",red="#ff0000",rosybrown="#bc8f8f",royalblue="#4169e1",saddlebrown="#8b4513",salmon="#fa8072",sandybrown="#f4a460",seagreen="#2e8b57",seashell="#fff5ee",sienna="#a0522d",silver="#c0c0c0",skyblue="#87ceeb",slateblue="#6a5acd",slategray="#708090",slategrey="#708090",snow="#fffafa",springgreen="#00ff7f",steelblue="#4682b4",tan="#d2b48c",teal="#008080",thistle="#d8bfd8",tomato="#ff6347",turquoise="#40e0d0",violet="#ee82ee",wheat="#f5deb3",white="#ffffff",whitesmoke="#f5f5f5",yellow="#ffff00",yellowgreen="#9acd32",cssColorNames={aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,goldenrod,gold,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavenderblush,lavender,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow,yellowgreen};function hex2rgb(_e,j){return j===void 0&&(j=[]),j[0]=(_e>>16&255)/255,j[1]=(_e>>8&255)/255,j[2]=(_e&255)/255,j}function hex2string(_e){var j=_e.toString(16);return j="000000".substring(0,6-j.length)+j,"#"+j}function string2hex(_e){return typeof _e=="string"&&(_e=cssColorNames[_e.toLowerCase()]||_e,_e[0]==="#"&&(_e=_e.slice(1))),parseInt(_e,16)}function mapPremultipliedBlendModes$1(){for(var _e=[],j=[],et=0;et<32;et++)_e[et]=et,j[et]=et;_e[BLEND_MODES$5.NORMAL_NPM]=BLEND_MODES$5.NORMAL,_e[BLEND_MODES$5.ADD_NPM]=BLEND_MODES$5.ADD,_e[BLEND_MODES$5.SCREEN_NPM]=BLEND_MODES$5.SCREEN,j[BLEND_MODES$5.NORMAL]=BLEND_MODES$5.NORMAL_NPM,j[BLEND_MODES$5.ADD]=BLEND_MODES$5.ADD_NPM,j[BLEND_MODES$5.SCREEN]=BLEND_MODES$5.SCREEN_NPM;var tt=[];return tt.push(j),tt.push(_e),tt}var premultiplyBlendMode=mapPremultipliedBlendModes$1();function correctBlendMode(_e,j){return premultiplyBlendMode[j?1:0][_e]}function premultiplyRgba(_e,j,et,tt){return et=et||new Float32Array(4),tt||tt===void 0?(et[0]=_e[0]*j,et[1]=_e[1]*j,et[2]=_e[2]*j):(et[0]=_e[0],et[1]=_e[1],et[2]=_e[2]),et[3]=j,et}function premultiplyTint(_e,j){if(j===1)return(j*255<<24)+_e;if(j===0)return 0;var et=_e>>16&255,tt=_e>>8&255,nt=_e&255;return et=et*j+.5|0,tt=tt*j+.5|0,nt=nt*j+.5|0,(j*255<<24)+(et<<16)+(tt<<8)+nt}function premultiplyTintToRgba(_e,j,et,tt){return et=et||new Float32Array(4),et[0]=(_e>>16&255)/255,et[1]=(_e>>8&255)/255,et[2]=(_e&255)/255,(tt||tt===void 0)&&(et[0]*=j,et[1]*=j,et[2]*=j),et[3]=j,et}function createIndicesForQuads(_e,j){j===void 0&&(j=null);var et=_e*6;if(j=j||new Uint16Array(et),j.length!==et)throw new Error("Out buffer length is incorrect, got "+j.length+" and expected "+et);for(var tt=0,nt=0;tt<et;tt+=6,nt+=4)j[tt+0]=nt+0,j[tt+1]=nt+1,j[tt+2]=nt+2,j[tt+3]=nt+0,j[tt+4]=nt+2,j[tt+5]=nt+3;return j}function getBufferType(_e){if(_e.BYTES_PER_ELEMENT===4)return _e instanceof Float32Array?"Float32Array":_e instanceof Uint32Array?"Uint32Array":"Int32Array";if(_e.BYTES_PER_ELEMENT===2){if(_e instanceof Uint16Array)return"Uint16Array"}else if(_e.BYTES_PER_ELEMENT===1&&_e instanceof Uint8Array)return"Uint8Array";return null}function nextPow2(_e){return _e+=_e===0?1:0,--_e,_e|=_e>>>1,_e|=_e>>>2,_e|=_e>>>4,_e|=_e>>>8,_e|=_e>>>16,_e+1}function isPow2(_e){return!(_e&_e-1)&&!!_e}function log2(_e){var j=(_e>65535?1:0)<<4;_e>>>=j;var et=(_e>255?1:0)<<3;return _e>>>=et,j|=et,et=(_e>15?1:0)<<2,_e>>>=et,j|=et,et=(_e>3?1:0)<<1,_e>>>=et,j|=et,j|_e>>1}function removeItems(_e,j,et){var tt=_e.length,nt;if(!(j>=tt||et===0)){et=j+et>tt?tt-j:et;var rt=tt-et;for(nt=j;nt<rt;++nt)_e[nt]=_e[nt+et];_e.length=rt}}function sign$1(_e){return _e===0?0:_e<0?-1:1}var nextUid=0;function uid(){return++nextUid}var warnings$1={};function deprecation$1(_e,j,et){if(et===void 0&&(et=3),!warnings$1[j]){var tt=new Error().stack;typeof tt=="undefined"?console.warn("PixiJS Deprecation Warning: ",j+`
Deprecated since v`+_e):(tt=tt.split(`
`).splice(et).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",j+`
Deprecated since v`+_e),console.warn(tt),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",j+`
Deprecated since v`+_e),console.warn(tt))),warnings$1[j]=!0}}var ProgramCache={},TextureCache=Object.create(null),BaseTextureCache=Object.create(null),CanvasRenderTarget=function(){function _e(j,et,tt){this.canvas=settings$1.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=tt||settings$1.RESOLUTION,this.resize(j,et)}return _e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},_e.prototype.resize=function(j,et){this.canvas.width=Math.round(j*this.resolution),this.canvas.height=Math.round(et*this.resolution)},_e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(_e.prototype,"width",{get:function(){return this.canvas.width},set:function(j){this.canvas.width=Math.round(j)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"height",{get:function(){return this.canvas.height},set:function(j){this.canvas.height=Math.round(j)},enumerable:!1,configurable:!0}),_e}();function trimCanvas(_e){var j=_e.width,et=_e.height,tt=_e.getContext("2d"),nt=tt.getImageData(0,0,j,et),rt=nt.data,it=rt.length,st={top:null,left:null,right:null,bottom:null},at=null,ot,lt,ut;for(ot=0;ot<it;ot+=4)rt[ot+3]!==0&&(lt=ot/4%j,ut=~~(ot/4/j),st.top===null&&(st.top=ut),(st.left===null||lt<st.left)&&(st.left=lt),(st.right===null||st.right<lt)&&(st.right=lt+1),(st.bottom===null||st.bottom<ut)&&(st.bottom=ut));return st.top!==null&&(j=st.right-st.left,et=st.bottom-st.top+1,at=tt.getImageData(st.left,st.top,j,et)),{height:et,width:j,data:at}}var tempAnchor$1;function determineCrossOrigin(_e,j){if(j===void 0&&(j=globalThis.location),_e.indexOf("data:")===0)return"";j=j||globalThis.location,tempAnchor$1||(tempAnchor$1=document.createElement("a")),tempAnchor$1.href=_e;var et=url$1.parse(tempAnchor$1.href),tt=!et.port&&j.port===""||et.port===j.port;return et.hostname!==j.hostname||!tt||et.protocol!==j.protocol?"anonymous":""}function getResolutionOfUrl(_e,j){var et=settings$1.RETINA_PREFIX.exec(_e);return et?parseFloat(et[1]):j!==void 0?j:1}/*!
 * @pixi/math - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var PI_2=Math.PI*2,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180,SHAPES;(function(_e){_e[_e.POLY=0]="POLY",_e[_e.RECT=1]="RECT",_e[_e.CIRC=2]="CIRC",_e[_e.ELIP=3]="ELIP",_e[_e.RREC=4]="RREC"})(SHAPES||(SHAPES={}));var Point=function(){function _e(j,et){j===void 0&&(j=0),et===void 0&&(et=0),this.x=0,this.y=0,this.x=j,this.y=et}return _e.prototype.clone=function(){return new _e(this.x,this.y)},_e.prototype.copyFrom=function(j){return this.set(j.x,j.y),this},_e.prototype.copyTo=function(j){return j.set(this.x,this.y),j},_e.prototype.equals=function(j){return j.x===this.x&&j.y===this.y},_e.prototype.set=function(j,et){return j===void 0&&(j=0),et===void 0&&(et=j),this.x=j,this.y=et,this},_e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},_e}(),tempPoints$1=[new Point,new Point,new Point,new Point],Rectangle=function(){function _e(j,et,tt,nt){j===void 0&&(j=0),et===void 0&&(et=0),tt===void 0&&(tt=0),nt===void 0&&(nt=0),this.x=Number(j),this.y=Number(et),this.width=Number(tt),this.height=Number(nt),this.type=SHAPES.RECT}return Object.defineProperty(_e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(_e,"EMPTY",{get:function(){return new _e(0,0,0,0)},enumerable:!1,configurable:!0}),_e.prototype.clone=function(){return new _e(this.x,this.y,this.width,this.height)},_e.prototype.copyFrom=function(j){return this.x=j.x,this.y=j.y,this.width=j.width,this.height=j.height,this},_e.prototype.copyTo=function(j){return j.x=this.x,j.y=this.y,j.width=this.width,j.height=this.height,j},_e.prototype.contains=function(j,et){return this.width<=0||this.height<=0?!1:j>=this.x&&j<this.x+this.width&&et>=this.y&&et<this.y+this.height},_e.prototype.intersects=function(j,et){if(!et){var tt=this.x<j.x?j.x:this.x,nt=this.right>j.right?j.right:this.right;if(nt<=tt)return!1;var rt=this.y<j.y?j.y:this.y,it=this.bottom>j.bottom?j.bottom:this.bottom;return it>rt}var st=this.left,at=this.right,ot=this.top,lt=this.bottom;if(at<=st||lt<=ot)return!1;var ut=tempPoints$1[0].set(j.left,j.top),ct=tempPoints$1[1].set(j.left,j.bottom),ht=tempPoints$1[2].set(j.right,j.top),pt=tempPoints$1[3].set(j.right,j.bottom);if(ht.x<=ut.x||ct.y<=ut.y)return!1;var gt=Math.sign(et.a*et.d-et.b*et.c);if(gt===0||(et.apply(ut,ut),et.apply(ct,ct),et.apply(ht,ht),et.apply(pt,pt),Math.max(ut.x,ct.x,ht.x,pt.x)<=st||Math.min(ut.x,ct.x,ht.x,pt.x)>=at||Math.max(ut.y,ct.y,ht.y,pt.y)<=ot||Math.min(ut.y,ct.y,ht.y,pt.y)>=lt))return!1;var vt=gt*(ct.y-ut.y),ft=gt*(ut.x-ct.x),mt=vt*st+ft*ot,xt=vt*at+ft*ot,_t=vt*st+ft*lt,Tt=vt*at+ft*lt;if(Math.max(mt,xt,_t,Tt)<=vt*ut.x+ft*ut.y||Math.min(mt,xt,_t,Tt)>=vt*pt.x+ft*pt.y)return!1;var wt=gt*(ut.y-ht.y),bt=gt*(ht.x-ut.x),Ct=wt*st+bt*ot,Lt=wt*at+bt*ot,$t=wt*st+bt*lt,Rt=wt*at+bt*lt;return!(Math.max(Ct,Lt,$t,Rt)<=wt*ut.x+bt*ut.y||Math.min(Ct,Lt,$t,Rt)>=wt*pt.x+bt*pt.y)},_e.prototype.pad=function(j,et){return j===void 0&&(j=0),et===void 0&&(et=j),this.x-=j,this.y-=et,this.width+=j*2,this.height+=et*2,this},_e.prototype.fit=function(j){var et=Math.max(this.x,j.x),tt=Math.min(this.x+this.width,j.x+j.width),nt=Math.max(this.y,j.y),rt=Math.min(this.y+this.height,j.y+j.height);return this.x=et,this.width=Math.max(tt-et,0),this.y=nt,this.height=Math.max(rt-nt,0),this},_e.prototype.ceil=function(j,et){j===void 0&&(j=1),et===void 0&&(et=.001);var tt=Math.ceil((this.x+this.width-et)*j)/j,nt=Math.ceil((this.y+this.height-et)*j)/j;return this.x=Math.floor((this.x+et)*j)/j,this.y=Math.floor((this.y+et)*j)/j,this.width=tt-this.x,this.height=nt-this.y,this},_e.prototype.enlarge=function(j){var et=Math.min(this.x,j.x),tt=Math.max(this.x+this.width,j.x+j.width),nt=Math.min(this.y,j.y),rt=Math.max(this.y+this.height,j.y+j.height);return this.x=et,this.width=tt-et,this.y=nt,this.height=rt-nt,this},_e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},_e}(),Circle=function(){function _e(j,et,tt){j===void 0&&(j=0),et===void 0&&(et=0),tt===void 0&&(tt=0),this.x=j,this.y=et,this.radius=tt,this.type=SHAPES.CIRC}return _e.prototype.clone=function(){return new _e(this.x,this.y,this.radius)},_e.prototype.contains=function(j,et){if(this.radius<=0)return!1;var tt=this.radius*this.radius,nt=this.x-j,rt=this.y-et;return nt*=nt,rt*=rt,nt+rt<=tt},_e.prototype.getBounds=function(){return new Rectangle(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},_e.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},_e}(),Ellipse=function(){function _e(j,et,tt,nt){j===void 0&&(j=0),et===void 0&&(et=0),tt===void 0&&(tt=0),nt===void 0&&(nt=0),this.x=j,this.y=et,this.width=tt,this.height=nt,this.type=SHAPES.ELIP}return _e.prototype.clone=function(){return new _e(this.x,this.y,this.width,this.height)},_e.prototype.contains=function(j,et){if(this.width<=0||this.height<=0)return!1;var tt=(j-this.x)/this.width,nt=(et-this.y)/this.height;return tt*=tt,nt*=nt,tt+nt<=1},_e.prototype.getBounds=function(){return new Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},_e.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},_e}(),Polygon=function(){function _e(){for(var j=arguments,et=[],tt=0;tt<arguments.length;tt++)et[tt]=j[tt];var nt=Array.isArray(et[0])?et[0]:et;if(typeof nt[0]!="number"){for(var rt=[],it=0,st=nt.length;it<st;it++)rt.push(nt[it].x,nt[it].y);nt=rt}this.points=nt,this.type=SHAPES.POLY,this.closeStroke=!0}return _e.prototype.clone=function(){var j=this.points.slice(),et=new _e(j);return et.closeStroke=this.closeStroke,et},_e.prototype.contains=function(j,et){for(var tt=!1,nt=this.points.length/2,rt=0,it=nt-1;rt<nt;it=rt++){var st=this.points[rt*2],at=this.points[rt*2+1],ot=this.points[it*2],lt=this.points[it*2+1],ut=at>et!=lt>et&&j<(ot-st)*((et-at)/(lt-at))+st;ut&&(tt=!tt)}return tt},_e.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(j,et){return j+", "+et},"")+"]")},_e}(),RoundedRectangle=function(){function _e(j,et,tt,nt,rt){j===void 0&&(j=0),et===void 0&&(et=0),tt===void 0&&(tt=0),nt===void 0&&(nt=0),rt===void 0&&(rt=20),this.x=j,this.y=et,this.width=tt,this.height=nt,this.radius=rt,this.type=SHAPES.RREC}return _e.prototype.clone=function(){return new _e(this.x,this.y,this.width,this.height,this.radius)},_e.prototype.contains=function(j,et){if(this.width<=0||this.height<=0)return!1;if(j>=this.x&&j<=this.x+this.width&&et>=this.y&&et<=this.y+this.height){var tt=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(et>=this.y+tt&&et<=this.y+this.height-tt||j>=this.x+tt&&j<=this.x+this.width-tt)return!0;var nt=j-(this.x+tt),rt=et-(this.y+tt),it=tt*tt;if(nt*nt+rt*rt<=it||(nt=j-(this.x+this.width-tt),nt*nt+rt*rt<=it)||(rt=et-(this.y+this.height-tt),nt*nt+rt*rt<=it)||(nt=j-(this.x+tt),nt*nt+rt*rt<=it))return!0}return!1},_e.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},_e}(),ObservablePoint=function(){function _e(j,et,tt,nt){tt===void 0&&(tt=0),nt===void 0&&(nt=0),this._x=tt,this._y=nt,this.cb=j,this.scope=et}return _e.prototype.clone=function(j,et){return j===void 0&&(j=this.cb),et===void 0&&(et=this.scope),new _e(j,et,this._x,this._y)},_e.prototype.set=function(j,et){return j===void 0&&(j=0),et===void 0&&(et=j),(this._x!==j||this._y!==et)&&(this._x=j,this._y=et,this.cb.call(this.scope)),this},_e.prototype.copyFrom=function(j){return(this._x!==j.x||this._y!==j.y)&&(this._x=j.x,this._y=j.y,this.cb.call(this.scope)),this},_e.prototype.copyTo=function(j){return j.set(this._x,this._y),j},_e.prototype.equals=function(j){return j.x===this._x&&j.y===this._y},_e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(_e.prototype,"x",{get:function(){return this._x},set:function(j){this._x!==j&&(this._x=j,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"y",{get:function(){return this._y},set:function(j){this._y!==j&&(this._y=j,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),_e}(),Matrix=function(){function _e(j,et,tt,nt,rt,it){j===void 0&&(j=1),et===void 0&&(et=0),tt===void 0&&(tt=0),nt===void 0&&(nt=1),rt===void 0&&(rt=0),it===void 0&&(it=0),this.array=null,this.a=j,this.b=et,this.c=tt,this.d=nt,this.tx=rt,this.ty=it}return _e.prototype.fromArray=function(j){this.a=j[0],this.b=j[1],this.c=j[3],this.d=j[4],this.tx=j[2],this.ty=j[5]},_e.prototype.set=function(j,et,tt,nt,rt,it){return this.a=j,this.b=et,this.c=tt,this.d=nt,this.tx=rt,this.ty=it,this},_e.prototype.toArray=function(j,et){this.array||(this.array=new Float32Array(9));var tt=et||this.array;return j?(tt[0]=this.a,tt[1]=this.b,tt[2]=0,tt[3]=this.c,tt[4]=this.d,tt[5]=0,tt[6]=this.tx,tt[7]=this.ty,tt[8]=1):(tt[0]=this.a,tt[1]=this.c,tt[2]=this.tx,tt[3]=this.b,tt[4]=this.d,tt[5]=this.ty,tt[6]=0,tt[7]=0,tt[8]=1),tt},_e.prototype.apply=function(j,et){et=et||new Point;var tt=j.x,nt=j.y;return et.x=this.a*tt+this.c*nt+this.tx,et.y=this.b*tt+this.d*nt+this.ty,et},_e.prototype.applyInverse=function(j,et){et=et||new Point;var tt=1/(this.a*this.d+this.c*-this.b),nt=j.x,rt=j.y;return et.x=this.d*tt*nt+-this.c*tt*rt+(this.ty*this.c-this.tx*this.d)*tt,et.y=this.a*tt*rt+-this.b*tt*nt+(-this.ty*this.a+this.tx*this.b)*tt,et},_e.prototype.translate=function(j,et){return this.tx+=j,this.ty+=et,this},_e.prototype.scale=function(j,et){return this.a*=j,this.d*=et,this.c*=j,this.b*=et,this.tx*=j,this.ty*=et,this},_e.prototype.rotate=function(j){var et=Math.cos(j),tt=Math.sin(j),nt=this.a,rt=this.c,it=this.tx;return this.a=nt*et-this.b*tt,this.b=nt*tt+this.b*et,this.c=rt*et-this.d*tt,this.d=rt*tt+this.d*et,this.tx=it*et-this.ty*tt,this.ty=it*tt+this.ty*et,this},_e.prototype.append=function(j){var et=this.a,tt=this.b,nt=this.c,rt=this.d;return this.a=j.a*et+j.b*nt,this.b=j.a*tt+j.b*rt,this.c=j.c*et+j.d*nt,this.d=j.c*tt+j.d*rt,this.tx=j.tx*et+j.ty*nt+this.tx,this.ty=j.tx*tt+j.ty*rt+this.ty,this},_e.prototype.setTransform=function(j,et,tt,nt,rt,it,st,at,ot){return this.a=Math.cos(st+ot)*rt,this.b=Math.sin(st+ot)*rt,this.c=-Math.sin(st-at)*it,this.d=Math.cos(st-at)*it,this.tx=j-(tt*this.a+nt*this.c),this.ty=et-(tt*this.b+nt*this.d),this},_e.prototype.prepend=function(j){var et=this.tx;if(j.a!==1||j.b!==0||j.c!==0||j.d!==1){var tt=this.a,nt=this.c;this.a=tt*j.a+this.b*j.c,this.b=tt*j.b+this.b*j.d,this.c=nt*j.a+this.d*j.c,this.d=nt*j.b+this.d*j.d}return this.tx=et*j.a+this.ty*j.c+j.tx,this.ty=et*j.b+this.ty*j.d+j.ty,this},_e.prototype.decompose=function(j){var et=this.a,tt=this.b,nt=this.c,rt=this.d,it=j.pivot,st=-Math.atan2(-nt,rt),at=Math.atan2(tt,et),ot=Math.abs(st+at);return ot<1e-5||Math.abs(PI_2-ot)<1e-5?(j.rotation=at,j.skew.x=j.skew.y=0):(j.rotation=0,j.skew.x=st,j.skew.y=at),j.scale.x=Math.sqrt(et*et+tt*tt),j.scale.y=Math.sqrt(nt*nt+rt*rt),j.position.x=this.tx+(it.x*et+it.y*nt),j.position.y=this.ty+(it.x*tt+it.y*rt),j},_e.prototype.invert=function(){var j=this.a,et=this.b,tt=this.c,nt=this.d,rt=this.tx,it=j*nt-et*tt;return this.a=nt/it,this.b=-et/it,this.c=-tt/it,this.d=j/it,this.tx=(tt*this.ty-nt*rt)/it,this.ty=-(j*this.ty-et*rt)/it,this},_e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},_e.prototype.clone=function(){var j=new _e;return j.a=this.a,j.b=this.b,j.c=this.c,j.d=this.d,j.tx=this.tx,j.ty=this.ty,j},_e.prototype.copyTo=function(j){return j.a=this.a,j.b=this.b,j.c=this.c,j.d=this.d,j.tx=this.tx,j.ty=this.ty,j},_e.prototype.copyFrom=function(j){return this.a=j.a,this.b=j.b,this.c=j.c,this.d=j.d,this.tx=j.tx,this.ty=j.ty,this},_e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(_e,"IDENTITY",{get:function(){return new _e},enumerable:!1,configurable:!0}),Object.defineProperty(_e,"TEMP_MATRIX",{get:function(){return new _e},enumerable:!1,configurable:!0}),_e}(),ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init(){for(var _e=0;_e<16;_e++){var j=[];rotationCayley.push(j);for(var et=0;et<16;et++)for(var tt=signum(ux[_e]*ux[et]+vx[_e]*uy[et]),nt=signum(uy[_e]*ux[et]+vy[_e]*uy[et]),rt=signum(ux[_e]*vx[et]+vx[_e]*vy[et]),it=signum(uy[_e]*vx[et]+vy[_e]*vy[et]),st=0;st<16;st++)if(ux[st]===tt&&uy[st]===nt&&vx[st]===rt&&vy[st]===it){j.push(st);break}}for(var _e=0;_e<16;_e++){var at=new Matrix;at.set(ux[_e],uy[_e],vx[_e],vy[_e],0,0),rotationMatrices.push(at)}}init();var groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(_e){return ux[_e]},uY:function(_e){return uy[_e]},vX:function(_e){return vx[_e]},vY:function(_e){return vy[_e]},inv:function(_e){return _e&8?_e&15:-_e&7},add:function(_e,j){return rotationCayley[_e][j]},sub:function(_e,j){return rotationCayley[_e][groupD8.inv(j)]},rotate180:function(_e){return _e^4},isVertical:function(_e){return(_e&3)===2},byDirection:function(_e,j){return Math.abs(_e)*2<=Math.abs(j)?j>=0?groupD8.S:groupD8.N:Math.abs(j)*2<=Math.abs(_e)?_e>0?groupD8.E:groupD8.W:j>0?_e>0?groupD8.SE:groupD8.SW:_e>0?groupD8.NE:groupD8.NW},matrixAppendRotationInv:function(_e,j,et,tt){et===void 0&&(et=0),tt===void 0&&(tt=0);var nt=rotationMatrices[groupD8.inv(j)];nt.tx=et,nt.ty=tt,_e.append(nt)}},Transform=function(){function _e(){this.worldTransform=new Matrix,this.localTransform=new Matrix,this.position=new ObservablePoint(this.onChange,this,0,0),this.scale=new ObservablePoint(this.onChange,this,1,1),this.pivot=new ObservablePoint(this.onChange,this,0,0),this.skew=new ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return _e.prototype.onChange=function(){this._localID++},_e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},_e.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},_e.prototype.updateLocalTransform=function(){var j=this.localTransform;this._localID!==this._currentLocalID&&(j.a=this._cx*this.scale.x,j.b=this._sx*this.scale.x,j.c=this._cy*this.scale.y,j.d=this._sy*this.scale.y,j.tx=this.position.x-(this.pivot.x*j.a+this.pivot.y*j.c),j.ty=this.position.y-(this.pivot.x*j.b+this.pivot.y*j.d),this._currentLocalID=this._localID,this._parentID=-1)},_e.prototype.updateTransform=function(j){var et=this.localTransform;if(this._localID!==this._currentLocalID&&(et.a=this._cx*this.scale.x,et.b=this._sx*this.scale.x,et.c=this._cy*this.scale.y,et.d=this._sy*this.scale.y,et.tx=this.position.x-(this.pivot.x*et.a+this.pivot.y*et.c),et.ty=this.position.y-(this.pivot.x*et.b+this.pivot.y*et.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==j._worldID){var tt=j.worldTransform,nt=this.worldTransform;nt.a=et.a*tt.a+et.b*tt.c,nt.b=et.a*tt.b+et.b*tt.d,nt.c=et.c*tt.a+et.d*tt.c,nt.d=et.c*tt.b+et.d*tt.d,nt.tx=et.tx*tt.a+et.ty*tt.c+tt.tx,nt.ty=et.tx*tt.b+et.ty*tt.d+tt.ty,this._parentID=j._worldID,this._worldID++}},_e.prototype.setFromMatrix=function(j){j.decompose(this),this._localID++},Object.defineProperty(_e.prototype,"rotation",{get:function(){return this._rotation},set:function(j){this._rotation!==j&&(this._rotation=j,this.updateSkew())},enumerable:!1,configurable:!0}),_e.IDENTITY=new _e,_e}();/*!
 * @pixi/display - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.SORTABLE_CHILDREN=!1;var Bounds=function(){function _e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return _e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},_e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},_e.prototype.getRectangle=function(j){return this.minX>this.maxX||this.minY>this.maxY?Rectangle.EMPTY:(j=j||new Rectangle(0,0,1,1),j.x=this.minX,j.y=this.minY,j.width=this.maxX-this.minX,j.height=this.maxY-this.minY,j)},_e.prototype.addPoint=function(j){this.minX=Math.min(this.minX,j.x),this.maxX=Math.max(this.maxX,j.x),this.minY=Math.min(this.minY,j.y),this.maxY=Math.max(this.maxY,j.y)},_e.prototype.addPointMatrix=function(j,et){var tt=j.a,nt=j.b,rt=j.c,it=j.d,st=j.tx,at=j.ty,ot=tt*et.x+rt*et.y+st,lt=nt*et.x+it*et.y+at;this.minX=Math.min(this.minX,ot),this.maxX=Math.max(this.maxX,ot),this.minY=Math.min(this.minY,lt),this.maxY=Math.max(this.maxY,lt)},_e.prototype.addQuad=function(j){var et=this.minX,tt=this.minY,nt=this.maxX,rt=this.maxY,it=j[0],st=j[1];et=it<et?it:et,tt=st<tt?st:tt,nt=it>nt?it:nt,rt=st>rt?st:rt,it=j[2],st=j[3],et=it<et?it:et,tt=st<tt?st:tt,nt=it>nt?it:nt,rt=st>rt?st:rt,it=j[4],st=j[5],et=it<et?it:et,tt=st<tt?st:tt,nt=it>nt?it:nt,rt=st>rt?st:rt,it=j[6],st=j[7],et=it<et?it:et,tt=st<tt?st:tt,nt=it>nt?it:nt,rt=st>rt?st:rt,this.minX=et,this.minY=tt,this.maxX=nt,this.maxY=rt},_e.prototype.addFrame=function(j,et,tt,nt,rt){this.addFrameMatrix(j.worldTransform,et,tt,nt,rt)},_e.prototype.addFrameMatrix=function(j,et,tt,nt,rt){var it=j.a,st=j.b,at=j.c,ot=j.d,lt=j.tx,ut=j.ty,ct=this.minX,ht=this.minY,pt=this.maxX,gt=this.maxY,vt=it*et+at*tt+lt,ft=st*et+ot*tt+ut;ct=vt<ct?vt:ct,ht=ft<ht?ft:ht,pt=vt>pt?vt:pt,gt=ft>gt?ft:gt,vt=it*nt+at*tt+lt,ft=st*nt+ot*tt+ut,ct=vt<ct?vt:ct,ht=ft<ht?ft:ht,pt=vt>pt?vt:pt,gt=ft>gt?ft:gt,vt=it*et+at*rt+lt,ft=st*et+ot*rt+ut,ct=vt<ct?vt:ct,ht=ft<ht?ft:ht,pt=vt>pt?vt:pt,gt=ft>gt?ft:gt,vt=it*nt+at*rt+lt,ft=st*nt+ot*rt+ut,ct=vt<ct?vt:ct,ht=ft<ht?ft:ht,pt=vt>pt?vt:pt,gt=ft>gt?ft:gt,this.minX=ct,this.minY=ht,this.maxX=pt,this.maxY=gt},_e.prototype.addVertexData=function(j,et,tt){for(var nt=this.minX,rt=this.minY,it=this.maxX,st=this.maxY,at=et;at<tt;at+=2){var ot=j[at],lt=j[at+1];nt=ot<nt?ot:nt,rt=lt<rt?lt:rt,it=ot>it?ot:it,st=lt>st?lt:st}this.minX=nt,this.minY=rt,this.maxX=it,this.maxY=st},_e.prototype.addVertices=function(j,et,tt,nt){this.addVerticesMatrix(j.worldTransform,et,tt,nt)},_e.prototype.addVerticesMatrix=function(j,et,tt,nt,rt,it){rt===void 0&&(rt=0),it===void 0&&(it=rt);for(var st=j.a,at=j.b,ot=j.c,lt=j.d,ut=j.tx,ct=j.ty,ht=this.minX,pt=this.minY,gt=this.maxX,vt=this.maxY,ft=tt;ft<nt;ft+=2){var mt=et[ft],xt=et[ft+1],_t=st*mt+ot*xt+ut,Tt=lt*xt+at*mt+ct;ht=Math.min(ht,_t-rt),gt=Math.max(gt,_t+rt),pt=Math.min(pt,Tt-it),vt=Math.max(vt,Tt+it)}this.minX=ht,this.minY=pt,this.maxX=gt,this.maxY=vt},_e.prototype.addBounds=function(j){var et=this.minX,tt=this.minY,nt=this.maxX,rt=this.maxY;this.minX=j.minX<et?j.minX:et,this.minY=j.minY<tt?j.minY:tt,this.maxX=j.maxX>nt?j.maxX:nt,this.maxY=j.maxY>rt?j.maxY:rt},_e.prototype.addBoundsMask=function(j,et){var tt=j.minX>et.minX?j.minX:et.minX,nt=j.minY>et.minY?j.minY:et.minY,rt=j.maxX<et.maxX?j.maxX:et.maxX,it=j.maxY<et.maxY?j.maxY:et.maxY;if(tt<=rt&&nt<=it){var st=this.minX,at=this.minY,ot=this.maxX,lt=this.maxY;this.minX=tt<st?tt:st,this.minY=nt<at?nt:at,this.maxX=rt>ot?rt:ot,this.maxY=it>lt?it:lt}},_e.prototype.addBoundsMatrix=function(j,et){this.addFrameMatrix(et,j.minX,j.minY,j.maxX,j.maxY)},_e.prototype.addBoundsArea=function(j,et){var tt=j.minX>et.x?j.minX:et.x,nt=j.minY>et.y?j.minY:et.y,rt=j.maxX<et.x+et.width?j.maxX:et.x+et.width,it=j.maxY<et.y+et.height?j.maxY:et.y+et.height;if(tt<=rt&&nt<=it){var st=this.minX,at=this.minY,ot=this.maxX,lt=this.maxY;this.minX=tt<st?tt:st,this.minY=nt<at?nt:at,this.maxX=rt>ot?rt:ot,this.maxY=it>lt?it:lt}},_e.prototype.pad=function(j,et){j===void 0&&(j=0),et===void 0&&(et=j),this.isEmpty()||(this.minX-=j,this.maxX+=j,this.minY-=et,this.maxY+=et)},_e.prototype.addFramePad=function(j,et,tt,nt,rt,it){j-=rt,et-=it,tt+=rt,nt+=it,this.minX=this.minX<j?this.minX:j,this.maxX=this.maxX>tt?this.maxX:tt,this.minY=this.minY<et?this.minY:et,this.maxY=this.maxY>nt?this.maxY:nt},_e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$j=function(_e,j){return extendStatics$j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$j(_e,j)};function __extends$j(_e,j){extendStatics$j(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var DisplayObject=function(_e){__extends$j(j,_e);function j(){var et=_e.call(this)||this;return et.tempDisplayObjectParent=null,et.transform=new Transform,et.alpha=1,et.visible=!0,et.renderable=!0,et.cullable=!1,et.cullArea=null,et.parent=null,et.worldAlpha=1,et._lastSortedIndex=0,et._zIndex=0,et.filterArea=null,et.filters=null,et._enabledFilters=null,et._bounds=new Bounds,et._localBounds=null,et._boundsID=0,et._boundsRect=null,et._localBoundsRect=null,et._mask=null,et._maskRefCount=0,et._destroyed=!1,et.isSprite=!1,et.isMask=!1,et}return j.mixin=function(et){for(var tt=Object.keys(et),nt=0;nt<tt.length;++nt){var rt=tt[nt];Object.defineProperty(j.prototype,rt,Object.getOwnPropertyDescriptor(et,rt))}},Object.defineProperty(j.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),j.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},j.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},j.prototype.getBounds=function(et,tt){return et||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),tt||(this._boundsRect||(this._boundsRect=new Rectangle),tt=this._boundsRect),this._bounds.getRectangle(tt)},j.prototype.getLocalBounds=function(et){et||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),et=this._localBoundsRect),this._localBounds||(this._localBounds=new Bounds);var tt=this.transform,nt=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var rt=this._bounds,it=this._boundsID;this._bounds=this._localBounds;var st=this.getBounds(!1,et);return this.parent=nt,this.transform=tt,this._bounds=rt,this._bounds.updateID+=this._boundsID-it,st},j.prototype.toGlobal=function(et,tt,nt){return nt===void 0&&(nt=!1),nt||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(et,tt)},j.prototype.toLocal=function(et,tt,nt,rt){return tt&&(et=tt.toGlobal(et,nt,rt)),rt||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(et,nt)},j.prototype.setParent=function(et){if(!et||!et.addChild)throw new Error("setParent: Argument must be a Container");return et.addChild(this),et},j.prototype.setTransform=function(et,tt,nt,rt,it,st,at,ot,lt){return et===void 0&&(et=0),tt===void 0&&(tt=0),nt===void 0&&(nt=1),rt===void 0&&(rt=1),it===void 0&&(it=0),st===void 0&&(st=0),at===void 0&&(at=0),ot===void 0&&(ot=0),lt===void 0&&(lt=0),this.position.x=et,this.position.y=tt,this.scale.x=nt||1,this.scale.y=rt||1,this.rotation=it,this.skew.x=st,this.skew.y=at,this.pivot.x=ot,this.pivot.y=lt,this},j.prototype.destroy=function(et){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(j.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new TemporaryDisplayObject),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),j.prototype.enableTempParent=function(){var et=this.parent;return this.parent=this._tempDisplayObjectParent,et},j.prototype.disableTempParent=function(et){this.parent=et},Object.defineProperty(j.prototype,"x",{get:function(){return this.position.x},set:function(et){this.transform.position.x=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"y",{get:function(){return this.position.y},set:function(et){this.transform.position.y=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"position",{get:function(){return this.transform.position},set:function(et){this.transform.position.copyFrom(et)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"scale",{get:function(){return this.transform.scale},set:function(et){this.transform.scale.copyFrom(et)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(et){this.transform.pivot.copyFrom(et)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"skew",{get:function(){return this.transform.skew},set:function(et){this.transform.skew.copyFrom(et)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(et){this.transform.rotation=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"angle",{get:function(){return this.transform.rotation*RAD_TO_DEG},set:function(et){this.transform.rotation=et*DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"zIndex",{get:function(){return this._zIndex},set:function(et){this._zIndex=et,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"worldVisible",{get:function(){var et=this;do{if(!et.visible)return!1;et=et.parent}while(et);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"mask",{get:function(){return this._mask},set:function(et){if(this._mask!==et){if(this._mask){var tt=this._mask.isMaskData?this._mask.maskObject:this._mask;tt&&(tt._maskRefCount--,tt._maskRefCount===0&&(tt.renderable=!0,tt.isMask=!1))}if(this._mask=et,this._mask){var tt=this._mask.isMaskData?this._mask.maskObject:this._mask;tt&&(tt._maskRefCount===0&&(tt.renderable=!1,tt.isMask=!0),tt._maskRefCount++)}}},enumerable:!1,configurable:!0}),j}(EventEmitter),TemporaryDisplayObject=function(_e){__extends$j(j,_e);function j(){var et=_e!==null&&_e.apply(this,arguments)||this;return et.sortDirty=null,et}return j}(DisplayObject);DisplayObject.prototype.displayObjectUpdateTransform=DisplayObject.prototype.updateTransform;/*!
 * @pixi/constants - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$4;(function(_e){_e[_e.WEBGL_LEGACY=0]="WEBGL_LEGACY",_e[_e.WEBGL=1]="WEBGL",_e[_e.WEBGL2=2]="WEBGL2"})(ENV$4||(ENV$4={}));var RENDERER_TYPE$4;(function(_e){_e[_e.UNKNOWN=0]="UNKNOWN",_e[_e.WEBGL=1]="WEBGL",_e[_e.CANVAS=2]="CANVAS"})(RENDERER_TYPE$4||(RENDERER_TYPE$4={}));var BUFFER_BITS$4;(function(_e){_e[_e.COLOR=16384]="COLOR",_e[_e.DEPTH=256]="DEPTH",_e[_e.STENCIL=1024]="STENCIL"})(BUFFER_BITS$4||(BUFFER_BITS$4={}));var BLEND_MODES$4;(function(_e){_e[_e.NORMAL=0]="NORMAL",_e[_e.ADD=1]="ADD",_e[_e.MULTIPLY=2]="MULTIPLY",_e[_e.SCREEN=3]="SCREEN",_e[_e.OVERLAY=4]="OVERLAY",_e[_e.DARKEN=5]="DARKEN",_e[_e.LIGHTEN=6]="LIGHTEN",_e[_e.COLOR_DODGE=7]="COLOR_DODGE",_e[_e.COLOR_BURN=8]="COLOR_BURN",_e[_e.HARD_LIGHT=9]="HARD_LIGHT",_e[_e.SOFT_LIGHT=10]="SOFT_LIGHT",_e[_e.DIFFERENCE=11]="DIFFERENCE",_e[_e.EXCLUSION=12]="EXCLUSION",_e[_e.HUE=13]="HUE",_e[_e.SATURATION=14]="SATURATION",_e[_e.COLOR=15]="COLOR",_e[_e.LUMINOSITY=16]="LUMINOSITY",_e[_e.NORMAL_NPM=17]="NORMAL_NPM",_e[_e.ADD_NPM=18]="ADD_NPM",_e[_e.SCREEN_NPM=19]="SCREEN_NPM",_e[_e.NONE=20]="NONE",_e[_e.SRC_OVER=0]="SRC_OVER",_e[_e.SRC_IN=21]="SRC_IN",_e[_e.SRC_OUT=22]="SRC_OUT",_e[_e.SRC_ATOP=23]="SRC_ATOP",_e[_e.DST_OVER=24]="DST_OVER",_e[_e.DST_IN=25]="DST_IN",_e[_e.DST_OUT=26]="DST_OUT",_e[_e.DST_ATOP=27]="DST_ATOP",_e[_e.ERASE=26]="ERASE",_e[_e.SUBTRACT=28]="SUBTRACT",_e[_e.XOR=29]="XOR"})(BLEND_MODES$4||(BLEND_MODES$4={}));var DRAW_MODES$4;(function(_e){_e[_e.POINTS=0]="POINTS",_e[_e.LINES=1]="LINES",_e[_e.LINE_LOOP=2]="LINE_LOOP",_e[_e.LINE_STRIP=3]="LINE_STRIP",_e[_e.TRIANGLES=4]="TRIANGLES",_e[_e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",_e[_e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$4||(DRAW_MODES$4={}));var FORMATS$4;(function(_e){_e[_e.RGBA=6408]="RGBA",_e[_e.RGB=6407]="RGB",_e[_e.RG=33319]="RG",_e[_e.RED=6403]="RED",_e[_e.RGBA_INTEGER=36249]="RGBA_INTEGER",_e[_e.RGB_INTEGER=36248]="RGB_INTEGER",_e[_e.RG_INTEGER=33320]="RG_INTEGER",_e[_e.RED_INTEGER=36244]="RED_INTEGER",_e[_e.ALPHA=6406]="ALPHA",_e[_e.LUMINANCE=6409]="LUMINANCE",_e[_e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",_e[_e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",_e[_e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$4||(FORMATS$4={}));var TARGETS$4;(function(_e){_e[_e.TEXTURE_2D=3553]="TEXTURE_2D",_e[_e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",_e[_e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$4||(TARGETS$4={}));var TYPES$4;(function(_e){_e[_e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",_e[_e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",_e[_e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",_e[_e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",_e[_e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",_e[_e.UNSIGNED_INT=5125]="UNSIGNED_INT",_e[_e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",_e[_e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",_e[_e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",_e[_e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",_e[_e.BYTE=5120]="BYTE",_e[_e.SHORT=5122]="SHORT",_e[_e.INT=5124]="INT",_e[_e.FLOAT=5126]="FLOAT",_e[_e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",_e[_e.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$4||(TYPES$4={}));var SAMPLER_TYPES$4;(function(_e){_e[_e.FLOAT=0]="FLOAT",_e[_e.INT=1]="INT",_e[_e.UINT=2]="UINT"})(SAMPLER_TYPES$4||(SAMPLER_TYPES$4={}));var SCALE_MODES$4;(function(_e){_e[_e.NEAREST=0]="NEAREST",_e[_e.LINEAR=1]="LINEAR"})(SCALE_MODES$4||(SCALE_MODES$4={}));var WRAP_MODES$4;(function(_e){_e[_e.CLAMP=33071]="CLAMP",_e[_e.REPEAT=10497]="REPEAT",_e[_e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$4||(WRAP_MODES$4={}));var MIPMAP_MODES$4;(function(_e){_e[_e.OFF=0]="OFF",_e[_e.POW2=1]="POW2",_e[_e.ON=2]="ON",_e[_e.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$4||(MIPMAP_MODES$4={}));var ALPHA_MODES$4;(function(_e){_e[_e.NPM=0]="NPM",_e[_e.UNPACK=1]="UNPACK",_e[_e.PMA=2]="PMA",_e[_e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",_e[_e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",_e[_e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",_e[_e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$4||(ALPHA_MODES$4={}));var CLEAR_MODES$4;(function(_e){_e[_e.NO=0]="NO",_e[_e.YES=1]="YES",_e[_e.AUTO=2]="AUTO",_e[_e.BLEND=0]="BLEND",_e[_e.CLEAR=1]="CLEAR",_e[_e.BLIT=2]="BLIT"})(CLEAR_MODES$4||(CLEAR_MODES$4={}));var GC_MODES$4;(function(_e){_e[_e.AUTO=0]="AUTO",_e[_e.MANUAL=1]="MANUAL"})(GC_MODES$4||(GC_MODES$4={}));var PRECISION$4;(function(_e){_e.LOW="lowp",_e.MEDIUM="mediump",_e.HIGH="highp"})(PRECISION$4||(PRECISION$4={}));var MASK_TYPES$4;(function(_e){_e[_e.NONE=0]="NONE",_e[_e.SCISSOR=1]="SCISSOR",_e[_e.STENCIL=2]="STENCIL",_e[_e.SPRITE=3]="SPRITE",_e[_e.COLOR=4]="COLOR"})(MASK_TYPES$4||(MASK_TYPES$4={}));var COLOR_MASK_BITS$4;(function(_e){_e[_e.RED=1]="RED",_e[_e.GREEN=2]="GREEN",_e[_e.BLUE=4]="BLUE",_e[_e.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS$4||(COLOR_MASK_BITS$4={}));var MSAA_QUALITY$4;(function(_e){_e[_e.NONE=0]="NONE",_e[_e.LOW=2]="LOW",_e[_e.MEDIUM=4]="MEDIUM",_e[_e.HIGH=8]="HIGH"})(MSAA_QUALITY$4||(MSAA_QUALITY$4={}));var BUFFER_TYPE$4;(function(_e){_e[_e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",_e[_e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",_e[_e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$4||(BUFFER_TYPE$4={}));function sortChildren(_e,j){return _e.zIndex===j.zIndex?_e._lastSortedIndex-j._lastSortedIndex:_e.zIndex-j.zIndex}var Container=function(_e){__extends$j(j,_e);function j(){var et=_e.call(this)||this;return et.children=[],et.sortableChildren=settings$1.SORTABLE_CHILDREN,et.sortDirty=!1,et}return j.prototype.onChildrenChange=function(et){},j.prototype.addChild=function(){for(var et=arguments,tt=[],nt=0;nt<arguments.length;nt++)tt[nt]=et[nt];if(tt.length>1)for(var rt=0;rt<tt.length;rt++)this.addChild(tt[rt]);else{var it=tt[0];it.parent&&it.parent.removeChild(it),it.parent=this,this.sortDirty=!0,it.transform._parentID=-1,this.children.push(it),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",it,this,this.children.length-1),it.emit("added",this)}return tt[0]},j.prototype.addChildAt=function(et,tt){if(tt<0||tt>this.children.length)throw new Error(et+"addChildAt: The index "+tt+" supplied is out of bounds "+this.children.length);return et.parent&&et.parent.removeChild(et),et.parent=this,this.sortDirty=!0,et.transform._parentID=-1,this.children.splice(tt,0,et),this._boundsID++,this.onChildrenChange(tt),et.emit("added",this),this.emit("childAdded",et,this,tt),et},j.prototype.swapChildren=function(et,tt){if(et!==tt){var nt=this.getChildIndex(et),rt=this.getChildIndex(tt);this.children[nt]=tt,this.children[rt]=et,this.onChildrenChange(nt<rt?nt:rt)}},j.prototype.getChildIndex=function(et){var tt=this.children.indexOf(et);if(tt===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return tt},j.prototype.setChildIndex=function(et,tt){if(tt<0||tt>=this.children.length)throw new Error("The index "+tt+" supplied is out of bounds "+this.children.length);var nt=this.getChildIndex(et);removeItems(this.children,nt,1),this.children.splice(tt,0,et),this.onChildrenChange(tt)},j.prototype.getChildAt=function(et){if(et<0||et>=this.children.length)throw new Error("getChildAt: Index ("+et+") does not exist.");return this.children[et]},j.prototype.removeChild=function(){for(var et=arguments,tt=[],nt=0;nt<arguments.length;nt++)tt[nt]=et[nt];if(tt.length>1)for(var rt=0;rt<tt.length;rt++)this.removeChild(tt[rt]);else{var it=tt[0],st=this.children.indexOf(it);if(st===-1)return null;it.parent=null,it.transform._parentID=-1,removeItems(this.children,st,1),this._boundsID++,this.onChildrenChange(st),it.emit("removed",this),this.emit("childRemoved",it,this,st)}return tt[0]},j.prototype.removeChildAt=function(et){var tt=this.getChildAt(et);return tt.parent=null,tt.transform._parentID=-1,removeItems(this.children,et,1),this._boundsID++,this.onChildrenChange(et),tt.emit("removed",this),this.emit("childRemoved",tt,this,et),tt},j.prototype.removeChildren=function(et,tt){et===void 0&&(et=0),tt===void 0&&(tt=this.children.length);var nt=et,rt=tt,it=rt-nt,st;if(it>0&&it<=rt){st=this.children.splice(nt,it);for(var at=0;at<st.length;++at)st[at].parent=null,st[at].transform&&(st[at].transform._parentID=-1);this._boundsID++,this.onChildrenChange(et);for(var at=0;at<st.length;++at)st[at].emit("removed",this),this.emit("childRemoved",st[at],this,at);return st}else if(it===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},j.prototype.sortChildren=function(){for(var et=!1,tt=0,nt=this.children.length;tt<nt;++tt){var rt=this.children[tt];rt._lastSortedIndex=tt,!et&&rt.zIndex!==0&&(et=!0)}et&&this.children.length>1&&this.children.sort(sortChildren),this.sortDirty=!1},j.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var et=0,tt=this.children.length;et<tt;++et){var nt=this.children[et];nt.visible&&nt.updateTransform()}},j.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var et=0;et<this.children.length;et++){var tt=this.children[et];if(!(!tt.visible||!tt.renderable))if(tt.calculateBounds(),tt._mask){var nt=tt._mask.isMaskData?tt._mask.maskObject:tt._mask;nt?(nt.calculateBounds(),this._bounds.addBoundsMask(tt._bounds,nt._bounds)):this._bounds.addBounds(tt._bounds)}else tt.filterArea?this._bounds.addBoundsArea(tt._bounds,tt.filterArea):this._bounds.addBounds(tt._bounds)}this._bounds.updateID=this._boundsID},j.prototype.getLocalBounds=function(et,tt){tt===void 0&&(tt=!1);var nt=_e.prototype.getLocalBounds.call(this,et);if(!tt)for(var rt=0,it=this.children.length;rt<it;++rt){var st=this.children[rt];st.visible&&st.updateTransform()}return nt},j.prototype._calculateBounds=function(){},j.prototype._renderWithCulling=function(et){var tt=et.renderTexture.sourceFrame;if(tt.width>0&&tt.height>0){var nt,rt;if(this.cullArea?(nt=this.cullArea,rt=this.worldTransform):this._render!==j.prototype._render&&(nt=this.getBounds(!0)),nt&&tt.intersects(nt,rt))this._render(et);else if(this.cullArea)return;for(var it=0,st=this.children.length;it<st;++it){var at=this.children[it],ot=at.cullable;at.cullable=ot||!this.cullArea,at.render(et),at.cullable=ot}}},j.prototype.render=function(et){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(et);else if(this.cullable)this._renderWithCulling(et);else{this._render(et);for(var tt=0,nt=this.children.length;tt<nt;++tt)this.children[tt].render(et)}},j.prototype.renderAdvanced=function(et){var tt=this.filters,nt=this._mask;if(tt){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var rt=0;rt<tt.length;rt++)tt[rt].enabled&&this._enabledFilters.push(tt[rt])}var it=tt&&this._enabledFilters&&this._enabledFilters.length||nt&&(!nt.isMaskData||nt.enabled&&(nt.autoDetect||nt.type!==MASK_TYPES$4.NONE));if(it&&et.batch.flush(),tt&&this._enabledFilters&&this._enabledFilters.length&&et.filter.push(this,this._enabledFilters),nt&&et.mask.push(this,this._mask),this.cullable)this._renderWithCulling(et);else{this._render(et);for(var rt=0,st=this.children.length;rt<st;++rt)this.children[rt].render(et)}it&&et.batch.flush(),nt&&et.mask.pop(this),tt&&this._enabledFilters&&this._enabledFilters.length&&et.filter.pop()},j.prototype._render=function(et){},j.prototype.destroy=function(et){_e.prototype.destroy.call(this),this.sortDirty=!1;var tt=typeof et=="boolean"?et:et&&et.children,nt=this.removeChildren(0,this.children.length);if(tt)for(var rt=0;rt<nt.length;++rt)nt[rt].destroy(et)},Object.defineProperty(j.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(et){var tt=this.getLocalBounds().width;tt!==0?this.scale.x=et/tt:this.scale.x=1,this._width=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(et){var tt=this.getLocalBounds().height;tt!==0?this.scale.y=et/tt:this.scale.y=1,this._height=et},enumerable:!1,configurable:!0}),j}(DisplayObject);Container.prototype.containerUpdateTransform=Container.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign$2=function(){return __assign$2=Object.assign||function(j){for(var et=arguments,tt,nt=1,rt=arguments.length;nt<rt;nt++){tt=et[nt];for(var it in tt)Object.prototype.hasOwnProperty.call(tt,it)&&(j[it]=tt[it])}return j},__assign$2.apply(this,arguments)},ExtensionType;(function(_e){_e.Application="application",_e.RendererPlugin="renderer-webgl-plugin",_e.CanvasRendererPlugin="renderer-canvas-plugin",_e.Loader="loader",_e.LoadParser="load-parser",_e.ResolveParser="resolve-parser",_e.CacheParser="cache-parser",_e.DetectionParser="detection-parser"})(ExtensionType||(ExtensionType={}));var normalizeExtension=function(_e){if(typeof _e=="function"||typeof _e=="object"&&_e.extension){if(!_e.extension)throw new Error("Extension class must have an extension object");var j=typeof _e.extension!="object"?{type:_e.extension}:_e.extension;_e=__assign$2(__assign$2({},j),{ref:_e})}if(typeof _e=="object")_e=__assign$2({},_e);else throw new Error("Invalid extension type");return typeof _e.type=="string"&&(_e.type=[_e.type]),_e},extensions={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var _e=arguments,j=this,et=[],tt=0;tt<arguments.length;tt++)et[tt]=_e[tt];return et.map(normalizeExtension).forEach(function(nt){nt.type.forEach(function(rt){var it,st;return(st=(it=j._removeHandlers)[rt])===null||st===void 0?void 0:st.call(it,nt)})}),this},add:function(){for(var _e=arguments,j=this,et=[],tt=0;tt<arguments.length;tt++)et[tt]=_e[tt];return et.map(normalizeExtension).forEach(function(nt){nt.type.forEach(function(rt){var it=j._addHandlers,st=j._queue;it[rt]?it[rt](nt):(st[rt]=st[rt]||[],st[rt].push(nt))})}),this},handle:function(_e,j,et){var tt=this._addHandlers=this._addHandlers||{},nt=this._removeHandlers=this._removeHandlers||{};if(tt[_e]||nt[_e])throw new Error("Extension type "+_e+" already has a handler");tt[_e]=j,nt[_e]=et;var rt=this._queue;return rt[_e]&&(rt[_e].forEach(function(it){return j(it)}),delete rt[_e]),this},handleByMap:function(_e,j){return this.handle(_e,function(et){j[et.name]=et.ref},function(et){delete j[et.name]})},handleByList:function(_e,j){return this.handle(_e,function(et){var tt,nt;j.push(et.ref),_e===ExtensionType.Loader&&((nt=(tt=et.ref).add)===null||nt===void 0||nt.call(tt))},function(et){var tt=j.indexOf(et.ref);tt!==-1&&j.splice(tt,1)})}};/*!
 * @pixi/runner - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Runner=function(){function _e(j){this.items=[],this._name=j,this._aliasCount=0}return _e.prototype.emit=function(j,et,tt,nt,rt,it,st,at){if(arguments.length>8)throw new Error("max arguments reached");var ot=this,lt=ot.name,ut=ot.items;this._aliasCount++;for(var ct=0,ht=ut.length;ct<ht;ct++)ut[ct][lt](j,et,tt,nt,rt,it,st,at);return ut===this.items&&this._aliasCount--,this},_e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},_e.prototype.add=function(j){return j[this._name]&&(this.ensureNonAliasedItems(),this.remove(j),this.items.push(j)),this},_e.prototype.remove=function(j){var et=this.items.indexOf(j);return et!==-1&&(this.ensureNonAliasedItems(),this.items.splice(et,1)),this},_e.prototype.contains=function(j){return this.items.indexOf(j)!==-1},_e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},_e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(_e.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),_e}();Object.defineProperties(Runner.prototype,{dispatch:{value:Runner.prototype.emit},run:{value:Runner.prototype.emit}});/*!
 * @pixi/ticker - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.TARGET_FPMS=.06;var UPDATE_PRIORITY;(function(_e){_e[_e.INTERACTION=50]="INTERACTION",_e[_e.HIGH=25]="HIGH",_e[_e.NORMAL=0]="NORMAL",_e[_e.LOW=-25]="LOW",_e[_e.UTILITY=-50]="UTILITY"})(UPDATE_PRIORITY||(UPDATE_PRIORITY={}));var TickerListener=function(){function _e(j,et,tt,nt){et===void 0&&(et=null),tt===void 0&&(tt=0),nt===void 0&&(nt=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=j,this.context=et,this.priority=tt,this.once=nt}return _e.prototype.match=function(j,et){return et===void 0&&(et=null),this.fn===j&&this.context===et},_e.prototype.emit=function(j){this.fn&&(this.context?this.fn.call(this.context,j):this.fn(j));var et=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),et},_e.prototype.connect=function(j){this.previous=j,j.next&&(j.next.previous=this),this.next=j.next,j.next=this},_e.prototype.destroy=function(j){j===void 0&&(j=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var et=this.next;return this.next=j?null:et,this.previous=null,et},_e}(),Ticker=function(){function _e(){var j=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/settings$1.TARGET_FPMS,this.elapsedMS=1/settings$1.TARGET_FPMS,this._tick=function(et){j._requestId=null,j.started&&(j.update(et),j.started&&j._requestId===null&&j._head.next&&(j._requestId=requestAnimationFrame(j._tick)))}}return _e.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},_e.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},_e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},_e.prototype.add=function(j,et,tt){return tt===void 0&&(tt=UPDATE_PRIORITY.NORMAL),this._addListener(new TickerListener(j,et,tt))},_e.prototype.addOnce=function(j,et,tt){return tt===void 0&&(tt=UPDATE_PRIORITY.NORMAL),this._addListener(new TickerListener(j,et,tt,!0))},_e.prototype._addListener=function(j){var et=this._head.next,tt=this._head;if(!et)j.connect(tt);else{for(;et;){if(j.priority>et.priority){j.connect(tt);break}tt=et,et=et.next}j.previous||j.connect(tt)}return this._startIfPossible(),this},_e.prototype.remove=function(j,et){for(var tt=this._head.next;tt;)tt.match(j,et)?tt=tt.destroy():tt=tt.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(_e.prototype,"count",{get:function(){if(!this._head)return 0;for(var j=0,et=this._head;et=et.next;)j++;return j},enumerable:!1,configurable:!0}),_e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},_e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},_e.prototype.destroy=function(){if(!this._protected){this.stop();for(var j=this._head.next;j;)j=j.destroy(!0);this._head.destroy(),this._head=null}},_e.prototype.update=function(j){j===void 0&&(j=performance.now());var et;if(j>this.lastTime){if(et=this.elapsedMS=j-this.lastTime,et>this._maxElapsedMS&&(et=this._maxElapsedMS),et*=this.speed,this._minElapsedMS){var tt=j-this._lastFrame|0;if(tt<this._minElapsedMS)return;this._lastFrame=j-tt%this._minElapsedMS}this.deltaMS=et,this.deltaTime=this.deltaMS*settings$1.TARGET_FPMS;for(var nt=this._head,rt=nt.next;rt;)rt=rt.emit(this.deltaTime);nt.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=j},Object.defineProperty(_e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(j){var et=Math.min(this.maxFPS,j),tt=Math.min(Math.max(0,et)/1e3,settings$1.TARGET_FPMS);this._maxElapsedMS=1/tt},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(j){if(j===0)this._minElapsedMS=0;else{var et=Math.max(this.minFPS,j);this._minElapsedMS=1/(et/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(_e,"shared",{get:function(){if(!_e._shared){var j=_e._shared=new _e;j.autoStart=!0,j._protected=!0}return _e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(_e,"system",{get:function(){if(!_e._system){var j=_e._system=new _e;j.autoStart=!0,j._protected=!0}return _e._system},enumerable:!1,configurable:!0}),_e}(),TickerPlugin=function(){function _e(){}return _e.init=function(j){var et=this;j=Object.assign({autoStart:!0,sharedTicker:!1},j),Object.defineProperty(this,"ticker",{set:function(tt){this._ticker&&this._ticker.remove(this.render,this),this._ticker=tt,tt&&tt.add(this.render,this,UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}}),this.stop=function(){et._ticker.stop()},this.start=function(){et._ticker.start()},this._ticker=null,this.ticker=j.sharedTicker?Ticker.shared:new Ticker,j.autoStart&&this.start()},_e.destroy=function(){if(this._ticker){var j=this._ticker;this.ticker=null,j.destroy()}},_e.extension=ExtensionType.Application,_e}();/*!
 * @pixi/core - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.PREFER_ENV=isMobile$2.any?ENV$5.WEBGL:ENV$5.WEBGL2;settings$1.STRICT_TEXTURE_CACHE=!1;var INSTALLED=[];function autoDetectResource(_e,j){if(!_e)return null;var et="";if(typeof _e=="string"){var tt=/\.(\w{3,4})(?:$|\?|#)/i.exec(_e);tt&&(et=tt[1].toLowerCase())}for(var nt=INSTALLED.length-1;nt>=0;--nt){var rt=INSTALLED[nt];if(rt.test&&rt.test(_e,et))return new rt(_e,j)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$i=function(_e,j){return extendStatics$i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$i(_e,j)};function __extends$i(_e,j){extendStatics$i(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var __assign$1=function(){return __assign$1=Object.assign||function(j){for(var et=arguments,tt,nt=1,rt=arguments.length;nt<rt;nt++){tt=et[nt];for(var it in tt)Object.prototype.hasOwnProperty.call(tt,it)&&(j[it]=tt[it])}return j},__assign$1.apply(this,arguments)};function __rest(_e,j){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&j.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols(_e);nt<tt.length;nt++)j.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[nt])&&(et[tt[nt]]=_e[tt[nt]]);return et}var Resource=function(){function _e(j,et){j===void 0&&(j=0),et===void 0&&(et=0),this._width=j,this._height=et,this.destroyed=!1,this.internal=!1,this.onResize=new Runner("setRealSize"),this.onUpdate=new Runner("update"),this.onError=new Runner("onError")}return _e.prototype.bind=function(j){this.onResize.add(j),this.onUpdate.add(j),this.onError.add(j),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},_e.prototype.unbind=function(j){this.onResize.remove(j),this.onUpdate.remove(j),this.onError.remove(j)},_e.prototype.resize=function(j,et){(j!==this._width||et!==this._height)&&(this._width=j,this._height=et,this.onResize.emit(j,et))},Object.defineProperty(_e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),_e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},_e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(_e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),_e.prototype.style=function(j,et,tt){return!1},_e.prototype.dispose=function(){},_e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},_e.test=function(j,et){return!1},_e}(),BufferResource=function(_e){__extends$i(j,_e);function j(et,tt){var nt=this,rt=tt||{},it=rt.width,st=rt.height;if(!it||!st)throw new Error("BufferResource width or height invalid");return nt=_e.call(this,it,st)||this,nt.data=et,nt}return j.prototype.upload=function(et,tt,nt){var rt=et.gl;rt.pixelStorei(rt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,tt.alphaMode===ALPHA_MODES$5.UNPACK);var it=tt.realWidth,st=tt.realHeight;return nt.width===it&&nt.height===st?rt.texSubImage2D(tt.target,0,0,0,it,st,tt.format,nt.type,this.data):(nt.width=it,nt.height=st,rt.texImage2D(tt.target,0,nt.internalFormat,it,st,0,tt.format,nt.type,this.data)),!0},j.prototype.dispose=function(){this.data=null},j.test=function(et){return et instanceof Float32Array||et instanceof Uint8Array||et instanceof Uint32Array},j}(Resource),defaultBufferOptions={scaleMode:SCALE_MODES$5.NEAREST,format:FORMATS$5.RGBA,alphaMode:ALPHA_MODES$5.NPM},BaseTexture=function(_e){__extends$i(j,_e);function j(et,tt){et===void 0&&(et=null),tt===void 0&&(tt=null);var nt=_e.call(this)||this;tt=tt||{};var rt=tt.alphaMode,it=tt.mipmap,st=tt.anisotropicLevel,at=tt.scaleMode,ot=tt.width,lt=tt.height,ut=tt.wrapMode,ct=tt.format,ht=tt.type,pt=tt.target,gt=tt.resolution,vt=tt.resourceOptions;return et&&!(et instanceof Resource)&&(et=autoDetectResource(et,vt),et.internal=!0),nt.resolution=gt||settings$1.RESOLUTION,nt.width=Math.round((ot||0)*nt.resolution)/nt.resolution,nt.height=Math.round((lt||0)*nt.resolution)/nt.resolution,nt._mipmap=it!==void 0?it:settings$1.MIPMAP_TEXTURES,nt.anisotropicLevel=st!==void 0?st:settings$1.ANISOTROPIC_LEVEL,nt._wrapMode=ut||settings$1.WRAP_MODE,nt._scaleMode=at!==void 0?at:settings$1.SCALE_MODE,nt.format=ct||FORMATS$5.RGBA,nt.type=ht||TYPES$5.UNSIGNED_BYTE,nt.target=pt||TARGETS$5.TEXTURE_2D,nt.alphaMode=rt!==void 0?rt:ALPHA_MODES$5.UNPACK,nt.uid=uid(),nt.touched=0,nt.isPowerOfTwo=!1,nt._refreshPOT(),nt._glTextures={},nt.dirtyId=0,nt.dirtyStyleId=0,nt.cacheId=null,nt.valid=ot>0&&lt>0,nt.textureCacheIds=[],nt.destroyed=!1,nt.resource=null,nt._batchEnabled=0,nt._batchLocation=0,nt.parentTextureArray=null,nt.setResource(et),nt}return Object.defineProperty(j.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"mipmap",{get:function(){return this._mipmap},set:function(et){this._mipmap!==et&&(this._mipmap=et,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(et){this._scaleMode!==et&&(this._scaleMode=et,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(et){this._wrapMode!==et&&(this._wrapMode=et,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),j.prototype.setStyle=function(et,tt){var nt;return et!==void 0&&et!==this.scaleMode&&(this.scaleMode=et,nt=!0),tt!==void 0&&tt!==this.mipmap&&(this.mipmap=tt,nt=!0),nt&&this.dirtyStyleId++,this},j.prototype.setSize=function(et,tt,nt){return nt=nt||this.resolution,this.setRealSize(et*nt,tt*nt,nt)},j.prototype.setRealSize=function(et,tt,nt){return this.resolution=nt||this.resolution,this.width=Math.round(et)/this.resolution,this.height=Math.round(tt)/this.resolution,this._refreshPOT(),this.update(),this},j.prototype._refreshPOT=function(){this.isPowerOfTwo=isPow2(this.realWidth)&&isPow2(this.realHeight)},j.prototype.setResolution=function(et){var tt=this.resolution;return tt===et?this:(this.resolution=et,this.valid&&(this.width=Math.round(this.width*tt)/et,this.height=Math.round(this.height*tt)/et,this.emit("update",this)),this._refreshPOT(),this)},j.prototype.setResource=function(et){if(this.resource===et)return this;if(this.resource)throw new Error("Resource can be set only once");return et.bind(this),this.resource=et,this},j.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},j.prototype.onError=function(et){this.emit("error",this,et)},j.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete BaseTextureCache[this.cacheId],delete TextureCache[this.cacheId],this.cacheId=null),this.dispose(),j.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},j.prototype.dispose=function(){this.emit("dispose",this)},j.prototype.castToBaseTexture=function(){return this},j.from=function(et,tt,nt){nt===void 0&&(nt=settings$1.STRICT_TEXTURE_CACHE);var rt=typeof et=="string",it=null;if(rt)it=et;else{if(!et._pixiId){var st=tt&&tt.pixiIdPrefix||"pixiid";et._pixiId=st+"_"+uid()}it=et._pixiId}var at=BaseTextureCache[it];if(rt&&nt&&!at)throw new Error('The cacheId "'+it+'" does not exist in BaseTextureCache.');return at||(at=new j(et,tt),at.cacheId=it,j.addToCache(at,it)),at},j.fromBuffer=function(et,tt,nt,rt){et=et||new Float32Array(tt*nt*4);var it=new BufferResource(et,{width:tt,height:nt}),st=et instanceof Float32Array?TYPES$5.FLOAT:TYPES$5.UNSIGNED_BYTE;return new j(it,Object.assign(defaultBufferOptions,rt||{width:tt,height:nt,type:st}))},j.addToCache=function(et,tt){tt&&(et.textureCacheIds.indexOf(tt)===-1&&et.textureCacheIds.push(tt),BaseTextureCache[tt]&&console.warn("BaseTexture added to the cache with an id ["+tt+"] that already had an entry"),BaseTextureCache[tt]=et)},j.removeFromCache=function(et){if(typeof et=="string"){var tt=BaseTextureCache[et];if(tt){var nt=tt.textureCacheIds.indexOf(et);return nt>-1&&tt.textureCacheIds.splice(nt,1),delete BaseTextureCache[et],tt}}else if(et&&et.textureCacheIds){for(var rt=0;rt<et.textureCacheIds.length;++rt)delete BaseTextureCache[et.textureCacheIds[rt]];return et.textureCacheIds.length=0,et}return null},j._globalBatch=0,j}(EventEmitter),AbstractMultiResource=function(_e){__extends$i(j,_e);function j(et,tt){var nt=this,rt=tt||{},it=rt.width,st=rt.height;nt=_e.call(this,it,st)||this,nt.items=[],nt.itemDirtyIds=[];for(var at=0;at<et;at++){var ot=new BaseTexture;nt.items.push(ot),nt.itemDirtyIds.push(-2)}return nt.length=et,nt._load=null,nt.baseTexture=null,nt}return j.prototype.initFromArray=function(et,tt){for(var nt=0;nt<this.length;nt++)!et[nt]||(et[nt].castToBaseTexture?this.addBaseTextureAt(et[nt].castToBaseTexture(),nt):et[nt]instanceof Resource?this.addResourceAt(et[nt],nt):this.addResourceAt(autoDetectResource(et[nt],tt),nt))},j.prototype.dispose=function(){for(var et=0,tt=this.length;et<tt;et++)this.items[et].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},j.prototype.addResourceAt=function(et,tt){if(!this.items[tt])throw new Error("Index "+tt+" is out of bounds");return et.valid&&!this.valid&&this.resize(et.width,et.height),this.items[tt].setResource(et),this},j.prototype.bind=function(et){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");_e.prototype.bind.call(this,et);for(var tt=0;tt<this.length;tt++)this.items[tt].parentTextureArray=et,this.items[tt].on("update",et.update,et)},j.prototype.unbind=function(et){_e.prototype.unbind.call(this,et);for(var tt=0;tt<this.length;tt++)this.items[tt].parentTextureArray=null,this.items[tt].off("update",et.update,et)},j.prototype.load=function(){var et=this;if(this._load)return this._load;var tt=this.items.map(function(rt){return rt.resource}).filter(function(rt){return rt}),nt=tt.map(function(rt){return rt.load()});return this._load=Promise.all(nt).then(function(){var rt=et.items[0],it=rt.realWidth,st=rt.realHeight;return et.resize(it,st),Promise.resolve(et)}),this._load},j}(Resource),ArrayResource=function(_e){__extends$i(j,_e);function j(et,tt){var nt=this,rt=tt||{},it=rt.width,st=rt.height,at,ot;return Array.isArray(et)?(at=et,ot=et.length):ot=et,nt=_e.call(this,ot,{width:it,height:st})||this,at&&nt.initFromArray(at,tt),nt}return j.prototype.addBaseTextureAt=function(et,tt){if(et.resource)this.addResourceAt(et.resource,tt);else throw new Error("ArrayResource does not support RenderTexture");return this},j.prototype.bind=function(et){_e.prototype.bind.call(this,et),et.target=TARGETS$5.TEXTURE_2D_ARRAY},j.prototype.upload=function(et,tt,nt){var rt=this,it=rt.length,st=rt.itemDirtyIds,at=rt.items,ot=et.gl;nt.dirtyId<0&&ot.texImage3D(ot.TEXTURE_2D_ARRAY,0,nt.internalFormat,this._width,this._height,it,0,tt.format,nt.type,null);for(var lt=0;lt<it;lt++){var ut=at[lt];st[lt]<ut.dirtyId&&(st[lt]=ut.dirtyId,ut.valid&&ot.texSubImage3D(ot.TEXTURE_2D_ARRAY,0,0,0,lt,ut.resource.width,ut.resource.height,1,tt.format,nt.type,ut.resource.source))}return!0},j}(AbstractMultiResource),BaseImageResource=function(_e){__extends$i(j,_e);function j(et){var tt=this,nt=et,rt=nt.naturalWidth||nt.videoWidth||nt.width,it=nt.naturalHeight||nt.videoHeight||nt.height;return tt=_e.call(this,rt,it)||this,tt.source=et,tt.noSubImage=!1,tt}return j.crossOrigin=function(et,tt,nt){nt===void 0&&tt.indexOf("data:")!==0?et.crossOrigin=determineCrossOrigin(tt):nt!==!1&&(et.crossOrigin=typeof nt=="string"?nt:"anonymous")},j.prototype.upload=function(et,tt,nt,rt){var it=et.gl,st=tt.realWidth,at=tt.realHeight;if(rt=rt||this.source,rt instanceof HTMLImageElement){if(!rt.complete||rt.naturalWidth===0)return!1}else if(rt instanceof HTMLVideoElement&&rt.readyState<=1)return!1;return it.pixelStorei(it.UNPACK_PREMULTIPLY_ALPHA_WEBGL,tt.alphaMode===ALPHA_MODES$5.UNPACK),!this.noSubImage&&tt.target===it.TEXTURE_2D&&nt.width===st&&nt.height===at?it.texSubImage2D(it.TEXTURE_2D,0,0,0,tt.format,nt.type,rt):(nt.width=st,nt.height=at,it.texImage2D(tt.target,0,nt.internalFormat,tt.format,nt.type,rt)),!0},j.prototype.update=function(){if(!this.destroyed){var et=this.source,tt=et.naturalWidth||et.videoWidth||et.width,nt=et.naturalHeight||et.videoHeight||et.height;this.resize(tt,nt),_e.prototype.update.call(this)}},j.prototype.dispose=function(){this.source=null},j}(Resource),CanvasResource=function(_e){__extends$i(j,_e);function j(et){return _e.call(this,et)||this}return j.test=function(et){var tt=globalThis.OffscreenCanvas;return tt&&et instanceof tt?!0:globalThis.HTMLCanvasElement&&et instanceof HTMLCanvasElement},j}(BaseImageResource),CubeResource=function(_e){__extends$i(j,_e);function j(et,tt){var nt=this,rt=tt||{},it=rt.width,st=rt.height,at=rt.autoLoad,ot=rt.linkBaseTexture;if(et&&et.length!==j.SIDES)throw new Error("Invalid length. Got "+et.length+", expected 6");nt=_e.call(this,6,{width:it,height:st})||this;for(var lt=0;lt<j.SIDES;lt++)nt.items[lt].target=TARGETS$5.TEXTURE_CUBE_MAP_POSITIVE_X+lt;return nt.linkBaseTexture=ot!==!1,et&&nt.initFromArray(et,tt),at!==!1&&nt.load(),nt}return j.prototype.bind=function(et){_e.prototype.bind.call(this,et),et.target=TARGETS$5.TEXTURE_CUBE_MAP},j.prototype.addBaseTextureAt=function(et,tt,nt){if(!this.items[tt])throw new Error("Index "+tt+" is out of bounds");if(!this.linkBaseTexture||et.parentTextureArray||Object.keys(et._glTextures).length>0)if(et.resource)this.addResourceAt(et.resource,tt);else throw new Error("CubeResource does not support copying of renderTexture.");else et.target=TARGETS$5.TEXTURE_CUBE_MAP_POSITIVE_X+tt,et.parentTextureArray=this.baseTexture,this.items[tt]=et;return et.valid&&!this.valid&&this.resize(et.realWidth,et.realHeight),this.items[tt]=et,this},j.prototype.upload=function(et,tt,nt){for(var rt=this.itemDirtyIds,it=0;it<j.SIDES;it++){var st=this.items[it];(rt[it]<st.dirtyId||nt.dirtyId<tt.dirtyId)&&(st.valid&&st.resource?(st.resource.upload(et,st,nt),rt[it]=st.dirtyId):rt[it]<-1&&(et.gl.texImage2D(st.target,0,nt.internalFormat,tt.realWidth,tt.realHeight,0,tt.format,nt.type,null),rt[it]=-1))}return!0},j.test=function(et){return Array.isArray(et)&&et.length===j.SIDES},j.SIDES=6,j}(AbstractMultiResource),ImageResource=function(_e){__extends$i(j,_e);function j(et,tt){var nt=this;if(tt=tt||{},!(et instanceof HTMLImageElement)){var rt=new Image;BaseImageResource.crossOrigin(rt,et,tt.crossorigin),rt.src=et,et=rt}return nt=_e.call(this,et)||this,!et.complete&&!!nt._width&&!!nt._height&&(nt._width=0,nt._height=0),nt.url=et.src,nt._process=null,nt.preserveBitmap=!1,nt.createBitmap=(tt.createBitmap!==void 0?tt.createBitmap:settings$1.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,nt.alphaMode=typeof tt.alphaMode=="number"?tt.alphaMode:null,nt.bitmap=null,nt._load=null,tt.autoLoad!==!1&&nt.load(),nt}return j.prototype.load=function(et){var tt=this;return this._load?this._load:(et!==void 0&&(this.createBitmap=et),this._load=new Promise(function(nt,rt){var it=tt.source;tt.url=it.src;var st=function(){tt.destroyed||(it.onload=null,it.onerror=null,tt.resize(it.width,it.height),tt._load=null,tt.createBitmap?nt(tt.process()):nt(tt))};it.complete&&it.src?st():(it.onload=st,it.onerror=function(at){rt(at),tt.onError.emit(at)})}),this._load)},j.prototype.process=function(){var et=this,tt=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var nt=globalThis.createImageBitmap,rt=!tt.crossOrigin||tt.crossOrigin==="anonymous";return this._process=fetch(tt.src,{mode:rt?"cors":"no-cors"}).then(function(it){return it.blob()}).then(function(it){return nt(it,0,0,tt.width,tt.height,{premultiplyAlpha:et.alphaMode===ALPHA_MODES$5.UNPACK?"premultiply":"none"})}).then(function(it){return et.destroyed?Promise.reject():(et.bitmap=it,et.update(),et._process=null,Promise.resolve(et))}),this._process},j.prototype.upload=function(et,tt,nt){if(typeof this.alphaMode=="number"&&(tt.alphaMode=this.alphaMode),!this.createBitmap)return _e.prototype.upload.call(this,et,tt,nt);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(_e.prototype.upload.call(this,et,tt,nt,this.bitmap),!this.preserveBitmap){var rt=!0,it=tt._glTextures;for(var st in it){var at=it[st];if(at!==nt&&at.dirtyId!==tt.dirtyId){rt=!1;break}}rt&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},j.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,_e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},j.test=function(et){return typeof et=="string"||et instanceof HTMLImageElement},j}(BaseImageResource),SVGResource=function(_e){__extends$i(j,_e);function j(et,tt){var nt=this;return tt=tt||{},nt=_e.call(this,document.createElement("canvas"))||this,nt._width=0,nt._height=0,nt.svg=et,nt.scale=tt.scale||1,nt._overrideWidth=tt.width,nt._overrideHeight=tt.height,nt._resolve=null,nt._crossorigin=tt.crossorigin,nt._load=null,tt.autoLoad!==!1&&nt.load(),nt}return j.prototype.load=function(){var et=this;return this._load?this._load:(this._load=new Promise(function(tt){if(et._resolve=function(){et.resize(et.source.width,et.source.height),tt(et)},j.SVG_XML.test(et.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");et.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(et.svg)))}et._loadSvg()}),this._load)},j.prototype._loadSvg=function(){var et=this,tt=new Image;BaseImageResource.crossOrigin(tt,this.svg,this._crossorigin),tt.src=this.svg,tt.onerror=function(nt){!et._resolve||(tt.onerror=null,et.onError.emit(nt))},tt.onload=function(){if(!!et._resolve){var nt=tt.width,rt=tt.height;if(!nt||!rt)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var it=nt*et.scale,st=rt*et.scale;(et._overrideWidth||et._overrideHeight)&&(it=et._overrideWidth||et._overrideHeight/rt*nt,st=et._overrideHeight||et._overrideWidth/nt*rt),it=Math.round(it),st=Math.round(st);var at=et.source;at.width=it,at.height=st,at._pixiId="canvas_"+uid(),at.getContext("2d").drawImage(tt,0,0,nt,rt,0,0,it,st),et._resolve(),et._resolve=null}}},j.getSize=function(et){var tt=j.SVG_SIZE.exec(et),nt={};return tt&&(nt[tt[1]]=Math.round(parseFloat(tt[3])),nt[tt[5]]=Math.round(parseFloat(tt[7]))),nt},j.prototype.dispose=function(){_e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},j.test=function(et,tt){return tt==="svg"||typeof et=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(et)||typeof et=="string"&&j.SVG_XML.test(et)},j.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,j.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,j}(BaseImageResource),VideoResource=function(_e){__extends$i(j,_e);function j(et,tt){var nt=this;if(tt=tt||{},!(et instanceof HTMLVideoElement)){var rt=document.createElement("video");rt.setAttribute("preload","auto"),rt.setAttribute("webkit-playsinline",""),rt.setAttribute("playsinline",""),typeof et=="string"&&(et=[et]);var it=et[0].src||et[0];BaseImageResource.crossOrigin(rt,it,tt.crossorigin);for(var st=0;st<et.length;++st){var at=document.createElement("source"),ot=et[st],lt=ot.src,ut=ot.mime;lt=lt||et[st];var ct=lt.split("?").shift().toLowerCase(),ht=ct.slice(ct.lastIndexOf(".")+1);ut=ut||j.MIME_TYPES[ht]||"video/"+ht,at.src=lt,at.type=ut,rt.appendChild(at)}et=rt}return nt=_e.call(this,et)||this,nt.noSubImage=!0,nt._autoUpdate=!0,nt._isConnectedToTicker=!1,nt._updateFPS=tt.updateFPS||0,nt._msToNextUpdate=0,nt.autoPlay=tt.autoPlay!==!1,nt._load=null,nt._resolve=null,nt._onCanPlay=nt._onCanPlay.bind(nt),nt._onError=nt._onError.bind(nt),tt.autoLoad!==!1&&nt.load(),nt}return j.prototype.update=function(et){if(!this.destroyed){var tt=Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-tt),(!this._updateFPS||this._msToNextUpdate<=0)&&(_e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},j.prototype.load=function(){var et=this;if(this._load)return this._load;var tt=this.source;return(tt.readyState===tt.HAVE_ENOUGH_DATA||tt.readyState===tt.HAVE_FUTURE_DATA)&&tt.width&&tt.height&&(tt.complete=!0),tt.addEventListener("play",this._onPlayStart.bind(this)),tt.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(tt.addEventListener("canplay",this._onCanPlay),tt.addEventListener("canplaythrough",this._onCanPlay),tt.addEventListener("error",this._onError,!0)),this._load=new Promise(function(nt){et.valid?nt(et):(et._resolve=nt,tt.load())}),this._load},j.prototype._onError=function(et){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(et)},j.prototype._isSourcePlaying=function(){var et=this.source;return et.currentTime>0&&et.paused===!1&&et.ended===!1&&et.readyState>2},j.prototype._isSourceReady=function(){var et=this.source;return et.readyState===3||et.readyState===4},j.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)},j.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)},j.prototype._onCanPlay=function(){var et=this.source;et.removeEventListener("canplay",this._onCanPlay),et.removeEventListener("canplaythrough",this._onCanPlay);var tt=this.valid;this.resize(et.videoWidth,et.videoHeight),!tt&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&et.play()},j.prototype.dispose=function(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);var et=this.source;et&&(et.removeEventListener("error",this._onError,!0),et.pause(),et.src="",et.load()),_e.prototype.dispose.call(this)},Object.defineProperty(j.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(et){et!==this._autoUpdate&&(this._autoUpdate=et,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(et){et!==this._updateFPS&&(this._updateFPS=et)},enumerable:!1,configurable:!0}),j.test=function(et,tt){return globalThis.HTMLVideoElement&&et instanceof HTMLVideoElement||j.TYPES.indexOf(tt)>-1},j.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],j.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},j}(BaseImageResource),ImageBitmapResource=function(_e){__extends$i(j,_e);function j(et){return _e.call(this,et)||this}return j.test=function(et){return!!globalThis.createImageBitmap&&typeof ImageBitmap!="undefined"&&et instanceof ImageBitmap},j}(BaseImageResource);INSTALLED.push(ImageResource,ImageBitmapResource,CanvasResource,VideoResource,SVGResource,BufferResource,CubeResource,ArrayResource);var DepthResource=function(_e){__extends$i(j,_e);function j(){return _e!==null&&_e.apply(this,arguments)||this}return j.prototype.upload=function(et,tt,nt){var rt=et.gl;rt.pixelStorei(rt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,tt.alphaMode===ALPHA_MODES$5.UNPACK);var it=tt.realWidth,st=tt.realHeight;return nt.width===it&&nt.height===st?rt.texSubImage2D(tt.target,0,0,0,it,st,tt.format,nt.type,this.data):(nt.width=it,nt.height=st,rt.texImage2D(tt.target,0,nt.internalFormat,it,st,0,tt.format,nt.type,this.data)),!0},j}(BufferResource),Framebuffer=function(){function _e(j,et){this.width=Math.round(j||100),this.height=Math.round(et||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Runner("disposeFramebuffer"),this.multisample=MSAA_QUALITY$5.NONE}return Object.defineProperty(_e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),_e.prototype.addColorTexture=function(j,et){return j===void 0&&(j=0),this.colorTextures[j]=et||new BaseTexture(null,{scaleMode:SCALE_MODES$5.NEAREST,resolution:1,mipmap:MIPMAP_MODES$5.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},_e.prototype.addDepthTexture=function(j){return this.depthTexture=j||new BaseTexture(new DepthResource(null,{width:this.width,height:this.height}),{scaleMode:SCALE_MODES$5.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:MIPMAP_MODES$5.OFF,format:FORMATS$5.DEPTH_COMPONENT,type:TYPES$5.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},_e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},_e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},_e.prototype.resize=function(j,et){if(j=Math.round(j),et=Math.round(et),!(j===this.width&&et===this.height)){this.width=j,this.height=et,this.dirtyId++,this.dirtySize++;for(var tt=0;tt<this.colorTextures.length;tt++){var nt=this.colorTextures[tt],rt=nt.resolution;nt.setSize(j/rt,et/rt)}if(this.depthTexture){var rt=this.depthTexture.resolution;this.depthTexture.setSize(j/rt,et/rt)}}},_e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},_e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},_e}(),BaseRenderTexture=function(_e){__extends$i(j,_e);function j(et){et===void 0&&(et={});var tt=this;if(typeof et=="number"){var nt=arguments[0],rt=arguments[1],it=arguments[2],st=arguments[3];et={width:nt,height:rt,scaleMode:it,resolution:st}}return et.width=et.width||100,et.height=et.height||100,et.multisample=et.multisample!==void 0?et.multisample:MSAA_QUALITY$5.NONE,tt=_e.call(this,null,et)||this,tt.mipmap=MIPMAP_MODES$5.OFF,tt.valid=!0,tt.clearColor=[0,0,0,0],tt.framebuffer=new Framebuffer(tt.realWidth,tt.realHeight).addColorTexture(0,tt),tt.framebuffer.multisample=et.multisample,tt.maskStack=[],tt.filterStack=[{}],tt}return j.prototype.resize=function(et,tt){this.framebuffer.resize(et*this.resolution,tt*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},j.prototype.dispose=function(){this.framebuffer.dispose(),_e.prototype.dispose.call(this)},j.prototype.destroy=function(){_e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},j}(BaseTexture),TextureUvs=function(){function _e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return _e.prototype.set=function(j,et,tt){var nt=et.width,rt=et.height;if(tt){var it=j.width/2/nt,st=j.height/2/rt,at=j.x/nt+it,ot=j.y/rt+st;tt=groupD8.add(tt,groupD8.NW),this.x0=at+it*groupD8.uX(tt),this.y0=ot+st*groupD8.uY(tt),tt=groupD8.add(tt,2),this.x1=at+it*groupD8.uX(tt),this.y1=ot+st*groupD8.uY(tt),tt=groupD8.add(tt,2),this.x2=at+it*groupD8.uX(tt),this.y2=ot+st*groupD8.uY(tt),tt=groupD8.add(tt,2),this.x3=at+it*groupD8.uX(tt),this.y3=ot+st*groupD8.uY(tt)}else this.x0=j.x/nt,this.y0=j.y/rt,this.x1=(j.x+j.width)/nt,this.y1=j.y/rt,this.x2=(j.x+j.width)/nt,this.y2=(j.y+j.height)/rt,this.x3=j.x/nt,this.y3=(j.y+j.height)/rt;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},_e.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},_e}(),DEFAULT_UVS=new TextureUvs;function removeAllHandlers(_e){_e.destroy=function(){},_e.on=function(){},_e.once=function(){},_e.emit=function(){}}var Texture$1=function(_e){__extends$i(j,_e);function j(et,tt,nt,rt,it,st){var at=_e.call(this)||this;if(at.noFrame=!1,tt||(at.noFrame=!0,tt=new Rectangle(0,0,1,1)),et instanceof j&&(et=et.baseTexture),at.baseTexture=et,at._frame=tt,at.trim=rt,at.valid=!1,at._uvs=DEFAULT_UVS,at.uvMatrix=null,at.orig=nt||tt,at._rotate=Number(it||0),it===!0)at._rotate=2;else if(at._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return at.defaultAnchor=st?new Point(st.x,st.y):new Point(0,0),at._updateID=0,at.textureCacheIds=[],et.valid?at.noFrame?et.valid&&at.onBaseTextureUpdated(et):at.frame=tt:et.once("loaded",at.onBaseTextureUpdated,at),at.noFrame&&et.on("update",at.onBaseTextureUpdated,at),at}return j.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},j.prototype.onBaseTextureUpdated=function(et){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=et.width,this._frame.height=et.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},j.prototype.destroy=function(et){if(this.baseTexture){if(et){var tt=this.baseTexture.resource;tt&&tt.url&&TextureCache[tt.url]&&j.removeFromCache(tt.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,j.removeFromCache(this),this.textureCacheIds=null},j.prototype.clone=function(){var et=this._frame.clone(),tt=this._frame===this.orig?et:this.orig.clone(),nt=new j(this.baseTexture,!this.noFrame&&et,tt,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(nt._frame=et),nt},j.prototype.updateUvs=function(){this._uvs===DEFAULT_UVS&&(this._uvs=new TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},j.from=function(et,tt,nt){tt===void 0&&(tt={}),nt===void 0&&(nt=settings$1.STRICT_TEXTURE_CACHE);var rt=typeof et=="string",it=null;if(rt)it=et;else if(et instanceof BaseTexture){if(!et.cacheId){var st=tt&&tt.pixiIdPrefix||"pixiid";et.cacheId=st+"-"+uid(),BaseTexture.addToCache(et,et.cacheId)}it=et.cacheId}else{if(!et._pixiId){var st=tt&&tt.pixiIdPrefix||"pixiid";et._pixiId=st+"_"+uid()}it=et._pixiId}var at=TextureCache[it];if(rt&&nt&&!at)throw new Error('The cacheId "'+it+'" does not exist in TextureCache.');return!at&&!(et instanceof BaseTexture)?(tt.resolution||(tt.resolution=getResolutionOfUrl(et)),at=new j(new BaseTexture(et,tt)),at.baseTexture.cacheId=it,BaseTexture.addToCache(at.baseTexture,it),j.addToCache(at,it)):!at&&et instanceof BaseTexture&&(at=new j(et),j.addToCache(at,it)),at},j.fromURL=function(et,tt){var nt=Object.assign({autoLoad:!1},tt==null?void 0:tt.resourceOptions),rt=j.from(et,Object.assign({resourceOptions:nt},tt),!1),it=rt.baseTexture.resource;return rt.baseTexture.valid?Promise.resolve(rt):it.load().then(function(){return Promise.resolve(rt)})},j.fromBuffer=function(et,tt,nt,rt){return new j(BaseTexture.fromBuffer(et,tt,nt,rt))},j.fromLoader=function(et,tt,nt,rt){var it=new BaseTexture(et,Object.assign({scaleMode:settings$1.SCALE_MODE,resolution:getResolutionOfUrl(tt)},rt)),st=it.resource;st instanceof ImageResource&&(st.url=tt);var at=new j(it);return nt||(nt=tt),BaseTexture.addToCache(at.baseTexture,nt),j.addToCache(at,nt),nt!==tt&&(BaseTexture.addToCache(at.baseTexture,tt),j.addToCache(at,tt)),at.baseTexture.valid?Promise.resolve(at):new Promise(function(ot){at.baseTexture.once("loaded",function(){return ot(at)})})},j.addToCache=function(et,tt){tt&&(et.textureCacheIds.indexOf(tt)===-1&&et.textureCacheIds.push(tt),TextureCache[tt]&&console.warn("Texture added to the cache with an id ["+tt+"] that already had an entry"),TextureCache[tt]=et)},j.removeFromCache=function(et){if(typeof et=="string"){var tt=TextureCache[et];if(tt){var nt=tt.textureCacheIds.indexOf(et);return nt>-1&&tt.textureCacheIds.splice(nt,1),delete TextureCache[et],tt}}else if(et&&et.textureCacheIds){for(var rt=0;rt<et.textureCacheIds.length;++rt)TextureCache[et.textureCacheIds[rt]]===et&&delete TextureCache[et.textureCacheIds[rt]];return et.textureCacheIds.length=0,et}return null},Object.defineProperty(j.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"frame",{get:function(){return this._frame},set:function(et){this._frame=et,this.noFrame=!1;var tt=et.x,nt=et.y,rt=et.width,it=et.height,st=tt+rt>this.baseTexture.width,at=nt+it>this.baseTexture.height;if(st||at){var ot=st&&at?"and":"or",lt="X: "+tt+" + "+rt+" = "+(tt+rt)+" > "+this.baseTexture.width,ut="Y: "+nt+" + "+it+" = "+(nt+it)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(lt+" "+ot+" "+ut))}this.valid=rt&&it&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=et),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"rotate",{get:function(){return this._rotate},set:function(et){this._rotate=et,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),j.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(j,"EMPTY",{get:function(){return j._EMPTY||(j._EMPTY=new j(new BaseTexture),removeAllHandlers(j._EMPTY),removeAllHandlers(j._EMPTY.baseTexture)),j._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(j,"WHITE",{get:function(){if(!j._WHITE){var et=settings$1.ADAPTER.createCanvas(16,16),tt=et.getContext("2d");et.width=16,et.height=16,tt.fillStyle="white",tt.fillRect(0,0,16,16),j._WHITE=new j(BaseTexture.from(et)),removeAllHandlers(j._WHITE),removeAllHandlers(j._WHITE.baseTexture)}return j._WHITE},enumerable:!1,configurable:!0}),j}(EventEmitter),RenderTexture=function(_e){__extends$i(j,_e);function j(et,tt){var nt=_e.call(this,et,tt)||this;return nt.valid=!0,nt.filterFrame=null,nt.filterPoolKey=null,nt.updateUvs(),nt}return Object.defineProperty(j.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(et){this.framebuffer.multisample=et},enumerable:!1,configurable:!0}),j.prototype.resize=function(et,tt,nt){nt===void 0&&(nt=!0);var rt=this.baseTexture.resolution,it=Math.round(et*rt)/rt,st=Math.round(tt*rt)/rt;this.valid=it>0&&st>0,this._frame.width=this.orig.width=it,this._frame.height=this.orig.height=st,nt&&this.baseTexture.resize(it,st),this.updateUvs()},j.prototype.setResolution=function(et){var tt=this.baseTexture;tt.resolution!==et&&(tt.setResolution(et),this.resize(tt.width,tt.height,!1))},j.create=function(et){for(var tt=arguments,nt=[],rt=1;rt<arguments.length;rt++)nt[rt-1]=tt[rt];return typeof et=="number"&&(deprecation$1("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),et={width:et,height:nt[0],scaleMode:nt[1],resolution:nt[2]}),new j(new BaseRenderTexture(et))},j}(Texture$1),RenderTexturePool=function(){function _e(j){this.texturePool={},this.textureOptions=j||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return _e.prototype.createTexture=function(j,et,tt){tt===void 0&&(tt=MSAA_QUALITY$5.NONE);var nt=new BaseRenderTexture(Object.assign({width:j,height:et,resolution:1,multisample:tt},this.textureOptions));return new RenderTexture(nt)},_e.prototype.getOptimalTexture=function(j,et,tt,nt){tt===void 0&&(tt=1),nt===void 0&&(nt=MSAA_QUALITY$5.NONE);var rt;j=Math.ceil(j*tt-1e-6),et=Math.ceil(et*tt-1e-6),!this.enableFullScreen||j!==this._pixelsWidth||et!==this._pixelsHeight?(j=nextPow2(j),et=nextPow2(et),rt=((j&65535)<<16|et&65535)>>>0,nt>1&&(rt+=nt*4294967296)):rt=nt>1?-nt:-1,this.texturePool[rt]||(this.texturePool[rt]=[]);var it=this.texturePool[rt].pop();return it||(it=this.createTexture(j,et,nt)),it.filterPoolKey=rt,it.setResolution(tt),it},_e.prototype.getFilterTexture=function(j,et,tt){var nt=this.getOptimalTexture(j.width,j.height,et||j.resolution,tt||MSAA_QUALITY$5.NONE);return nt.filterFrame=j.filterFrame,nt},_e.prototype.returnTexture=function(j){var et=j.filterPoolKey;j.filterFrame=null,this.texturePool[et].push(j)},_e.prototype.returnFilterTexture=function(j){this.returnTexture(j)},_e.prototype.clear=function(j){if(j=j!==!1,j)for(var et in this.texturePool){var tt=this.texturePool[et];if(tt)for(var nt=0;nt<tt.length;nt++)tt[nt].destroy(!0)}this.texturePool={}},_e.prototype.setScreenSize=function(j){if(!(j.width===this._pixelsWidth&&j.height===this._pixelsHeight)){this.enableFullScreen=j.width>0&&j.height>0;for(var et in this.texturePool)if(Number(et)<0){var tt=this.texturePool[et];if(tt)for(var nt=0;nt<tt.length;nt++)tt[nt].destroy(!0);this.texturePool[et]=[]}this._pixelsWidth=j.width,this._pixelsHeight=j.height}},_e.SCREEN_KEY=-1,_e}(),Attribute=function(){function _e(j,et,tt,nt,rt,it,st){et===void 0&&(et=0),tt===void 0&&(tt=!1),nt===void 0&&(nt=TYPES$5.FLOAT),this.buffer=j,this.size=et,this.normalized=tt,this.type=nt,this.stride=rt,this.start=it,this.instance=st}return _e.prototype.destroy=function(){this.buffer=null},_e.from=function(j,et,tt,nt,rt){return new _e(j,et,tt,nt,rt)},_e}(),UID$4=0,Buffer=function(){function _e(j,et,tt){et===void 0&&(et=!0),tt===void 0&&(tt=!1),this.data=j||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=tt,this.static=et,this.id=UID$4++,this.disposeRunner=new Runner("disposeBuffer")}return _e.prototype.update=function(j){j instanceof Array&&(j=new Float32Array(j)),this.data=j||this.data,this._updateID++},_e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},_e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(_e.prototype,"index",{get:function(){return this.type===BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER},set:function(j){this.type=j?BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER:BUFFER_TYPE$5.ARRAY_BUFFER},enumerable:!1,configurable:!0}),_e.from=function(j){return j instanceof Array&&(j=new Float32Array(j)),new _e(j)},_e}(),map$1={Float32Array,Uint32Array,Int32Array,Uint8Array};function interleaveTypedArrays(_e,j){for(var et=0,tt=0,nt={},rt=0;rt<_e.length;rt++)tt+=j[rt],et+=_e[rt].length;for(var it=new ArrayBuffer(et*4),st=null,at=0,rt=0;rt<_e.length;rt++){var ot=j[rt],lt=_e[rt],ut=getBufferType(lt);nt[ut]||(nt[ut]=new map$1[ut](it)),st=nt[ut];for(var ct=0;ct<lt.length;ct++){var ht=(ct/ot|0)*tt+at,pt=ct%ot;st[ht+pt]=lt[ct]}at+=ot}return new Float32Array(it)}var byteSizeMap$1={5126:4,5123:2,5121:1},UID$3=0,map$2={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Geometry=function(){function _e(j,et){j===void 0&&(j=[]),et===void 0&&(et={}),this.buffers=j,this.indexBuffer=null,this.attributes=et,this.glVertexArrayObjects={},this.id=UID$3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Runner("disposeGeometry"),this.refCount=0}return _e.prototype.addAttribute=function(j,et,tt,nt,rt,it,st,at){if(tt===void 0&&(tt=0),nt===void 0&&(nt=!1),at===void 0&&(at=!1),!et)throw new Error("You must pass a buffer when creating an attribute");et instanceof Buffer||(et instanceof Array&&(et=new Float32Array(et)),et=new Buffer(et));var ot=j.split("|");if(ot.length>1){for(var lt=0;lt<ot.length;lt++)this.addAttribute(ot[lt],et,tt,nt,rt);return this}var ut=this.buffers.indexOf(et);return ut===-1&&(this.buffers.push(et),ut=this.buffers.length-1),this.attributes[j]=new Attribute(ut,tt,nt,rt,it,st,at),this.instanced=this.instanced||at,this},_e.prototype.getAttribute=function(j){return this.attributes[j]},_e.prototype.getBuffer=function(j){return this.buffers[this.getAttribute(j).buffer]},_e.prototype.addIndex=function(j){return j instanceof Buffer||(j instanceof Array&&(j=new Uint16Array(j)),j=new Buffer(j)),j.type=BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER,this.indexBuffer=j,this.buffers.indexOf(j)===-1&&this.buffers.push(j),this},_e.prototype.getIndex=function(){return this.indexBuffer},_e.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var j=[],et=[],tt=new Buffer,nt;for(nt in this.attributes){var rt=this.attributes[nt],it=this.buffers[rt.buffer];j.push(it.data),et.push(rt.size*byteSizeMap$1[rt.type]/4),rt.buffer=0}for(tt.data=interleaveTypedArrays(j,et),nt=0;nt<this.buffers.length;nt++)this.buffers[nt]!==this.indexBuffer&&this.buffers[nt].destroy();return this.buffers=[tt],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},_e.prototype.getSize=function(){for(var j in this.attributes){var et=this.attributes[j],tt=this.buffers[et.buffer];return tt.data.length/(et.stride/4||et.size)}return 0},_e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},_e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},_e.prototype.clone=function(){for(var j=new _e,et=0;et<this.buffers.length;et++)j.buffers[et]=new Buffer(this.buffers[et].data.slice(0));for(var et in this.attributes){var tt=this.attributes[et];j.attributes[et]=new Attribute(tt.buffer,tt.size,tt.normalized,tt.type,tt.stride,tt.start,tt.instance)}return this.indexBuffer&&(j.indexBuffer=j.buffers[this.buffers.indexOf(this.indexBuffer)],j.indexBuffer.type=BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER),j},_e.merge=function(j){for(var et=new _e,tt=[],nt=[],rt=[],it,st=0;st<j.length;st++){it=j[st];for(var at=0;at<it.buffers.length;at++)nt[at]=nt[at]||0,nt[at]+=it.buffers[at].data.length,rt[at]=0}for(var st=0;st<it.buffers.length;st++)tt[st]=new map$2[getBufferType(it.buffers[st].data)](nt[st]),et.buffers[st]=new Buffer(tt[st]);for(var st=0;st<j.length;st++){it=j[st];for(var at=0;at<it.buffers.length;at++)tt[at].set(it.buffers[at].data,rt[at]),rt[at]+=it.buffers[at].data.length}if(et.attributes=it.attributes,it.indexBuffer){et.indexBuffer=et.buffers[it.buffers.indexOf(it.indexBuffer)],et.indexBuffer.type=BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER;for(var ot=0,lt=0,ut=0,ct=0,st=0;st<it.buffers.length;st++)if(it.buffers[st]!==it.indexBuffer){ct=st;break}for(var st in it.attributes){var ht=it.attributes[st];(ht.buffer|0)===ct&&(lt+=ht.size*byteSizeMap$1[ht.type]/4)}for(var st=0;st<j.length;st++){for(var pt=j[st].indexBuffer.data,at=0;at<pt.length;at++)et.indexBuffer.data[at+ut]+=ot;ot+=j[st].buffers[ct].data.length/lt,ut+=pt.length}}return et},_e}(),Quad=function(_e){__extends$i(j,_e);function j(){var et=_e.call(this)||this;return et.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),et}return j}(Geometry),QuadUv=function(_e){__extends$i(j,_e);function j(){var et=_e.call(this)||this;return et.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),et.uvs=new Float32Array([0,0,1,0,1,1,0,1]),et.vertexBuffer=new Buffer(et.vertices),et.uvBuffer=new Buffer(et.uvs),et.addAttribute("aVertexPosition",et.vertexBuffer).addAttribute("aTextureCoord",et.uvBuffer).addIndex([0,1,2,0,2,3]),et}return j.prototype.map=function(et,tt){var nt=0,rt=0;return this.uvs[0]=nt,this.uvs[1]=rt,this.uvs[2]=nt+tt.width/et.width,this.uvs[3]=rt,this.uvs[4]=nt+tt.width/et.width,this.uvs[5]=rt+tt.height/et.height,this.uvs[6]=nt,this.uvs[7]=rt+tt.height/et.height,nt=tt.x,rt=tt.y,this.vertices[0]=nt,this.vertices[1]=rt,this.vertices[2]=nt+tt.width,this.vertices[3]=rt,this.vertices[4]=nt+tt.width,this.vertices[5]=rt+tt.height,this.vertices[6]=nt,this.vertices[7]=rt+tt.height,this.invalidate(),this},j.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},j}(Geometry),UID$2=0,UniformGroup=function(){function _e(j,et,tt){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UID$2++,this.static=!!et,this.ubo=!!tt,j instanceof Buffer?(this.buffer=j,this.buffer.type=BUFFER_TYPE$5.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=j,this.ubo&&(this.buffer=new Buffer(new Float32Array(1)),this.buffer.type=BUFFER_TYPE$5.UNIFORM_BUFFER,this.autoManage=!0))}return _e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},_e.prototype.add=function(j,et,tt){if(!this.ubo)this.uniforms[j]=new _e(et,tt);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},_e.from=function(j,et,tt){return new _e(j,et,tt)},_e.uboFrom=function(j,et){return new _e(j,et!=null?et:!0,!0)},_e}(),FilterState=function(){function _e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=MSAA_QUALITY$5.NONE,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.bindingSourceFrame=new Rectangle,this.bindingDestinationFrame=new Rectangle,this.filters=[],this.transform=null}return _e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},_e}(),tempPoints=[new Point,new Point,new Point,new Point],tempMatrix$2=new Matrix,FilterSystem=function(){function _e(j){this.renderer=j,this.defaultFilterStack=[{}],this.texturePool=new RenderTexturePool,this.texturePool.setScreenSize(j.view),this.statePool=[],this.quad=new Quad,this.quadUv=new QuadUv,this.tempRect=new Rectangle,this.activeState={},this.globalUniforms=new UniformGroup({outputFrame:new Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return _e.prototype.push=function(j,et){for(var tt,nt,rt=this.renderer,it=this.defaultFilterStack,st=this.statePool.pop()||new FilterState,at=this.renderer.renderTexture,ot=et[0].resolution,lt=et[0].multisample,ut=et[0].padding,ct=et[0].autoFit,ht=(tt=et[0].legacy)!==null&&tt!==void 0?tt:!0,pt=1;pt<et.length;pt++){var gt=et[pt];ot=Math.min(ot,gt.resolution),lt=Math.min(lt,gt.multisample),ut=this.useMaxPadding?Math.max(ut,gt.padding):ut+gt.padding,ct=ct&&gt.autoFit,ht=ht||((nt=gt.legacy)!==null&&nt!==void 0?nt:!0)}it.length===1&&(this.defaultFilterStack[0].renderTexture=at.current),it.push(st),st.resolution=ot,st.multisample=lt,st.legacy=ht,st.target=j,st.sourceFrame.copyFrom(j.filterArea||j.getBounds(!0)),st.sourceFrame.pad(ut);var vt=this.tempRect.copyFrom(at.sourceFrame);rt.projection.transform&&this.transformAABB(tempMatrix$2.copyFrom(rt.projection.transform).invert(),vt),ct?(st.sourceFrame.fit(vt),(st.sourceFrame.width<=0||st.sourceFrame.height<=0)&&(st.sourceFrame.width=0,st.sourceFrame.height=0)):st.sourceFrame.intersects(vt)||(st.sourceFrame.width=0,st.sourceFrame.height=0),this.roundFrame(st.sourceFrame,at.current?at.current.resolution:rt.resolution,at.sourceFrame,at.destinationFrame,rt.projection.transform),st.renderTexture=this.getOptimalFilterTexture(st.sourceFrame.width,st.sourceFrame.height,ot,lt),st.filters=et,st.destinationFrame.width=st.renderTexture.width,st.destinationFrame.height=st.renderTexture.height;var ft=this.tempRect;ft.x=0,ft.y=0,ft.width=st.sourceFrame.width,ft.height=st.sourceFrame.height,st.renderTexture.filterFrame=st.sourceFrame,st.bindingSourceFrame.copyFrom(at.sourceFrame),st.bindingDestinationFrame.copyFrom(at.destinationFrame),st.transform=rt.projection.transform,rt.projection.transform=null,at.bind(st.renderTexture,st.sourceFrame,ft),rt.framebuffer.clear(0,0,0,0)},_e.prototype.pop=function(){var j=this.defaultFilterStack,et=j.pop(),tt=et.filters;this.activeState=et;var nt=this.globalUniforms.uniforms;nt.outputFrame=et.sourceFrame,nt.resolution=et.resolution;var rt=nt.inputSize,it=nt.inputPixel,st=nt.inputClamp;if(rt[0]=et.destinationFrame.width,rt[1]=et.destinationFrame.height,rt[2]=1/rt[0],rt[3]=1/rt[1],it[0]=Math.round(rt[0]*et.resolution),it[1]=Math.round(rt[1]*et.resolution),it[2]=1/it[0],it[3]=1/it[1],st[0]=.5*it[2],st[1]=.5*it[3],st[2]=et.sourceFrame.width*rt[2]-.5*it[2],st[3]=et.sourceFrame.height*rt[3]-.5*it[3],et.legacy){var at=nt.filterArea;at[0]=et.destinationFrame.width,at[1]=et.destinationFrame.height,at[2]=et.sourceFrame.x,at[3]=et.sourceFrame.y,nt.filterClamp=nt.inputClamp}this.globalUniforms.update();var ot=j[j.length-1];if(this.renderer.framebuffer.blit(),tt.length===1)tt[0].apply(this,et.renderTexture,ot.renderTexture,CLEAR_MODES$5.BLEND,et),this.returnFilterTexture(et.renderTexture);else{var lt=et.renderTexture,ut=this.getOptimalFilterTexture(lt.width,lt.height,et.resolution);ut.filterFrame=lt.filterFrame;var ct=0;for(ct=0;ct<tt.length-1;++ct){ct===1&&et.multisample>1&&(ut=this.getOptimalFilterTexture(lt.width,lt.height,et.resolution),ut.filterFrame=lt.filterFrame),tt[ct].apply(this,lt,ut,CLEAR_MODES$5.CLEAR,et);var ht=lt;lt=ut,ut=ht}tt[ct].apply(this,lt,ot.renderTexture,CLEAR_MODES$5.BLEND,et),ct>1&&et.multisample>1&&this.returnFilterTexture(et.renderTexture),this.returnFilterTexture(lt),this.returnFilterTexture(ut)}et.clear(),this.statePool.push(et)},_e.prototype.bindAndClear=function(j,et){et===void 0&&(et=CLEAR_MODES$5.CLEAR);var tt=this.renderer,nt=tt.renderTexture,rt=tt.state;if(j===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,j&&j.filterFrame){var it=this.tempRect;it.x=0,it.y=0,it.width=j.filterFrame.width,it.height=j.filterFrame.height,nt.bind(j,j.filterFrame,it)}else j!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?nt.bind(j):this.renderer.renderTexture.bind(j,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var st=rt.stateId&1||this.forceClear;(et===CLEAR_MODES$5.CLEAR||et===CLEAR_MODES$5.BLIT&&st)&&this.renderer.framebuffer.clear(0,0,0,0)},_e.prototype.applyFilter=function(j,et,tt,nt){var rt=this.renderer;rt.state.set(j.state),this.bindAndClear(tt,nt),j.uniforms.uSampler=et,j.uniforms.filterGlobals=this.globalUniforms,rt.shader.bind(j),j.legacy=!!j.program.attributeData.aTextureCoord,j.legacy?(this.quadUv.map(et._frame,et.filterFrame),rt.geometry.bind(this.quadUv),rt.geometry.draw(DRAW_MODES$5.TRIANGLES)):(rt.geometry.bind(this.quad),rt.geometry.draw(DRAW_MODES$5.TRIANGLE_STRIP))},_e.prototype.calculateSpriteMatrix=function(j,et){var tt=this.activeState,nt=tt.sourceFrame,rt=tt.destinationFrame,it=et._texture.orig,st=j.set(rt.width,0,0,rt.height,nt.x,nt.y),at=et.worldTransform.copyTo(Matrix.TEMP_MATRIX);return at.invert(),st.prepend(at),st.scale(1/it.width,1/it.height),st.translate(et.anchor.x,et.anchor.y),st},_e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},_e.prototype.getOptimalFilterTexture=function(j,et,tt,nt){return tt===void 0&&(tt=1),nt===void 0&&(nt=MSAA_QUALITY$5.NONE),this.texturePool.getOptimalTexture(j,et,tt,nt)},_e.prototype.getFilterTexture=function(j,et,tt){if(typeof j=="number"){var nt=j;j=et,et=nt}j=j||this.activeState.renderTexture;var rt=this.texturePool.getOptimalTexture(j.width,j.height,et||j.resolution,tt||MSAA_QUALITY$5.NONE);return rt.filterFrame=j.filterFrame,rt},_e.prototype.returnFilterTexture=function(j){this.texturePool.returnTexture(j)},_e.prototype.emptyPool=function(){this.texturePool.clear(!0)},_e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},_e.prototype.transformAABB=function(j,et){var tt=tempPoints[0],nt=tempPoints[1],rt=tempPoints[2],it=tempPoints[3];tt.set(et.left,et.top),nt.set(et.left,et.bottom),rt.set(et.right,et.top),it.set(et.right,et.bottom),j.apply(tt,tt),j.apply(nt,nt),j.apply(rt,rt),j.apply(it,it);var st=Math.min(tt.x,nt.x,rt.x,it.x),at=Math.min(tt.y,nt.y,rt.y,it.y),ot=Math.max(tt.x,nt.x,rt.x,it.x),lt=Math.max(tt.y,nt.y,rt.y,it.y);et.x=st,et.y=at,et.width=ot-st,et.height=lt-at},_e.prototype.roundFrame=function(j,et,tt,nt,rt){if(!(j.width<=0||j.height<=0||tt.width<=0||tt.height<=0)){if(rt){var it=rt.a,st=rt.b,at=rt.c,ot=rt.d;if((Math.abs(st)>1e-4||Math.abs(at)>1e-4)&&(Math.abs(it)>1e-4||Math.abs(ot)>1e-4))return}rt=rt?tempMatrix$2.copyFrom(rt):tempMatrix$2.identity(),rt.translate(-tt.x,-tt.y).scale(nt.width/tt.width,nt.height/tt.height).translate(nt.x,nt.y),this.transformAABB(rt,j),j.ceil(et),this.transformAABB(rt.invert(),j)}},_e}(),ObjectRenderer=function(){function _e(j){this.renderer=j}return _e.prototype.flush=function(){},_e.prototype.destroy=function(){this.renderer=null},_e.prototype.start=function(){},_e.prototype.stop=function(){this.flush()},_e.prototype.render=function(j){},_e}(),BatchSystem=function(){function _e(j){this.renderer=j,this.emptyRenderer=new ObjectRenderer(j),this.currentRenderer=this.emptyRenderer}return _e.prototype.setObjectRenderer=function(j){this.currentRenderer!==j&&(this.currentRenderer.stop(),this.currentRenderer=j,this.currentRenderer.start())},_e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},_e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},_e.prototype.copyBoundTextures=function(j,et){for(var tt=this.renderer.texture.boundTextures,nt=et-1;nt>=0;--nt)j[nt]=tt[nt]||null,j[nt]&&(j[nt]._batchLocation=nt)},_e.prototype.boundArray=function(j,et,tt,nt){for(var rt=j.elements,it=j.ids,st=j.count,at=0,ot=0;ot<st;ot++){var lt=rt[ot],ut=lt._batchLocation;if(ut>=0&&ut<nt&&et[ut]===lt){it[ot]=ut;continue}for(;at<nt;){var ct=et[at];if(ct&&ct._batchEnabled===tt&&ct._batchLocation===at){at++;continue}it[ot]=at,lt._batchLocation=at,et[at]=lt;break}}},_e.prototype.destroy=function(){this.renderer=null},_e}(),CONTEXT_UID_COUNTER=0,ContextSystem=function(){function _e(j){this.renderer=j,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),j.view.addEventListener("webglcontextlost",this.handleContextLost,!1),j.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(_e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),_e.prototype.contextChange=function(j){this.gl=j,this.renderer.gl=j,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,j.isContextLost()&&j.getExtension("WEBGL_lose_context")&&j.getExtension("WEBGL_lose_context").restoreContext()},_e.prototype.initFromContext=function(j){this.gl=j,this.validateContext(j),this.renderer.gl=j,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,this.renderer.runners.contextChange.emit(j)},_e.prototype.initFromOptions=function(j){var et=this.createContext(this.renderer.view,j);this.initFromContext(et)},_e.prototype.createContext=function(j,et){var tt;if(settings$1.PREFER_ENV>=ENV$5.WEBGL2&&(tt=j.getContext("webgl2",et)),tt)this.webGLVersion=2;else if(this.webGLVersion=1,tt=j.getContext("webgl",et)||j.getContext("experimental-webgl",et),!tt)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=tt,this.getExtensions(),this.gl},_e.prototype.getExtensions=function(){var j=this.gl,et={anisotropicFiltering:j.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:j.getExtension("OES_texture_float_linear"),s3tc:j.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:j.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:j.getExtension("WEBGL_compressed_texture_etc"),etc1:j.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:j.getExtension("WEBGL_compressed_texture_pvrtc")||j.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:j.getExtension("WEBGL_compressed_texture_atc"),astc:j.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,et,{drawBuffers:j.getExtension("WEBGL_draw_buffers"),depthTexture:j.getExtension("WEBGL_depth_texture"),loseContext:j.getExtension("WEBGL_lose_context"),vertexArrayObject:j.getExtension("OES_vertex_array_object")||j.getExtension("MOZ_OES_vertex_array_object")||j.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:j.getExtension("OES_element_index_uint"),floatTexture:j.getExtension("OES_texture_float"),floatTextureLinear:j.getExtension("OES_texture_float_linear"),textureHalfFloat:j.getExtension("OES_texture_half_float"),textureHalfFloatLinear:j.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,et,{colorBufferFloat:j.getExtension("EXT_color_buffer_float")})},_e.prototype.handleContextLost=function(j){j.preventDefault()},_e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},_e.prototype.destroy=function(){var j=this.renderer.view;this.renderer=null,j.removeEventListener("webglcontextlost",this.handleContextLost),j.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},_e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},_e.prototype.validateContext=function(j){var et=j.getContextAttributes(),tt="WebGL2RenderingContext"in globalThis&&j instanceof globalThis.WebGL2RenderingContext;tt&&(this.webGLVersion=2),et&&!et.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var nt=tt||!!j.getExtension("OES_element_index_uint");this.supports.uint32Indices=nt,nt||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},_e}(),GLFramebuffer=function(){function _e(j){this.framebuffer=j,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=MSAA_QUALITY$5.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return _e}(),tempRectangle=new Rectangle,FramebufferSystem=function(){function _e(j){this.renderer=j,this.managedFramebuffers=[],this.unknownFramebuffer=new Framebuffer(10,10),this.msaaSamples=null}return _e.prototype.contextChange=function(){var j=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var et=this.renderer.context.extensions.drawBuffers,tt=this.renderer.context.extensions.depthTexture;settings$1.PREFER_ENV===ENV$5.WEBGL_LEGACY&&(et=null,tt=null),et?j.drawBuffers=function(nt){return et.drawBuffersWEBGL(nt)}:(this.hasMRT=!1,j.drawBuffers=function(){}),tt||(this.writeDepthTexture=!1)}else this.msaaSamples=j.getInternalformatParameter(j.RENDERBUFFER,j.RGBA8,j.SAMPLES)},_e.prototype.bind=function(j,et,tt){tt===void 0&&(tt=0);var nt=this.gl;if(j){var rt=j.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(j);this.current!==j&&(this.current=j,nt.bindFramebuffer(nt.FRAMEBUFFER,rt.framebuffer)),rt.mipLevel!==tt&&(j.dirtyId++,j.dirtyFormat++,rt.mipLevel=tt),rt.dirtyId!==j.dirtyId&&(rt.dirtyId=j.dirtyId,rt.dirtyFormat!==j.dirtyFormat?(rt.dirtyFormat=j.dirtyFormat,rt.dirtySize=j.dirtySize,this.updateFramebuffer(j,tt)):rt.dirtySize!==j.dirtySize&&(rt.dirtySize=j.dirtySize,this.resizeFramebuffer(j)));for(var it=0;it<j.colorTextures.length;it++){var st=j.colorTextures[it];this.renderer.texture.unbind(st.parentTextureArray||st)}if(j.depthTexture&&this.renderer.texture.unbind(j.depthTexture),et){var at=et.width>>tt,ot=et.height>>tt,lt=at/et.width;this.setViewport(et.x*lt,et.y*lt,at,ot)}else{var at=j.width>>tt,ot=j.height>>tt;this.setViewport(0,0,at,ot)}}else this.current&&(this.current=null,nt.bindFramebuffer(nt.FRAMEBUFFER,null)),et?this.setViewport(et.x,et.y,et.width,et.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},_e.prototype.setViewport=function(j,et,tt,nt){var rt=this.viewport;j=Math.round(j),et=Math.round(et),tt=Math.round(tt),nt=Math.round(nt),(rt.width!==tt||rt.height!==nt||rt.x!==j||rt.y!==et)&&(rt.x=j,rt.y=et,rt.width=tt,rt.height=nt,this.gl.viewport(j,et,tt,nt))},Object.defineProperty(_e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),_e.prototype.clear=function(j,et,tt,nt,rt){rt===void 0&&(rt=BUFFER_BITS$5.COLOR|BUFFER_BITS$5.DEPTH);var it=this.gl;it.clearColor(j,et,tt,nt),it.clear(rt)},_e.prototype.initFramebuffer=function(j){var et=this.gl,tt=new GLFramebuffer(et.createFramebuffer());return tt.multisample=this.detectSamples(j.multisample),j.glFramebuffers[this.CONTEXT_UID]=tt,this.managedFramebuffers.push(j),j.disposeRunner.add(this),tt},_e.prototype.resizeFramebuffer=function(j){var et=this.gl,tt=j.glFramebuffers[this.CONTEXT_UID];tt.msaaBuffer&&(et.bindRenderbuffer(et.RENDERBUFFER,tt.msaaBuffer),et.renderbufferStorageMultisample(et.RENDERBUFFER,tt.multisample,et.RGBA8,j.width,j.height)),tt.stencil&&(et.bindRenderbuffer(et.RENDERBUFFER,tt.stencil),tt.msaaBuffer?et.renderbufferStorageMultisample(et.RENDERBUFFER,tt.multisample,et.DEPTH24_STENCIL8,j.width,j.height):et.renderbufferStorage(et.RENDERBUFFER,et.DEPTH_STENCIL,j.width,j.height));var nt=j.colorTextures,rt=nt.length;et.drawBuffers||(rt=Math.min(rt,1));for(var it=0;it<rt;it++){var st=nt[it],at=st.parentTextureArray||st;this.renderer.texture.bind(at,0)}j.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(j.depthTexture,0)},_e.prototype.updateFramebuffer=function(j,et){var tt=this.gl,nt=j.glFramebuffers[this.CONTEXT_UID],rt=j.colorTextures,it=rt.length;tt.drawBuffers||(it=Math.min(it,1)),nt.multisample>1&&this.canMultisampleFramebuffer(j)?(nt.msaaBuffer=nt.msaaBuffer||tt.createRenderbuffer(),tt.bindRenderbuffer(tt.RENDERBUFFER,nt.msaaBuffer),tt.renderbufferStorageMultisample(tt.RENDERBUFFER,nt.multisample,tt.RGBA8,j.width,j.height),tt.framebufferRenderbuffer(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.RENDERBUFFER,nt.msaaBuffer)):nt.msaaBuffer&&(tt.deleteRenderbuffer(nt.msaaBuffer),nt.msaaBuffer=null,nt.blitFramebuffer&&(nt.blitFramebuffer.dispose(),nt.blitFramebuffer=null));for(var st=[],at=0;at<it;at++){var ot=rt[at],lt=ot.parentTextureArray||ot;this.renderer.texture.bind(lt,0),!(at===0&&nt.msaaBuffer)&&(tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0+at,ot.target,lt._glTextures[this.CONTEXT_UID].texture,et),st.push(tt.COLOR_ATTACHMENT0+at))}if(st.length>1&&tt.drawBuffers(st),j.depthTexture){var ut=this.writeDepthTexture;if(ut){var ct=j.depthTexture;this.renderer.texture.bind(ct,0),tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.DEPTH_ATTACHMENT,tt.TEXTURE_2D,ct._glTextures[this.CONTEXT_UID].texture,et)}}(j.stencil||j.depth)&&!(j.depthTexture&&this.writeDepthTexture)?(nt.stencil=nt.stencil||tt.createRenderbuffer(),tt.bindRenderbuffer(tt.RENDERBUFFER,nt.stencil),nt.msaaBuffer?tt.renderbufferStorageMultisample(tt.RENDERBUFFER,nt.multisample,tt.DEPTH24_STENCIL8,j.width,j.height):tt.renderbufferStorage(tt.RENDERBUFFER,tt.DEPTH_STENCIL,j.width,j.height),tt.framebufferRenderbuffer(tt.FRAMEBUFFER,tt.DEPTH_STENCIL_ATTACHMENT,tt.RENDERBUFFER,nt.stencil)):nt.stencil&&(tt.deleteRenderbuffer(nt.stencil),nt.stencil=null)},_e.prototype.canMultisampleFramebuffer=function(j){return this.renderer.context.webGLVersion!==1&&j.colorTextures.length<=1&&!j.depthTexture},_e.prototype.detectSamples=function(j){var et=this.msaaSamples,tt=MSAA_QUALITY$5.NONE;if(j<=1||et===null)return tt;for(var nt=0;nt<et.length;nt++)if(et[nt]<=j){tt=et[nt];break}return tt===1&&(tt=MSAA_QUALITY$5.NONE),tt},_e.prototype.blit=function(j,et,tt){var nt=this,rt=nt.current,it=nt.renderer,st=nt.gl,at=nt.CONTEXT_UID;if(it.context.webGLVersion===2&&!!rt){var ot=rt.glFramebuffers[at];if(!!ot){if(!j){if(!ot.msaaBuffer)return;var lt=rt.colorTextures[0];if(!lt)return;ot.blitFramebuffer||(ot.blitFramebuffer=new Framebuffer(rt.width,rt.height),ot.blitFramebuffer.addColorTexture(0,lt)),j=ot.blitFramebuffer,j.colorTextures[0]!==lt&&(j.colorTextures[0]=lt,j.dirtyId++,j.dirtyFormat++),(j.width!==rt.width||j.height!==rt.height)&&(j.width=rt.width,j.height=rt.height,j.dirtyId++,j.dirtySize++)}et||(et=tempRectangle,et.width=rt.width,et.height=rt.height),tt||(tt=et);var ut=et.width===tt.width&&et.height===tt.height;this.bind(j),st.bindFramebuffer(st.READ_FRAMEBUFFER,ot.framebuffer),st.blitFramebuffer(et.left,et.top,et.right,et.bottom,tt.left,tt.top,tt.right,tt.bottom,st.COLOR_BUFFER_BIT,ut?st.NEAREST:st.LINEAR)}}},_e.prototype.disposeFramebuffer=function(j,et){var tt=j.glFramebuffers[this.CONTEXT_UID],nt=this.gl;if(!!tt){delete j.glFramebuffers[this.CONTEXT_UID];var rt=this.managedFramebuffers.indexOf(j);rt>=0&&this.managedFramebuffers.splice(rt,1),j.disposeRunner.remove(this),et||(nt.deleteFramebuffer(tt.framebuffer),tt.msaaBuffer&&nt.deleteRenderbuffer(tt.msaaBuffer),tt.stencil&&nt.deleteRenderbuffer(tt.stencil)),tt.blitFramebuffer&&tt.blitFramebuffer.dispose()}},_e.prototype.disposeAll=function(j){var et=this.managedFramebuffers;this.managedFramebuffers=[];for(var tt=0;tt<et.length;tt++)this.disposeFramebuffer(et[tt],j)},_e.prototype.forceStencil=function(){var j=this.current;if(!!j){var et=j.glFramebuffers[this.CONTEXT_UID];if(!(!et||et.stencil)){j.stencil=!0;var tt=j.width,nt=j.height,rt=this.gl,it=rt.createRenderbuffer();rt.bindRenderbuffer(rt.RENDERBUFFER,it),et.msaaBuffer?rt.renderbufferStorageMultisample(rt.RENDERBUFFER,et.multisample,rt.DEPTH24_STENCIL8,tt,nt):rt.renderbufferStorage(rt.RENDERBUFFER,rt.DEPTH_STENCIL,tt,nt),et.stencil=it,rt.framebufferRenderbuffer(rt.FRAMEBUFFER,rt.DEPTH_STENCIL_ATTACHMENT,rt.RENDERBUFFER,it)}}},_e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Rectangle},_e.prototype.destroy=function(){this.renderer=null},_e}(),byteSizeMap={5126:4,5123:2,5121:1},GeometrySystem=function(){function _e(j){this.renderer=j,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return _e.prototype.contextChange=function(){this.disposeAll(!0);var j=this.gl=this.renderer.gl,et=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,et.webGLVersion!==2){var tt=this.renderer.context.extensions.vertexArrayObject;settings$1.PREFER_ENV===ENV$5.WEBGL_LEGACY&&(tt=null),tt?(j.createVertexArray=function(){return tt.createVertexArrayOES()},j.bindVertexArray=function(rt){return tt.bindVertexArrayOES(rt)},j.deleteVertexArray=function(rt){return tt.deleteVertexArrayOES(rt)}):(this.hasVao=!1,j.createVertexArray=function(){return null},j.bindVertexArray=function(){return null},j.deleteVertexArray=function(){return null})}if(et.webGLVersion!==2){var nt=j.getExtension("ANGLE_instanced_arrays");nt?(j.vertexAttribDivisor=function(rt,it){return nt.vertexAttribDivisorANGLE(rt,it)},j.drawElementsInstanced=function(rt,it,st,at,ot){return nt.drawElementsInstancedANGLE(rt,it,st,at,ot)},j.drawArraysInstanced=function(rt,it,st,at){return nt.drawArraysInstancedANGLE(rt,it,st,at)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=et.webGLVersion===2||!!et.extensions.uint32ElementIndex},_e.prototype.bind=function(j,et){et=et||this.renderer.shader.shader;var tt=this.gl,nt=j.glVertexArrayObjects[this.CONTEXT_UID],rt=!1;nt||(this.managedGeometries[j.id]=j,j.disposeRunner.add(this),j.glVertexArrayObjects[this.CONTEXT_UID]=nt={},rt=!0);var it=nt[et.program.id]||this.initGeometryVao(j,et,rt);this._activeGeometry=j,this._activeVao!==it&&(this._activeVao=it,this.hasVao?tt.bindVertexArray(it):this.activateVao(j,et.program)),this.updateBuffers()},_e.prototype.reset=function(){this.unbind()},_e.prototype.updateBuffers=function(){for(var j=this._activeGeometry,et=this.renderer.buffer,tt=0;tt<j.buffers.length;tt++){var nt=j.buffers[tt];et.update(nt)}},_e.prototype.checkCompatibility=function(j,et){var tt=j.attributes,nt=et.attributeData;for(var rt in nt)if(!tt[rt])throw new Error('shader and geometry incompatible, geometry missing the "'+rt+'" attribute')},_e.prototype.getSignature=function(j,et){var tt=j.attributes,nt=et.attributeData,rt=["g",j.id];for(var it in tt)nt[it]&&rt.push(it,nt[it].location);return rt.join("-")},_e.prototype.initGeometryVao=function(j,et,tt){tt===void 0&&(tt=!0);var nt=this.gl,rt=this.CONTEXT_UID,it=this.renderer.buffer,st=et.program;st.glPrograms[rt]||this.renderer.shader.generateProgram(et),this.checkCompatibility(j,st);var at=this.getSignature(j,st),ot=j.glVertexArrayObjects[this.CONTEXT_UID],lt=ot[at];if(lt)return ot[st.id]=lt,lt;var ut=j.buffers,ct=j.attributes,ht={},pt={};for(var gt in ut)ht[gt]=0,pt[gt]=0;for(var gt in ct)!ct[gt].size&&st.attributeData[gt]?ct[gt].size=st.attributeData[gt].size:ct[gt].size||console.warn("PIXI Geometry attribute '"+gt+"' size cannot be determined (likely the bound shader does not have the attribute)"),ht[ct[gt].buffer]+=ct[gt].size*byteSizeMap[ct[gt].type];for(var gt in ct){var vt=ct[gt],ft=vt.size;vt.stride===void 0&&(ht[vt.buffer]===ft*byteSizeMap[vt.type]?vt.stride=0:vt.stride=ht[vt.buffer]),vt.start===void 0&&(vt.start=pt[vt.buffer],pt[vt.buffer]+=ft*byteSizeMap[vt.type])}lt=nt.createVertexArray(),nt.bindVertexArray(lt);for(var mt=0;mt<ut.length;mt++){var xt=ut[mt];it.bind(xt),tt&&xt._glBuffers[rt].refCount++}return this.activateVao(j,st),this._activeVao=lt,ot[st.id]=lt,ot[at]=lt,lt},_e.prototype.disposeGeometry=function(j,et){var tt;if(!!this.managedGeometries[j.id]){delete this.managedGeometries[j.id];var nt=j.glVertexArrayObjects[this.CONTEXT_UID],rt=this.gl,it=j.buffers,st=(tt=this.renderer)===null||tt===void 0?void 0:tt.buffer;if(j.disposeRunner.remove(this),!!nt){if(st)for(var at=0;at<it.length;at++){var ot=it[at]._glBuffers[this.CONTEXT_UID];ot&&(ot.refCount--,ot.refCount===0&&!et&&st.dispose(it[at],et))}if(!et){for(var lt in nt)if(lt[0]==="g"){var ut=nt[lt];this._activeVao===ut&&this.unbind(),rt.deleteVertexArray(ut)}}delete j.glVertexArrayObjects[this.CONTEXT_UID]}}},_e.prototype.disposeAll=function(j){for(var et=Object.keys(this.managedGeometries),tt=0;tt<et.length;tt++)this.disposeGeometry(this.managedGeometries[et[tt]],j)},_e.prototype.activateVao=function(j,et){var tt=this.gl,nt=this.CONTEXT_UID,rt=this.renderer.buffer,it=j.buffers,st=j.attributes;j.indexBuffer&&rt.bind(j.indexBuffer);var at=null;for(var ot in st){var lt=st[ot],ut=it[lt.buffer],ct=ut._glBuffers[nt];if(et.attributeData[ot]){at!==ct&&(rt.bind(ut),at=ct);var ht=et.attributeData[ot].location;if(tt.enableVertexAttribArray(ht),tt.vertexAttribPointer(ht,lt.size,lt.type||tt.FLOAT,lt.normalized,lt.stride,lt.start),lt.instance)if(this.hasInstance)tt.vertexAttribDivisor(ht,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},_e.prototype.draw=function(j,et,tt,nt){var rt=this.gl,it=this._activeGeometry;if(it.indexBuffer){var st=it.indexBuffer.data.BYTES_PER_ELEMENT,at=st===2?rt.UNSIGNED_SHORT:rt.UNSIGNED_INT;st===2||st===4&&this.canUseUInt32ElementIndex?it.instanced?rt.drawElementsInstanced(j,et||it.indexBuffer.data.length,at,(tt||0)*st,nt||1):rt.drawElements(j,et||it.indexBuffer.data.length,at,(tt||0)*st):console.warn("unsupported index buffer type: uint32")}else it.instanced?rt.drawArraysInstanced(j,tt,et||it.getSize(),nt||1):rt.drawArrays(j,tt,et||it.getSize());return this},_e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},_e.prototype.destroy=function(){this.renderer=null},_e}(),MaskData=function(){function _e(j){j===void 0&&(j=null),this.type=MASK_TYPES$5.NONE,this.autoDetect=!0,this.maskObject=j||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=settings$1.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(_e.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(j){j?this._filters?this._filters[0]=j:this._filters=[j]:this._filters=null},enumerable:!1,configurable:!0}),_e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=MASK_TYPES$5.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},_e.prototype.copyCountersOrReset=function(j){j?(this._stencilCounter=j._stencilCounter,this._scissorCounter=j._scissorCounter,this._scissorRect=j._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},_e}();function compileShader(_e,j,et){var tt=_e.createShader(j);return _e.shaderSource(tt,et),_e.compileShader(tt),tt}function logPrettyShaderError(_e,j){var et=_e.getShaderSource(j).split(`
`).map(function(ot,lt){return lt+": "+ot}),tt=_e.getShaderInfoLog(j),nt=tt.split(`
`),rt={},it=nt.map(function(ot){return parseFloat(ot.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(ot){return ot&&!rt[ot]?(rt[ot]=!0,!0):!1}),st=[""];it.forEach(function(ot){et[ot-1]="%c"+et[ot-1]+"%c",st.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var at=et.join(`
`);st[0]=at,console.error(tt),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,st),console.groupEnd()}function logProgramError(_e,j,et,tt){_e.getProgramParameter(j,_e.LINK_STATUS)||(_e.getShaderParameter(et,_e.COMPILE_STATUS)||logPrettyShaderError(_e,et),_e.getShaderParameter(tt,_e.COMPILE_STATUS)||logPrettyShaderError(_e,tt),console.error("PixiJS Error: Could not initialize shader."),_e.getProgramInfoLog(j)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",_e.getProgramInfoLog(j)))}function booleanArray(_e){for(var j=new Array(_e),et=0;et<j.length;et++)j[et]=!1;return j}function defaultValue(_e,j){switch(_e){case"float":return 0;case"vec2":return new Float32Array(2*j);case"vec3":return new Float32Array(3*j);case"vec4":return new Float32Array(4*j);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*j);case"ivec3":return new Int32Array(3*j);case"ivec4":return new Int32Array(4*j);case"uvec2":return new Uint32Array(2*j);case"uvec3":return new Uint32Array(3*j);case"uvec4":return new Uint32Array(4*j);case"bool":return!1;case"bvec2":return booleanArray(2*j);case"bvec3":return booleanArray(3*j);case"bvec4":return booleanArray(4*j);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var unknownContext={},context=unknownContext;function getTestContext(){if(context===unknownContext||context&&context.isContextLost()){var _e=settings$1.ADAPTER.createCanvas(),j=void 0;settings$1.PREFER_ENV>=ENV$5.WEBGL2&&(j=_e.getContext("webgl2",{})),j||(j=_e.getContext("webgl",{})||_e.getContext("experimental-webgl",{}),j?j.getExtension("WEBGL_draw_buffers"):j=null),context=j}return context}var maxFragmentPrecision;function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision=PRECISION$5.MEDIUM;var _e=getTestContext();if(_e&&_e.getShaderPrecisionFormat){var j=_e.getShaderPrecisionFormat(_e.FRAGMENT_SHADER,_e.HIGH_FLOAT);maxFragmentPrecision=j.precision?PRECISION$5.HIGH:PRECISION$5.MEDIUM}}return maxFragmentPrecision}function setPrecision(_e,j,et){if(_e.substring(0,9)!=="precision"){var tt=j;return j===PRECISION$5.HIGH&&et!==PRECISION$5.HIGH&&(tt=PRECISION$5.MEDIUM),"precision "+tt+` float;
`+_e}else if(et!==PRECISION$5.HIGH&&_e.substring(0,15)==="precision highp")return _e.replace("precision highp","precision mediump");return _e}var GLSL_TO_SIZE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mapSize(_e){return GLSL_TO_SIZE[_e]}var GL_TABLE=null,GL_TO_GLSL_TYPES={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mapType(_e,j){if(!GL_TABLE){var et=Object.keys(GL_TO_GLSL_TYPES);GL_TABLE={};for(var tt=0;tt<et.length;++tt){var nt=et[tt];GL_TABLE[_e[nt]]=GL_TO_GLSL_TYPES[nt]}}return GL_TABLE[j]}var uniformParsers=[{test:function(_e){return _e.type==="float"&&_e.size===1},code:function(_e){return`
            if(uv["`+_e+'"] !== ud["'+_e+`"].value)
            {
                ud["`+_e+'"].value = uv["'+_e+`"]
                gl.uniform1f(ud["`+_e+'"].location, uv["'+_e+`"])
            }
            `}},{test:function(_e){return(_e.type==="sampler2D"||_e.type==="samplerCube"||_e.type==="sampler2DArray")&&_e.size===1&&!_e.isArray},code:function(_e){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+_e+`"], t);

            if(ud["`+_e+`"].value !== t)
            {
                ud["`+_e+`"].value = t;
                gl.uniform1i(ud["`+_e+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(_e,j){return _e.type==="mat3"&&_e.size===1&&j.a!==void 0},code:function(_e){return`
            gl.uniformMatrix3fv(ud["`+_e+'"].location, false, uv["'+_e+`"].toArray(true));
            `},codeUbo:function(_e){return`
                var `+_e+"_matrix = uv."+_e+`.toArray(true);

                data[offset] = `+_e+`_matrix[0];
                data[offset+1] = `+_e+`_matrix[1];
                data[offset+2] = `+_e+`_matrix[2];
        
                data[offset + 4] = `+_e+`_matrix[3];
                data[offset + 5] = `+_e+`_matrix[4];
                data[offset + 6] = `+_e+`_matrix[5];
        
                data[offset + 8] = `+_e+`_matrix[6];
                data[offset + 9] = `+_e+`_matrix[7];
                data[offset + 10] = `+_e+`_matrix[8];
            `}},{test:function(_e,j){return _e.type==="vec2"&&_e.size===1&&j.x!==void 0},code:function(_e){return`
                cv = ud["`+_e+`"].value;
                v = uv["`+_e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+_e+`"].location, v.x, v.y);
                }`},codeUbo:function(_e){return`
                v = uv.`+_e+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(_e){return _e.type==="vec2"&&_e.size===1},code:function(_e){return`
                cv = ud["`+_e+`"].value;
                v = uv["`+_e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+_e+`"].location, v[0], v[1]);
                }
            `}},{test:function(_e,j){return _e.type==="vec4"&&_e.size===1&&j.width!==void 0},code:function(_e){return`
                cv = ud["`+_e+`"].value;
                v = uv["`+_e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+_e+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(_e){return`
                    v = uv.`+_e+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(_e){return _e.type==="vec4"&&_e.size===1},code:function(_e){return`
                cv = ud["`+_e+`"].value;
                v = uv["`+_e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+_e+`"].location, v[0], v[1], v[2], v[3])
                }`}}],GLSL_TO_SINGLE_SETTERS_CACHED={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},GLSL_TO_ARRAY_SETTERS={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function generateUniformsSync(_e,j){var et,tt=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var nt in _e.uniforms){var rt=j[nt];if(!rt){!((et=_e.uniforms[nt])===null||et===void 0)&&et.group&&(_e.uniforms[nt].ubo?tt.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+nt+", '"+nt+`');
                    `):tt.push(`
                        renderer.shader.syncUniformGroup(uv.`+nt+`, syncData);
                    `));continue}for(var it=_e.uniforms[nt],st=!1,at=0;at<uniformParsers.length;at++)if(uniformParsers[at].test(rt,it)){tt.push(uniformParsers[at].code(nt,it)),st=!0;break}if(!st){var ot=rt.size===1?GLSL_TO_SINGLE_SETTERS_CACHED:GLSL_TO_ARRAY_SETTERS,lt=ot[rt.type].replace("location",'ud["'+nt+'"].location');tt.push(`
            cu = ud["`+nt+`"];
            cv = cu.value;
            v = uv["`+nt+`"];
            `+lt+";")}}return new Function("ud","uv","renderer","syncData",tt.join(`
`))}var fragTemplate$1=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function generateIfTestSrc(_e){for(var j="",et=0;et<_e;++et)et>0&&(j+=`
else `),et<_e-1&&(j+="if(test == "+et+".0){}");return j}function checkMaxIfStatementsInShader(_e,j){if(_e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var et=j.createShader(j.FRAGMENT_SHADER);;){var tt=fragTemplate$1.replace(/%forloop%/gi,generateIfTestSrc(_e));if(j.shaderSource(et,tt),j.compileShader(et),!j.getShaderParameter(et,j.COMPILE_STATUS))_e=_e/2|0;else break}return _e}var unsafeEval;function unsafeEvalSupported(){if(typeof unsafeEval=="boolean")return unsafeEval;try{var _e=new Function("param1","param2","param3","return param1[param2] === param3;");unsafeEval=_e({a:"b"},"a","b")===!0}catch{unsafeEval=!1}return unsafeEval}var defaultFragment$2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,defaultVertex$3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,UID$1=0,nameCache={},Program=function(){function _e(j,et,tt){tt===void 0&&(tt="pixi-shader"),this.id=UID$1++,this.vertexSrc=j||_e.defaultVertexSrc,this.fragmentSrc=et||_e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(tt=tt.replace(/\s+/g,"-"),nameCache[tt]?(nameCache[tt]++,tt+="-"+nameCache[tt]):nameCache[tt]=1,this.vertexSrc="#define SHADER_NAME "+tt+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+tt+`
`+this.fragmentSrc,this.vertexSrc=setPrecision(this.vertexSrc,settings$1.PRECISION_VERTEX,PRECISION$5.HIGH),this.fragmentSrc=setPrecision(this.fragmentSrc,settings$1.PRECISION_FRAGMENT,getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(_e,"defaultVertexSrc",{get:function(){return defaultVertex$3},enumerable:!1,configurable:!0}),Object.defineProperty(_e,"defaultFragmentSrc",{get:function(){return defaultFragment$2},enumerable:!1,configurable:!0}),_e.from=function(j,et,tt){var nt=j+et,rt=ProgramCache[nt];return rt||(ProgramCache[nt]=rt=new _e(j,et,tt)),rt},_e}(),Shader=function(){function _e(j,et){this.uniformBindCount=0,this.program=j,et?et instanceof UniformGroup?this.uniformGroup=et:this.uniformGroup=new UniformGroup(et):this.uniformGroup=new UniformGroup({})}return _e.prototype.checkUniformExists=function(j,et){if(et.uniforms[j])return!0;for(var tt in et.uniforms){var nt=et.uniforms[tt];if(nt.group&&this.checkUniformExists(j,nt))return!0}return!1},_e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(_e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),_e.from=function(j,et,tt){var nt=Program.from(j,et);return new _e(nt,tt)},_e}(),BLEND$1=0,OFFSET$1=1,CULLING$1=2,DEPTH_TEST$1=3,WINDING$1=4,DEPTH_MASK$1=5,State$1=function(){function _e(){this.data=0,this.blendMode=BLEND_MODES$5.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(_e.prototype,"blend",{get:function(){return!!(this.data&1<<BLEND$1)},set:function(j){!!(this.data&1<<BLEND$1)!==j&&(this.data^=1<<BLEND$1)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"offsets",{get:function(){return!!(this.data&1<<OFFSET$1)},set:function(j){!!(this.data&1<<OFFSET$1)!==j&&(this.data^=1<<OFFSET$1)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"culling",{get:function(){return!!(this.data&1<<CULLING$1)},set:function(j){!!(this.data&1<<CULLING$1)!==j&&(this.data^=1<<CULLING$1)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"depthTest",{get:function(){return!!(this.data&1<<DEPTH_TEST$1)},set:function(j){!!(this.data&1<<DEPTH_TEST$1)!==j&&(this.data^=1<<DEPTH_TEST$1)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"depthMask",{get:function(){return!!(this.data&1<<DEPTH_MASK$1)},set:function(j){!!(this.data&1<<DEPTH_MASK$1)!==j&&(this.data^=1<<DEPTH_MASK$1)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<WINDING$1)},set:function(j){!!(this.data&1<<WINDING$1)!==j&&(this.data^=1<<WINDING$1)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(j){this.blend=j!==BLEND_MODES$5.NONE,this._blendMode=j},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(j){this.offsets=!!j,this._polygonOffset=j},enumerable:!1,configurable:!0}),_e.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},_e.for2d=function(){var j=new _e;return j.depthTest=!1,j.blend=!0,j},_e}(),defaultFragment$1=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,defaultVertex$2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Filter=function(_e){__extends$i(j,_e);function j(et,tt,nt){var rt=this,it=Program.from(et||j.defaultVertexSrc,tt||j.defaultFragmentSrc);return rt=_e.call(this,it,nt)||this,rt.padding=0,rt.resolution=settings$1.FILTER_RESOLUTION,rt.multisample=settings$1.FILTER_MULTISAMPLE,rt.enabled=!0,rt.autoFit=!0,rt.state=new State$1,rt}return j.prototype.apply=function(et,tt,nt,rt,it){et.applyFilter(this,tt,nt,rt)},Object.defineProperty(j.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(et){this.state.blendMode=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"resolution",{get:function(){return this._resolution},set:function(et){this._resolution=et},enumerable:!1,configurable:!0}),Object.defineProperty(j,"defaultVertexSrc",{get:function(){return defaultVertex$2},enumerable:!1,configurable:!0}),Object.defineProperty(j,"defaultFragmentSrc",{get:function(){return defaultFragment$1},enumerable:!1,configurable:!0}),j}(Shader),vertex$l=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,fragment$o=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,tempMat$1=new Matrix,TextureMatrix=function(){function _e(j,et){this._texture=j,this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof et=="undefined"?.5:et,this.isSimple=!1}return Object.defineProperty(_e.prototype,"texture",{get:function(){return this._texture},set:function(j){this._texture=j,this._textureID=-1},enumerable:!1,configurable:!0}),_e.prototype.multiplyUvs=function(j,et){et===void 0&&(et=j);for(var tt=this.mapCoord,nt=0;nt<j.length;nt+=2){var rt=j[nt],it=j[nt+1];et[nt]=rt*tt.a+it*tt.c+tt.tx,et[nt+1]=rt*tt.b+it*tt.d+tt.ty}return et},_e.prototype.update=function(j){var et=this._texture;if(!et||!et.valid||!j&&this._textureID===et._updateID)return!1;this._textureID=et._updateID,this._updateID++;var tt=et._uvs;this.mapCoord.set(tt.x1-tt.x0,tt.y1-tt.y0,tt.x3-tt.x0,tt.y3-tt.y0,tt.x0,tt.y0);var nt=et.orig,rt=et.trim;rt&&(tempMat$1.set(nt.width/rt.width,0,0,nt.height/rt.height,-rt.x/rt.width,-rt.y/rt.height),this.mapCoord.append(tempMat$1));var it=et.baseTexture,st=this.uClampFrame,at=this.clampMargin/it.resolution,ot=this.clampOffset;return st[0]=(et._frame.x+at+ot)/it.width,st[1]=(et._frame.y+at+ot)/it.height,st[2]=(et._frame.x+et._frame.width-at+ot)/it.width,st[3]=(et._frame.y+et._frame.height-at+ot)/it.height,this.uClampOffset[0]=ot/it.realWidth,this.uClampOffset[1]=ot/it.realHeight,this.isSimple=et._frame.width===it.width&&et._frame.height===it.height&&et.rotate===0,!0},_e}(),SpriteMaskFilter=function(_e){__extends$i(j,_e);function j(et,tt,nt){var rt=this,it=null;return typeof et!="string"&&tt===void 0&&nt===void 0&&(it=et,et=void 0,tt=void 0,nt=void 0),rt=_e.call(this,et||vertex$l,tt||fragment$o,nt)||this,rt.maskSprite=it,rt.maskMatrix=new Matrix,rt}return Object.defineProperty(j.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(et){this._maskSprite=et,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),j.prototype.apply=function(et,tt,nt,rt){var it=this._maskSprite,st=it._texture;!st.valid||(st.uvMatrix||(st.uvMatrix=new TextureMatrix(st,0)),st.uvMatrix.update(),this.uniforms.npmAlpha=st.baseTexture.alphaMode?0:1,this.uniforms.mask=st,this.uniforms.otherMatrix=et.calculateSpriteMatrix(this.maskMatrix,it).prepend(st.uvMatrix.mapCoord),this.uniforms.alpha=it.worldAlpha,this.uniforms.maskClamp=st.uvMatrix.uClampFrame,et.applyFilter(this,tt,nt,rt))},j}(Filter),MaskSystem=function(){function _e(j){this.renderer=j,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return _e.prototype.setMaskStack=function(j){this.maskStack=j,this.renderer.scissor.setMaskStack(j),this.renderer.stencil.setMaskStack(j)},_e.prototype.push=function(j,et){var tt=et;if(!tt.isMaskData){var nt=this.maskDataPool.pop()||new MaskData;nt.pooled=!0,nt.maskObject=et,tt=nt}var rt=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(tt.copyCountersOrReset(rt),tt._colorMask=rt?rt._colorMask:15,tt.autoDetect&&this.detect(tt),tt._target=j,tt.type!==MASK_TYPES$5.SPRITE&&this.maskStack.push(tt),tt.enabled)switch(tt.type){case MASK_TYPES$5.SCISSOR:this.renderer.scissor.push(tt);break;case MASK_TYPES$5.STENCIL:this.renderer.stencil.push(tt);break;case MASK_TYPES$5.SPRITE:tt.copyCountersOrReset(null),this.pushSpriteMask(tt);break;case MASK_TYPES$5.COLOR:this.pushColorMask(tt);break}tt.type===MASK_TYPES$5.SPRITE&&this.maskStack.push(tt)},_e.prototype.pop=function(j){var et=this.maskStack.pop();if(!(!et||et._target!==j)){if(et.enabled)switch(et.type){case MASK_TYPES$5.SCISSOR:this.renderer.scissor.pop(et);break;case MASK_TYPES$5.STENCIL:this.renderer.stencil.pop(et.maskObject);break;case MASK_TYPES$5.SPRITE:this.popSpriteMask(et);break;case MASK_TYPES$5.COLOR:this.popColorMask(et);break}if(et.reset(),et.pooled&&this.maskDataPool.push(et),this.maskStack.length!==0){var tt=this.maskStack[this.maskStack.length-1];tt.type===MASK_TYPES$5.SPRITE&&tt._filters&&(tt._filters[0].maskSprite=tt.maskObject)}}},_e.prototype.detect=function(j){var et=j.maskObject;et?et.isSprite?j.type=MASK_TYPES$5.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(j)?j.type=MASK_TYPES$5.SCISSOR:j.type=MASK_TYPES$5.STENCIL:j.type=MASK_TYPES$5.COLOR},_e.prototype.pushSpriteMask=function(j){var et,tt,nt=j.maskObject,rt=j._target,it=j._filters;it||(it=this.alphaMaskPool[this.alphaMaskIndex],it||(it=this.alphaMaskPool[this.alphaMaskIndex]=[new SpriteMaskFilter]));var st=this.renderer,at=st.renderTexture,ot,lt;if(at.current){var ut=at.current;ot=j.resolution||ut.resolution,lt=(et=j.multisample)!==null&&et!==void 0?et:ut.multisample}else ot=j.resolution||st.resolution,lt=(tt=j.multisample)!==null&&tt!==void 0?tt:st.multisample;it[0].resolution=ot,it[0].multisample=lt,it[0].maskSprite=nt;var ct=rt.filterArea;rt.filterArea=nt.getBounds(!0),st.filter.push(rt,it),rt.filterArea=ct,j._filters||this.alphaMaskIndex++},_e.prototype.popSpriteMask=function(j){this.renderer.filter.pop(),j._filters?j._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},_e.prototype.pushColorMask=function(j){var et=j._colorMask,tt=j._colorMask=et&j.colorMask;tt!==et&&this.renderer.gl.colorMask((tt&1)!==0,(tt&2)!==0,(tt&4)!==0,(tt&8)!==0)},_e.prototype.popColorMask=function(j){var et=j._colorMask,tt=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;tt!==et&&this.renderer.gl.colorMask((tt&1)!==0,(tt&2)!==0,(tt&4)!==0,(tt&8)!==0)},_e.prototype.destroy=function(){this.renderer=null},_e}(),AbstractMaskSystem=function(){function _e(j){this.renderer=j,this.maskStack=[],this.glConst=0}return _e.prototype.getStackLength=function(){return this.maskStack.length},_e.prototype.setMaskStack=function(j){var et=this.renderer.gl,tt=this.getStackLength();this.maskStack=j;var nt=this.getStackLength();nt!==tt&&(nt===0?et.disable(this.glConst):(et.enable(this.glConst),this._useCurrent()))},_e.prototype._useCurrent=function(){},_e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},_e}(),tempMatrix$1=new Matrix,rectPool=[],ScissorSystem=function(_e){__extends$i(j,_e);function j(et){var tt=_e.call(this,et)||this;return tt.glConst=settings$1.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,tt}return j.prototype.getStackLength=function(){var et=this.maskStack[this.maskStack.length-1];return et?et._scissorCounter:0},j.prototype.calcScissorRect=function(et){var tt;if(!et._scissorRectLocal){var nt=et._scissorRect,rt=et.maskObject,it=this.renderer,st=it.renderTexture,at=rt.getBounds(!0,(tt=rectPool.pop())!==null&&tt!==void 0?tt:new Rectangle);this.roundFrameToPixels(at,st.current?st.current.resolution:it.resolution,st.sourceFrame,st.destinationFrame,it.projection.transform),nt&&at.fit(nt),et._scissorRectLocal=at}},j.isMatrixRotated=function(et){if(!et)return!1;var tt=et.a,nt=et.b,rt=et.c,it=et.d;return(Math.abs(nt)>1e-4||Math.abs(rt)>1e-4)&&(Math.abs(tt)>1e-4||Math.abs(it)>1e-4)},j.prototype.testScissor=function(et){var tt=et.maskObject;if(!tt.isFastRect||!tt.isFastRect()||j.isMatrixRotated(tt.worldTransform)||j.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(et);var nt=et._scissorRectLocal;return nt.width>0&&nt.height>0},j.prototype.roundFrameToPixels=function(et,tt,nt,rt,it){j.isMatrixRotated(it)||(it=it?tempMatrix$1.copyFrom(it):tempMatrix$1.identity(),it.translate(-nt.x,-nt.y).scale(rt.width/nt.width,rt.height/nt.height).translate(rt.x,rt.y),this.renderer.filter.transformAABB(it,et),et.fit(rt),et.x=Math.round(et.x*tt),et.y=Math.round(et.y*tt),et.width=Math.round(et.width*tt),et.height=Math.round(et.height*tt))},j.prototype.push=function(et){et._scissorRectLocal||this.calcScissorRect(et);var tt=this.renderer.gl;et._scissorRect||tt.enable(tt.SCISSOR_TEST),et._scissorCounter++,et._scissorRect=et._scissorRectLocal,this._useCurrent()},j.prototype.pop=function(et){var tt=this.renderer.gl;et&&rectPool.push(et._scissorRectLocal),this.getStackLength()>0?this._useCurrent():tt.disable(tt.SCISSOR_TEST)},j.prototype._useCurrent=function(){var et=this.maskStack[this.maskStack.length-1]._scissorRect,tt;this.renderer.renderTexture.current?tt=et.y:tt=this.renderer.height-et.height-et.y,this.renderer.gl.scissor(et.x,tt,et.width,et.height)},j}(AbstractMaskSystem),StencilSystem=function(_e){__extends$i(j,_e);function j(et){var tt=_e.call(this,et)||this;return tt.glConst=settings$1.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,tt}return j.prototype.getStackLength=function(){var et=this.maskStack[this.maskStack.length-1];return et?et._stencilCounter:0},j.prototype.push=function(et){var tt=et.maskObject,nt=this.renderer.gl,rt=et._stencilCounter;rt===0&&(this.renderer.framebuffer.forceStencil(),nt.clearStencil(0),nt.clear(nt.STENCIL_BUFFER_BIT),nt.enable(nt.STENCIL_TEST)),et._stencilCounter++;var it=et._colorMask;it!==0&&(et._colorMask=0,nt.colorMask(!1,!1,!1,!1)),nt.stencilFunc(nt.EQUAL,rt,4294967295),nt.stencilOp(nt.KEEP,nt.KEEP,nt.INCR),tt.renderable=!0,tt.render(this.renderer),this.renderer.batch.flush(),tt.renderable=!1,it!==0&&(et._colorMask=it,nt.colorMask((it&1)!==0,(it&2)!==0,(it&4)!==0,(it&8)!==0)),this._useCurrent()},j.prototype.pop=function(et){var tt=this.renderer.gl;if(this.getStackLength()===0)tt.disable(tt.STENCIL_TEST);else{var nt=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,rt=nt?nt._colorMask:15;rt!==0&&(nt._colorMask=0,tt.colorMask(!1,!1,!1,!1)),tt.stencilOp(tt.KEEP,tt.KEEP,tt.DECR),et.renderable=!0,et.render(this.renderer),this.renderer.batch.flush(),et.renderable=!1,rt!==0&&(nt._colorMask=rt,tt.colorMask((rt&1)!==0,(rt&2)!==0,(rt&4)!==0,(rt&8)!==0)),this._useCurrent()}},j.prototype._useCurrent=function(){var et=this.renderer.gl;et.stencilFunc(et.EQUAL,this.getStackLength(),4294967295),et.stencilOp(et.KEEP,et.KEEP,et.KEEP)},j}(AbstractMaskSystem),ProjectionSystem=function(){function _e(j){this.renderer=j,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Matrix,this.transform=null}return _e.prototype.update=function(j,et,tt,nt){this.destinationFrame=j||this.destinationFrame||this.defaultFrame,this.sourceFrame=et||this.sourceFrame||j,this.calculateProjection(this.destinationFrame,this.sourceFrame,tt,nt),this.transform&&this.projectionMatrix.append(this.transform);var rt=this.renderer;rt.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,rt.globalUniforms.update(),rt.shader.shader&&rt.shader.syncUniformGroup(rt.shader.shader.uniforms.globals)},_e.prototype.calculateProjection=function(j,et,tt,nt){var rt=this.projectionMatrix,it=nt?-1:1;rt.identity(),rt.a=1/et.width*2,rt.d=it*(1/et.height*2),rt.tx=-1-et.x*rt.a,rt.ty=-it-et.y*rt.d},_e.prototype.setTransform=function(j){},_e.prototype.destroy=function(){this.renderer=null},_e}(),tempRect=new Rectangle,tempRect2=new Rectangle,RenderTextureSystem=function(){function _e(j){this.renderer=j,this.clearColor=j._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.viewportFrame=new Rectangle}return _e.prototype.bind=function(j,et,tt){j===void 0&&(j=null);var nt=this.renderer;this.current=j;var rt,it,st;j?(rt=j.baseTexture,st=rt.resolution,et||(tempRect.width=j.frame.width,tempRect.height=j.frame.height,et=tempRect),tt||(tempRect2.x=j.frame.x,tempRect2.y=j.frame.y,tempRect2.width=et.width,tempRect2.height=et.height,tt=tempRect2),it=rt.framebuffer):(st=nt.resolution,et||(tempRect.width=nt.screen.width,tempRect.height=nt.screen.height,et=tempRect),tt||(tt=tempRect,tt.width=et.width,tt.height=et.height));var at=this.viewportFrame;at.x=tt.x*st,at.y=tt.y*st,at.width=tt.width*st,at.height=tt.height*st,j||(at.y=nt.view.height-(at.y+at.height)),at.ceil(),this.renderer.framebuffer.bind(it,at),this.renderer.projection.update(tt,et,st,!it),j?this.renderer.mask.setMaskStack(rt.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(et),this.destinationFrame.copyFrom(tt)},_e.prototype.clear=function(j,et){this.current?j=j||this.current.baseTexture.clearColor:j=j||this.clearColor;var tt=this.destinationFrame,nt=this.current?this.current.baseTexture:this.renderer.screen,rt=tt.width!==nt.width||tt.height!==nt.height;if(rt){var it=this.viewportFrame,st=it.x,at=it.y,ot=it.width,lt=it.height;st=Math.round(st),at=Math.round(at),ot=Math.round(ot),lt=Math.round(lt),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(st,at,ot,lt)}this.renderer.framebuffer.clear(j[0],j[1],j[2],j[3],et),rt&&this.renderer.scissor.pop()},_e.prototype.resize=function(){this.bind(null)},_e.prototype.reset=function(){this.bind(null)},_e.prototype.destroy=function(){this.renderer=null},_e}();function uboUpdate(_e,j,et,tt,nt){et.buffer.update(nt)}var UBO_TO_SINGLE_SETTERS={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},GLSL_TO_STD40_SIZE={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function createUBOElements(_e){for(var j=_e.map(function(at){return{data:at,offset:0,dataLen:0,dirty:0}}),et=0,tt=0,nt=0,rt=0;rt<j.length;rt++){var it=j[rt];if(et=GLSL_TO_STD40_SIZE[it.data.type],it.data.size>1&&(et=Math.max(et,16)*it.data.size),it.dataLen=et,tt%et!==0&&tt<16){var st=tt%et%16;tt+=st,nt+=st}tt+et>16?(nt=Math.ceil(nt/16)*16,it.offset=nt,nt+=et,tt=et):(it.offset=nt,tt+=et,nt+=et)}return nt=Math.ceil(nt/16)*16,{uboElements:j,size:nt}}function getUBOData(_e,j){var et=[];for(var tt in _e)j[tt]&&et.push(j[tt]);return et.sort(function(nt,rt){return nt.index-rt.index}),et}function generateUniformBufferSync(_e,j){if(!_e.autoManage)return{size:0,syncFunc:uboUpdate};for(var et=getUBOData(_e.uniforms,j),tt=createUBOElements(et),nt=tt.uboElements,rt=tt.size,it=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],st=0;st<nt.length;st++){for(var at=nt[st],ot=_e.uniforms[at.data.name],lt=at.data.name,ut=!1,ct=0;ct<uniformParsers.length;ct++){var ht=uniformParsers[ct];if(ht.codeUbo&&ht.test(at.data,ot)){it.push("offset = "+at.offset/4+";",uniformParsers[ct].codeUbo(at.data.name,ot)),ut=!0;break}}if(!ut)if(at.data.size>1){var pt=mapSize(at.data.type),gt=Math.max(GLSL_TO_STD40_SIZE[at.data.type]/16,1),vt=pt/gt,ft=(4-vt%4)%4;it.push(`
                cv = ud.`+lt+`.value;
                v = uv.`+lt+`;
                offset = `+at.offset/4+`;

                t = 0;

                for(var i=0; i < `+at.data.size*gt+`; i++)
                {
                    for(var j = 0; j < `+vt+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+ft+`;
                }

                `)}else{var mt=UBO_TO_SINGLE_SETTERS[at.data.type];it.push(`
                cv = ud.`+lt+`.value;
                v = uv.`+lt+`;
                offset = `+at.offset/4+`;
                `+mt+`;
                `)}}return it.push(`
       renderer.buffer.update(buffer);
    `),{size:rt,syncFunc:new Function("ud","uv","renderer","syncData","buffer",it.join(`
`))}}var GLProgram=function(){function _e(j,et){this.program=j,this.uniformData=et,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return _e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},_e}();function getAttributeData(_e,j){for(var et={},tt=j.getProgramParameter(_e,j.ACTIVE_ATTRIBUTES),nt=0;nt<tt;nt++){var rt=j.getActiveAttrib(_e,nt);if(rt.name.indexOf("gl_")!==0){var it=mapType(j,rt.type),st={type:it,name:rt.name,size:mapSize(it),location:j.getAttribLocation(_e,rt.name)};et[rt.name]=st}}return et}function getUniformData(_e,j){for(var et={},tt=j.getProgramParameter(_e,j.ACTIVE_UNIFORMS),nt=0;nt<tt;nt++){var rt=j.getActiveUniform(_e,nt),it=rt.name.replace(/\[.*?\]$/,""),st=!!rt.name.match(/\[.*?\]$/),at=mapType(j,rt.type);et[it]={name:it,index:nt,type:at,size:rt.size,isArray:st,value:defaultValue(at,rt.size)}}return et}function generateProgram(_e,j){var et=compileShader(_e,_e.VERTEX_SHADER,j.vertexSrc),tt=compileShader(_e,_e.FRAGMENT_SHADER,j.fragmentSrc),nt=_e.createProgram();if(_e.attachShader(nt,et),_e.attachShader(nt,tt),_e.linkProgram(nt),_e.getProgramParameter(nt,_e.LINK_STATUS)||logProgramError(_e,nt,et,tt),j.attributeData=getAttributeData(nt,_e),j.uniformData=getUniformData(nt,_e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(j.vertexSrc)){var rt=Object.keys(j.attributeData);rt.sort(function(lt,ut){return lt>ut?1:-1});for(var it=0;it<rt.length;it++)j.attributeData[rt[it]].location=it,_e.bindAttribLocation(nt,it,rt[it]);_e.linkProgram(nt)}_e.deleteShader(et),_e.deleteShader(tt);var st={};for(var it in j.uniformData){var at=j.uniformData[it];st[it]={location:_e.getUniformLocation(nt,it),value:defaultValue(at.type,at.size)}}var ot=new GLProgram(nt,st);return ot}var UID=0,defaultSyncData={textureCount:0,uboCount:0},ShaderSystem=function(){function _e(j){this.destroyed=!1,this.renderer=j,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UID++}return _e.prototype.systemCheck=function(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},_e.prototype.contextChange=function(j){this.gl=j,this.reset()},_e.prototype.bind=function(j,et){j.uniforms.globals=this.renderer.globalUniforms;var tt=j.program,nt=tt.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(j);return this.shader=j,this.program!==tt&&(this.program=tt,this.gl.useProgram(nt.program)),et||(defaultSyncData.textureCount=0,defaultSyncData.uboCount=0,this.syncUniformGroup(j.uniformGroup,defaultSyncData)),nt},_e.prototype.setUniforms=function(j){var et=this.shader.program,tt=et.glPrograms[this.renderer.CONTEXT_UID];et.syncUniforms(tt.uniformData,j,this.renderer)},_e.prototype.syncUniformGroup=function(j,et){var tt=this.getGlProgram();(!j.static||j.dirtyId!==tt.uniformDirtyGroups[j.id])&&(tt.uniformDirtyGroups[j.id]=j.dirtyId,this.syncUniforms(j,tt,et))},_e.prototype.syncUniforms=function(j,et,tt){var nt=j.syncUniforms[this.shader.program.id]||this.createSyncGroups(j);nt(et.uniformData,j.uniforms,this.renderer,tt)},_e.prototype.createSyncGroups=function(j){var et=this.getSignature(j,this.shader.program.uniformData,"u");return this.cache[et]||(this.cache[et]=generateUniformsSync(j,this.shader.program.uniformData)),j.syncUniforms[this.shader.program.id]=this.cache[et],j.syncUniforms[this.shader.program.id]},_e.prototype.syncUniformBufferGroup=function(j,et){var tt=this.getGlProgram();if(!j.static||j.dirtyId!==0||!tt.uniformGroups[j.id]){j.dirtyId=0;var nt=tt.uniformGroups[j.id]||this.createSyncBufferGroup(j,tt,et);j.buffer.update(),nt(tt.uniformData,j.uniforms,this.renderer,defaultSyncData,j.buffer)}this.renderer.buffer.bindBufferBase(j.buffer,tt.uniformBufferBindings[et])},_e.prototype.createSyncBufferGroup=function(j,et,tt){var nt=this.renderer.gl;this.renderer.buffer.bind(j.buffer);var rt=this.gl.getUniformBlockIndex(et.program,tt);et.uniformBufferBindings[tt]=this.shader.uniformBindCount,nt.uniformBlockBinding(et.program,rt,this.shader.uniformBindCount),this.shader.uniformBindCount++;var it=this.getSignature(j,this.shader.program.uniformData,"ubo"),st=this._uboCache[it];if(st||(st=this._uboCache[it]=generateUniformBufferSync(j,this.shader.program.uniformData)),j.autoManage){var at=new Float32Array(st.size/4);j.buffer.update(at)}return et.uniformGroups[j.id]=st.syncFunc,et.uniformGroups[j.id]},_e.prototype.getSignature=function(j,et,tt){var nt=j.uniforms,rt=[tt+"-"];for(var it in nt)rt.push(it),et[it]&&rt.push(et[it].type);return rt.join("-")},_e.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},_e.prototype.generateProgram=function(j){var et=this.gl,tt=j.program,nt=generateProgram(et,tt);return tt.glPrograms[this.renderer.CONTEXT_UID]=nt,nt},_e.prototype.reset=function(){this.program=null,this.shader=null},_e.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},_e}();function mapWebGLBlendModesToPixi(_e,j){return j===void 0&&(j=[]),j[BLEND_MODES$5.NORMAL]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.ADD]=[_e.ONE,_e.ONE],j[BLEND_MODES$5.MULTIPLY]=[_e.DST_COLOR,_e.ONE_MINUS_SRC_ALPHA,_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.SCREEN]=[_e.ONE,_e.ONE_MINUS_SRC_COLOR,_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.OVERLAY]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.DARKEN]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.LIGHTEN]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.COLOR_DODGE]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.COLOR_BURN]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.HARD_LIGHT]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.SOFT_LIGHT]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.DIFFERENCE]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.EXCLUSION]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.HUE]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.SATURATION]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.COLOR]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.LUMINOSITY]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.NONE]=[0,0],j[BLEND_MODES$5.NORMAL_NPM]=[_e.SRC_ALPHA,_e.ONE_MINUS_SRC_ALPHA,_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.ADD_NPM]=[_e.SRC_ALPHA,_e.ONE,_e.ONE,_e.ONE],j[BLEND_MODES$5.SCREEN_NPM]=[_e.SRC_ALPHA,_e.ONE_MINUS_SRC_COLOR,_e.ONE,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.SRC_IN]=[_e.DST_ALPHA,_e.ZERO],j[BLEND_MODES$5.SRC_OUT]=[_e.ONE_MINUS_DST_ALPHA,_e.ZERO],j[BLEND_MODES$5.SRC_ATOP]=[_e.DST_ALPHA,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.DST_OVER]=[_e.ONE_MINUS_DST_ALPHA,_e.ONE],j[BLEND_MODES$5.DST_IN]=[_e.ZERO,_e.SRC_ALPHA],j[BLEND_MODES$5.DST_OUT]=[_e.ZERO,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.DST_ATOP]=[_e.ONE_MINUS_DST_ALPHA,_e.SRC_ALPHA],j[BLEND_MODES$5.XOR]=[_e.ONE_MINUS_DST_ALPHA,_e.ONE_MINUS_SRC_ALPHA],j[BLEND_MODES$5.SUBTRACT]=[_e.ONE,_e.ONE,_e.ONE,_e.ONE,_e.FUNC_REVERSE_SUBTRACT,_e.FUNC_ADD],j}var BLEND=0,OFFSET=1,CULLING=2,DEPTH_TEST=3,WINDING=4,DEPTH_MASK=5,StateSystem=function(){function _e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=BLEND_MODES$5.NONE,this._blendEq=!1,this.map=[],this.map[BLEND]=this.setBlend,this.map[OFFSET]=this.setOffset,this.map[CULLING]=this.setCullFace,this.map[DEPTH_TEST]=this.setDepthTest,this.map[WINDING]=this.setFrontFace,this.map[DEPTH_MASK]=this.setDepthMask,this.checks=[],this.defaultState=new State$1,this.defaultState.blend=!0}return _e.prototype.contextChange=function(j){this.gl=j,this.blendModes=mapWebGLBlendModesToPixi(j),this.set(this.defaultState),this.reset()},_e.prototype.set=function(j){if(j=j||this.defaultState,this.stateId!==j.data){for(var et=this.stateId^j.data,tt=0;et;)et&1&&this.map[tt].call(this,!!(j.data&1<<tt)),et=et>>1,tt++;this.stateId=j.data}for(var tt=0;tt<this.checks.length;tt++)this.checks[tt](this,j)},_e.prototype.forceState=function(j){j=j||this.defaultState;for(var et=0;et<this.map.length;et++)this.map[et].call(this,!!(j.data&1<<et));for(var et=0;et<this.checks.length;et++)this.checks[et](this,j);this.stateId=j.data},_e.prototype.setBlend=function(j){this.updateCheck(_e.checkBlendMode,j),this.gl[j?"enable":"disable"](this.gl.BLEND)},_e.prototype.setOffset=function(j){this.updateCheck(_e.checkPolygonOffset,j),this.gl[j?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},_e.prototype.setDepthTest=function(j){this.gl[j?"enable":"disable"](this.gl.DEPTH_TEST)},_e.prototype.setDepthMask=function(j){this.gl.depthMask(j)},_e.prototype.setCullFace=function(j){this.gl[j?"enable":"disable"](this.gl.CULL_FACE)},_e.prototype.setFrontFace=function(j){this.gl.frontFace(this.gl[j?"CW":"CCW"])},_e.prototype.setBlendMode=function(j){if(j!==this.blendMode){this.blendMode=j;var et=this.blendModes[j],tt=this.gl;et.length===2?tt.blendFunc(et[0],et[1]):tt.blendFuncSeparate(et[0],et[1],et[2],et[3]),et.length===6?(this._blendEq=!0,tt.blendEquationSeparate(et[4],et[5])):this._blendEq&&(this._blendEq=!1,tt.blendEquationSeparate(tt.FUNC_ADD,tt.FUNC_ADD))}},_e.prototype.setPolygonOffset=function(j,et){this.gl.polygonOffset(j,et)},_e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},_e.prototype.updateCheck=function(j,et){var tt=this.checks.indexOf(j);et&&tt===-1?this.checks.push(j):!et&&tt!==-1&&this.checks.splice(tt,1)},_e.checkBlendMode=function(j,et){j.setBlendMode(et.blendMode)},_e.checkPolygonOffset=function(j,et){j.setPolygonOffset(1,et.polygonOffset)},_e.prototype.destroy=function(){this.gl=null},_e}(),TextureGCSystem=function(){function _e(j){this.renderer=j,this.count=0,this.checkCount=0,this.maxIdle=settings$1.GC_MAX_IDLE,this.checkCountMax=settings$1.GC_MAX_CHECK_COUNT,this.mode=settings$1.GC_MODE}return _e.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==GC_MODES$5.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},_e.prototype.run=function(){for(var j=this.renderer.texture,et=j.managedTextures,tt=!1,nt=0;nt<et.length;nt++){var rt=et[nt];!rt.framebuffer&&this.count-rt.touched>this.maxIdle&&(j.destroyTexture(rt,!0),et[nt]=null,tt=!0)}if(tt){for(var it=0,nt=0;nt<et.length;nt++)et[nt]!==null&&(et[it++]=et[nt]);et.length=it}},_e.prototype.unload=function(j){var et=this.renderer.texture,tt=j._texture;tt&&!tt.framebuffer&&et.destroyTexture(tt);for(var nt=j.children.length-1;nt>=0;nt--)this.unload(j.children[nt])},_e.prototype.destroy=function(){this.renderer=null},_e}();function mapTypeAndFormatToInternalFormat(_e){var j,et,tt,nt,rt,it,st,at,ot,lt,ut,ct,ht,pt,gt,vt,ft,mt,xt,_t,Tt,wt,bt;return"WebGL2RenderingContext"in globalThis&&_e instanceof globalThis.WebGL2RenderingContext?bt=(j={},j[TYPES$5.UNSIGNED_BYTE]=(et={},et[FORMATS$5.RGBA]=_e.RGBA8,et[FORMATS$5.RGB]=_e.RGB8,et[FORMATS$5.RG]=_e.RG8,et[FORMATS$5.RED]=_e.R8,et[FORMATS$5.RGBA_INTEGER]=_e.RGBA8UI,et[FORMATS$5.RGB_INTEGER]=_e.RGB8UI,et[FORMATS$5.RG_INTEGER]=_e.RG8UI,et[FORMATS$5.RED_INTEGER]=_e.R8UI,et[FORMATS$5.ALPHA]=_e.ALPHA,et[FORMATS$5.LUMINANCE]=_e.LUMINANCE,et[FORMATS$5.LUMINANCE_ALPHA]=_e.LUMINANCE_ALPHA,et),j[TYPES$5.BYTE]=(tt={},tt[FORMATS$5.RGBA]=_e.RGBA8_SNORM,tt[FORMATS$5.RGB]=_e.RGB8_SNORM,tt[FORMATS$5.RG]=_e.RG8_SNORM,tt[FORMATS$5.RED]=_e.R8_SNORM,tt[FORMATS$5.RGBA_INTEGER]=_e.RGBA8I,tt[FORMATS$5.RGB_INTEGER]=_e.RGB8I,tt[FORMATS$5.RG_INTEGER]=_e.RG8I,tt[FORMATS$5.RED_INTEGER]=_e.R8I,tt),j[TYPES$5.UNSIGNED_SHORT]=(nt={},nt[FORMATS$5.RGBA_INTEGER]=_e.RGBA16UI,nt[FORMATS$5.RGB_INTEGER]=_e.RGB16UI,nt[FORMATS$5.RG_INTEGER]=_e.RG16UI,nt[FORMATS$5.RED_INTEGER]=_e.R16UI,nt[FORMATS$5.DEPTH_COMPONENT]=_e.DEPTH_COMPONENT16,nt),j[TYPES$5.SHORT]=(rt={},rt[FORMATS$5.RGBA_INTEGER]=_e.RGBA16I,rt[FORMATS$5.RGB_INTEGER]=_e.RGB16I,rt[FORMATS$5.RG_INTEGER]=_e.RG16I,rt[FORMATS$5.RED_INTEGER]=_e.R16I,rt),j[TYPES$5.UNSIGNED_INT]=(it={},it[FORMATS$5.RGBA_INTEGER]=_e.RGBA32UI,it[FORMATS$5.RGB_INTEGER]=_e.RGB32UI,it[FORMATS$5.RG_INTEGER]=_e.RG32UI,it[FORMATS$5.RED_INTEGER]=_e.R32UI,it[FORMATS$5.DEPTH_COMPONENT]=_e.DEPTH_COMPONENT24,it),j[TYPES$5.INT]=(st={},st[FORMATS$5.RGBA_INTEGER]=_e.RGBA32I,st[FORMATS$5.RGB_INTEGER]=_e.RGB32I,st[FORMATS$5.RG_INTEGER]=_e.RG32I,st[FORMATS$5.RED_INTEGER]=_e.R32I,st),j[TYPES$5.FLOAT]=(at={},at[FORMATS$5.RGBA]=_e.RGBA32F,at[FORMATS$5.RGB]=_e.RGB32F,at[FORMATS$5.RG]=_e.RG32F,at[FORMATS$5.RED]=_e.R32F,at[FORMATS$5.DEPTH_COMPONENT]=_e.DEPTH_COMPONENT32F,at),j[TYPES$5.HALF_FLOAT]=(ot={},ot[FORMATS$5.RGBA]=_e.RGBA16F,ot[FORMATS$5.RGB]=_e.RGB16F,ot[FORMATS$5.RG]=_e.RG16F,ot[FORMATS$5.RED]=_e.R16F,ot),j[TYPES$5.UNSIGNED_SHORT_5_6_5]=(lt={},lt[FORMATS$5.RGB]=_e.RGB565,lt),j[TYPES$5.UNSIGNED_SHORT_4_4_4_4]=(ut={},ut[FORMATS$5.RGBA]=_e.RGBA4,ut),j[TYPES$5.UNSIGNED_SHORT_5_5_5_1]=(ct={},ct[FORMATS$5.RGBA]=_e.RGB5_A1,ct),j[TYPES$5.UNSIGNED_INT_2_10_10_10_REV]=(ht={},ht[FORMATS$5.RGBA]=_e.RGB10_A2,ht[FORMATS$5.RGBA_INTEGER]=_e.RGB10_A2UI,ht),j[TYPES$5.UNSIGNED_INT_10F_11F_11F_REV]=(pt={},pt[FORMATS$5.RGB]=_e.R11F_G11F_B10F,pt),j[TYPES$5.UNSIGNED_INT_5_9_9_9_REV]=(gt={},gt[FORMATS$5.RGB]=_e.RGB9_E5,gt),j[TYPES$5.UNSIGNED_INT_24_8]=(vt={},vt[FORMATS$5.DEPTH_STENCIL]=_e.DEPTH24_STENCIL8,vt),j[TYPES$5.FLOAT_32_UNSIGNED_INT_24_8_REV]=(ft={},ft[FORMATS$5.DEPTH_STENCIL]=_e.DEPTH32F_STENCIL8,ft),j):bt=(mt={},mt[TYPES$5.UNSIGNED_BYTE]=(xt={},xt[FORMATS$5.RGBA]=_e.RGBA,xt[FORMATS$5.RGB]=_e.RGB,xt[FORMATS$5.ALPHA]=_e.ALPHA,xt[FORMATS$5.LUMINANCE]=_e.LUMINANCE,xt[FORMATS$5.LUMINANCE_ALPHA]=_e.LUMINANCE_ALPHA,xt),mt[TYPES$5.UNSIGNED_SHORT_5_6_5]=(_t={},_t[FORMATS$5.RGB]=_e.RGB,_t),mt[TYPES$5.UNSIGNED_SHORT_4_4_4_4]=(Tt={},Tt[FORMATS$5.RGBA]=_e.RGBA,Tt),mt[TYPES$5.UNSIGNED_SHORT_5_5_5_1]=(wt={},wt[FORMATS$5.RGBA]=_e.RGBA,wt),mt),bt}var GLTexture=function(){function _e(j){this.texture=j,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=TYPES$5.UNSIGNED_BYTE,this.internalFormat=FORMATS$5.RGBA,this.samplerType=0}return _e}(),TextureSystem=function(){function _e(j){this.renderer=j,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new BaseTexture,this.hasIntegerTextures=!1}return _e.prototype.contextChange=function(){var j=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=mapTypeAndFormatToInternalFormat(j);var et=j.getParameter(j.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=et;for(var tt=0;tt<et;tt++)this.boundTextures[tt]=null;this.emptyTextures={};var nt=new GLTexture(j.createTexture());j.bindTexture(j.TEXTURE_2D,nt.texture),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,1,1,0,j.RGBA,j.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[j.TEXTURE_2D]=nt,this.emptyTextures[j.TEXTURE_CUBE_MAP]=new GLTexture(j.createTexture()),j.bindTexture(j.TEXTURE_CUBE_MAP,this.emptyTextures[j.TEXTURE_CUBE_MAP].texture);for(var tt=0;tt<6;tt++)j.texImage2D(j.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,j.RGBA,1,1,0,j.RGBA,j.UNSIGNED_BYTE,null);j.texParameteri(j.TEXTURE_CUBE_MAP,j.TEXTURE_MAG_FILTER,j.LINEAR),j.texParameteri(j.TEXTURE_CUBE_MAP,j.TEXTURE_MIN_FILTER,j.LINEAR);for(var tt=0;tt<this.boundTextures.length;tt++)this.bind(null,tt)},_e.prototype.bind=function(j,et){et===void 0&&(et=0);var tt=this.gl;if(j=j==null?void 0:j.castToBaseTexture(),j&&j.valid&&!j.parentTextureArray){j.touched=this.renderer.textureGC.count;var nt=j._glTextures[this.CONTEXT_UID]||this.initTexture(j);this.boundTextures[et]!==j&&(this.currentLocation!==et&&(this.currentLocation=et,tt.activeTexture(tt.TEXTURE0+et)),tt.bindTexture(j.target,nt.texture)),nt.dirtyId!==j.dirtyId&&(this.currentLocation!==et&&(this.currentLocation=et,tt.activeTexture(tt.TEXTURE0+et)),this.updateTexture(j)),this.boundTextures[et]=j}else this.currentLocation!==et&&(this.currentLocation=et,tt.activeTexture(tt.TEXTURE0+et)),tt.bindTexture(tt.TEXTURE_2D,this.emptyTextures[tt.TEXTURE_2D].texture),this.boundTextures[et]=null},_e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var j=0;j<this.boundTextures.length;j++)this.boundTextures[j]=this.unknownTexture},_e.prototype.unbind=function(j){var et=this,tt=et.gl,nt=et.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var rt=0;rt<nt.length;rt++)nt[rt]===this.unknownTexture&&this.bind(null,rt)}for(var rt=0;rt<nt.length;rt++)nt[rt]===j&&(this.currentLocation!==rt&&(tt.activeTexture(tt.TEXTURE0+rt),this.currentLocation=rt),tt.bindTexture(j.target,this.emptyTextures[j.target].texture),nt[rt]=null)},_e.prototype.ensureSamplerType=function(j){var et=this,tt=et.boundTextures,nt=et.hasIntegerTextures,rt=et.CONTEXT_UID;if(!!nt)for(var it=j-1;it>=0;--it){var st=tt[it];if(st){var at=st._glTextures[rt];at.samplerType!==SAMPLER_TYPES$5.FLOAT&&this.renderer.texture.unbind(st)}}},_e.prototype.initTexture=function(j){var et=new GLTexture(this.gl.createTexture());return et.dirtyId=-1,j._glTextures[this.CONTEXT_UID]=et,this.managedTextures.push(j),j.on("dispose",this.destroyTexture,this),et},_e.prototype.initTextureType=function(j,et){var tt,nt;et.internalFormat=(nt=(tt=this.internalFormats[j.type])===null||tt===void 0?void 0:tt[j.format])!==null&&nt!==void 0?nt:j.format,this.webGLVersion===2&&j.type===TYPES$5.HALF_FLOAT?et.type=this.gl.HALF_FLOAT:et.type=j.type},_e.prototype.updateTexture=function(j){var et=j._glTextures[this.CONTEXT_UID];if(!!et){var tt=this.renderer;if(this.initTextureType(j,et),j.resource&&j.resource.upload(tt,j,et))et.samplerType!==SAMPLER_TYPES$5.FLOAT&&(this.hasIntegerTextures=!0);else{var nt=j.realWidth,rt=j.realHeight,it=tt.gl;(et.width!==nt||et.height!==rt||et.dirtyId<0)&&(et.width=nt,et.height=rt,it.texImage2D(j.target,0,et.internalFormat,nt,rt,0,j.format,et.type,null))}j.dirtyStyleId!==et.dirtyStyleId&&this.updateTextureStyle(j),et.dirtyId=j.dirtyId}},_e.prototype.destroyTexture=function(j,et){var tt=this.gl;if(j=j.castToBaseTexture(),j._glTextures[this.CONTEXT_UID]&&(this.unbind(j),tt.deleteTexture(j._glTextures[this.CONTEXT_UID].texture),j.off("dispose",this.destroyTexture,this),delete j._glTextures[this.CONTEXT_UID],!et)){var nt=this.managedTextures.indexOf(j);nt!==-1&&removeItems(this.managedTextures,nt,1)}},_e.prototype.updateTextureStyle=function(j){var et=j._glTextures[this.CONTEXT_UID];!et||((j.mipmap===MIPMAP_MODES$5.POW2||this.webGLVersion!==2)&&!j.isPowerOfTwo?et.mipmap=!1:et.mipmap=j.mipmap>=1,this.webGLVersion!==2&&!j.isPowerOfTwo?et.wrapMode=WRAP_MODES$5.CLAMP:et.wrapMode=j.wrapMode,j.resource&&j.resource.style(this.renderer,j,et)||this.setStyle(j,et),et.dirtyStyleId=j.dirtyStyleId)},_e.prototype.setStyle=function(j,et){var tt=this.gl;if(et.mipmap&&j.mipmap!==MIPMAP_MODES$5.ON_MANUAL&&tt.generateMipmap(j.target),tt.texParameteri(j.target,tt.TEXTURE_WRAP_S,et.wrapMode),tt.texParameteri(j.target,tt.TEXTURE_WRAP_T,et.wrapMode),et.mipmap){tt.texParameteri(j.target,tt.TEXTURE_MIN_FILTER,j.scaleMode===SCALE_MODES$5.LINEAR?tt.LINEAR_MIPMAP_LINEAR:tt.NEAREST_MIPMAP_NEAREST);var nt=this.renderer.context.extensions.anisotropicFiltering;if(nt&&j.anisotropicLevel>0&&j.scaleMode===SCALE_MODES$5.LINEAR){var rt=Math.min(j.anisotropicLevel,tt.getParameter(nt.MAX_TEXTURE_MAX_ANISOTROPY_EXT));tt.texParameterf(j.target,nt.TEXTURE_MAX_ANISOTROPY_EXT,rt)}}else tt.texParameteri(j.target,tt.TEXTURE_MIN_FILTER,j.scaleMode===SCALE_MODES$5.LINEAR?tt.LINEAR:tt.NEAREST);tt.texParameteri(j.target,tt.TEXTURE_MAG_FILTER,j.scaleMode===SCALE_MODES$5.LINEAR?tt.LINEAR:tt.NEAREST)},_e.prototype.destroy=function(){this.renderer=null},_e}(),tempMatrix=new Matrix,AbstractRenderer=function(_e){__extends$i(j,_e);function j(et,tt){et===void 0&&(et=RENDERER_TYPE$5.UNKNOWN);var nt=_e.call(this)||this;return tt=Object.assign({},settings$1.RENDER_OPTIONS,tt),nt.options=tt,nt.type=et,nt.screen=new Rectangle(0,0,tt.width,tt.height),nt.view=tt.view||settings$1.ADAPTER.createCanvas(),nt.resolution=tt.resolution||settings$1.RESOLUTION,nt.useContextAlpha=tt.useContextAlpha,nt.autoDensity=!!tt.autoDensity,nt.preserveDrawingBuffer=tt.preserveDrawingBuffer,nt.clearBeforeRender=tt.clearBeforeRender,nt._backgroundColor=0,nt._backgroundColorRgba=[0,0,0,1],nt._backgroundColorString="#000000",nt.backgroundColor=tt.backgroundColor||nt._backgroundColor,nt.backgroundAlpha=tt.backgroundAlpha,tt.transparent!==void 0&&(deprecation$1("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),nt.useContextAlpha=tt.transparent,nt.backgroundAlpha=tt.transparent?0:1),nt._lastObjectRendered=null,nt.plugins={},nt}return j.prototype.initPlugins=function(et){for(var tt in et)this.plugins[tt]=new et[tt](this)},Object.defineProperty(j.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),j.prototype.resize=function(et,tt){this.view.width=Math.round(et*this.resolution),this.view.height=Math.round(tt*this.resolution);var nt=this.view.width/this.resolution,rt=this.view.height/this.resolution;this.screen.width=nt,this.screen.height=rt,this.autoDensity&&(this.view.style.width=nt+"px",this.view.style.height=rt+"px"),this.emit("resize",nt,rt)},j.prototype.generateTexture=function(et,tt,nt,rt){tt===void 0&&(tt={}),typeof tt=="number"&&(deprecation$1("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),tt={scaleMode:tt,resolution:nt,region:rt});var it=tt.region,st=__rest(tt,["region"]);rt=it||et.getLocalBounds(null,!0),rt.width===0&&(rt.width=1),rt.height===0&&(rt.height=1);var at=RenderTexture.create(__assign$1({width:rt.width,height:rt.height},st));return tempMatrix.tx=-rt.x,tempMatrix.ty=-rt.y,this.render(et,{renderTexture:at,clear:!1,transform:tempMatrix,skipUpdateTransform:!!et.parent}),at},j.prototype.destroy=function(et){for(var tt in this.plugins)this.plugins[tt].destroy(),this.plugins[tt]=null;et&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var nt=this;nt.plugins=null,nt.type=RENDERER_TYPE$5.UNKNOWN,nt.view=null,nt.screen=null,nt._tempDisplayObjectParent=null,nt.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(j.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(et){this._backgroundColor=et,this._backgroundColorString=hex2string(et),hex2rgb(et,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(et){this._backgroundColorRgba[3]=et},enumerable:!1,configurable:!0}),j}(EventEmitter),GLBuffer=function(){function _e(j){this.buffer=j||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return _e}(),BufferSystem=function(){function _e(j){this.renderer=j,this.managedBuffers={},this.boundBufferBases={}}return _e.prototype.destroy=function(){this.renderer=null},_e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},_e.prototype.bind=function(j){var et=this,tt=et.gl,nt=et.CONTEXT_UID,rt=j._glBuffers[nt]||this.createGLBuffer(j);tt.bindBuffer(j.type,rt.buffer)},_e.prototype.bindBufferBase=function(j,et){var tt=this,nt=tt.gl,rt=tt.CONTEXT_UID;if(this.boundBufferBases[et]!==j){var it=j._glBuffers[rt]||this.createGLBuffer(j);this.boundBufferBases[et]=j,nt.bindBufferBase(nt.UNIFORM_BUFFER,et,it.buffer)}},_e.prototype.bindBufferRange=function(j,et,tt){var nt=this,rt=nt.gl,it=nt.CONTEXT_UID;tt=tt||0;var st=j._glBuffers[it]||this.createGLBuffer(j);rt.bindBufferRange(rt.UNIFORM_BUFFER,et||0,st.buffer,tt*256,256)},_e.prototype.update=function(j){var et=this,tt=et.gl,nt=et.CONTEXT_UID,rt=j._glBuffers[nt];if(j._updateID!==rt.updateID)if(rt.updateID=j._updateID,tt.bindBuffer(j.type,rt.buffer),rt.byteLength>=j.data.byteLength)tt.bufferSubData(j.type,0,j.data);else{var it=j.static?tt.STATIC_DRAW:tt.DYNAMIC_DRAW;rt.byteLength=j.data.byteLength,tt.bufferData(j.type,j.data,it)}},_e.prototype.dispose=function(j,et){if(!!this.managedBuffers[j.id]){delete this.managedBuffers[j.id];var tt=j._glBuffers[this.CONTEXT_UID],nt=this.gl;j.disposeRunner.remove(this),tt&&(et||nt.deleteBuffer(tt.buffer),delete j._glBuffers[this.CONTEXT_UID])}},_e.prototype.disposeAll=function(j){for(var et=Object.keys(this.managedBuffers),tt=0;tt<et.length;tt++)this.dispose(this.managedBuffers[et[tt]],j)},_e.prototype.createGLBuffer=function(j){var et=this,tt=et.CONTEXT_UID,nt=et.gl;return j._glBuffers[tt]=new GLBuffer(nt.createBuffer()),this.managedBuffers[j.id]=j,j.disposeRunner.add(this),j._glBuffers[tt]},_e}(),Renderer=function(_e){__extends$i(j,_e);function j(et){var tt=_e.call(this,RENDERER_TYPE$5.WEBGL,et)||this;return et=tt.options,tt.gl=null,tt.CONTEXT_UID=0,tt.runners={destroy:new Runner("destroy"),contextChange:new Runner("contextChange"),reset:new Runner("reset"),update:new Runner("update"),postrender:new Runner("postrender"),prerender:new Runner("prerender"),resize:new Runner("resize")},tt.runners.contextChange.add(tt),tt.globalUniforms=new UniformGroup({projectionMatrix:new Matrix},!0),tt.addSystem(MaskSystem,"mask").addSystem(ContextSystem,"context").addSystem(StateSystem,"state").addSystem(ShaderSystem,"shader").addSystem(TextureSystem,"texture").addSystem(BufferSystem,"buffer").addSystem(GeometrySystem,"geometry").addSystem(FramebufferSystem,"framebuffer").addSystem(ScissorSystem,"scissor").addSystem(StencilSystem,"stencil").addSystem(ProjectionSystem,"projection").addSystem(TextureGCSystem,"textureGC").addSystem(FilterSystem,"filter").addSystem(RenderTextureSystem,"renderTexture").addSystem(BatchSystem,"batch"),tt.initPlugins(j.__plugins),tt.multisample=void 0,et.context?tt.context.initFromContext(et.context):tt.context.initFromOptions({alpha:!!tt.useContextAlpha,antialias:et.antialias,premultipliedAlpha:tt.useContextAlpha&&tt.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:et.preserveDrawingBuffer,powerPreference:tt.options.powerPreference}),tt.renderingToScreen=!0,sayHello(tt.context.webGLVersion===2?"WebGL 2":"WebGL 1"),tt.resize(tt.options.width,tt.options.height),tt}return j.create=function(et){if(isWebGLSupported())return new j(et);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},j.prototype.contextChange=function(){var et=this.gl,tt;if(this.context.webGLVersion===1){var nt=et.getParameter(et.FRAMEBUFFER_BINDING);et.bindFramebuffer(et.FRAMEBUFFER,null),tt=et.getParameter(et.SAMPLES),et.bindFramebuffer(et.FRAMEBUFFER,nt)}else{var nt=et.getParameter(et.DRAW_FRAMEBUFFER_BINDING);et.bindFramebuffer(et.DRAW_FRAMEBUFFER,null),tt=et.getParameter(et.SAMPLES),et.bindFramebuffer(et.DRAW_FRAMEBUFFER,nt)}tt>=MSAA_QUALITY$5.HIGH?this.multisample=MSAA_QUALITY$5.HIGH:tt>=MSAA_QUALITY$5.MEDIUM?this.multisample=MSAA_QUALITY$5.MEDIUM:tt>=MSAA_QUALITY$5.LOW?this.multisample=MSAA_QUALITY$5.LOW:this.multisample=MSAA_QUALITY$5.NONE},j.prototype.addSystem=function(et,tt){var nt=new et(this);if(this[tt])throw new Error('Whoops! The name "'+tt+'" is already in use');this[tt]=nt;for(var rt in this.runners)this.runners[rt].add(nt);return this},j.prototype.render=function(et,tt){var nt,rt,it,st;if(tt&&(tt instanceof RenderTexture?(deprecation$1("6.0.0","Renderer#render arguments changed, use options instead."),nt=tt,rt=arguments[2],it=arguments[3],st=arguments[4]):(nt=tt.renderTexture,rt=tt.clear,it=tt.transform,st=tt.skipUpdateTransform)),this.renderingToScreen=!nt,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=it,!this.context.isLost){if(nt||(this._lastObjectRendered=et),!st){var at=et.enableTempParent();et.updateTransform(),et.disableTempParent(at)}this.renderTexture.bind(nt),this.batch.currentRenderer.start(),(rt!==void 0?rt:this.clearBeforeRender)&&this.renderTexture.clear(),et.render(this),this.batch.currentRenderer.flush(),nt&&nt.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},j.prototype.generateTexture=function(et,tt,nt,rt){tt===void 0&&(tt={});var it=_e.prototype.generateTexture.call(this,et,tt,nt,rt);return this.framebuffer.blit(),it},j.prototype.resize=function(et,tt){_e.prototype.resize.call(this,et,tt),this.runners.resize.emit(this.screen.height,this.screen.width)},j.prototype.reset=function(){return this.runners.reset.emit(),this},j.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},j.prototype.destroy=function(et){this.runners.destroy.emit();for(var tt in this.runners)this.runners[tt].destroy();_e.prototype.destroy.call(this,et),this.gl=null},Object.defineProperty(j.prototype,"extract",{get:function(){return deprecation$1("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),j.registerPlugin=function(et,tt){deprecation$1("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),extensions.add({name:et,type:ExtensionType.RendererPlugin,ref:tt})},j.__plugins={},j}(AbstractRenderer);extensions.handleByMap(ExtensionType.RendererPlugin,Renderer.__plugins);function autoDetectRenderer(_e){return Renderer.create(_e)}var $defaultVertex=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$defaultFilterVertex=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,defaultVertex$1=$defaultVertex,defaultFilterVertex=$defaultFilterVertex,BatchDrawCall=function(){function _e(){this.texArray=null,this.blend=0,this.type=DRAW_MODES$5.TRIANGLES,this.start=0,this.size=0,this.data=null}return _e}(),BatchTextureArray=function(){function _e(){this.elements=[],this.ids=[],this.count=0}return _e.prototype.clear=function(){for(var j=0;j<this.count;j++)this.elements[j]=null;this.count=0},_e}(),ViewableBuffer=function(){function _e(j){typeof j=="number"?this.rawBinaryData=new ArrayBuffer(j):j instanceof Uint8Array?this.rawBinaryData=j.buffer:this.rawBinaryData=j,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(_e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),_e.prototype.view=function(j){return this[j+"View"]},_e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},_e.sizeOf=function(j){switch(j){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(j+" isn't a valid view type")}},_e}(),AbstractBatchRenderer=function(_e){__extends$i(j,_e);function j(et){var tt=_e.call(this,et)||this;return tt.shaderGenerator=null,tt.geometryClass=null,tt.vertexSize=null,tt.state=State$1.for2d(),tt.size=settings$1.SPRITE_BATCH_SIZE*4,tt._vertexCount=0,tt._indexCount=0,tt._bufferedElements=[],tt._bufferedTextures=[],tt._bufferSize=0,tt._shader=null,tt._packedGeometries=[],tt._packedGeometryPoolSize=2,tt._flushId=0,tt._aBuffers={},tt._iBuffers={},tt.MAX_TEXTURES=1,tt.renderer.on("prerender",tt.onPrerender,tt),et.runners.contextChange.add(tt),tt._dcIndex=0,tt._aIndex=0,tt._iIndex=0,tt._attributeBuffer=null,tt._indexBuffer=null,tt._tempBoundTextures=[],tt}return j.prototype.contextChange=function(){var et=this.renderer.gl;settings$1.PREFER_ENV===ENV$5.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(et.getParameter(et.MAX_TEXTURE_IMAGE_UNITS),settings$1.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=checkMaxIfStatementsInShader(this.MAX_TEXTURES,et)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var tt=0;tt<this._packedGeometryPoolSize;tt++)this._packedGeometries[tt]=new this.geometryClass;this.initFlushBuffers()},j.prototype.initFlushBuffers=function(){for(var et=j._drawCallPool,tt=j._textureArrayPool,nt=this.size/4,rt=Math.floor(nt/this.MAX_TEXTURES)+1;et.length<nt;)et.push(new BatchDrawCall);for(;tt.length<rt;)tt.push(new BatchTextureArray);for(var it=0;it<this.MAX_TEXTURES;it++)this._tempBoundTextures[it]=null},j.prototype.onPrerender=function(){this._flushId=0},j.prototype.render=function(et){!et._texture.valid||(this._vertexCount+et.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=et.vertexData.length/2,this._indexCount+=et.indices.length,this._bufferedTextures[this._bufferSize]=et._texture.baseTexture,this._bufferedElements[this._bufferSize++]=et)},j.prototype.buildTexturesAndDrawCalls=function(){var et=this,tt=et._bufferedTextures,nt=et.MAX_TEXTURES,rt=j._textureArrayPool,it=this.renderer.batch,st=this._tempBoundTextures,at=this.renderer.textureGC.count,ot=++BaseTexture._globalBatch,lt=0,ut=rt[0],ct=0;it.copyBoundTextures(st,nt);for(var ht=0;ht<this._bufferSize;++ht){var pt=tt[ht];tt[ht]=null,pt._batchEnabled!==ot&&(ut.count>=nt&&(it.boundArray(ut,st,ot,nt),this.buildDrawCalls(ut,ct,ht),ct=ht,ut=rt[++lt],++ot),pt._batchEnabled=ot,pt.touched=at,ut.elements[ut.count++]=pt)}ut.count>0&&(it.boundArray(ut,st,ot,nt),this.buildDrawCalls(ut,ct,this._bufferSize),++lt,++ot);for(var ht=0;ht<st.length;ht++)st[ht]=null;BaseTexture._globalBatch=ot},j.prototype.buildDrawCalls=function(et,tt,nt){var rt=this,it=rt._bufferedElements,st=rt._attributeBuffer,at=rt._indexBuffer,ot=rt.vertexSize,lt=j._drawCallPool,ut=this._dcIndex,ct=this._aIndex,ht=this._iIndex,pt=lt[ut];pt.start=this._iIndex,pt.texArray=et;for(var gt=tt;gt<nt;++gt){var vt=it[gt],ft=vt._texture.baseTexture,mt=premultiplyBlendMode[ft.alphaMode?1:0][vt.blendMode];it[gt]=null,tt<gt&&pt.blend!==mt&&(pt.size=ht-pt.start,tt=gt,pt=lt[++ut],pt.texArray=et,pt.start=ht),this.packInterleavedGeometry(vt,st,at,ct,ht),ct+=vt.vertexData.length/2*ot,ht+=vt.indices.length,pt.blend=mt}tt<nt&&(pt.size=ht-pt.start,++ut),this._dcIndex=ut,this._aIndex=ct,this._iIndex=ht},j.prototype.bindAndClearTexArray=function(et){for(var tt=this.renderer.texture,nt=0;nt<et.count;nt++)tt.bind(et.elements[nt],et.ids[nt]),et.elements[nt]=null;et.count=0},j.prototype.updateGeometry=function(){var et=this,tt=et._packedGeometries,nt=et._attributeBuffer,rt=et._indexBuffer;settings$1.CAN_UPLOAD_SAME_BUFFER?(tt[this._flushId]._buffer.update(nt.rawBinaryData),tt[this._flushId]._indexBuffer.update(rt),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,tt[this._flushId]=new this.geometryClass),tt[this._flushId]._buffer.update(nt.rawBinaryData),tt[this._flushId]._indexBuffer.update(rt),this.renderer.geometry.bind(tt[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},j.prototype.drawBatches=function(){for(var et=this._dcIndex,tt=this.renderer,nt=tt.gl,rt=tt.state,it=j._drawCallPool,st=null,at=0;at<et;at++){var ot=it[at],lt=ot.texArray,ut=ot.type,ct=ot.size,ht=ot.start,pt=ot.blend;st!==lt&&(st=lt,this.bindAndClearTexArray(lt)),this.state.blendMode=pt,rt.set(this.state),nt.drawElements(ut,ct,nt.UNSIGNED_SHORT,ht*2)}},j.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},j.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),settings$1.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},j.prototype.stop=function(){this.flush()},j.prototype.destroy=function(){for(var et=0;et<this._packedGeometryPoolSize;et++)this._packedGeometries[et]&&this._packedGeometries[et].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),_e.prototype.destroy.call(this)},j.prototype.getAttributeBuffer=function(et){var tt=nextPow2(Math.ceil(et/8)),nt=log2(tt),rt=tt*8;this._aBuffers.length<=nt&&(this._iBuffers.length=nt+1);var it=this._aBuffers[rt];return it||(this._aBuffers[rt]=it=new ViewableBuffer(rt*this.vertexSize*4)),it},j.prototype.getIndexBuffer=function(et){var tt=nextPow2(Math.ceil(et/12)),nt=log2(tt),rt=tt*12;this._iBuffers.length<=nt&&(this._iBuffers.length=nt+1);var it=this._iBuffers[nt];return it||(this._iBuffers[nt]=it=new Uint16Array(rt)),it},j.prototype.packInterleavedGeometry=function(et,tt,nt,rt,it){for(var st=tt.uint32View,at=tt.float32View,ot=rt/this.vertexSize,lt=et.uvs,ut=et.indices,ct=et.vertexData,ht=et._texture.baseTexture._batchLocation,pt=Math.min(et.worldAlpha,1),gt=pt<1&&et._texture.baseTexture.alphaMode?premultiplyTint(et._tintRGB,pt):et._tintRGB+(pt*255<<24),vt=0;vt<ct.length;vt+=2)at[rt++]=ct[vt],at[rt++]=ct[vt+1],at[rt++]=lt[vt],at[rt++]=lt[vt+1],st[rt++]=gt,at[rt++]=ht;for(var vt=0;vt<ut.length;vt++)nt[it++]=ot+ut[vt]},j._drawCallPool=[],j._textureArrayPool=[],j}(ObjectRenderer),BatchShaderGenerator=function(){function _e(j,et){if(this.vertexSrc=j,this.fragTemplate=et,this.programCache={},this.defaultGroupCache={},et.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(et.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return _e.prototype.generateShader=function(j){if(!this.programCache[j]){for(var et=new Int32Array(j),tt=0;tt<j;tt++)et[tt]=tt;this.defaultGroupCache[j]=UniformGroup.from({uSamplers:et},!0);var nt=this.fragTemplate;nt=nt.replace(/%count%/gi,""+j),nt=nt.replace(/%forloop%/gi,this.generateSampleSrc(j)),this.programCache[j]=new Program(this.vertexSrc,nt)}var rt={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:this.defaultGroupCache[j]};return new Shader(this.programCache[j],rt)},_e.prototype.generateSampleSrc=function(j){var et="";et+=`
`,et+=`
`;for(var tt=0;tt<j;tt++)tt>0&&(et+=`
else `),tt<j-1&&(et+="if(vTextureId < "+tt+".5)"),et+=`
{`,et+=`
	color = texture2D(uSamplers[`+tt+"], vTextureCoord);",et+=`
}`;return et+=`
`,et+=`
`,et},_e}(),BatchGeometry=function(_e){__extends$i(j,_e);function j(et){et===void 0&&(et=!1);var tt=_e.call(this)||this;return tt._buffer=new Buffer(null,et,!1),tt._indexBuffer=new Buffer(null,et,!0),tt.addAttribute("aVertexPosition",tt._buffer,2,!1,TYPES$5.FLOAT).addAttribute("aTextureCoord",tt._buffer,2,!1,TYPES$5.FLOAT).addAttribute("aColor",tt._buffer,4,!0,TYPES$5.UNSIGNED_BYTE).addAttribute("aTextureId",tt._buffer,1,!0,TYPES$5.FLOAT).addIndex(tt._indexBuffer),tt}return j}(Geometry),defaultVertex=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,defaultFragment=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,BatchPluginFactory=function(){function _e(){}return _e.create=function(j){var et=Object.assign({vertex:defaultVertex,fragment:defaultFragment,geometryClass:BatchGeometry,vertexSize:6},j),tt=et.vertex,nt=et.fragment,rt=et.vertexSize,it=et.geometryClass;return function(st){__extends$i(at,st);function at(ot){var lt=st.call(this,ot)||this;return lt.shaderGenerator=new BatchShaderGenerator(tt,nt),lt.geometryClass=it,lt.vertexSize=rt,lt}return at}(AbstractBatchRenderer)},Object.defineProperty(_e,"defaultVertexSrc",{get:function(){return defaultVertex},enumerable:!1,configurable:!0}),Object.defineProperty(_e,"defaultFragmentTemplate",{get:function(){return defaultFragment},enumerable:!1,configurable:!0}),_e}(),BatchRenderer=BatchPluginFactory.create();Object.assign(BatchRenderer,{extension:{name:"batch",type:ExtensionType.RendererPlugin}});/*!
 * @pixi/accessibility - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};DisplayObject.mixin(accessibleTarget);var KEY_CODE_TAB=9,DIV_TOUCH_SIZE=100,DIV_TOUCH_POS_X=0,DIV_TOUCH_POS_Y=0,DIV_TOUCH_ZINDEX=2,DIV_HOOK_SIZE=1,DIV_HOOK_POS_X=-1e3,DIV_HOOK_POS_Y=-1e3,DIV_HOOK_ZINDEX=2,AccessibilityManager=function(){function _e(j){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(isMobile$2.tablet||isMobile$2.phone)&&this.createTouchHook();var et=document.createElement("div");et.style.width=DIV_TOUCH_SIZE+"px",et.style.height=DIV_TOUCH_SIZE+"px",et.style.position="absolute",et.style.top=DIV_TOUCH_POS_X+"px",et.style.left=DIV_TOUCH_POS_Y+"px",et.style.zIndex=DIV_TOUCH_ZINDEX.toString(),this.div=et,this.renderer=j,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(_e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),_e.prototype.createTouchHook=function(){var j=this,et=document.createElement("button");et.style.width=DIV_HOOK_SIZE+"px",et.style.height=DIV_HOOK_SIZE+"px",et.style.position="absolute",et.style.top=DIV_HOOK_POS_X+"px",et.style.left=DIV_HOOK_POS_Y+"px",et.style.zIndex=DIV_HOOK_ZINDEX.toString(),et.style.backgroundColor="#FF0000",et.title="select to enable accessibility for this content",et.addEventListener("focus",function(){j._isMobileAccessibility=!0,j.activate(),j.destroyTouchHook()}),document.body.appendChild(et),this._hookDiv=et},_e.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},_e.prototype.activate=function(){var j;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(j=this.renderer.view.parentNode)===null||j===void 0||j.appendChild(this.div))},_e.prototype.deactivate=function(){var j;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(j=this.div.parentNode)===null||j===void 0||j.removeChild(this.div))},_e.prototype.updateAccessibleObjects=function(j){if(!(!j.visible||!j.accessibleChildren)){j.accessible&&j.interactive&&(j._accessibleActive||this.addChild(j),j.renderId=this.renderId);var et=j.children;if(et)for(var tt=0;tt<et.length;tt++)this.updateAccessibleObjects(et[tt])}},_e.prototype.update=function(){var j=performance.now();if(!(isMobile$2.android.device&&j<this.androidUpdateCount)&&(this.androidUpdateCount=j+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var et=this.renderer.view.getBoundingClientRect(),tt=et.left,nt=et.top,rt=et.width,it=et.height,st=this.renderer,at=st.width,ot=st.height,lt=st.resolution,ut=rt/at*lt,ct=it/ot*lt,ht=this.div;ht.style.left=tt+"px",ht.style.top=nt+"px",ht.style.width=at+"px",ht.style.height=ot+"px";for(var pt=0;pt<this.children.length;pt++){var gt=this.children[pt];if(gt.renderId!==this.renderId)gt._accessibleActive=!1,removeItems(this.children,pt,1),this.div.removeChild(gt._accessibleDiv),this.pool.push(gt._accessibleDiv),gt._accessibleDiv=null,pt--;else{ht=gt._accessibleDiv;var vt=gt.hitArea,ft=gt.worldTransform;gt.hitArea?(ht.style.left=(ft.tx+vt.x*ft.a)*ut+"px",ht.style.top=(ft.ty+vt.y*ft.d)*ct+"px",ht.style.width=vt.width*ft.a*ut+"px",ht.style.height=vt.height*ft.d*ct+"px"):(vt=gt.getBounds(),this.capHitArea(vt),ht.style.left=vt.x*ut+"px",ht.style.top=vt.y*ct+"px",ht.style.width=vt.width*ut+"px",ht.style.height=vt.height*ct+"px",ht.title!==gt.accessibleTitle&&gt.accessibleTitle!==null&&(ht.title=gt.accessibleTitle),ht.getAttribute("aria-label")!==gt.accessibleHint&&gt.accessibleHint!==null&&ht.setAttribute("aria-label",gt.accessibleHint)),(gt.accessibleTitle!==ht.title||gt.tabIndex!==ht.tabIndex)&&(ht.title=gt.accessibleTitle,ht.tabIndex=gt.tabIndex,this.debug&&this.updateDebugHTML(ht))}}this.renderId++}},_e.prototype.updateDebugHTML=function(j){j.innerHTML="type: "+j.type+"</br> title : "+j.title+"</br> tabIndex: "+j.tabIndex},_e.prototype.capHitArea=function(j){j.x<0&&(j.width+=j.x,j.x=0),j.y<0&&(j.height+=j.y,j.y=0);var et=this.renderer,tt=et.width,nt=et.height;j.x+j.width>tt&&(j.width=tt-j.x),j.y+j.height>nt&&(j.height=nt-j.y)},_e.prototype.addChild=function(j){var et=this.pool.pop();et||(et=document.createElement("button"),et.style.width=DIV_TOUCH_SIZE+"px",et.style.height=DIV_TOUCH_SIZE+"px",et.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",et.style.position="absolute",et.style.zIndex=DIV_TOUCH_ZINDEX.toString(),et.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?et.setAttribute("aria-live","off"):et.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?et.setAttribute("aria-relevant","additions"):et.setAttribute("aria-relevant","text"),et.addEventListener("click",this._onClick.bind(this)),et.addEventListener("focus",this._onFocus.bind(this)),et.addEventListener("focusout",this._onFocusOut.bind(this))),et.style.pointerEvents=j.accessiblePointerEvents,et.type=j.accessibleType,j.accessibleTitle&&j.accessibleTitle!==null?et.title=j.accessibleTitle:(!j.accessibleHint||j.accessibleHint===null)&&(et.title="displayObject "+j.tabIndex),j.accessibleHint&&j.accessibleHint!==null&&et.setAttribute("aria-label",j.accessibleHint),this.debug&&this.updateDebugHTML(et),j._accessibleActive=!0,j._accessibleDiv=et,et.displayObject=j,this.children.push(j),this.div.appendChild(j._accessibleDiv),j._accessibleDiv.tabIndex=j.tabIndex},_e.prototype._onClick=function(j){var et=this.renderer.plugins.interaction,tt=j.target.displayObject,nt=et.eventData;et.dispatchEvent(tt,"click",nt),et.dispatchEvent(tt,"pointertap",nt),et.dispatchEvent(tt,"tap",nt)},_e.prototype._onFocus=function(j){j.target.getAttribute("aria-live")||j.target.setAttribute("aria-live","assertive");var et=this.renderer.plugins.interaction,tt=j.target.displayObject,nt=et.eventData;et.dispatchEvent(tt,"mouseover",nt)},_e.prototype._onFocusOut=function(j){j.target.getAttribute("aria-live")||j.target.setAttribute("aria-live","polite");var et=this.renderer.plugins.interaction,tt=j.target.displayObject,nt=et.eventData;et.dispatchEvent(tt,"mouseout",nt)},_e.prototype._onKeyDown=function(j){j.keyCode===KEY_CODE_TAB&&this.activate()},_e.prototype._onMouseMove=function(j){j.movementX===0&&j.movementY===0||this.deactivate()},_e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},_e.extension={name:"accessibility",type:[ExtensionType.RendererPlugin,ExtensionType.CanvasRendererPlugin]},_e}();/*!
 * @pixi/interaction - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var InteractionData=function(){function _e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(_e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),_e.prototype.getLocalPosition=function(j,et,tt){return j.worldTransform.applyInverse(tt||this.global,et)},_e.prototype.copyEvent=function(j){"isPrimary"in j&&j.isPrimary&&(this.isPrimary=!0),this.button="button"in j&&j.button;var et="buttons"in j&&j.buttons;this.buttons=Number.isInteger(et)?et:"which"in j&&j.which,this.width="width"in j&&j.width,this.height="height"in j&&j.height,this.tiltX="tiltX"in j&&j.tiltX,this.tiltY="tiltY"in j&&j.tiltY,this.pointerType="pointerType"in j&&j.pointerType,this.pressure="pressure"in j&&j.pressure,this.rotationAngle="rotationAngle"in j&&j.rotationAngle,this.twist="twist"in j&&j.twist||0,this.tangentialPressure="tangentialPressure"in j&&j.tangentialPressure||0},_e.prototype.reset=function(){this.isPrimary=!1},_e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$h=function(_e,j){return extendStatics$h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$h(_e,j)};function __extends$h(_e,j){extendStatics$h(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var InteractionEvent=function(){function _e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return _e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},_e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},_e}(),InteractionTrackingData=function(){function _e(j){this._pointerId=j,this._flags=_e.FLAGS.NONE}return _e.prototype._doSet=function(j,et){et?this._flags=this._flags|j:this._flags=this._flags&~j},Object.defineProperty(_e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"flags",{get:function(){return this._flags},set:function(j){this._flags=j},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"none",{get:function(){return this._flags===_e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"over",{get:function(){return(this._flags&_e.FLAGS.OVER)!==0},set:function(j){this._doSet(_e.FLAGS.OVER,j)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"rightDown",{get:function(){return(this._flags&_e.FLAGS.RIGHT_DOWN)!==0},set:function(j){this._doSet(_e.FLAGS.RIGHT_DOWN,j)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"leftDown",{get:function(){return(this._flags&_e.FLAGS.LEFT_DOWN)!==0},set:function(j){this._doSet(_e.FLAGS.LEFT_DOWN,j)},enumerable:!1,configurable:!0}),_e.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),_e}(),TreeSearch=function(){function _e(){this._tempPoint=new Point}return _e.prototype.recursiveFindHit=function(j,et,tt,nt,rt){var it;if(!et||!et.visible)return!1;var st=j.data.global;rt=et.interactive||rt;var at=!1,ot=rt,lt=!0;if(et.hitArea)nt&&(et.worldTransform.applyInverse(st,this._tempPoint),et.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?at=!0:(nt=!1,lt=!1)),ot=!1;else if(et._mask&&nt){var ut=et._mask.isMaskData?et._mask.maskObject:et._mask;ut&&!(!((it=ut.containsPoint)===null||it===void 0)&&it.call(ut,st))&&(nt=!1)}if(lt&&et.interactiveChildren&&et.children)for(var ct=et.children,ht=ct.length-1;ht>=0;ht--){var pt=ct[ht],gt=this.recursiveFindHit(j,pt,tt,nt,ot);if(gt){if(!pt.parent)continue;ot=!1,gt&&(j.target&&(nt=!1),at=!0)}}return rt&&(nt&&!j.target&&!et.hitArea&&et.containsPoint&&et.containsPoint(st)&&(at=!0),et.interactive&&(at&&!j.target&&(j.target=et),tt&&tt(j,et,!!at))),at},_e.prototype.findHit=function(j,et,tt,nt){this.recursiveFindHit(j,et,tt,nt,!1)},_e}(),interactiveTarget={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(_e){_e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};DisplayObject.mixin(interactiveTarget);var MOUSE_POINTER_ID=1,hitTestEvent={target:null,data:{global:null}},InteractionManager=function(_e){__extends$h(j,_e);function j(et,tt){var nt=_e.call(this)||this;return tt=tt||{},nt.renderer=et,nt.autoPreventDefault=tt.autoPreventDefault!==void 0?tt.autoPreventDefault:!0,nt.interactionFrequency=tt.interactionFrequency||10,nt.mouse=new InteractionData,nt.mouse.identifier=MOUSE_POINTER_ID,nt.mouse.global.set(-999999),nt.activeInteractionData={},nt.activeInteractionData[MOUSE_POINTER_ID]=nt.mouse,nt.interactionDataPool=[],nt.eventData=new InteractionEvent,nt.interactionDOMElement=null,nt.moveWhenInside=!1,nt.eventsAdded=!1,nt.tickerAdded=!1,nt.mouseOverRenderer=!("PointerEvent"in globalThis),nt.supportsTouchEvents="ontouchstart"in globalThis,nt.supportsPointerEvents=!!globalThis.PointerEvent,nt.onPointerUp=nt.onPointerUp.bind(nt),nt.processPointerUp=nt.processPointerUp.bind(nt),nt.onPointerCancel=nt.onPointerCancel.bind(nt),nt.processPointerCancel=nt.processPointerCancel.bind(nt),nt.onPointerDown=nt.onPointerDown.bind(nt),nt.processPointerDown=nt.processPointerDown.bind(nt),nt.onPointerMove=nt.onPointerMove.bind(nt),nt.processPointerMove=nt.processPointerMove.bind(nt),nt.onPointerOut=nt.onPointerOut.bind(nt),nt.processPointerOverOut=nt.processPointerOverOut.bind(nt),nt.onPointerOver=nt.onPointerOver.bind(nt),nt.cursorStyles={default:"inherit",pointer:"pointer"},nt.currentCursorMode=null,nt.cursor=null,nt.resolution=1,nt.delayedEvents=[],nt.search=new TreeSearch,nt._tempDisplayObject=new TemporaryDisplayObject,nt._eventListenerOptions={capture:!0,passive:!1},nt._useSystemTicker=tt.useSystemTicker!==void 0?tt.useSystemTicker:!0,nt.setTargetElement(nt.renderer.view,nt.renderer.resolution),nt}return Object.defineProperty(j.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(et){this._useSystemTicker=et,et?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),j.prototype.hitTest=function(et,tt){return hitTestEvent.target=null,hitTestEvent.data.global=et,tt||(tt=this.lastObjectRendered),this.processInteractive(hitTestEvent,tt,null,!0),hitTestEvent.target},j.prototype.setTargetElement=function(et,tt){tt===void 0&&(tt=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=et,this.resolution=tt,this.addEvents(),this.addTickerListener()},j.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Ticker.system.add(this.tickerUpdate,this,UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},j.prototype.removeTickerListener=function(){!this.tickerAdded||(Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},j.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var et=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(et.msContentZooming="none",et.msTouchAction="none"):this.supportsPointerEvents&&(et.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},j.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var et=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(et.msContentZooming="",et.msTouchAction=""):this.supportsPointerEvents&&(et.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},j.prototype.tickerUpdate=function(et){this._deltaTime+=et,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},j.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var et in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(et)){var tt=this.activeInteractionData[et];if(tt.originalEvent&&tt.pointerType!=="touch"){var nt=this.configureInteractionEventForDOMEvent(this.eventData,tt.originalEvent,tt);this.processInteractive(nt,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},j.prototype.setCursorMode=function(et){et=et||"default";var tt=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(tt=!1),this.currentCursorMode!==et){this.currentCursorMode=et;var nt=this.cursorStyles[et];if(nt)switch(typeof nt){case"string":tt&&(this.interactionDOMElement.style.cursor=nt);break;case"function":nt(et);break;case"object":tt&&Object.assign(this.interactionDOMElement.style,nt);break}else tt&&typeof et=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,et)&&(this.interactionDOMElement.style.cursor=et)}},j.prototype.dispatchEvent=function(et,tt,nt){(!nt.stopPropagationHint||et===nt.stopsPropagatingAt)&&(nt.currentTarget=et,nt.type=tt,et.emit(tt,nt),et[tt]&&et[tt](nt))},j.prototype.delayDispatchEvent=function(et,tt,nt){this.delayedEvents.push({displayObject:et,eventString:tt,eventData:nt})},j.prototype.mapPositionToPoint=function(et,tt,nt){var rt;this.interactionDOMElement.parentElement?rt=this.interactionDOMElement.getBoundingClientRect():rt={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var it=1/this.resolution;et.x=(tt-rt.left)*(this.interactionDOMElement.width/rt.width)*it,et.y=(nt-rt.top)*(this.interactionDOMElement.height/rt.height)*it},j.prototype.processInteractive=function(et,tt,nt,rt){var it=this.search.findHit(et,tt,nt,rt),st=this.delayedEvents;if(!st.length)return it;et.stopPropagationHint=!1;var at=st.length;this.delayedEvents=[];for(var ot=0;ot<at;ot++){var lt=st[ot],ut=lt.displayObject,ct=lt.eventString,ht=lt.eventData;ht.stopsPropagatingAt===ut&&(ht.stopPropagationHint=!0),this.dispatchEvent(ut,ct,ht)}return it},j.prototype.onPointerDown=function(et){if(!(this.supportsTouchEvents&&et.pointerType==="touch")){var tt=this.normalizeToPointerData(et);if(this.autoPreventDefault&&tt[0].isNormalized){var nt=et.cancelable||!("cancelable"in et);nt&&et.preventDefault()}for(var rt=tt.length,it=0;it<rt;it++){var st=tt[it],at=this.getInteractionDataForPointerId(st),ot=this.configureInteractionEventForDOMEvent(this.eventData,st,at);if(ot.data.originalEvent=et,this.processInteractive(ot,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",ot),st.pointerType==="touch")this.emit("touchstart",ot);else if(st.pointerType==="mouse"||st.pointerType==="pen"){var lt=st.button===2;this.emit(lt?"rightdown":"mousedown",this.eventData)}}}},j.prototype.processPointerDown=function(et,tt,nt){var rt=et.data,it=et.data.identifier;if(nt){if(tt.trackedPointers[it]||(tt.trackedPointers[it]=new InteractionTrackingData(it)),this.dispatchEvent(tt,"pointerdown",et),rt.pointerType==="touch")this.dispatchEvent(tt,"touchstart",et);else if(rt.pointerType==="mouse"||rt.pointerType==="pen"){var st=rt.button===2;st?tt.trackedPointers[it].rightDown=!0:tt.trackedPointers[it].leftDown=!0,this.dispatchEvent(tt,st?"rightdown":"mousedown",et)}}},j.prototype.onPointerComplete=function(et,tt,nt){var rt=this.normalizeToPointerData(et),it=rt.length,st=et.target;et.composedPath&&et.composedPath().length>0&&(st=et.composedPath()[0]);for(var at=st!==this.interactionDOMElement?"outside":"",ot=0;ot<it;ot++){var lt=rt[ot],ut=this.getInteractionDataForPointerId(lt),ct=this.configureInteractionEventForDOMEvent(this.eventData,lt,ut);if(ct.data.originalEvent=et,this.processInteractive(ct,this.lastObjectRendered,nt,tt||!at),this.emit(tt?"pointercancel":"pointerup"+at,ct),lt.pointerType==="mouse"||lt.pointerType==="pen"){var ht=lt.button===2;this.emit(ht?"rightup"+at:"mouseup"+at,ct)}else lt.pointerType==="touch"&&(this.emit(tt?"touchcancel":"touchend"+at,ct),this.releaseInteractionDataForPointerId(lt.pointerId))}},j.prototype.onPointerCancel=function(et){this.supportsTouchEvents&&et.pointerType==="touch"||this.onPointerComplete(et,!0,this.processPointerCancel)},j.prototype.processPointerCancel=function(et,tt){var nt=et.data,rt=et.data.identifier;tt.trackedPointers[rt]!==void 0&&(delete tt.trackedPointers[rt],this.dispatchEvent(tt,"pointercancel",et),nt.pointerType==="touch"&&this.dispatchEvent(tt,"touchcancel",et))},j.prototype.onPointerUp=function(et){this.supportsTouchEvents&&et.pointerType==="touch"||this.onPointerComplete(et,!1,this.processPointerUp)},j.prototype.processPointerUp=function(et,tt,nt){var rt=et.data,it=et.data.identifier,st=tt.trackedPointers[it],at=rt.pointerType==="touch",ot=rt.pointerType==="mouse"||rt.pointerType==="pen",lt=!1;if(ot){var ut=rt.button===2,ct=InteractionTrackingData.FLAGS,ht=ut?ct.RIGHT_DOWN:ct.LEFT_DOWN,pt=st!==void 0&&st.flags&ht;nt?(this.dispatchEvent(tt,ut?"rightup":"mouseup",et),pt&&(this.dispatchEvent(tt,ut?"rightclick":"click",et),lt=!0)):pt&&this.dispatchEvent(tt,ut?"rightupoutside":"mouseupoutside",et),st&&(ut?st.rightDown=!1:st.leftDown=!1)}nt?(this.dispatchEvent(tt,"pointerup",et),at&&this.dispatchEvent(tt,"touchend",et),st&&((!ot||lt)&&this.dispatchEvent(tt,"pointertap",et),at&&(this.dispatchEvent(tt,"tap",et),st.over=!1))):st&&(this.dispatchEvent(tt,"pointerupoutside",et),at&&this.dispatchEvent(tt,"touchendoutside",et)),st&&st.none&&delete tt.trackedPointers[it]},j.prototype.onPointerMove=function(et){if(!(this.supportsTouchEvents&&et.pointerType==="touch")){var tt=this.normalizeToPointerData(et);(tt[0].pointerType==="mouse"||tt[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var nt=tt.length,rt=0;rt<nt;rt++){var it=tt[rt],st=this.getInteractionDataForPointerId(it),at=this.configureInteractionEventForDOMEvent(this.eventData,it,st);at.data.originalEvent=et,this.processInteractive(at,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",at),it.pointerType==="touch"&&this.emit("touchmove",at),(it.pointerType==="mouse"||it.pointerType==="pen")&&this.emit("mousemove",at)}tt[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},j.prototype.processPointerMove=function(et,tt,nt){var rt=et.data,it=rt.pointerType==="touch",st=rt.pointerType==="mouse"||rt.pointerType==="pen";st&&this.processPointerOverOut(et,tt,nt),(!this.moveWhenInside||nt)&&(this.dispatchEvent(tt,"pointermove",et),it&&this.dispatchEvent(tt,"touchmove",et),st&&this.dispatchEvent(tt,"mousemove",et))},j.prototype.onPointerOut=function(et){if(!(this.supportsTouchEvents&&et.pointerType==="touch")){var tt=this.normalizeToPointerData(et),nt=tt[0];nt.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var rt=this.getInteractionDataForPointerId(nt),it=this.configureInteractionEventForDOMEvent(this.eventData,nt,rt);it.data.originalEvent=nt,this.processInteractive(it,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",it),nt.pointerType==="mouse"||nt.pointerType==="pen"?this.emit("mouseout",it):this.releaseInteractionDataForPointerId(rt.identifier)}},j.prototype.processPointerOverOut=function(et,tt,nt){var rt=et.data,it=et.data.identifier,st=rt.pointerType==="mouse"||rt.pointerType==="pen",at=tt.trackedPointers[it];nt&&!at&&(at=tt.trackedPointers[it]=new InteractionTrackingData(it)),at!==void 0&&(nt&&this.mouseOverRenderer?(at.over||(at.over=!0,this.delayDispatchEvent(tt,"pointerover",et),st&&this.delayDispatchEvent(tt,"mouseover",et)),st&&this.cursor===null&&(this.cursor=tt.cursor)):at.over&&(at.over=!1,this.dispatchEvent(tt,"pointerout",this.eventData),st&&this.dispatchEvent(tt,"mouseout",et),at.none&&delete tt.trackedPointers[it]))},j.prototype.onPointerOver=function(et){var tt=this.normalizeToPointerData(et),nt=tt[0],rt=this.getInteractionDataForPointerId(nt),it=this.configureInteractionEventForDOMEvent(this.eventData,nt,rt);it.data.originalEvent=nt,nt.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",it),(nt.pointerType==="mouse"||nt.pointerType==="pen")&&this.emit("mouseover",it)},j.prototype.getInteractionDataForPointerId=function(et){var tt=et.pointerId,nt;return tt===MOUSE_POINTER_ID||et.pointerType==="mouse"?nt=this.mouse:this.activeInteractionData[tt]?nt=this.activeInteractionData[tt]:(nt=this.interactionDataPool.pop()||new InteractionData,nt.identifier=tt,this.activeInteractionData[tt]=nt),nt.copyEvent(et),nt},j.prototype.releaseInteractionDataForPointerId=function(et){var tt=this.activeInteractionData[et];tt&&(delete this.activeInteractionData[et],tt.reset(),this.interactionDataPool.push(tt))},j.prototype.configureInteractionEventForDOMEvent=function(et,tt,nt){return et.data=nt,this.mapPositionToPoint(nt.global,tt.clientX,tt.clientY),tt.pointerType==="touch"&&(tt.globalX=nt.global.x,tt.globalY=nt.global.y),nt.originalEvent=tt,et.reset(),et},j.prototype.normalizeToPointerData=function(et){var tt=[];if(this.supportsTouchEvents&&et instanceof TouchEvent)for(var nt=0,rt=et.changedTouches.length;nt<rt;nt++){var it=et.changedTouches[nt];typeof it.button=="undefined"&&(it.button=et.touches.length?1:0),typeof it.buttons=="undefined"&&(it.buttons=et.touches.length?1:0),typeof it.isPrimary=="undefined"&&(it.isPrimary=et.touches.length===1&&et.type==="touchstart"),typeof it.width=="undefined"&&(it.width=it.radiusX||1),typeof it.height=="undefined"&&(it.height=it.radiusY||1),typeof it.tiltX=="undefined"&&(it.tiltX=0),typeof it.tiltY=="undefined"&&(it.tiltY=0),typeof it.pointerType=="undefined"&&(it.pointerType="touch"),typeof it.pointerId=="undefined"&&(it.pointerId=it.identifier||0),typeof it.pressure=="undefined"&&(it.pressure=it.force||.5),typeof it.twist=="undefined"&&(it.twist=0),typeof it.tangentialPressure=="undefined"&&(it.tangentialPressure=0),typeof it.layerX=="undefined"&&(it.layerX=it.offsetX=it.clientX),typeof it.layerY=="undefined"&&(it.layerY=it.offsetY=it.clientY),it.isNormalized=!0,tt.push(it)}else if(!globalThis.MouseEvent||et instanceof MouseEvent&&(!this.supportsPointerEvents||!(et instanceof globalThis.PointerEvent))){var st=et;typeof st.isPrimary=="undefined"&&(st.isPrimary=!0),typeof st.width=="undefined"&&(st.width=1),typeof st.height=="undefined"&&(st.height=1),typeof st.tiltX=="undefined"&&(st.tiltX=0),typeof st.tiltY=="undefined"&&(st.tiltY=0),typeof st.pointerType=="undefined"&&(st.pointerType="mouse"),typeof st.pointerId=="undefined"&&(st.pointerId=MOUSE_POINTER_ID),typeof st.pressure=="undefined"&&(st.pressure=.5),typeof st.twist=="undefined"&&(st.twist=0),typeof st.tangentialPressure=="undefined"&&(st.tangentialPressure=0),st.isNormalized=!0,tt.push(st)}else tt.push(et);return tt},j.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},j.extension={name:"interaction",type:[ExtensionType.RendererPlugin,ExtensionType.CanvasRendererPlugin]},j}(EventEmitter);/*!
 * @pixi/extract - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var TEMP_RECT=new Rectangle,BYTES_PER_PIXEL=4,Extract=function(){function _e(j){this.renderer=j}return _e.prototype.image=function(j,et,tt){var nt=new Image;return nt.src=this.base64(j,et,tt),nt},_e.prototype.base64=function(j,et,tt){return this.canvas(j).toDataURL(et,tt)},_e.prototype.canvas=function(j,et){var tt=this.renderer,nt,rt=!1,it,st=!1;j&&(j instanceof RenderTexture?it=j:(it=this.renderer.generateTexture(j),st=!0)),it?(nt=it.baseTexture.resolution,et=et!=null?et:it.frame,rt=!1,tt.renderTexture.bind(it)):(nt=tt.resolution,et||(et=TEMP_RECT,et.width=tt.width,et.height=tt.height),rt=!0,tt.renderTexture.bind(null));var at=Math.round(et.width*nt),ot=Math.round(et.height*nt),lt=new CanvasRenderTarget(at,ot,1),ut=new Uint8Array(BYTES_PER_PIXEL*at*ot),ct=tt.gl;ct.readPixels(Math.round(et.x*nt),Math.round(et.y*nt),at,ot,ct.RGBA,ct.UNSIGNED_BYTE,ut);var ht=lt.context.getImageData(0,0,at,ot);if(_e.arrayPostDivide(ut,ht.data),lt.context.putImageData(ht,0,0),rt){var pt=new CanvasRenderTarget(lt.width,lt.height,1);pt.context.scale(1,-1),pt.context.drawImage(lt.canvas,0,-ot),lt.destroy(),lt=pt}return st&&it.destroy(!0),lt.canvas},_e.prototype.pixels=function(j,et){var tt=this.renderer,nt,rt,it=!1;j&&(j instanceof RenderTexture?rt=j:(rt=this.renderer.generateTexture(j),it=!0)),rt?(nt=rt.baseTexture.resolution,et=et!=null?et:rt.frame,tt.renderTexture.bind(rt)):(nt=tt.resolution,et||(et=TEMP_RECT,et.width=tt.width,et.height=tt.height),tt.renderTexture.bind(null));var st=Math.round(et.width*nt),at=Math.round(et.height*nt),ot=new Uint8Array(BYTES_PER_PIXEL*st*at),lt=tt.gl;return lt.readPixels(Math.round(et.x*nt),Math.round(et.y*nt),st,at,lt.RGBA,lt.UNSIGNED_BYTE,ot),it&&rt.destroy(!0),_e.arrayPostDivide(ot,ot),ot},_e.prototype.destroy=function(){this.renderer=null},_e.arrayPostDivide=function(j,et){for(var tt=0;tt<j.length;tt+=4){var nt=et[tt+3]=j[tt+3];nt!==0?(et[tt]=Math.round(Math.min(j[tt]*255/nt,255)),et[tt+1]=Math.round(Math.min(j[tt+1]*255/nt,255)),et[tt+2]=Math.round(Math.min(j[tt+2]*255/nt,255))):(et[tt]=j[tt],et[tt+1]=j[tt+1],et[tt+2]=j[tt+2])}},_e.extension={name:"extract",type:ExtensionType.RendererPlugin},_e}();/*!
 * @pixi/loaders - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var SignalBinding=function(){function _e(j,et,tt){et===void 0&&(et=!1),this._fn=j,this._once=et,this._thisArg=tt,this._next=this._prev=this._owner=null}return _e.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},_e}();function _addSignalBinding(_e,j){return _e._head?(_e._tail._next=j,j._prev=_e._tail,_e._tail=j):(_e._head=j,_e._tail=j),j._owner=_e,j}var Signal=function(){function _e(){this._head=this._tail=void 0}return _e.prototype.handlers=function(j){j===void 0&&(j=!1);var et=this._head;if(j)return!!et;for(var tt=[];et;)tt.push(et),et=et._next;return tt},_e.prototype.has=function(j){if(!(j instanceof SignalBinding))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return j._owner===this},_e.prototype.dispatch=function(){for(var j=arguments,et=[],tt=0;tt<arguments.length;tt++)et[tt]=j[tt];var nt=this._head;if(!nt)return!1;for(;nt;)nt._once&&this.detach(nt),nt._fn.apply(nt._thisArg,et),nt=nt._next;return!0},_e.prototype.add=function(j,et){if(et===void 0&&(et=null),typeof j!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return _addSignalBinding(this,new SignalBinding(j,!1,et))},_e.prototype.once=function(j,et){if(et===void 0&&(et=null),typeof j!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return _addSignalBinding(this,new SignalBinding(j,!0,et))},_e.prototype.detach=function(j){if(!(j instanceof SignalBinding))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return j._owner!==this?this:(j._prev&&(j._prev._next=j._next),j._next&&(j._next._prev=j._prev),j===this._head?(this._head=j._next,j._next===null&&(this._tail=null)):j===this._tail&&(this._tail=j._prev,this._tail._next=null),j._owner=null,this)},_e.prototype.detachAll=function(){var j=this._head;if(!j)return this;for(this._head=this._tail=null;j;)j._owner=null,j=j._next;return this},_e}();function parseUri(_e,j){j=j||{};for(var et={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},tt=et.parser[j.strictMode?"strict":"loose"].exec(_e),nt={},rt=14;rt--;)nt[et.key[rt]]=tt[rt]||"";return nt[et.q.name]={},nt[et.key[12]].replace(et.q.parser,function(it,st,at){st&&(nt[et.q.name][st]=at)}),nt}var useXdr,tempAnchor=null,STATUS_NONE=0,STATUS_OK=200,STATUS_EMPTY=204,STATUS_IE_BUG_EMPTY=1223,STATUS_TYPE_OK=2;function _noop$1(){}function setExtMap(_e,j,et){j&&j.indexOf(".")===0&&(j=j.substring(1)),j&&(_e[j]=et)}function reqType(_e){return _e.toString().replace("object ","")}var LoaderResource=function(){function _e(j,et,tt){if(this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof j!="string"||typeof et!="string")throw new Error("Both name and url are required for constructing a resource.");tt=tt||{},this._flags=0,this._setFlag(_e.STATUS_FLAGS.DATA_URL,et.indexOf("data:")===0),this.name=j,this.url=et,this.extension=this._getExtension(),this.data=null,this.crossOrigin=tt.crossOrigin===!0?"anonymous":tt.crossOrigin,this.timeout=tt.timeout||0,this.loadType=tt.loadType||this._determineLoadType(),this.xhrType=tt.xhrType,this.metadata=tt.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=_e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Signal,this.onProgress=new Signal,this.onComplete=new Signal,this.onAfterMiddleware=new Signal}return _e.setExtensionLoadType=function(j,et){setExtMap(_e._loadTypeMap,j,et)},_e.setExtensionXhrType=function(j,et){setExtMap(_e._xhrTypeMap,j,et)},Object.defineProperty(_e.prototype,"isDataUrl",{get:function(){return this._hasFlag(_e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"isComplete",{get:function(){return this._hasFlag(_e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"isLoading",{get:function(){return this._hasFlag(_e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),_e.prototype.complete=function(){this._clearEvents(),this._finish()},_e.prototype.abort=function(j){if(!this.error){if(this.error=new Error(j),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=_e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},_e.prototype.load=function(j){var et=this;if(!this.isLoading){if(this.isComplete){j&&setTimeout(function(){return j(et)},1);return}else j&&this.onComplete.once(j);switch(this._setFlag(_e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case _e.LOAD_TYPE.IMAGE:this.type=_e.TYPE.IMAGE,this._loadElement("image");break;case _e.LOAD_TYPE.AUDIO:this.type=_e.TYPE.AUDIO,this._loadSourceElement("audio");break;case _e.LOAD_TYPE.VIDEO:this.type=_e.TYPE.VIDEO,this._loadSourceElement("video");break;case _e.LOAD_TYPE.XHR:default:typeof useXdr=="undefined"&&(useXdr=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),useXdr&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},_e.prototype._hasFlag=function(j){return(this._flags&j)!==0},_e.prototype._setFlag=function(j,et){this._flags=et?this._flags|j:this._flags&~j},_e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},_e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(_e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(_e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},_e.prototype._loadElement=function(j){this.metadata.loadElement?this.data=this.metadata.loadElement:j==="image"&&typeof globalThis.Image!="undefined"?this.data=new Image:this.data=document.createElement(j),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},_e.prototype._loadSourceElement=function(j){if(this.metadata.loadElement?this.data=this.metadata.loadElement:j==="audio"&&typeof globalThis.Audio!="undefined"?this.data=new Audio:this.data=document.createElement(j),this.data===null){this.abort("Unsupported element: "+j);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var et=this.metadata.mimeType,tt=0;tt<this.url.length;++tt)this.data.appendChild(this._createSource(j,this.url[tt],Array.isArray(et)?et[tt]:et));else{var et=this.metadata.mimeType;this.data.appendChild(this._createSource(j,this.url,Array.isArray(et)?et[0]:et))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},_e.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var j=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(j.withCredentials=!0),j.open("GET",this.url,!0),j.timeout=this.timeout,this.xhrType===_e.XHR_RESPONSE_TYPE.JSON||this.xhrType===_e.XHR_RESPONSE_TYPE.DOCUMENT?j.responseType=_e.XHR_RESPONSE_TYPE.TEXT:j.responseType=this.xhrType,j.addEventListener("error",this._boundXhrOnError,!1),j.addEventListener("timeout",this._boundXhrOnTimeout,!1),j.addEventListener("abort",this._boundXhrOnAbort,!1),j.addEventListener("progress",this._boundOnProgress,!1),j.addEventListener("load",this._boundXhrOnLoad,!1),j.send()},_e.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var j=this.xhr=new globalThis.XDomainRequest;j.timeout=this.timeout||5e3,j.onerror=this._boundXhrOnError,j.ontimeout=this._boundXhrOnTimeout,j.onprogress=this._boundOnProgress,j.onload=this._boundXhrOnLoad,j.open("GET",this.url,!0),setTimeout(function(){return j.send()},1)},_e.prototype._createSource=function(j,et,tt){tt||(tt=j+"/"+this._getExtension(et));var nt=document.createElement("source");return nt.src=et,nt.type=tt,nt},_e.prototype._onError=function(j){this.abort("Failed to load element using: "+j.target.nodeName)},_e.prototype._onProgress=function(j){j&&j.lengthComputable&&this.onProgress.dispatch(this,j.loaded/j.total)},_e.prototype._onTimeout=function(){this.abort("Load timed out.")},_e.prototype._xhrOnError=function(){var j=this.xhr;this.abort(reqType(j)+" Request failed. Status: "+j.status+', text: "'+j.statusText+'"')},_e.prototype._xhrOnTimeout=function(){var j=this.xhr;this.abort(reqType(j)+" Request timed out.")},_e.prototype._xhrOnAbort=function(){var j=this.xhr;this.abort(reqType(j)+" Request was aborted by the user.")},_e.prototype._xhrOnLoad=function(){var j=this.xhr,et="",tt=typeof j.status=="undefined"?STATUS_OK:j.status;(j.responseType===""||j.responseType==="text"||typeof j.responseType=="undefined")&&(et=j.responseText),tt===STATUS_NONE&&(et.length>0||j.responseType===_e.XHR_RESPONSE_TYPE.BUFFER)?tt=STATUS_OK:tt===STATUS_IE_BUG_EMPTY&&(tt=STATUS_EMPTY);var nt=tt/100|0;if(nt===STATUS_TYPE_OK)if(this.xhrType===_e.XHR_RESPONSE_TYPE.TEXT)this.data=et,this.type=_e.TYPE.TEXT;else if(this.xhrType===_e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(et),this.type=_e.TYPE.JSON}catch(st){this.abort("Error trying to parse loaded json: "+st);return}else if(this.xhrType===_e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var rt=new DOMParser;this.data=rt.parseFromString(et,"text/xml")}else{var it=document.createElement("div");it.innerHTML=et,this.data=it}this.type=_e.TYPE.XML}catch(st){this.abort("Error trying to parse loaded xml: "+st);return}else this.data=j.response||et;else{this.abort("["+j.status+"] "+j.statusText+": "+j.responseURL);return}this.complete()},_e.prototype._determineCrossOrigin=function(j,et){if(j.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";et=et||globalThis.location,tempAnchor||(tempAnchor=document.createElement("a")),tempAnchor.href=j;var tt=parseUri(tempAnchor.href,{strictMode:!0}),nt=!tt.port&&et.port===""||tt.port===et.port,rt=tt.protocol?tt.protocol+":":"";return tt.host!==et.hostname||!nt||rt!==et.protocol?"anonymous":""},_e.prototype._determineXhrType=function(){return _e._xhrTypeMap[this.extension]||_e.XHR_RESPONSE_TYPE.TEXT},_e.prototype._determineLoadType=function(){return _e._loadTypeMap[this.extension]||_e.LOAD_TYPE.XHR},_e.prototype._getExtension=function(j){j===void 0&&(j=this.url);var et="";if(this.isDataUrl){var tt=j.indexOf("/");et=j.substring(tt+1,j.indexOf(";",tt))}else{var nt=j.indexOf("?"),rt=j.indexOf("#"),it=Math.min(nt>-1?nt:j.length,rt>-1?rt:j.length);j=j.substring(0,it),et=j.substring(j.lastIndexOf(".")+1)}return et.toLowerCase()},_e.prototype._getMimeFromXhrType=function(j){switch(j){case _e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case _e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case _e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case _e.XHR_RESPONSE_TYPE.JSON:return"application/json";case _e.XHR_RESPONSE_TYPE.DEFAULT:case _e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},_e}();(function(_e){(function(j){j[j.NONE=0]="NONE",j[j.DATA_URL=1]="DATA_URL",j[j.COMPLETE=2]="COMPLETE",j[j.LOADING=4]="LOADING"})(_e.STATUS_FLAGS||(_e.STATUS_FLAGS={})),function(j){j[j.UNKNOWN=0]="UNKNOWN",j[j.JSON=1]="JSON",j[j.XML=2]="XML",j[j.IMAGE=3]="IMAGE",j[j.AUDIO=4]="AUDIO",j[j.VIDEO=5]="VIDEO",j[j.TEXT=6]="TEXT"}(_e.TYPE||(_e.TYPE={})),function(j){j[j.XHR=1]="XHR",j[j.IMAGE=2]="IMAGE",j[j.AUDIO=3]="AUDIO",j[j.VIDEO=4]="VIDEO"}(_e.LOAD_TYPE||(_e.LOAD_TYPE={})),function(j){j.DEFAULT="text",j.BUFFER="arraybuffer",j.BLOB="blob",j.DOCUMENT="document",j.JSON="json",j.TEXT="text"}(_e.XHR_RESPONSE_TYPE||(_e.XHR_RESPONSE_TYPE={})),_e._loadTypeMap={gif:_e.LOAD_TYPE.IMAGE,png:_e.LOAD_TYPE.IMAGE,bmp:_e.LOAD_TYPE.IMAGE,jpg:_e.LOAD_TYPE.IMAGE,jpeg:_e.LOAD_TYPE.IMAGE,tif:_e.LOAD_TYPE.IMAGE,tiff:_e.LOAD_TYPE.IMAGE,webp:_e.LOAD_TYPE.IMAGE,tga:_e.LOAD_TYPE.IMAGE,svg:_e.LOAD_TYPE.IMAGE,"svg+xml":_e.LOAD_TYPE.IMAGE,mp3:_e.LOAD_TYPE.AUDIO,ogg:_e.LOAD_TYPE.AUDIO,wav:_e.LOAD_TYPE.AUDIO,mp4:_e.LOAD_TYPE.VIDEO,webm:_e.LOAD_TYPE.VIDEO},_e._xhrTypeMap={xhtml:_e.XHR_RESPONSE_TYPE.DOCUMENT,html:_e.XHR_RESPONSE_TYPE.DOCUMENT,htm:_e.XHR_RESPONSE_TYPE.DOCUMENT,xml:_e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:_e.XHR_RESPONSE_TYPE.DOCUMENT,svg:_e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:_e.XHR_RESPONSE_TYPE.DOCUMENT,gif:_e.XHR_RESPONSE_TYPE.BLOB,png:_e.XHR_RESPONSE_TYPE.BLOB,bmp:_e.XHR_RESPONSE_TYPE.BLOB,jpg:_e.XHR_RESPONSE_TYPE.BLOB,jpeg:_e.XHR_RESPONSE_TYPE.BLOB,tif:_e.XHR_RESPONSE_TYPE.BLOB,tiff:_e.XHR_RESPONSE_TYPE.BLOB,webp:_e.XHR_RESPONSE_TYPE.BLOB,tga:_e.XHR_RESPONSE_TYPE.BLOB,json:_e.XHR_RESPONSE_TYPE.JSON,text:_e.XHR_RESPONSE_TYPE.TEXT,txt:_e.XHR_RESPONSE_TYPE.TEXT,ttf:_e.XHR_RESPONSE_TYPE.BUFFER,otf:_e.XHR_RESPONSE_TYPE.BUFFER},_e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(LoaderResource||(LoaderResource={}));function _noop(){}function onlyOnce(_e){return function(){for(var et=arguments,tt=[],nt=0;nt<arguments.length;nt++)tt[nt]=et[nt];if(_e===null)throw new Error("Callback was already called.");var rt=_e;_e=null,rt.apply(this,tt)}}var AsyncQueueItem=function(){function _e(j,et){this.data=j,this.callback=et}return _e}(),AsyncQueue=function(){function _e(j,et){var tt=this;if(et===void 0&&(et=1),this.workers=0,this.saturated=_noop,this.unsaturated=_noop,this.empty=_noop,this.drain=_noop,this.error=_noop,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(nt,rt,it){if(it&&typeof it!="function")throw new Error("task callback must be a function");if(tt.started=!0,nt==null&&tt.idle()){setTimeout(function(){return tt.drain()},1);return}var st=new AsyncQueueItem(nt,typeof it=="function"?it:_noop);rt?tt._tasks.unshift(st):tt._tasks.push(st),setTimeout(tt.process,1)},this.process=function(){for(;!tt.paused&&tt.workers<tt.concurrency&&tt._tasks.length;){var nt=tt._tasks.shift();tt._tasks.length===0&&tt.empty(),tt.workers+=1,tt.workers===tt.concurrency&&tt.saturated(),tt._worker(nt.data,onlyOnce(tt._next(nt)))}},this._worker=j,et===0)throw new Error("Concurrency must not be zero");this.concurrency=et,this.buffer=et/4}return _e.prototype._next=function(j){var et=this;return function(){for(var tt=arguments,nt=[],rt=0;rt<arguments.length;rt++)nt[rt]=tt[rt];et.workers-=1,j.callback.apply(j,nt),nt[0]!=null&&et.error(nt[0],j.data),et.workers<=et.concurrency-et.buffer&&et.unsaturated(),et.idle()&&et.drain(),et.process()}},_e.prototype.push=function(j,et){this._insert(j,!1,et)},_e.prototype.kill=function(){this.workers=0,this.drain=_noop,this.started=!1,this._tasks=[]},_e.prototype.unshift=function(j,et){this._insert(j,!0,et)},_e.prototype.length=function(){return this._tasks.length},_e.prototype.running=function(){return this.workers},_e.prototype.idle=function(){return this._tasks.length+this.workers===0},_e.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},_e.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var j=1;j<=this.concurrency;j++)this.process()}},_e.eachSeries=function(j,et,tt,nt){var rt=0,it=j.length;function st(at){if(at||rt===it){tt&&tt(at);return}nt?setTimeout(function(){et(j[rt++],st)},1):et(j[rt++],st)}st()},_e.queue=function(j,et){return new _e(j,et)},_e}(),MAX_PROGRESS=100,rgxExtractUrlHash=/(#[\w-]+)?$/,Loader$1=function(){function _e(j,et){var tt=this;j===void 0&&(j=""),et===void 0&&(et=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(at,ot){return tt._loadResource(at,ot)},this.resources={},this.baseUrl=j,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(at,ot){return tt._loadResource(at,ot)},this._queue=AsyncQueue.queue(this._boundLoadResource,et),this._queue.pause(),this.resources={},this.onProgress=new Signal,this.onError=new Signal,this.onLoad=new Signal,this.onStart=new Signal,this.onComplete=new Signal;for(var nt=0;nt<_e._plugins.length;++nt){var rt=_e._plugins[nt],it=rt.pre,st=rt.use;it&&this.pre(it),st&&this.use(st)}this._protected=!1}return _e.prototype._add=function(j,et,tt,nt){if(this.loading&&(!tt||!tt.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[j])throw new Error('Resource named "'+j+'" already exists.');if(et=this._prepareUrl(et),this.resources[j]=new LoaderResource(j,et,tt),typeof nt=="function"&&this.resources[j].onAfterMiddleware.once(nt),this.loading){for(var rt=tt.parentResource,it=[],st=0;st<rt.children.length;++st)rt.children[st].isComplete||it.push(rt.children[st]);var at=rt.progressChunk*(it.length+1),ot=at/(it.length+2);rt.children.push(this.resources[j]),rt.progressChunk=ot;for(var st=0;st<it.length;++st)it[st].progressChunk=ot;this.resources[j].progressChunk=ot}return this._queue.push(this.resources[j]),this},_e.prototype.pre=function(j){return this._beforeMiddleware.push(j),this},_e.prototype.use=function(j){return this._afterMiddleware.push(j),this},_e.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var j in this.resources){var et=this.resources[j];et._onLoadBinding&&et._onLoadBinding.detach(),et.isLoading&&et.abort("loader reset")}return this.resources={},this},_e.prototype.load=function(j){if(deprecation$1("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof j=="function"&&this.onComplete.once(j),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var et=this._queue._tasks.length,tt=MAX_PROGRESS/et,nt=0;nt<this._queue._tasks.length;++nt)this._queue._tasks[nt].data.progressChunk=tt;this._onStart(),this._queue.resume()}return this},Object.defineProperty(_e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(j){this._queue.concurrency=j},enumerable:!1,configurable:!0}),_e.prototype._prepareUrl=function(j){var et=parseUri(j,{strictMode:!0}),tt;if(et.protocol||!et.path||j.indexOf("//")===0?tt=j:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&j.charAt(0)!=="/"?tt=this.baseUrl+"/"+j:tt=this.baseUrl+j,this.defaultQueryString){var nt=rgxExtractUrlHash.exec(tt)[0];tt=tt.slice(0,tt.length-nt.length),tt.indexOf("?")!==-1?tt+="&"+this.defaultQueryString:tt+="?"+this.defaultQueryString,tt+=nt}return tt},_e.prototype._loadResource=function(j,et){var tt=this;j._dequeue=et,AsyncQueue.eachSeries(this._beforeMiddleware,function(nt,rt){nt.call(tt,j,function(){rt(j.isComplete?{}:null)})},function(){j.isComplete?tt._onLoad(j):(j._onLoadBinding=j.onComplete.once(tt._onLoad,tt),j.load())},!0)},_e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},_e.prototype._onComplete=function(){this.progress=MAX_PROGRESS,this.loading=!1,this.onComplete.dispatch(this,this.resources)},_e.prototype._onLoad=function(j){var et=this;j._onLoadBinding=null,this._resourcesParsing.push(j),j._dequeue(),AsyncQueue.eachSeries(this._afterMiddleware,function(tt,nt){tt.call(et,j,nt)},function(){j.onAfterMiddleware.dispatch(j),et.progress=Math.min(MAX_PROGRESS,et.progress+j.progressChunk),et.onProgress.dispatch(et,j),j.error?et.onError.dispatch(j.error,et,j):et.onLoad.dispatch(et,j),et._resourcesParsing.splice(et._resourcesParsing.indexOf(j),1),et._queue.idle()&&et._resourcesParsing.length===0&&et._onComplete()},!0)},_e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(_e,"shared",{get:function(){var j=_e._shared;return j||(j=new _e,j._protected=!0,_e._shared=j),j},enumerable:!1,configurable:!0}),_e.registerPlugin=function(j){return deprecation$1("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),extensions.add({type:ExtensionType.Loader,ref:j}),_e},_e._plugins=[],_e}();extensions.handleByList(ExtensionType.Loader,Loader$1._plugins);Loader$1.prototype.add=function(j,et,tt,nt){if(Array.isArray(j)){for(var rt=0;rt<j.length;++rt)this.add(j[rt]);return this}if(typeof j=="object"&&(tt=j,nt=et||tt.callback||tt.onComplete,et=tt.url,j=tt.name||tt.key||tt.url),typeof et!="string"&&(nt=tt,tt=et,et=j),typeof et!="string")throw new Error("No url passed to add resource to loader.");return typeof tt=="function"&&(nt=tt,tt=null),this._add(j,et,tt,nt)};var AppLoaderPlugin=function(){function _e(){}return _e.init=function(j){j=Object.assign({sharedLoader:!1},j),this.loader=j.sharedLoader?Loader$1.shared:new Loader$1},_e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},_e.extension=ExtensionType.Application,_e}(),TextureLoader$1=function(){function _e(){}return _e.add=function(){LoaderResource.setExtensionLoadType("svg",LoaderResource.LOAD_TYPE.XHR),LoaderResource.setExtensionXhrType("svg",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},_e.use=function(j,et){if(j.data&&(j.type===LoaderResource.TYPE.IMAGE||j.extension==="svg")){var tt=j.data,nt=j.url,rt=j.name,it=j.metadata;Texture$1.fromLoader(tt,nt,rt,it).then(function(st){j.texture=st,et()}).catch(et)}else et()},_e.extension=ExtensionType.Loader,_e}(),_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encodeBinary(_e){for(var j="",et=0;et<_e.length;){for(var tt=[0,0,0],nt=[0,0,0,0],rt=0;rt<tt.length;++rt)et<_e.length?tt[rt]=_e.charCodeAt(et++)&255:tt[rt]=0;nt[0]=tt[0]>>2,nt[1]=(tt[0]&3)<<4|tt[1]>>4,nt[2]=(tt[1]&15)<<2|tt[2]>>6,nt[3]=tt[2]&63;var it=et-(_e.length-1);switch(it){case 2:nt[3]=64,nt[2]=64;break;case 1:nt[3]=64;break}for(var rt=0;rt<nt.length;++rt)j+=_keyStr.charAt(nt[rt])}return j}function parsing(_e,j){if(!_e.data){j();return}if(_e.xhr&&_e.xhrType===LoaderResource.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof _e.data=="string"){var et=_e.xhr.getResponseHeader("content-type");if(et&&et.indexOf("image")===0){_e.data=new Image,_e.data.src="data:"+et+";base64,"+encodeBinary(_e.xhr.responseText),_e.type=LoaderResource.TYPE.IMAGE,_e.data.onload=function(){_e.data.onload=null,j()};return}}else if(_e.data.type.indexOf("image")===0){var tt=globalThis.URL||globalThis.webkitURL,nt=tt.createObjectURL(_e.data);_e.blob=_e.data,_e.data=new Image,_e.data.src=nt,_e.type=LoaderResource.TYPE.IMAGE,_e.data.onload=function(){tt.revokeObjectURL(nt),_e.data.onload=null,j()};return}}j()}var ParsingLoader=function(){function _e(){}return _e.extension=ExtensionType.Loader,_e.use=parsing,_e}();extensions.add(TextureLoader$1,ParsingLoader);/*!
 * @pixi/compressed-textures - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _a$2,INTERNAL_FORMATS;(function(_e){_e[_e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",_e[_e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",_e[_e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",_e[_e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",_e[_e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",_e[_e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",_e[_e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",_e[_e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",_e[_e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",_e[_e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",_e[_e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",_e[_e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",_e[_e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",_e[_e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",_e[_e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",_e[_e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",_e[_e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",_e[_e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",_e[_e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",_e[_e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",_e[_e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",_e[_e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",_e[_e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",_e[_e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",_e[_e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",_e[_e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(INTERNAL_FORMATS||(INTERNAL_FORMATS={}));var INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=(_a$2={},_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_R11_EAC]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SIGNED_R11_EAC]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RG11_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SIGNED_RG11_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB8_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA8_ETC2_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_ETC1_WEBGL]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_ATC_WEBGL]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,_a$2);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$g=function(_e,j){return extendStatics$g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$g(_e,j)};function __extends$g(_e,j){extendStatics$g(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}function __awaiter(_e,j,et,tt){function nt(rt){return rt instanceof et?rt:new et(function(it){it(rt)})}return new(et||(et=Promise))(function(rt,it){function st(lt){try{ot(tt.next(lt))}catch(ut){it(ut)}}function at(lt){try{ot(tt.throw(lt))}catch(ut){it(ut)}}function ot(lt){lt.done?rt(lt.value):nt(lt.value).then(st,at)}ot((tt=tt.apply(_e,j||[])).next())})}function __generator(_e,j){var et={label:0,sent:function(){if(rt[0]&1)throw rt[1];return rt[1]},trys:[],ops:[]},tt,nt,rt,it;return it={next:st(0),throw:st(1),return:st(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function st(ot){return function(lt){return at([ot,lt])}}function at(ot){if(tt)throw new TypeError("Generator is already executing.");for(;et;)try{if(tt=1,nt&&(rt=ot[0]&2?nt.return:ot[0]?nt.throw||((rt=nt.return)&&rt.call(nt),0):nt.next)&&!(rt=rt.call(nt,ot[1])).done)return rt;switch(nt=0,rt&&(ot=[ot[0]&2,rt.value]),ot[0]){case 0:case 1:rt=ot;break;case 4:return et.label++,{value:ot[1],done:!1};case 5:et.label++,nt=ot[1],ot=[0];continue;case 7:ot=et.ops.pop(),et.trys.pop();continue;default:if(rt=et.trys,!(rt=rt.length>0&&rt[rt.length-1])&&(ot[0]===6||ot[0]===2)){et=0;continue}if(ot[0]===3&&(!rt||ot[1]>rt[0]&&ot[1]<rt[3])){et.label=ot[1];break}if(ot[0]===6&&et.label<rt[1]){et.label=rt[1],rt=ot;break}if(rt&&et.label<rt[2]){et.label=rt[2],et.ops.push(ot);break}rt[2]&&et.ops.pop(),et.trys.pop();continue}ot=j.call(_e,et)}catch(lt){ot=[6,lt],nt=0}finally{tt=rt=0}if(ot[0]&5)throw ot[1];return{value:ot[0]?ot[1]:void 0,done:!0}}}var BlobResource=function(_e){__extends$g(j,_e);function j(et,tt){tt===void 0&&(tt={width:1,height:1,autoLoad:!0});var nt=this,rt,it;return typeof et=="string"?(rt=et,it=new Uint8Array):(rt=null,it=et),nt=_e.call(this,it,tt)||this,nt.origin=rt,nt.buffer=it?new ViewableBuffer(it):null,nt.origin&&tt.autoLoad!==!1&&nt.load(),it&&it.length&&(nt.loaded=!0,nt.onBlobLoaded(nt.buffer.rawBinaryData)),nt}return j.prototype.onBlobLoaded=function(et){},j.prototype.load=function(){return __awaiter(this,void 0,Promise,function(){var et,tt,nt;return __generator(this,function(rt){switch(rt.label){case 0:return[4,fetch(this.origin)];case 1:return et=rt.sent(),[4,et.blob()];case 2:return tt=rt.sent(),[4,tt.arrayBuffer()];case 3:return nt=rt.sent(),this.data=new Uint32Array(nt),this.buffer=new ViewableBuffer(nt),this.loaded=!0,this.onBlobLoaded(nt),this.update(),[2,this]}})})},j}(BufferResource),CompressedTextureResource=function(_e){__extends$g(j,_e);function j(et,tt){var nt=_e.call(this,et,tt)||this;return nt.format=tt.format,nt.levels=tt.levels||1,nt._width=tt.width,nt._height=tt.height,nt._extension=j._formatToExtension(nt.format),(tt.levelBuffers||nt.buffer)&&(nt._levelBuffers=tt.levelBuffers||j._createLevelBuffers(et instanceof Uint8Array?et:nt.buffer.uint8View,nt.format,nt.levels,4,4,nt.width,nt.height)),nt}return j.prototype.upload=function(et,tt,nt){var rt=et.gl,it=et.context.extensions[this._extension];if(!it)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var st=0,at=this.levels;st<at;st++){var ot=this._levelBuffers[st],lt=ot.levelID,ut=ot.levelWidth,ct=ot.levelHeight,ht=ot.levelBuffer;rt.compressedTexImage2D(rt.TEXTURE_2D,lt,this.format,ut,ct,0,ht)}return!0},j.prototype.onBlobLoaded=function(){this._levelBuffers=j._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},j._formatToExtension=function(et){if(et>=33776&&et<=33779)return"s3tc";if(et>=37488&&et<=37497)return"etc";if(et>=35840&&et<=35843)return"pvrtc";if(et>=36196)return"etc1";if(et>=35986&&et<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},j._createLevelBuffers=function(et,tt,nt,rt,it,st,at){for(var ot=new Array(nt),lt=et.byteOffset,ut=st,ct=at,ht=ut+rt-1&~(rt-1),pt=ct+it-1&~(it-1),gt=ht*pt*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[tt],vt=0;vt<nt;vt++)ot[vt]={levelID:vt,levelWidth:nt>1?ut:ht,levelHeight:nt>1?ct:pt,levelBuffer:new Uint8Array(et.buffer,lt,gt)},lt+=gt,ut=ut>>1||1,ct=ct>>1||1,ht=ut+rt-1&~(rt-1),pt=ct+it-1&~(it-1),gt=ht*pt*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[tt];return ot},j}(BlobResource),CompressedTextureLoader=function(){function _e(){}return _e.use=function(j,et){var tt=j.data,nt=this;if(j.type===LoaderResource.TYPE.JSON&&tt&&tt.cacheID&&tt.textures){for(var rt=tt.textures,it=void 0,st=void 0,at=0,ot=rt.length;at<ot;at++){var lt=rt[at],ut=lt.src,ct=lt.format;if(ct||(st=ut),_e.textureFormats[ct]){it=ut;break}}if(it=it||st,!it){et(new Error("Cannot load compressed-textures in "+j.url+", make sure you provide a fallback"));return}if(it===j.url){et(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var ht={crossOrigin:j.crossOrigin,metadata:j.metadata.imageMetadata,parentResource:j},pt=url$1.resolve(j.url.replace(nt.baseUrl,""),it),gt=tt.cacheID;nt.add(gt,pt,ht,function(vt){if(vt.error){et(vt.error);return}var ft=vt.texture,mt=ft===void 0?null:ft,xt=vt.textures,_t=xt===void 0?{}:xt;Object.assign(j,{texture:mt,textures:_t}),et()})}else et()},Object.defineProperty(_e,"textureExtensions",{get:function(){if(!_e._textureExtensions){var j=document.createElement("canvas"),et=j.getContext("webgl");if(!et)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var tt={s3tc:et.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:et.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:et.getExtension("WEBGL_compressed_texture_etc"),etc1:et.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:et.getExtension("WEBGL_compressed_texture_pvrtc")||et.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:et.getExtension("WEBGL_compressed_texture_atc"),astc:et.getExtension("WEBGL_compressed_texture_astc")};_e._textureExtensions=tt}return _e._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(_e,"textureFormats",{get:function(){if(!_e._textureFormats){var j=_e.textureExtensions;_e._textureFormats={};for(var et in j){var tt=j[et];!tt||Object.assign(_e._textureFormats,Object.getPrototypeOf(tt))}}return _e._textureFormats},enumerable:!1,configurable:!0}),_e.extension=ExtensionType.Loader,_e}();function registerCompressedTextures(_e,j,et){var tt={textures:{},texture:null};if(!j)return tt;var nt=j.map(function(rt){return new Texture$1(new BaseTexture(rt,Object.assign({mipmap:MIPMAP_MODES$5.OFF,alphaMode:ALPHA_MODES$5.NO_PREMULTIPLIED_ALPHA},et)))});return nt.forEach(function(rt,it){var st=rt.baseTexture,at=_e+"-"+(it+1);BaseTexture.addToCache(st,at),Texture$1.addToCache(rt,at),it===0&&(BaseTexture.addToCache(st,_e),Texture$1.addToCache(rt,_e),tt.texture=rt),tt.textures[at]=rt}),tt}var _a$1,_b$1,DDS_MAGIC_SIZE=4,DDS_HEADER_SIZE=124,DDS_HEADER_PF_SIZE=32,DDS_HEADER_DX10_SIZE=20,DDS_MAGIC=542327876,DDS_FIELDS={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},DDS_PF_FIELDS={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},DDS_DX10_FIELDS={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},DXGI_FORMAT;(function(_e){_e[_e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",_e[_e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",_e[_e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",_e[_e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",_e[_e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",_e[_e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",_e[_e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",_e[_e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",_e[_e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",_e[_e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",_e[_e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",_e[_e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",_e[_e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",_e[_e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",_e[_e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",_e[_e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",_e[_e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",_e[_e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",_e[_e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",_e[_e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",_e[_e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",_e[_e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",_e[_e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",_e[_e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",_e[_e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",_e[_e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",_e[_e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",_e[_e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",_e[_e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",_e[_e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",_e[_e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",_e[_e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",_e[_e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",_e[_e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",_e[_e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",_e[_e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",_e[_e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",_e[_e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",_e[_e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",_e[_e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",_e[_e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",_e[_e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",_e[_e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",_e[_e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",_e[_e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",_e[_e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",_e[_e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",_e[_e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",_e[_e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",_e[_e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",_e[_e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",_e[_e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",_e[_e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",_e[_e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",_e[_e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",_e[_e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",_e[_e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",_e[_e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",_e[_e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",_e[_e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",_e[_e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",_e[_e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",_e[_e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",_e[_e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",_e[_e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",_e[_e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",_e[_e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",_e[_e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",_e[_e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",_e[_e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",_e[_e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",_e[_e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",_e[_e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",_e[_e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",_e[_e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",_e[_e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",_e[_e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",_e[_e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",_e[_e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",_e[_e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",_e[_e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",_e[_e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",_e[_e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",_e[_e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",_e[_e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",_e[_e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",_e[_e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",_e[_e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",_e[_e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",_e[_e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",_e[_e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",_e[_e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",_e[_e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",_e[_e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",_e[_e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",_e[_e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",_e[_e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",_e[_e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",_e[_e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",_e[_e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",_e[_e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",_e[_e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",_e[_e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",_e[_e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",_e[_e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",_e[_e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",_e[_e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",_e[_e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",_e[_e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",_e[_e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",_e[_e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",_e[_e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",_e[_e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",_e[_e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",_e[_e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",_e[_e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",_e[_e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",_e[_e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",_e[_e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",_e[_e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",_e[_e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",_e[_e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(DXGI_FORMAT||(DXGI_FORMAT={}));var D3D10_RESOURCE_DIMENSION;(function(_e){_e[_e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",_e[_e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",_e[_e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(D3D10_RESOURCE_DIMENSION||(D3D10_RESOURCE_DIMENSION={}));var PF_FLAGS=1,DDPF_ALPHA=2,DDPF_FOURCC=4,DDPF_RGB=64,DDPF_YUV=512,DDPF_LUMINANCE=131072,FOURCC_DXT1=827611204,FOURCC_DXT3=861165636,FOURCC_DXT5=894720068,FOURCC_DX10=808540228,DDS_RESOURCE_MISC_TEXTURECUBE=4,FOURCC_TO_FORMAT=(_a$1={},_a$1[FOURCC_DXT1]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_a$1[FOURCC_DXT3]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_a$1[FOURCC_DXT5]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_a$1),DXGI_TO_FORMAT=(_b$1={},_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,_b$1);function parseDDS(_e){var j=new Uint32Array(_e),et=j[0];if(et!==DDS_MAGIC)throw new Error("Invalid DDS file magic word");var tt=new Uint32Array(_e,0,DDS_HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT),nt=tt[DDS_FIELDS.HEIGHT],rt=tt[DDS_FIELDS.WIDTH],it=tt[DDS_FIELDS.MIPMAP_COUNT],st=new Uint32Array(_e,DDS_FIELDS.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,DDS_HEADER_PF_SIZE/Uint32Array.BYTES_PER_ELEMENT),at=st[PF_FLAGS];if(at&DDPF_FOURCC){var ot=st[DDS_PF_FIELDS.FOURCC];if(ot!==FOURCC_DX10){var lt=FOURCC_TO_FORMAT[ot],ut=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,ct=new Uint8Array(_e,ut),ht=new CompressedTextureResource(ct,{format:lt,width:rt,height:nt,levels:it});return[ht]}var pt=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,gt=new Uint32Array(j.buffer,pt,DDS_HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT),vt=gt[DDS_DX10_FIELDS.DXGI_FORMAT],ft=gt[DDS_DX10_FIELDS.RESOURCE_DIMENSION],mt=gt[DDS_DX10_FIELDS.MISC_FLAG],xt=gt[DDS_DX10_FIELDS.ARRAY_SIZE],_t=DXGI_TO_FORMAT[vt];if(_t===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+vt);if(mt===DDS_RESOURCE_MISC_TEXTURECUBE)throw new Error("DDSParser does not support cubemap textures");if(ft===D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var Tt=new Array,wt=DDS_MAGIC_SIZE+DDS_HEADER_SIZE+DDS_HEADER_DX10_SIZE;if(xt===1)Tt.push(new Uint8Array(_e,wt));else{for(var bt=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[_t],Ct=0,Lt=rt,$t=nt,Rt=0;Rt<it;Rt++){var Bt=Math.max(1,Lt+3&-4),Gt=Math.max(1,$t+3&-4),Ft=Bt*Gt*bt;Ct+=Ft,Lt=Lt>>>1,$t=$t>>>1}for(var kt=wt,Rt=0;Rt<xt;Rt++)Tt.push(new Uint8Array(_e,kt,Ct)),kt+=Ct}return Tt.map(function(It){return new CompressedTextureResource(It,{format:_t,width:rt,height:nt,levels:it})})}throw at&DDPF_RGB?new Error("DDSParser does not support uncompressed texture data."):at&DDPF_YUV?new Error("DDSParser does not supported YUV uncompressed texture data."):at&DDPF_LUMINANCE?new Error("DDSParser does not support single-channel (lumninance) texture data!"):at&DDPF_ALPHA?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var _a$3,_b,_c,FILE_IDENTIFIER=[171,75,84,88,32,49,49,187,13,10,26,10],ENDIANNESS=67305985,KTX_FIELDS={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},FILE_HEADER_SIZE=64,TYPES_TO_BYTES_PER_COMPONENT=(_a$3={},_a$3[TYPES$5.UNSIGNED_BYTE]=1,_a$3[TYPES$5.UNSIGNED_SHORT]=2,_a$3[TYPES$5.INT]=4,_a$3[TYPES$5.UNSIGNED_INT]=4,_a$3[TYPES$5.FLOAT]=4,_a$3[TYPES$5.HALF_FLOAT]=8,_a$3),FORMATS_TO_COMPONENTS=(_b={},_b[FORMATS$5.RGBA]=4,_b[FORMATS$5.RGB]=3,_b[FORMATS$5.RG]=2,_b[FORMATS$5.RED]=1,_b[FORMATS$5.LUMINANCE]=1,_b[FORMATS$5.LUMINANCE_ALPHA]=2,_b[FORMATS$5.ALPHA]=1,_b),TYPES_TO_BYTES_PER_PIXEL=(_c={},_c[TYPES$5.UNSIGNED_SHORT_4_4_4_4]=2,_c[TYPES$5.UNSIGNED_SHORT_5_5_5_1]=2,_c[TYPES$5.UNSIGNED_SHORT_5_6_5]=2,_c);function parseKTX(_e,j,et){et===void 0&&(et=!1);var tt=new DataView(j);if(!validate$1(_e,tt))return null;var nt=tt.getUint32(KTX_FIELDS.ENDIANNESS,!0)===ENDIANNESS,rt=tt.getUint32(KTX_FIELDS.GL_TYPE,nt),it=tt.getUint32(KTX_FIELDS.GL_FORMAT,nt),st=tt.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT,nt),at=tt.getUint32(KTX_FIELDS.PIXEL_WIDTH,nt),ot=tt.getUint32(KTX_FIELDS.PIXEL_HEIGHT,nt)||1,lt=tt.getUint32(KTX_FIELDS.PIXEL_DEPTH,nt)||1,ut=tt.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS,nt)||1,ct=tt.getUint32(KTX_FIELDS.NUMBER_OF_FACES,nt),ht=tt.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS,nt),pt=tt.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA,nt);if(ot===0||lt!==1)throw new Error("Only 2D textures are supported");if(ct!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(ut!==1)throw new Error("WebGL does not support array textures");var gt=4,vt=4,ft=at+3&-4,mt=ot+3&-4,xt=new Array(ut),_t=at*ot;rt===0&&(_t=ft*mt);var Tt;if(rt!==0?TYPES_TO_BYTES_PER_COMPONENT[rt]?Tt=TYPES_TO_BYTES_PER_COMPONENT[rt]*FORMATS_TO_COMPONENTS[it]:Tt=TYPES_TO_BYTES_PER_PIXEL[rt]:Tt=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[st],Tt===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var wt=et?parseKvData(tt,pt,nt):null,bt=_t*Tt,Ct=bt,Lt=at,$t=ot,Rt=ft,Bt=mt,Gt=FILE_HEADER_SIZE+pt,Ft=0;Ft<ht;Ft++){for(var kt=tt.getUint32(Gt,nt),It=Gt+4,Ot=0;Ot<ut;Ot++){var Ut=xt[Ot];Ut||(Ut=xt[Ot]=new Array(ht)),Ut[Ft]={levelID:Ft,levelWidth:ht>1||rt!==0?Lt:Rt,levelHeight:ht>1||rt!==0?$t:Bt,levelBuffer:new Uint8Array(j,It,Ct)},It+=Ct}Gt+=kt+4,Gt=Gt%4!==0?Gt+4-Gt%4:Gt,Lt=Lt>>1||1,$t=$t>>1||1,Rt=Lt+gt-1&~(gt-1),Bt=$t+vt-1&~(vt-1),Ct=Rt*Bt*Tt}return rt!==0?{uncompressed:xt.map(function(zt){var Ht=zt[0].levelBuffer,Vt=!1;return rt===TYPES$5.FLOAT?Ht=new Float32Array(zt[0].levelBuffer.buffer,zt[0].levelBuffer.byteOffset,zt[0].levelBuffer.byteLength/4):rt===TYPES$5.UNSIGNED_INT?(Vt=!0,Ht=new Uint32Array(zt[0].levelBuffer.buffer,zt[0].levelBuffer.byteOffset,zt[0].levelBuffer.byteLength/4)):rt===TYPES$5.INT&&(Vt=!0,Ht=new Int32Array(zt[0].levelBuffer.buffer,zt[0].levelBuffer.byteOffset,zt[0].levelBuffer.byteLength/4)),{resource:new BufferResource(Ht,{width:zt[0].levelWidth,height:zt[0].levelHeight}),type:rt,format:Vt?convertFormatToInteger(it):it}}),kvData:wt}:{compressed:xt.map(function(zt){return new CompressedTextureResource(null,{format:st,width:at,height:ot,levels:ht,levelBuffers:zt})}),kvData:wt}}function validate$1(_e,j){for(var et=0;et<FILE_IDENTIFIER.length;et++)if(j.getUint8(et)!==FILE_IDENTIFIER[et])return console.error(_e+" is not a valid *.ktx file!"),!1;return!0}function convertFormatToInteger(_e){switch(_e){case FORMATS$5.RGBA:return FORMATS$5.RGBA_INTEGER;case FORMATS$5.RGB:return FORMATS$5.RGB_INTEGER;case FORMATS$5.RG:return FORMATS$5.RG_INTEGER;case FORMATS$5.RED:return FORMATS$5.RED_INTEGER;default:return _e}}function parseKvData(_e,j,et){for(var tt=new Map,nt=0;nt<j;){var rt=_e.getUint32(FILE_HEADER_SIZE+nt,et),it=FILE_HEADER_SIZE+nt+4,st=3-(rt+3)%4;if(rt===0||rt>j-nt){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var at=0;at<rt&&_e.getUint8(it+at)!==0;at++);if(at===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var ot=new TextDecoder().decode(new Uint8Array(_e.buffer,it,at)),lt=new DataView(_e.buffer,it+at+1,rt-at-1);tt.set(ot,lt),nt+=4+rt+st}return tt}LoaderResource.setExtensionXhrType("dds",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var DDSLoader=function(){function _e(){}return _e.use=function(j,et){if(j.extension==="dds"&&j.data)try{Object.assign(j,registerCompressedTextures(j.name||j.url,parseDDS(j.data),j.metadata))}catch(tt){et(tt);return}et()},_e.extension=ExtensionType.Loader,_e}();LoaderResource.setExtensionXhrType("ktx",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var KTXLoader=function(){function _e(){}return _e.use=function(j,et){if(j.extension==="ktx"&&j.data)try{var tt=j.name||j.url,nt=parseKTX(tt,j.data,this.loadKeyValueData),rt=nt.compressed,it=nt.uncompressed,st=nt.kvData;if(rt){var at=registerCompressedTextures(tt,rt,j.metadata);if(st&&at.textures)for(var ot in at.textures)at.textures[ot].baseTexture.ktxKeyValueData=st;Object.assign(j,at)}else if(it){var lt={};it.forEach(function(ut,ct){var ht=new Texture$1(new BaseTexture(ut.resource,{mipmap:MIPMAP_MODES$5.OFF,alphaMode:ALPHA_MODES$5.NO_PREMULTIPLIED_ALPHA,type:ut.type,format:ut.format})),pt=tt+"-"+(ct+1);st&&(ht.baseTexture.ktxKeyValueData=st),BaseTexture.addToCache(ht.baseTexture,pt),Texture$1.addToCache(ht,pt),ct===0&&(lt[tt]=ht,BaseTexture.addToCache(ht.baseTexture,tt),Texture$1.addToCache(ht,tt)),lt[pt]=ht}),Object.assign(j,{textures:lt})}}catch(ut){et(ut);return}et()},_e.extension=ExtensionType.Loader,_e.loadKeyValueData=!1,_e}();/*!
 * @pixi/particle-container - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$f=function(_e,j){return extendStatics$f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$f(_e,j)};function __extends$f(_e,j){extendStatics$f(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}(function(_e){__extends$f(j,_e);function j(et,tt,nt,rt){et===void 0&&(et=1500),nt===void 0&&(nt=16384),rt===void 0&&(rt=!1);var it=_e.call(this)||this,st=16384;return nt>st&&(nt=st),it._properties=[!1,!0,!1,!1,!1],it._maxSize=et,it._batchSize=nt,it._buffers=null,it._bufferUpdateIDs=[],it._updateID=0,it.interactiveChildren=!1,it.blendMode=BLEND_MODES$5.NORMAL,it.autoResize=rt,it.roundPixels=!0,it.baseTexture=null,it.setProperties(tt),it._tint=0,it.tintRgb=new Float32Array(4),it.tint=16777215,it}return j.prototype.setProperties=function(et){et&&(this._properties[0]="vertices"in et||"scale"in et?!!et.vertices||!!et.scale:this._properties[0],this._properties[1]="position"in et?!!et.position:this._properties[1],this._properties[2]="rotation"in et?!!et.rotation:this._properties[2],this._properties[3]="uvs"in et?!!et.uvs:this._properties[3],this._properties[4]="tint"in et||"alpha"in et?!!et.tint||!!et.alpha:this._properties[4])},j.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(j.prototype,"tint",{get:function(){return this._tint},set:function(et){this._tint=et,hex2rgb(et,this.tintRgb)},enumerable:!1,configurable:!0}),j.prototype.render=function(et){var tt=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return tt.onChildrenChange(0)})),et.batch.setObjectRenderer(et.plugins.particle),et.plugins.particle.render(this))},j.prototype.onChildrenChange=function(et){for(var tt=Math.floor(et/this._batchSize);this._bufferUpdateIDs.length<tt;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[tt]=++this._updateID},j.prototype.dispose=function(){if(this._buffers){for(var et=0;et<this._buffers.length;++et)this._buffers[et].destroy();this._buffers=null}},j.prototype.destroy=function(et){_e.prototype.destroy.call(this,et),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},j})(Container);var ParticleBuffer=function(){function _e(j,et,tt){this.geometry=new Geometry,this.indexBuffer=null,this.size=tt,this.dynamicProperties=[],this.staticProperties=[];for(var nt=0;nt<j.length;++nt){var rt=j[nt];rt={attributeName:rt.attributeName,size:rt.size,uploadFunction:rt.uploadFunction,type:rt.type||TYPES$5.FLOAT,offset:rt.offset},et[nt]?this.dynamicProperties.push(rt):this.staticProperties.push(rt)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return _e.prototype.initBuffers=function(){var j=this.geometry,et=0;this.indexBuffer=new Buffer(createIndicesForQuads(this.size),!0,!0),j.addIndex(this.indexBuffer),this.dynamicStride=0;for(var tt=0;tt<this.dynamicProperties.length;++tt){var nt=this.dynamicProperties[tt];nt.offset=et,et+=nt.size,this.dynamicStride+=nt.size}var rt=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(rt),this.dynamicDataUint32=new Uint32Array(rt),this.dynamicBuffer=new Buffer(this.dynamicData,!1,!1);var it=0;this.staticStride=0;for(var tt=0;tt<this.staticProperties.length;++tt){var nt=this.staticProperties[tt];nt.offset=it,it+=nt.size,this.staticStride+=nt.size}var st=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(st),this.staticDataUint32=new Uint32Array(st),this.staticBuffer=new Buffer(this.staticData,!0,!1);for(var tt=0;tt<this.dynamicProperties.length;++tt){var nt=this.dynamicProperties[tt];j.addAttribute(nt.attributeName,this.dynamicBuffer,0,nt.type===TYPES$5.UNSIGNED_BYTE,nt.type,this.dynamicStride*4,nt.offset*4)}for(var tt=0;tt<this.staticProperties.length;++tt){var nt=this.staticProperties[tt];j.addAttribute(nt.attributeName,this.staticBuffer,0,nt.type===TYPES$5.UNSIGNED_BYTE,nt.type,this.staticStride*4,nt.offset*4)}},_e.prototype.uploadDynamic=function(j,et,tt){for(var nt=0;nt<this.dynamicProperties.length;nt++){var rt=this.dynamicProperties[nt];rt.uploadFunction(j,et,tt,rt.type===TYPES$5.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,rt.offset)}this.dynamicBuffer._updateID++},_e.prototype.uploadStatic=function(j,et,tt){for(var nt=0;nt<this.staticProperties.length;nt++){var rt=this.staticProperties[nt];rt.uploadFunction(j,et,tt,rt.type===TYPES$5.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,rt.offset)}this.staticBuffer._updateID++},_e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},_e}(),fragment$n=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,vertex$k=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,ParticleRenderer=function(_e){__extends$f(j,_e);function j(et){var tt=_e.call(this,et)||this;return tt.shader=null,tt.properties=null,tt.tempMatrix=new Matrix,tt.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:tt.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:tt.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:tt.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:tt.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:TYPES$5.UNSIGNED_BYTE,uploadFunction:tt.uploadTint,offset:0}],tt.shader=Shader.from(vertex$k,fragment$n,{}),tt.state=State$1.for2d(),tt}return j.prototype.render=function(et){var tt=et.children,nt=et._maxSize,rt=et._batchSize,it=this.renderer,st=tt.length;if(st!==0){st>nt&&!et.autoResize&&(st=nt);var at=et._buffers;at||(at=et._buffers=this.generateBuffers(et));var ot=tt[0]._texture.baseTexture,lt=ot.alphaMode>0;this.state.blendMode=correctBlendMode(et.blendMode,lt),it.state.set(this.state);var ut=it.gl,ct=et.worldTransform.copyTo(this.tempMatrix);ct.prepend(it.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=ct.toArray(!0),this.shader.uniforms.uColor=premultiplyRgba(et.tintRgb,et.worldAlpha,this.shader.uniforms.uColor,lt),this.shader.uniforms.uSampler=ot,this.renderer.shader.bind(this.shader);for(var ht=!1,pt=0,gt=0;pt<st;pt+=rt,gt+=1){var vt=st-pt;vt>rt&&(vt=rt),gt>=at.length&&at.push(this._generateOneMoreBuffer(et));var ft=at[gt];ft.uploadDynamic(tt,pt,vt);var mt=et._bufferUpdateIDs[gt]||0;ht=ht||ft._updateID<mt,ht&&(ft._updateID=et._updateID,ft.uploadStatic(tt,pt,vt)),it.geometry.bind(ft.geometry),ut.drawElements(ut.TRIANGLES,vt*6,ut.UNSIGNED_SHORT,0)}}},j.prototype.generateBuffers=function(et){for(var tt=[],nt=et._maxSize,rt=et._batchSize,it=et._properties,st=0;st<nt;st+=rt)tt.push(new ParticleBuffer(this.properties,it,rt));return tt},j.prototype._generateOneMoreBuffer=function(et){var tt=et._batchSize,nt=et._properties;return new ParticleBuffer(this.properties,nt,tt)},j.prototype.uploadVertices=function(et,tt,nt,rt,it,st){for(var at=0,ot=0,lt=0,ut=0,ct=0;ct<nt;++ct){var ht=et[tt+ct],pt=ht._texture,gt=ht.scale.x,vt=ht.scale.y,ft=pt.trim,mt=pt.orig;ft?(ot=ft.x-ht.anchor.x*mt.width,at=ot+ft.width,ut=ft.y-ht.anchor.y*mt.height,lt=ut+ft.height):(at=mt.width*(1-ht.anchor.x),ot=mt.width*-ht.anchor.x,lt=mt.height*(1-ht.anchor.y),ut=mt.height*-ht.anchor.y),rt[st]=ot*gt,rt[st+1]=ut*vt,rt[st+it]=at*gt,rt[st+it+1]=ut*vt,rt[st+it*2]=at*gt,rt[st+it*2+1]=lt*vt,rt[st+it*3]=ot*gt,rt[st+it*3+1]=lt*vt,st+=it*4}},j.prototype.uploadPosition=function(et,tt,nt,rt,it,st){for(var at=0;at<nt;at++){var ot=et[tt+at].position;rt[st]=ot.x,rt[st+1]=ot.y,rt[st+it]=ot.x,rt[st+it+1]=ot.y,rt[st+it*2]=ot.x,rt[st+it*2+1]=ot.y,rt[st+it*3]=ot.x,rt[st+it*3+1]=ot.y,st+=it*4}},j.prototype.uploadRotation=function(et,tt,nt,rt,it,st){for(var at=0;at<nt;at++){var ot=et[tt+at].rotation;rt[st]=ot,rt[st+it]=ot,rt[st+it*2]=ot,rt[st+it*3]=ot,st+=it*4}},j.prototype.uploadUvs=function(et,tt,nt,rt,it,st){for(var at=0;at<nt;++at){var ot=et[tt+at]._texture._uvs;ot?(rt[st]=ot.x0,rt[st+1]=ot.y0,rt[st+it]=ot.x1,rt[st+it+1]=ot.y1,rt[st+it*2]=ot.x2,rt[st+it*2+1]=ot.y2,rt[st+it*3]=ot.x3,rt[st+it*3+1]=ot.y3,st+=it*4):(rt[st]=0,rt[st+1]=0,rt[st+it]=0,rt[st+it+1]=0,rt[st+it*2]=0,rt[st+it*2+1]=0,rt[st+it*3]=0,rt[st+it*3+1]=0,st+=it*4)}},j.prototype.uploadTint=function(et,tt,nt,rt,it,st){for(var at=0;at<nt;++at){var ot=et[tt+at],lt=ot._texture.baseTexture.alphaMode>0,ut=ot.alpha,ct=ut<1&&lt?premultiplyTint(ot._tintRGB,ut):ot._tintRGB+(ut*255<<24);rt[st]=ct,rt[st+it]=ct,rt[st+it*2]=ct,rt[st+it*3]=ct,st+=it*4}},j.prototype.destroy=function(){_e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},j.extension={name:"particle",type:ExtensionType.RendererPlugin},j}(ObjectRenderer);/*!
 * @pixi/graphics - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var LINE_JOIN;(function(_e){_e.MITER="miter",_e.BEVEL="bevel",_e.ROUND="round"})(LINE_JOIN||(LINE_JOIN={}));var LINE_CAP;(function(_e){_e.BUTT="butt",_e.ROUND="round",_e.SQUARE="square"})(LINE_CAP||(LINE_CAP={}));var GRAPHICS_CURVES={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(_e,j){if(j===void 0&&(j=20),!this.adaptive||!_e||isNaN(_e))return j;var et=Math.ceil(_e/this.maxLength);return et<this.minSegments?et=this.minSegments:et>this.maxSegments&&(et=this.maxSegments),et}},FillStyle=function(){function _e(){this.color=16777215,this.alpha=1,this.texture=Texture$1.WHITE,this.matrix=null,this.visible=!1,this.reset()}return _e.prototype.clone=function(){var j=new _e;return j.color=this.color,j.alpha=this.alpha,j.texture=this.texture,j.matrix=this.matrix,j.visible=this.visible,j},_e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Texture$1.WHITE,this.matrix=null,this.visible=!1},_e.prototype.destroy=function(){this.texture=null,this.matrix=null},_e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$e=function(_e,j){return extendStatics$e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$e(_e,j)};function __extends$e(_e,j){extendStatics$e(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}function fixOrientation(_e,j){var et,tt;j===void 0&&(j=!1);var nt=_e.length;if(!(nt<6)){for(var rt=0,it=0,st=_e[nt-2],at=_e[nt-1];it<nt;it+=2){var ot=_e[it],lt=_e[it+1];rt+=(ot-st)*(lt+at),st=ot,at=lt}if(!j&&rt>0||j&&rt<=0)for(var ut=nt/2,it=ut+ut%2;it<nt;it+=2){var ct=nt-it-2,ht=nt-it-1,pt=it,gt=it+1;et=[_e[pt],_e[ct]],_e[ct]=et[0],_e[pt]=et[1],tt=[_e[gt],_e[ht]],_e[ht]=tt[0],_e[gt]=tt[1]}}}var buildPoly={build:function(_e){_e.points=_e.shape.points.slice()},triangulate:function(_e,j){var et=_e.points,tt=_e.holes,nt=j.points,rt=j.indices;if(et.length>=6){fixOrientation(et,!1);for(var it=[],st=0;st<tt.length;st++){var at=tt[st];fixOrientation(at.points,!0),it.push(et.length/2),et=et.concat(at.points)}var ot=earcut$1(et,it,2);if(!ot)return;for(var lt=nt.length/2,st=0;st<ot.length;st+=3)rt.push(ot[st]+lt),rt.push(ot[st+1]+lt),rt.push(ot[st+2]+lt);for(var st=0;st<et.length;st++)nt.push(et[st])}}},buildCircle={build:function(_e){var j=_e.points,et,tt,nt,rt,it,st;if(_e.type===SHAPES.CIRC){var at=_e.shape;et=at.x,tt=at.y,it=st=at.radius,nt=rt=0}else if(_e.type===SHAPES.ELIP){var ot=_e.shape;et=ot.x,tt=ot.y,it=ot.width,st=ot.height,nt=rt=0}else{var lt=_e.shape,ut=lt.width/2,ct=lt.height/2;et=lt.x+ut,tt=lt.y+ct,it=st=Math.max(0,Math.min(lt.radius,Math.min(ut,ct))),nt=ut-it,rt=ct-st}if(!(it>=0&&st>=0&&nt>=0&&rt>=0)){j.length=0;return}var ht=Math.ceil(2.3*Math.sqrt(it+st)),pt=ht*8+(nt?4:0)+(rt?4:0);if(j.length=pt,pt!==0){if(ht===0){j.length=8,j[0]=j[6]=et+nt,j[1]=j[3]=tt+rt,j[2]=j[4]=et-nt,j[5]=j[7]=tt-rt;return}var gt=0,vt=ht*4+(nt?2:0)+2,ft=vt,mt=pt;{var xt=nt+it,_t=rt,Tt=et+xt,wt=et-xt,bt=tt+_t;if(j[gt++]=Tt,j[gt++]=bt,j[--vt]=bt,j[--vt]=wt,rt){var Ct=tt-_t;j[ft++]=wt,j[ft++]=Ct,j[--mt]=Ct,j[--mt]=Tt}}for(var Lt=1;Lt<ht;Lt++){var $t=Math.PI/2*(Lt/ht),xt=nt+Math.cos($t)*it,_t=rt+Math.sin($t)*st,Tt=et+xt,wt=et-xt,bt=tt+_t,Ct=tt-_t;j[gt++]=Tt,j[gt++]=bt,j[--vt]=bt,j[--vt]=wt,j[ft++]=wt,j[ft++]=Ct,j[--mt]=Ct,j[--mt]=Tt}{var xt=nt,_t=rt+st,Tt=et+xt,wt=et-xt,bt=tt+_t,Ct=tt-_t;j[gt++]=Tt,j[gt++]=bt,j[--mt]=Ct,j[--mt]=Tt,nt&&(j[gt++]=wt,j[gt++]=bt,j[--mt]=Ct,j[--mt]=wt)}}},triangulate:function(_e,j){var et=_e.points,tt=j.points,nt=j.indices;if(et.length!==0){var rt=tt.length/2,it=rt,st,at;if(_e.type!==SHAPES.RREC){var ot=_e.shape;st=ot.x,at=ot.y}else{var lt=_e.shape;st=lt.x+lt.width/2,at=lt.y+lt.height/2}var ut=_e.matrix;tt.push(_e.matrix?ut.a*st+ut.c*at+ut.tx:st,_e.matrix?ut.b*st+ut.d*at+ut.ty:at),rt++,tt.push(et[0],et[1]);for(var ct=2;ct<et.length;ct+=2)tt.push(et[ct],et[ct+1]),nt.push(rt++,it,rt);nt.push(it+1,it,rt)}}},buildRectangle={build:function(_e){var j=_e.shape,et=j.x,tt=j.y,nt=j.width,rt=j.height,it=_e.points;it.length=0,it.push(et,tt,et+nt,tt,et+nt,tt+rt,et,tt+rt)},triangulate:function(_e,j){var et=_e.points,tt=j.points,nt=tt.length/2;tt.push(et[0],et[1],et[2],et[3],et[6],et[7],et[4],et[5]),j.indices.push(nt,nt+1,nt+2,nt+1,nt+2,nt+3)}};function getPt(_e,j,et){var tt=j-_e;return _e+tt*et}function quadraticBezierCurve(_e,j,et,tt,nt,rt,it){it===void 0&&(it=[]);for(var st=20,at=it,ot=0,lt=0,ut=0,ct=0,ht=0,pt=0,gt=0,vt=0;gt<=st;++gt)vt=gt/st,ot=getPt(_e,et,vt),lt=getPt(j,tt,vt),ut=getPt(et,nt,vt),ct=getPt(tt,rt,vt),ht=getPt(ot,ut,vt),pt=getPt(lt,ct,vt),!(gt===0&&at[at.length-2]===ht&&at[at.length-1]===pt)&&at.push(ht,pt);return at}var buildRoundedRectangle={build:function(_e){if(Graphics.nextRoundedRectBehavior){buildCircle.build(_e);return}var j=_e.shape,et=_e.points,tt=j.x,nt=j.y,rt=j.width,it=j.height,st=Math.max(0,Math.min(j.radius,Math.min(rt,it)/2));et.length=0,st?(quadraticBezierCurve(tt,nt+st,tt,nt,tt+st,nt,et),quadraticBezierCurve(tt+rt-st,nt,tt+rt,nt,tt+rt,nt+st,et),quadraticBezierCurve(tt+rt,nt+it-st,tt+rt,nt+it,tt+rt-st,nt+it,et),quadraticBezierCurve(tt+st,nt+it,tt,nt+it,tt,nt+it-st,et)):et.push(tt,nt,tt+rt,nt,tt+rt,nt+it,tt,nt+it)},triangulate:function(_e,j){if(Graphics.nextRoundedRectBehavior){buildCircle.triangulate(_e,j);return}for(var et=_e.points,tt=j.points,nt=j.indices,rt=tt.length/2,it=earcut$1(et,null,2),st=0,at=it.length;st<at;st+=3)nt.push(it[st]+rt),nt.push(it[st+1]+rt),nt.push(it[st+2]+rt);for(var st=0,at=et.length;st<at;st++)tt.push(et[st],et[++st])}};function square(_e,j,et,tt,nt,rt,it,st){var at=_e-et*nt,ot=j-tt*nt,lt=_e+et*rt,ut=j+tt*rt,ct,ht;it?(ct=tt,ht=-et):(ct=-tt,ht=et);var pt=at+ct,gt=ot+ht,vt=lt+ct,ft=ut+ht;return st.push(pt,gt),st.push(vt,ft),2}function round(_e,j,et,tt,nt,rt,it,st){var at=et-_e,ot=tt-j,lt=Math.atan2(at,ot),ut=Math.atan2(nt-_e,rt-j);st&&lt<ut?lt+=Math.PI*2:!st&&lt>ut&&(ut+=Math.PI*2);var ct=lt,ht=ut-lt,pt=Math.abs(ht),gt=Math.sqrt(at*at+ot*ot),vt=(15*pt*Math.sqrt(gt)/Math.PI>>0)+1,ft=ht/vt;if(ct+=ft,st){it.push(_e,j),it.push(et,tt);for(var mt=1,xt=ct;mt<vt;mt++,xt+=ft)it.push(_e,j),it.push(_e+Math.sin(xt)*gt,j+Math.cos(xt)*gt);it.push(_e,j),it.push(nt,rt)}else{it.push(et,tt),it.push(_e,j);for(var mt=1,xt=ct;mt<vt;mt++,xt+=ft)it.push(_e+Math.sin(xt)*gt,j+Math.cos(xt)*gt),it.push(_e,j);it.push(nt,rt),it.push(_e,j)}return vt*2}function buildNonNativeLine(_e,j){var et=_e.shape,tt=_e.points||et.points.slice(),nt=j.closePointEps;if(tt.length!==0){var rt=_e.lineStyle,it=new Point(tt[0],tt[1]),st=new Point(tt[tt.length-2],tt[tt.length-1]),at=et.type!==SHAPES.POLY||et.closeStroke,ot=Math.abs(it.x-st.x)<nt&&Math.abs(it.y-st.y)<nt;if(at){tt=tt.slice(),ot&&(tt.pop(),tt.pop(),st.set(tt[tt.length-2],tt[tt.length-1]));var lt=(it.x+st.x)*.5,ut=(st.y+it.y)*.5;tt.unshift(lt,ut),tt.push(lt,ut)}var ct=j.points,ht=tt.length/2,pt=tt.length,gt=ct.length/2,vt=rt.width/2,ft=vt*vt,mt=rt.miterLimit*rt.miterLimit,xt=tt[0],_t=tt[1],Tt=tt[2],wt=tt[3],bt=0,Ct=0,Lt=-(_t-wt),$t=xt-Tt,Rt=0,Bt=0,Gt=Math.sqrt(Lt*Lt+$t*$t);Lt/=Gt,$t/=Gt,Lt*=vt,$t*=vt;var Ft=rt.alignment,kt=(1-Ft)*2,It=Ft*2;at||(rt.cap===LINE_CAP.ROUND?pt+=round(xt-Lt*(kt-It)*.5,_t-$t*(kt-It)*.5,xt-Lt*kt,_t-$t*kt,xt+Lt*It,_t+$t*It,ct,!0)+2:rt.cap===LINE_CAP.SQUARE&&(pt+=square(xt,_t,Lt,$t,kt,It,!0,ct))),ct.push(xt-Lt*kt,_t-$t*kt),ct.push(xt+Lt*It,_t+$t*It);for(var Ot=1;Ot<ht-1;++Ot){xt=tt[(Ot-1)*2],_t=tt[(Ot-1)*2+1],Tt=tt[Ot*2],wt=tt[Ot*2+1],bt=tt[(Ot+1)*2],Ct=tt[(Ot+1)*2+1],Lt=-(_t-wt),$t=xt-Tt,Gt=Math.sqrt(Lt*Lt+$t*$t),Lt/=Gt,$t/=Gt,Lt*=vt,$t*=vt,Rt=-(wt-Ct),Bt=Tt-bt,Gt=Math.sqrt(Rt*Rt+Bt*Bt),Rt/=Gt,Bt/=Gt,Rt*=vt,Bt*=vt;var Ut=Tt-xt,zt=_t-wt,Ht=Tt-bt,Vt=Ct-wt,qt=zt*Ht-Vt*Ut,an=qt<0;if(Math.abs(qt)<.1){ct.push(Tt-Lt*kt,wt-$t*kt),ct.push(Tt+Lt*It,wt+$t*It);continue}var gn=(-Lt+xt)*(-$t+wt)-(-Lt+Tt)*(-$t+_t),yn=(-Rt+bt)*(-Bt+wt)-(-Rt+Tt)*(-Bt+Ct),fn=(Ut*yn-Ht*gn)/qt,In=(Vt*gn-zt*yn)/qt,Dn=(fn-Tt)*(fn-Tt)+(In-wt)*(In-wt),Mn=Tt+(fn-Tt)*kt,Fn=wt+(In-wt)*kt,Vn=Tt-(fn-Tt)*It,mn=wt-(In-wt)*It,dn=Math.min(Ut*Ut+zt*zt,Ht*Ht+Vt*Vt),An=an?kt:It,Yn=dn+An*An*ft,Bn=Dn<=Yn;Bn?rt.join===LINE_JOIN.BEVEL||Dn/ft>mt?(an?(ct.push(Mn,Fn),ct.push(Tt+Lt*It,wt+$t*It),ct.push(Mn,Fn),ct.push(Tt+Rt*It,wt+Bt*It)):(ct.push(Tt-Lt*kt,wt-$t*kt),ct.push(Vn,mn),ct.push(Tt-Rt*kt,wt-Bt*kt),ct.push(Vn,mn)),pt+=2):rt.join===LINE_JOIN.ROUND?an?(ct.push(Mn,Fn),ct.push(Tt+Lt*It,wt+$t*It),pt+=round(Tt,wt,Tt+Lt*It,wt+$t*It,Tt+Rt*It,wt+Bt*It,ct,!0)+4,ct.push(Mn,Fn),ct.push(Tt+Rt*It,wt+Bt*It)):(ct.push(Tt-Lt*kt,wt-$t*kt),ct.push(Vn,mn),pt+=round(Tt,wt,Tt-Lt*kt,wt-$t*kt,Tt-Rt*kt,wt-Bt*kt,ct,!1)+4,ct.push(Tt-Rt*kt,wt-Bt*kt),ct.push(Vn,mn)):(ct.push(Mn,Fn),ct.push(Vn,mn)):(ct.push(Tt-Lt*kt,wt-$t*kt),ct.push(Tt+Lt*It,wt+$t*It),rt.join===LINE_JOIN.ROUND?an?pt+=round(Tt,wt,Tt+Lt*It,wt+$t*It,Tt+Rt*It,wt+Bt*It,ct,!0)+2:pt+=round(Tt,wt,Tt-Lt*kt,wt-$t*kt,Tt-Rt*kt,wt-Bt*kt,ct,!1)+2:rt.join===LINE_JOIN.MITER&&Dn/ft<=mt&&(an?(ct.push(Vn,mn),ct.push(Vn,mn)):(ct.push(Mn,Fn),ct.push(Mn,Fn)),pt+=2),ct.push(Tt-Rt*kt,wt-Bt*kt),ct.push(Tt+Rt*It,wt+Bt*It),pt+=2)}xt=tt[(ht-2)*2],_t=tt[(ht-2)*2+1],Tt=tt[(ht-1)*2],wt=tt[(ht-1)*2+1],Lt=-(_t-wt),$t=xt-Tt,Gt=Math.sqrt(Lt*Lt+$t*$t),Lt/=Gt,$t/=Gt,Lt*=vt,$t*=vt,ct.push(Tt-Lt*kt,wt-$t*kt),ct.push(Tt+Lt*It,wt+$t*It),at||(rt.cap===LINE_CAP.ROUND?pt+=round(Tt-Lt*(kt-It)*.5,wt-$t*(kt-It)*.5,Tt-Lt*kt,wt-$t*kt,Tt+Lt*It,wt+$t*It,ct,!1)+2:rt.cap===LINE_CAP.SQUARE&&(pt+=square(Tt,wt,Lt,$t,kt,It,!1,ct)));for(var tr=j.indices,rr=GRAPHICS_CURVES.epsilon*GRAPHICS_CURVES.epsilon,Ot=gt;Ot<pt+gt-2;++Ot)xt=ct[Ot*2],_t=ct[Ot*2+1],Tt=ct[(Ot+1)*2],wt=ct[(Ot+1)*2+1],bt=ct[(Ot+2)*2],Ct=ct[(Ot+2)*2+1],!(Math.abs(xt*(wt-Ct)+Tt*(Ct-_t)+bt*(_t-wt))<rr)&&tr.push(Ot,Ot+1,Ot+2)}}function buildNativeLine(_e,j){var et=0,tt=_e.shape,nt=_e.points||tt.points,rt=tt.type!==SHAPES.POLY||tt.closeStroke;if(nt.length!==0){var it=j.points,st=j.indices,at=nt.length/2,ot=it.length/2,lt=ot;for(it.push(nt[0],nt[1]),et=1;et<at;et++)it.push(nt[et*2],nt[et*2+1]),st.push(lt,lt+1),lt++;rt&&st.push(lt,ot)}}function buildLine(_e,j){_e.lineStyle.native?buildNativeLine(_e,j):buildNonNativeLine(_e,j)}var ArcUtils=function(){function _e(){}return _e.curveTo=function(j,et,tt,nt,rt,it){var st=it[it.length-2],at=it[it.length-1],ot=at-et,lt=st-j,ut=nt-et,ct=tt-j,ht=Math.abs(ot*ct-lt*ut);if(ht<1e-8||rt===0)return(it[it.length-2]!==j||it[it.length-1]!==et)&&it.push(j,et),null;var pt=ot*ot+lt*lt,gt=ut*ut+ct*ct,vt=ot*ut+lt*ct,ft=rt*Math.sqrt(pt)/ht,mt=rt*Math.sqrt(gt)/ht,xt=ft*vt/pt,_t=mt*vt/gt,Tt=ft*ct+mt*lt,wt=ft*ut+mt*ot,bt=lt*(mt+xt),Ct=ot*(mt+xt),Lt=ct*(ft+_t),$t=ut*(ft+_t),Rt=Math.atan2(Ct-wt,bt-Tt),Bt=Math.atan2($t-wt,Lt-Tt);return{cx:Tt+j,cy:wt+et,radius:rt,startAngle:Rt,endAngle:Bt,anticlockwise:lt*ut>ct*ot}},_e.arc=function(j,et,tt,nt,rt,it,st,at,ot){for(var lt=st-it,ut=GRAPHICS_CURVES._segmentsCount(Math.abs(lt)*rt,Math.ceil(Math.abs(lt)/PI_2)*40),ct=lt/(ut*2),ht=ct*2,pt=Math.cos(ct),gt=Math.sin(ct),vt=ut-1,ft=vt%1/vt,mt=0;mt<=vt;++mt){var xt=mt+ft*mt,_t=ct+it+ht*xt,Tt=Math.cos(_t),wt=-Math.sin(_t);ot.push((pt*Tt+gt*wt)*rt+tt,(pt*-wt+gt*Tt)*rt+nt)}},_e}(),BezierUtils=function(){function _e(){}return _e.curveLength=function(j,et,tt,nt,rt,it,st,at){for(var ot=10,lt=0,ut=0,ct=0,ht=0,pt=0,gt=0,vt=0,ft=0,mt=0,xt=0,_t=0,Tt=j,wt=et,bt=1;bt<=ot;++bt)ut=bt/ot,ct=ut*ut,ht=ct*ut,pt=1-ut,gt=pt*pt,vt=gt*pt,ft=vt*j+3*gt*ut*tt+3*pt*ct*rt+ht*st,mt=vt*et+3*gt*ut*nt+3*pt*ct*it+ht*at,xt=Tt-ft,_t=wt-mt,Tt=ft,wt=mt,lt+=Math.sqrt(xt*xt+_t*_t);return lt},_e.curveTo=function(j,et,tt,nt,rt,it,st){var at=st[st.length-2],ot=st[st.length-1];st.length-=2;var lt=GRAPHICS_CURVES._segmentsCount(_e.curveLength(at,ot,j,et,tt,nt,rt,it)),ut=0,ct=0,ht=0,pt=0,gt=0;st.push(at,ot);for(var vt=1,ft=0;vt<=lt;++vt)ft=vt/lt,ut=1-ft,ct=ut*ut,ht=ct*ut,pt=ft*ft,gt=pt*ft,st.push(ht*at+3*ct*ft*j+3*ut*pt*tt+gt*rt,ht*ot+3*ct*ft*et+3*ut*pt*nt+gt*it)},_e}(),QuadraticUtils=function(){function _e(){}return _e.curveLength=function(j,et,tt,nt,rt,it){var st=j-2*tt+rt,at=et-2*nt+it,ot=2*tt-2*j,lt=2*nt-2*et,ut=4*(st*st+at*at),ct=4*(st*ot+at*lt),ht=ot*ot+lt*lt,pt=2*Math.sqrt(ut+ct+ht),gt=Math.sqrt(ut),vt=2*ut*gt,ft=2*Math.sqrt(ht),mt=ct/gt;return(vt*pt+gt*ct*(pt-ft)+(4*ht*ut-ct*ct)*Math.log((2*gt+mt+pt)/(mt+ft)))/(4*vt)},_e.curveTo=function(j,et,tt,nt,rt){for(var it=rt[rt.length-2],st=rt[rt.length-1],at=GRAPHICS_CURVES._segmentsCount(_e.curveLength(it,st,j,et,tt,nt)),ot=0,lt=0,ut=1;ut<=at;++ut){var ct=ut/at;ot=it+(j-it)*ct,lt=st+(et-st)*ct,rt.push(ot+(j+(tt-j)*ct-ot)*ct,lt+(et+(nt-et)*ct-lt)*ct)}},_e}(),BatchPart=function(){function _e(){this.reset()}return _e.prototype.begin=function(j,et,tt){this.reset(),this.style=j,this.start=et,this.attribStart=tt},_e.prototype.end=function(j,et){this.attribSize=et-this.attribStart,this.size=j-this.start},_e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},_e}(),_a,FILL_COMMANDS=(_a={},_a[SHAPES.POLY]=buildPoly,_a[SHAPES.CIRC]=buildCircle,_a[SHAPES.ELIP]=buildCircle,_a[SHAPES.RECT]=buildRectangle,_a[SHAPES.RREC]=buildRoundedRectangle,_a),BATCH_POOL=[],DRAW_CALL_POOL=[],GraphicsData=function(){function _e(j,et,tt,nt){et===void 0&&(et=null),tt===void 0&&(tt=null),nt===void 0&&(nt=null),this.points=[],this.holes=[],this.shape=j,this.lineStyle=tt,this.fillStyle=et,this.matrix=nt,this.type=j.type}return _e.prototype.clone=function(){return new _e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},_e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},_e}(),tmpPoint=new Point,GraphicsGeometry=function(_e){__extends$e(j,_e);function j(){var et=_e.call(this)||this;return et.closePointEps=1e-4,et.boundsPadding=0,et.uvsFloat32=null,et.indicesUint16=null,et.batchable=!1,et.points=[],et.colors=[],et.uvs=[],et.indices=[],et.textureIds=[],et.graphicsData=[],et.drawCalls=[],et.batchDirty=-1,et.batches=[],et.dirty=0,et.cacheDirty=-1,et.clearDirty=0,et.shapeIndex=0,et._bounds=new Bounds,et.boundsDirty=-1,et}return Object.defineProperty(j.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),j.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var et=0;et<this.drawCalls.length;et++)this.drawCalls[et].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[et]);this.drawCalls.length=0;for(var et=0;et<this.batches.length;et++){var tt=this.batches[et];tt.reset(),BATCH_POOL.push(tt)}this.batches.length=0},j.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},j.prototype.drawShape=function(et,tt,nt,rt){tt===void 0&&(tt=null),nt===void 0&&(nt=null),rt===void 0&&(rt=null);var it=new GraphicsData(et,tt,nt,rt);return this.graphicsData.push(it),this.dirty++,this},j.prototype.drawHole=function(et,tt){if(tt===void 0&&(tt=null),!this.graphicsData.length)return null;var nt=new GraphicsData(et,null,null,tt),rt=this.graphicsData[this.graphicsData.length-1];return nt.lineStyle=rt.lineStyle,rt.holes.push(nt),this.dirty++,this},j.prototype.destroy=function(){_e.prototype.destroy.call(this);for(var et=0;et<this.graphicsData.length;++et)this.graphicsData[et].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},j.prototype.containsPoint=function(et){for(var tt=this.graphicsData,nt=0;nt<tt.length;++nt){var rt=tt[nt];if(!!rt.fillStyle.visible&&rt.shape&&(rt.matrix?rt.matrix.applyInverse(et,tmpPoint):tmpPoint.copyFrom(et),rt.shape.contains(tmpPoint.x,tmpPoint.y))){var it=!1;if(rt.holes)for(var st=0;st<rt.holes.length;st++){var at=rt.holes[st];if(at.shape.contains(tmpPoint.x,tmpPoint.y)){it=!0;break}}if(!it)return!0}}return!1},j.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var et=this.uvs,tt=this.graphicsData,nt=null,rt=null;this.batches.length>0&&(nt=this.batches[this.batches.length-1],rt=nt.style);for(var it=this.shapeIndex;it<tt.length;it++){this.shapeIndex++;var st=tt[it],at=st.fillStyle,ot=st.lineStyle,lt=FILL_COMMANDS[st.type];lt.build(st),st.matrix&&this.transformPoints(st.points,st.matrix),(at.visible||ot.visible)&&this.processHoles(st.holes);for(var ut=0;ut<2;ut++){var ct=ut===0?at:ot;if(!!ct.visible){var ht=ct.texture.baseTexture,pt=this.indices.length,gt=this.points.length/2;ht.wrapMode=WRAP_MODES$5.REPEAT,ut===0?this.processFill(st):this.processLine(st);var vt=this.points.length/2-gt;vt!==0&&(nt&&!this._compareStyles(rt,ct)&&(nt.end(pt,gt),nt=null),nt||(nt=BATCH_POOL.pop()||new BatchPart,nt.begin(ct,pt,gt),this.batches.push(nt),rt=ct),this.addUvs(this.points,et,ct.texture,gt,vt,ct.matrix))}}}var ft=this.indices.length,mt=this.points.length/2;if(nt&&nt.end(ft,mt),this.batches.length===0){this.batchable=!0;return}var xt=mt>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&xt===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=xt?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},j.prototype._compareStyles=function(et,tt){return!(!et||!tt||et.texture.baseTexture!==tt.texture.baseTexture||et.color+et.alpha!==tt.color+tt.alpha||!!et.native!=!!tt.native)},j.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var et=0,tt=this.graphicsData.length;et<tt;et++){var nt=this.graphicsData[et],rt=nt.fillStyle,it=nt.lineStyle;if(rt&&!rt.texture.baseTexture.valid||it&&!it.texture.baseTexture.valid)return!1}return!0},j.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var et=this.batches,tt=0,nt=et.length;tt<nt;tt++)for(var rt=et[tt],it=0;it<rt.size;it++){var st=rt.start+it;this.indicesUint16[st]=this.indicesUint16[st]-rt.attribStart}},j.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var et=this.batches,tt=0;tt<et.length;tt++)if(et[tt].style.native)return!1;return this.points.length<j.BATCHABLE_SIZE*2},j.prototype.buildDrawCalls=function(){for(var et=++BaseTexture._globalBatch,tt=0;tt<this.drawCalls.length;tt++)this.drawCalls[tt].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[tt]);this.drawCalls.length=0;var nt=this.colors,rt=this.textureIds,it=DRAW_CALL_POOL.pop();it||(it=new BatchDrawCall,it.texArray=new BatchTextureArray),it.texArray.count=0,it.start=0,it.size=0,it.type=DRAW_MODES$5.TRIANGLES;var st=0,at=null,ot=0,lt=!1,ut=DRAW_MODES$5.TRIANGLES,ct=0;this.drawCalls.push(it);for(var tt=0;tt<this.batches.length;tt++){var ht=this.batches[tt],pt=8,gt=ht.style,vt=gt.texture.baseTexture;lt!==!!gt.native&&(lt=!!gt.native,ut=lt?DRAW_MODES$5.LINES:DRAW_MODES$5.TRIANGLES,at=null,st=pt,et++),at!==vt&&(at=vt,vt._batchEnabled!==et&&(st===pt&&(et++,st=0,it.size>0&&(it=DRAW_CALL_POOL.pop(),it||(it=new BatchDrawCall,it.texArray=new BatchTextureArray),this.drawCalls.push(it)),it.start=ct,it.size=0,it.texArray.count=0,it.type=ut),vt.touched=1,vt._batchEnabled=et,vt._batchLocation=st,vt.wrapMode=WRAP_MODES$5.REPEAT,it.texArray.elements[it.texArray.count++]=vt,st++)),it.size+=ht.size,ct+=ht.size,ot=vt._batchLocation,this.addColors(nt,gt.color,gt.alpha,ht.attribSize,ht.attribStart),this.addTextureIds(rt,ot,ht.attribSize,ht.attribStart)}BaseTexture._globalBatch=et,this.packAttributes()},j.prototype.packAttributes=function(){for(var et=this.points,tt=this.uvs,nt=this.colors,rt=this.textureIds,it=new ArrayBuffer(et.length*3*4),st=new Float32Array(it),at=new Uint32Array(it),ot=0,lt=0;lt<et.length/2;lt++)st[ot++]=et[lt*2],st[ot++]=et[lt*2+1],st[ot++]=tt[lt*2],st[ot++]=tt[lt*2+1],at[ot++]=nt[lt],st[ot++]=rt[lt];this._buffer.update(it),this._indexBuffer.update(this.indicesUint16)},j.prototype.processFill=function(et){if(et.holes.length)buildPoly.triangulate(et,this);else{var tt=FILL_COMMANDS[et.type];tt.triangulate(et,this)}},j.prototype.processLine=function(et){buildLine(et,this);for(var tt=0;tt<et.holes.length;tt++)buildLine(et.holes[tt],this)},j.prototype.processHoles=function(et){for(var tt=0;tt<et.length;tt++){var nt=et[tt],rt=FILL_COMMANDS[nt.type];rt.build(nt),nt.matrix&&this.transformPoints(nt.points,nt.matrix)}},j.prototype.calculateBounds=function(){var et=this._bounds;et.clear(),et.addVertexData(this.points,0,this.points.length),et.pad(this.boundsPadding,this.boundsPadding)},j.prototype.transformPoints=function(et,tt){for(var nt=0;nt<et.length/2;nt++){var rt=et[nt*2],it=et[nt*2+1];et[nt*2]=tt.a*rt+tt.c*it+tt.tx,et[nt*2+1]=tt.b*rt+tt.d*it+tt.ty}},j.prototype.addColors=function(et,tt,nt,rt,it){it===void 0&&(it=0);var st=(tt>>16)+(tt&65280)+((tt&255)<<16),at=premultiplyTint(st,nt);et.length=Math.max(et.length,it+rt);for(var ot=0;ot<rt;ot++)et[it+ot]=at},j.prototype.addTextureIds=function(et,tt,nt,rt){rt===void 0&&(rt=0),et.length=Math.max(et.length,rt+nt);for(var it=0;it<nt;it++)et[rt+it]=tt},j.prototype.addUvs=function(et,tt,nt,rt,it,st){st===void 0&&(st=null);for(var at=0,ot=tt.length,lt=nt.frame;at<it;){var ut=et[(rt+at)*2],ct=et[(rt+at)*2+1];if(st){var ht=st.a*ut+st.c*ct+st.tx;ct=st.b*ut+st.d*ct+st.ty,ut=ht}at++,tt.push(ut/lt.width,ct/lt.height)}var pt=nt.baseTexture;(lt.width<pt.width||lt.height<pt.height)&&this.adjustUvs(tt,nt,ot,it)},j.prototype.adjustUvs=function(et,tt,nt,rt){for(var it=tt.baseTexture,st=1e-6,at=nt+rt*2,ot=tt.frame,lt=ot.width/it.width,ut=ot.height/it.height,ct=ot.x/ot.width,ht=ot.y/ot.height,pt=Math.floor(et[nt]+st),gt=Math.floor(et[nt+1]+st),vt=nt+2;vt<at;vt+=2)pt=Math.min(pt,Math.floor(et[vt]+st)),gt=Math.min(gt,Math.floor(et[vt+1]+st));ct-=pt,ht-=gt;for(var vt=nt;vt<at;vt+=2)et[vt]=(et[vt]+ct)*lt,et[vt+1]=(et[vt+1]+ht)*ut},j.BATCHABLE_SIZE=100,j}(BatchGeometry),LineStyle=function(_e){__extends$e(j,_e);function j(){var et=_e!==null&&_e.apply(this,arguments)||this;return et.width=0,et.alignment=.5,et.native=!1,et.cap=LINE_CAP.BUTT,et.join=LINE_JOIN.MITER,et.miterLimit=10,et}return j.prototype.clone=function(){var et=new j;return et.color=this.color,et.alpha=this.alpha,et.texture=this.texture,et.matrix=this.matrix,et.visible=this.visible,et.width=this.width,et.alignment=this.alignment,et.native=this.native,et.cap=this.cap,et.join=this.join,et.miterLimit=this.miterLimit,et},j.prototype.reset=function(){_e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},j}(FillStyle),temp=new Float32Array(3),DEFAULT_SHADERS={},Graphics=function(_e){__extends$e(j,_e);function j(et){et===void 0&&(et=null);var tt=_e.call(this)||this;return tt.shader=null,tt.pluginName="batch",tt.currentPath=null,tt.batches=[],tt.batchTint=-1,tt.batchDirty=-1,tt.vertexData=null,tt._fillStyle=new FillStyle,tt._lineStyle=new LineStyle,tt._matrix=null,tt._holeMode=!1,tt.state=State$1.for2d(),tt._geometry=et||new GraphicsGeometry,tt._geometry.refCount++,tt._transformID=-1,tt.tint=16777215,tt.blendMode=BLEND_MODES$5.NORMAL,tt}return Object.defineProperty(j.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),j.prototype.clone=function(){return this.finishPoly(),new j(this._geometry)},Object.defineProperty(j.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(et){this.state.blendMode=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"tint",{get:function(){return this._tint},set:function(et){this._tint=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),j.prototype.lineStyle=function(et,tt,nt,rt,it){return et===void 0&&(et=null),tt===void 0&&(tt=0),nt===void 0&&(nt=1),rt===void 0&&(rt=.5),it===void 0&&(it=!1),typeof et=="number"&&(et={width:et,color:tt,alpha:nt,alignment:rt,native:it}),this.lineTextureStyle(et)},j.prototype.lineTextureStyle=function(et){et=Object.assign({width:0,texture:Texture$1.WHITE,color:et&&et.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:LINE_CAP.BUTT,join:LINE_JOIN.MITER,miterLimit:10},et),this.currentPath&&this.startPoly();var tt=et.width>0&&et.alpha>0;return tt?(et.matrix&&(et.matrix=et.matrix.clone(),et.matrix.invert()),Object.assign(this._lineStyle,{visible:tt},et)):this._lineStyle.reset(),this},j.prototype.startPoly=function(){if(this.currentPath){var et=this.currentPath.points,tt=this.currentPath.points.length;tt>2&&(this.drawShape(this.currentPath),this.currentPath=new Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(et[tt-2],et[tt-1]))}else this.currentPath=new Polygon,this.currentPath.closeStroke=!1},j.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},j.prototype.moveTo=function(et,tt){return this.startPoly(),this.currentPath.points[0]=et,this.currentPath.points[1]=tt,this},j.prototype.lineTo=function(et,tt){this.currentPath||this.moveTo(0,0);var nt=this.currentPath.points,rt=nt[nt.length-2],it=nt[nt.length-1];return(rt!==et||it!==tt)&&nt.push(et,tt),this},j.prototype._initCurve=function(et,tt){et===void 0&&(et=0),tt===void 0&&(tt=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[et,tt]):this.moveTo(et,tt)},j.prototype.quadraticCurveTo=function(et,tt,nt,rt){this._initCurve();var it=this.currentPath.points;return it.length===0&&this.moveTo(0,0),QuadraticUtils.curveTo(et,tt,nt,rt,it),this},j.prototype.bezierCurveTo=function(et,tt,nt,rt,it,st){return this._initCurve(),BezierUtils.curveTo(et,tt,nt,rt,it,st,this.currentPath.points),this},j.prototype.arcTo=function(et,tt,nt,rt,it){this._initCurve(et,tt);var st=this.currentPath.points,at=ArcUtils.curveTo(et,tt,nt,rt,it,st);if(at){var ot=at.cx,lt=at.cy,ut=at.radius,ct=at.startAngle,ht=at.endAngle,pt=at.anticlockwise;this.arc(ot,lt,ut,ct,ht,pt)}return this},j.prototype.arc=function(et,tt,nt,rt,it,st){if(st===void 0&&(st=!1),rt===it)return this;!st&&it<=rt?it+=PI_2:st&&rt<=it&&(rt+=PI_2);var at=it-rt;if(at===0)return this;var ot=et+Math.cos(rt)*nt,lt=tt+Math.sin(rt)*nt,ut=this._geometry.closePointEps,ct=this.currentPath?this.currentPath.points:null;if(ct){var ht=Math.abs(ct[ct.length-2]-ot),pt=Math.abs(ct[ct.length-1]-lt);ht<ut&&pt<ut||ct.push(ot,lt)}else this.moveTo(ot,lt),ct=this.currentPath.points;return ArcUtils.arc(ot,lt,et,tt,nt,rt,it,st,ct),this},j.prototype.beginFill=function(et,tt){return et===void 0&&(et=0),tt===void 0&&(tt=1),this.beginTextureFill({texture:Texture$1.WHITE,color:et,alpha:tt})},j.prototype.beginTextureFill=function(et){et=Object.assign({texture:Texture$1.WHITE,color:16777215,alpha:1,matrix:null},et),this.currentPath&&this.startPoly();var tt=et.alpha>0;return tt?(et.matrix&&(et.matrix=et.matrix.clone(),et.matrix.invert()),Object.assign(this._fillStyle,{visible:tt},et)):this._fillStyle.reset(),this},j.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},j.prototype.drawRect=function(et,tt,nt,rt){return this.drawShape(new Rectangle(et,tt,nt,rt))},j.prototype.drawRoundedRect=function(et,tt,nt,rt,it){return this.drawShape(new RoundedRectangle(et,tt,nt,rt,it))},j.prototype.drawCircle=function(et,tt,nt){return this.drawShape(new Circle(et,tt,nt))},j.prototype.drawEllipse=function(et,tt,nt,rt){return this.drawShape(new Ellipse(et,tt,nt,rt))},j.prototype.drawPolygon=function(){for(var et=arguments,tt=[],nt=0;nt<arguments.length;nt++)tt[nt]=et[nt];var rt,it=!0,st=tt[0];st.points?(it=st.closeStroke,rt=st.points):Array.isArray(tt[0])?rt=tt[0]:rt=tt;var at=new Polygon(rt);return at.closeStroke=it,this.drawShape(at),this},j.prototype.drawShape=function(et){return this._holeMode?this._geometry.drawHole(et,this._matrix):this._geometry.drawShape(et,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},j.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},j.prototype.isFastRect=function(){var et=this._geometry.graphicsData;return et.length===1&&et[0].shape.type===SHAPES.RECT&&!et[0].matrix&&!et[0].holes.length&&!(et[0].lineStyle.visible&&et[0].lineStyle.width)},j.prototype._render=function(et){this.finishPoly();var tt=this._geometry;tt.updateBatches(),tt.batchable?(this.batchDirty!==tt.batchDirty&&this._populateBatches(),this._renderBatched(et)):(et.batch.flush(),this._renderDirect(et))},j.prototype._populateBatches=function(){var et=this._geometry,tt=this.blendMode,nt=et.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=et.batchDirty,this.batches.length=nt,this.vertexData=new Float32Array(et.points);for(var rt=0;rt<nt;rt++){var it=et.batches[rt],st=it.style.color,at=new Float32Array(this.vertexData.buffer,it.attribStart*4*2,it.attribSize*2),ot=new Float32Array(et.uvsFloat32.buffer,it.attribStart*4*2,it.attribSize*2),lt=new Uint16Array(et.indicesUint16.buffer,it.start*2,it.size),ut={vertexData:at,blendMode:tt,indices:lt,uvs:ot,_batchRGB:hex2rgb(st),_tintRGB:st,_texture:it.style.texture,alpha:it.style.alpha,worldAlpha:1};this.batches[rt]=ut}},j.prototype._renderBatched=function(et){if(!!this.batches.length){et.batch.setObjectRenderer(et.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var tt=0,nt=this.batches.length;tt<nt;tt++){var rt=this.batches[tt];rt.worldAlpha=this.worldAlpha*rt.alpha,et.plugins[this.pluginName].render(rt)}}},j.prototype._renderDirect=function(et){var tt=this._resolveDirectShader(et),nt=this._geometry,rt=this.tint,it=this.worldAlpha,st=tt.uniforms,at=nt.drawCalls;st.translationMatrix=this.transform.worldTransform,st.tint[0]=(rt>>16&255)/255*it,st.tint[1]=(rt>>8&255)/255*it,st.tint[2]=(rt&255)/255*it,st.tint[3]=it,et.shader.bind(tt),et.geometry.bind(nt,tt),et.state.set(this.state);for(var ot=0,lt=at.length;ot<lt;ot++)this._renderDrawCallDirect(et,nt.drawCalls[ot])},j.prototype._renderDrawCallDirect=function(et,tt){for(var nt=tt.texArray,rt=tt.type,it=tt.size,st=tt.start,at=nt.count,ot=0;ot<at;ot++)et.texture.bind(nt.elements[ot],ot);et.geometry.draw(rt,it,st)},j.prototype._resolveDirectShader=function(et){var tt=this.shader,nt=this.pluginName;if(!tt){if(!DEFAULT_SHADERS[nt]){for(var rt=et.plugins[nt].MAX_TEXTURES,it=new Int32Array(rt),st=0;st<rt;st++)it[st]=st;var at={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:UniformGroup.from({uSamplers:it},!0)},ot=et.plugins[nt]._shader.program;DEFAULT_SHADERS[nt]=new Shader(ot,at)}tt=DEFAULT_SHADERS[nt]}return tt},j.prototype._calculateBounds=function(){this.finishPoly();var et=this._geometry;if(!!et.graphicsData.length){var tt=et.bounds,nt=tt.minX,rt=tt.minY,it=tt.maxX,st=tt.maxY;this._bounds.addFrame(this.transform,nt,rt,it,st)}},j.prototype.containsPoint=function(et){return this.worldTransform.applyInverse(et,j._TEMP_POINT),this._geometry.containsPoint(j._TEMP_POINT)},j.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var et=hex2rgb(this.tint,temp),tt=0;tt<this.batches.length;tt++){var nt=this.batches[tt],rt=nt._batchRGB,it=et[0]*rt[0]*255,st=et[1]*rt[1]*255,at=et[2]*rt[2]*255,ot=(it<<16)+(st<<8)+(at|0);nt._tintRGB=(ot>>16)+(ot&65280)+((ot&255)<<16)}}},j.prototype.calculateVertices=function(){var et=this.transform._worldID;if(this._transformID!==et){this._transformID=et;for(var tt=this.transform.worldTransform,nt=tt.a,rt=tt.b,it=tt.c,st=tt.d,at=tt.tx,ot=tt.ty,lt=this._geometry.points,ut=this.vertexData,ct=0,ht=0;ht<lt.length;ht+=2){var pt=lt[ht],gt=lt[ht+1];ut[ct++]=nt*pt+it*gt+at,ut[ct++]=st*gt+rt*pt+ot}}},j.prototype.closePath=function(){var et=this.currentPath;return et&&(et.closeStroke=!0,this.finishPoly()),this},j.prototype.setMatrix=function(et){return this._matrix=et,this},j.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},j.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},j.prototype.destroy=function(et){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,_e.prototype.destroy.call(this,et)},j.nextRoundedRectBehavior=!1,j._TEMP_POINT=new Point,j}(Container);/*!
 * @pixi/sprite - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$d=function(_e,j){return extendStatics$d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$d(_e,j)};function __extends$d(_e,j){extendStatics$d(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var tempPoint$2=new Point,indices=new Uint16Array([0,1,2,0,2,3]),Sprite$1=function(_e){__extends$d(j,_e);function j(et){var tt=_e.call(this)||this;return tt._anchor=new ObservablePoint(tt._onAnchorUpdate,tt,et?et.defaultAnchor.x:0,et?et.defaultAnchor.y:0),tt._texture=null,tt._width=0,tt._height=0,tt._tint=null,tt._tintRGB=null,tt.tint=16777215,tt.blendMode=BLEND_MODES$5.NORMAL,tt._cachedTint=16777215,tt.uvs=null,tt.texture=et||Texture$1.EMPTY,tt.vertexData=new Float32Array(8),tt.vertexTrimmedData=null,tt._transformID=-1,tt._textureID=-1,tt._transformTrimmedID=-1,tt._textureTrimmedID=-1,tt.indices=indices,tt.pluginName="batch",tt.isSprite=!0,tt._roundPixels=settings$1.ROUND_PIXELS,tt}return j.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=sign$1(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=sign$1(this.scale.y)*this._height/this._texture.orig.height)},j.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},j.prototype.calculateVertices=function(){var et=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===et._updateID)){this._textureID!==et._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=et._updateID;var tt=this.transform.worldTransform,nt=tt.a,rt=tt.b,it=tt.c,st=tt.d,at=tt.tx,ot=tt.ty,lt=this.vertexData,ut=et.trim,ct=et.orig,ht=this._anchor,pt=0,gt=0,vt=0,ft=0;if(ut?(gt=ut.x-ht._x*ct.width,pt=gt+ut.width,ft=ut.y-ht._y*ct.height,vt=ft+ut.height):(gt=-ht._x*ct.width,pt=gt+ct.width,ft=-ht._y*ct.height,vt=ft+ct.height),lt[0]=nt*gt+it*ft+at,lt[1]=st*ft+rt*gt+ot,lt[2]=nt*pt+it*ft+at,lt[3]=st*ft+rt*pt+ot,lt[4]=nt*pt+it*vt+at,lt[5]=st*vt+rt*pt+ot,lt[6]=nt*gt+it*vt+at,lt[7]=st*vt+rt*gt+ot,this._roundPixels)for(var mt=settings$1.RESOLUTION,xt=0;xt<lt.length;++xt)lt[xt]=Math.round((lt[xt]*mt|0)/mt)}},j.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var et=this._texture,tt=this.vertexTrimmedData,nt=et.orig,rt=this._anchor,it=this.transform.worldTransform,st=it.a,at=it.b,ot=it.c,lt=it.d,ut=it.tx,ct=it.ty,ht=-rt._x*nt.width,pt=ht+nt.width,gt=-rt._y*nt.height,vt=gt+nt.height;tt[0]=st*ht+ot*gt+ut,tt[1]=lt*gt+at*ht+ct,tt[2]=st*pt+ot*gt+ut,tt[3]=lt*gt+at*pt+ct,tt[4]=st*pt+ot*vt+ut,tt[5]=lt*vt+at*pt+ct,tt[6]=st*ht+ot*vt+ut,tt[7]=lt*vt+at*ht+ct},j.prototype._render=function(et){this.calculateVertices(),et.batch.setObjectRenderer(et.plugins[this.pluginName]),et.plugins[this.pluginName].render(this)},j.prototype._calculateBounds=function(){var et=this._texture.trim,tt=this._texture.orig;!et||et.width===tt.width&&et.height===tt.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},j.prototype.getLocalBounds=function(et){return this.children.length===0?(this._localBounds||(this._localBounds=new Bounds),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),et||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),et=this._localBoundsRect),this._localBounds.getRectangle(et)):_e.prototype.getLocalBounds.call(this,et)},j.prototype.containsPoint=function(et){this.worldTransform.applyInverse(et,tempPoint$2);var tt=this._texture.orig.width,nt=this._texture.orig.height,rt=-tt*this.anchor.x,it=0;return tempPoint$2.x>=rt&&tempPoint$2.x<rt+tt&&(it=-nt*this.anchor.y,tempPoint$2.y>=it&&tempPoint$2.y<it+nt)},j.prototype.destroy=function(et){_e.prototype.destroy.call(this,et),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var tt=typeof et=="boolean"?et:et&&et.texture;if(tt){var nt=typeof et=="boolean"?et:et&&et.baseTexture;this._texture.destroy(!!nt)}this._texture=null},j.from=function(et,tt){var nt=et instanceof Texture$1?et:Texture$1.from(et,tt);return new j(nt)},Object.defineProperty(j.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(et){this._roundPixels!==et&&(this._transformID=-1),this._roundPixels=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(et){var tt=sign$1(this.scale.x)||1;this.scale.x=tt*et/this._texture.orig.width,this._width=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(et){var tt=sign$1(this.scale.y)||1;this.scale.y=tt*et/this._texture.orig.height,this._height=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"anchor",{get:function(){return this._anchor},set:function(et){this._anchor.copyFrom(et)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"tint",{get:function(){return this._tint},set:function(et){this._tint=et,this._tintRGB=(et>>16)+(et&65280)+((et&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"texture",{get:function(){return this._texture},set:function(et){this._texture!==et&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=et||Texture$1.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,et&&(et.baseTexture.valid?this._onTextureUpdate():et.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),j}(Container);/*!
 * @pixi/text - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$c=function(_e,j){return extendStatics$c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$c(_e,j)};function __extends$c(_e,j){extendStatics$c(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var TEXT_GRADIENT;(function(_e){_e[_e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",_e[_e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(TEXT_GRADIENT||(TEXT_GRADIENT={}));var defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],TextStyle=function(){function _e(j){this.styleID=0,this.reset(),deepCopyProperties(this,j,j)}return _e.prototype.clone=function(){var j={};return deepCopyProperties(j,this,defaultStyle),new _e(j)},_e.prototype.reset=function(){deepCopyProperties(this,defaultStyle,defaultStyle)},Object.defineProperty(_e.prototype,"align",{get:function(){return this._align},set:function(j){this._align!==j&&(this._align=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(j){this._breakWords!==j&&(this._breakWords=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(j){this._dropShadow!==j&&(this._dropShadow=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(j){this._dropShadowAlpha!==j&&(this._dropShadowAlpha=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(j){this._dropShadowAngle!==j&&(this._dropShadowAngle=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(j){this._dropShadowBlur!==j&&(this._dropShadowBlur=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(j){var et=getColor(j);this._dropShadowColor!==et&&(this._dropShadowColor=et,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(j){this._dropShadowDistance!==j&&(this._dropShadowDistance=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"fill",{get:function(){return this._fill},set:function(j){var et=getColor(j);this._fill!==et&&(this._fill=et,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(j){this._fillGradientType!==j&&(this._fillGradientType=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(j){areArraysEqual(this._fillGradientStops,j)||(this._fillGradientStops=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(j){this.fontFamily!==j&&(this._fontFamily=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(j){this._fontSize!==j&&(this._fontSize=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(j){this._fontStyle!==j&&(this._fontStyle=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(j){this._fontVariant!==j&&(this._fontVariant=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(j){this._fontWeight!==j&&(this._fontWeight=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(j){this._letterSpacing!==j&&(this._letterSpacing=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(j){this._lineHeight!==j&&(this._lineHeight=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"leading",{get:function(){return this._leading},set:function(j){this._leading!==j&&(this._leading=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(j){this._lineJoin!==j&&(this._lineJoin=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(j){this._miterLimit!==j&&(this._miterLimit=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"padding",{get:function(){return this._padding},set:function(j){this._padding!==j&&(this._padding=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"stroke",{get:function(){return this._stroke},set:function(j){var et=getColor(j);this._stroke!==et&&(this._stroke=et,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(j){this._strokeThickness!==j&&(this._strokeThickness=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(j){this._textBaseline!==j&&(this._textBaseline=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"trim",{get:function(){return this._trim},set:function(j){this._trim!==j&&(this._trim=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(j){this._whiteSpace!==j&&(this._whiteSpace=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(j){this._wordWrap!==j&&(this._wordWrap=j,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(j){this._wordWrapWidth!==j&&(this._wordWrapWidth=j,this.styleID++)},enumerable:!1,configurable:!0}),_e.prototype.toFontString=function(){var j=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,et=this.fontFamily;Array.isArray(this.fontFamily)||(et=this.fontFamily.split(","));for(var tt=et.length-1;tt>=0;tt--){var nt=et[tt].trim();!/([\"\'])[^\'\"]+\1/.test(nt)&&genericFontFamilies.indexOf(nt)<0&&(nt='"'+nt+'"'),et[tt]=nt}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+j+" "+et.join(",")},_e}();function getSingleColor(_e){return typeof _e=="number"?hex2string(_e):(typeof _e=="string"&&_e.indexOf("0x")===0&&(_e=_e.replace("0x","#")),_e)}function getColor(_e){if(Array.isArray(_e)){for(var j=0;j<_e.length;++j)_e[j]=getSingleColor(_e[j]);return _e}else return getSingleColor(_e)}function areArraysEqual(_e,j){if(!Array.isArray(_e)||!Array.isArray(j)||_e.length!==j.length)return!1;for(var et=0;et<_e.length;++et)if(_e[et]!==j[et])return!1;return!0}function deepCopyProperties(_e,j,et){for(var tt in et)Array.isArray(j[tt])?_e[tt]=j[tt].slice():_e[tt]=j[tt]}var TextMetrics=function(){function _e(j,et,tt,nt,rt,it,st,at,ot){this.text=j,this.style=et,this.width=tt,this.height=nt,this.lines=rt,this.lineWidths=it,this.lineHeight=st,this.maxLineWidth=at,this.fontProperties=ot}return _e.measureText=function(j,et,tt,nt){nt===void 0&&(nt=_e._canvas),tt=tt==null?et.wordWrap:tt;var rt=et.toFontString(),it=_e.measureFont(rt);it.fontSize===0&&(it.fontSize=et.fontSize,it.ascent=et.fontSize);var st=nt.getContext("2d");st.font=rt;for(var at=tt?_e.wordWrap(j,et,nt):j,ot=at.split(/(?:\r\n|\r|\n)/),lt=new Array(ot.length),ut=0,ct=0;ct<ot.length;ct++){var ht=st.measureText(ot[ct]).width+(ot[ct].length-1)*et.letterSpacing;lt[ct]=ht,ut=Math.max(ut,ht)}var pt=ut+et.strokeThickness;et.dropShadow&&(pt+=et.dropShadowDistance);var gt=et.lineHeight||it.fontSize+et.strokeThickness,vt=Math.max(gt,it.fontSize+et.strokeThickness)+(ot.length-1)*(gt+et.leading);return et.dropShadow&&(vt+=et.dropShadowDistance),new _e(j,et,pt,vt,ot,lt,gt+et.leading,ut,it)},_e.wordWrap=function(j,et,tt){tt===void 0&&(tt=_e._canvas);for(var nt=tt.getContext("2d"),rt=0,it="",st="",at=Object.create(null),ot=et.letterSpacing,lt=et.whiteSpace,ut=_e.collapseSpaces(lt),ct=_e.collapseNewlines(lt),ht=!ut,pt=et.wordWrapWidth+ot,gt=_e.tokenize(j),vt=0;vt<gt.length;vt++){var ft=gt[vt];if(_e.isNewline(ft)){if(!ct){st+=_e.addLine(it),ht=!ut,it="",rt=0;continue}ft=" "}if(ut){var mt=_e.isBreakingSpace(ft),xt=_e.isBreakingSpace(it[it.length-1]);if(mt&&xt)continue}var _t=_e.getFromCache(ft,ot,at,nt);if(_t>pt)if(it!==""&&(st+=_e.addLine(it),it="",rt=0),_e.canBreakWords(ft,et.breakWords))for(var Tt=_e.wordWrapSplit(ft),wt=0;wt<Tt.length;wt++){for(var bt=Tt[wt],Ct=1;Tt[wt+Ct];){var Lt=Tt[wt+Ct],$t=bt[bt.length-1];if(!_e.canBreakChars($t,Lt,ft,wt,et.breakWords))bt+=Lt;else break;Ct++}wt+=bt.length-1;var Rt=_e.getFromCache(bt,ot,at,nt);Rt+rt>pt&&(st+=_e.addLine(it),ht=!1,it="",rt=0),it+=bt,rt+=Rt}else{it.length>0&&(st+=_e.addLine(it),it="",rt=0);var Bt=vt===gt.length-1;st+=_e.addLine(ft,!Bt),ht=!1,it="",rt=0}else _t+rt>pt&&(ht=!1,st+=_e.addLine(it),it="",rt=0),(it.length>0||!_e.isBreakingSpace(ft)||ht)&&(it+=ft,rt+=_t)}return st+=_e.addLine(it,!1),st},_e.addLine=function(j,et){return et===void 0&&(et=!0),j=_e.trimRight(j),j=et?j+`
`:j,j},_e.getFromCache=function(j,et,tt,nt){var rt=tt[j];if(typeof rt!="number"){var it=j.length*et;rt=nt.measureText(j).width+it,tt[j]=rt}return rt},_e.collapseSpaces=function(j){return j==="normal"||j==="pre-line"},_e.collapseNewlines=function(j){return j==="normal"},_e.trimRight=function(j){if(typeof j!="string")return"";for(var et=j.length-1;et>=0;et--){var tt=j[et];if(!_e.isBreakingSpace(tt))break;j=j.slice(0,-1)}return j},_e.isNewline=function(j){return typeof j!="string"?!1:_e._newlines.indexOf(j.charCodeAt(0))>=0},_e.isBreakingSpace=function(j,et){return typeof j!="string"?!1:_e._breakingSpaces.indexOf(j.charCodeAt(0))>=0},_e.tokenize=function(j){var et=[],tt="";if(typeof j!="string")return et;for(var nt=0;nt<j.length;nt++){var rt=j[nt],it=j[nt+1];if(_e.isBreakingSpace(rt,it)||_e.isNewline(rt)){tt!==""&&(et.push(tt),tt=""),et.push(rt);continue}tt+=rt}return tt!==""&&et.push(tt),et},_e.canBreakWords=function(j,et){return et},_e.canBreakChars=function(j,et,tt,nt,rt){return!0},_e.wordWrapSplit=function(j){return j.split("")},_e.measureFont=function(j){if(_e._fonts[j])return _e._fonts[j];var et={ascent:0,descent:0,fontSize:0},tt=_e._canvas,nt=_e._context;nt.font=j;var rt=_e.METRICS_STRING+_e.BASELINE_SYMBOL,it=Math.ceil(nt.measureText(rt).width),st=Math.ceil(nt.measureText(_e.BASELINE_SYMBOL).width),at=Math.ceil(_e.HEIGHT_MULTIPLIER*st);st=st*_e.BASELINE_MULTIPLIER|0,tt.width=it,tt.height=at,nt.fillStyle="#f00",nt.fillRect(0,0,it,at),nt.font=j,nt.textBaseline="alphabetic",nt.fillStyle="#000",nt.fillText(rt,0,st);var ot=nt.getImageData(0,0,it,at).data,lt=ot.length,ut=it*4,ct=0,ht=0,pt=!1;for(ct=0;ct<st;++ct){for(var gt=0;gt<ut;gt+=4)if(ot[ht+gt]!==255){pt=!0;break}if(!pt)ht+=ut;else break}for(et.ascent=st-ct,ht=lt-ut,pt=!1,ct=at;ct>st;--ct){for(var gt=0;gt<ut;gt+=4)if(ot[ht+gt]!==255){pt=!0;break}if(!pt)ht-=ut;else break}return et.descent=ct-st,et.fontSize=et.ascent+et.descent,_e._fonts[j]=et,et},_e.clearMetrics=function(j){j===void 0&&(j=""),j?delete _e._fonts[j]:_e._fonts={}},Object.defineProperty(_e,"_canvas",{get:function(){if(!_e.__canvas){var j=void 0;try{var et=new OffscreenCanvas(0,0),tt=et.getContext("2d");if(tt&&tt.measureText)return _e.__canvas=et,et;j=settings$1.ADAPTER.createCanvas()}catch{j=settings$1.ADAPTER.createCanvas()}j.width=j.height=10,_e.__canvas=j}return _e.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(_e,"_context",{get:function(){return _e.__context||(_e.__context=_e._canvas.getContext("2d")),_e.__context},enumerable:!1,configurable:!0}),_e}();TextMetrics._fonts={};TextMetrics.METRICS_STRING="|\xC9q\xC5";TextMetrics.BASELINE_SYMBOL="M";TextMetrics.BASELINE_MULTIPLIER=1.4;TextMetrics.HEIGHT_MULTIPLIER=2;TextMetrics._newlines=[10,13];TextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Text=function(_e){__extends$c(j,_e);function j(et,tt,nt){var rt=this,it=!1;nt||(nt=settings$1.ADAPTER.createCanvas(),it=!0),nt.width=3,nt.height=3;var st=Texture$1.from(nt);return st.orig=new Rectangle,st.trim=new Rectangle,rt=_e.call(this,st)||this,rt._ownCanvas=it,rt.canvas=nt,rt.context=nt.getContext("2d"),rt._resolution=settings$1.RESOLUTION,rt._autoResolution=!0,rt._text=null,rt._style=null,rt._styleListener=null,rt._font="",rt.text=et,rt.style=tt,rt.localStyleID=-1,rt}return j.prototype.updateText=function(et){var tt=this._style;if(this.localStyleID!==tt.styleID&&(this.dirty=!0,this.localStyleID=tt.styleID),!(!this.dirty&&et)){this._font=this._style.toFontString();var nt=this.context,rt=TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),it=rt.width,st=rt.height,at=rt.lines,ot=rt.lineHeight,lt=rt.lineWidths,ut=rt.maxLineWidth,ct=rt.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,it)+tt.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,st)+tt.padding*2)*this._resolution),nt.scale(this._resolution,this._resolution),nt.clearRect(0,0,this.canvas.width,this.canvas.height),nt.font=this._font,nt.lineWidth=tt.strokeThickness,nt.textBaseline=tt.textBaseline,nt.lineJoin=tt.lineJoin,nt.miterLimit=tt.miterLimit;for(var ht,pt,gt=tt.dropShadow?2:1,vt=0;vt<gt;++vt){var ft=tt.dropShadow&&vt===0,mt=ft?Math.ceil(Math.max(1,st)+tt.padding*2):0,xt=mt*this._resolution;if(ft){nt.fillStyle="black",nt.strokeStyle="black";var _t=tt.dropShadowColor,Tt=hex2rgb(typeof _t=="number"?_t:string2hex(_t)),wt=tt.dropShadowBlur*this._resolution,bt=tt.dropShadowDistance*this._resolution;nt.shadowColor="rgba("+Tt[0]*255+","+Tt[1]*255+","+Tt[2]*255+","+tt.dropShadowAlpha+")",nt.shadowBlur=wt,nt.shadowOffsetX=Math.cos(tt.dropShadowAngle)*bt,nt.shadowOffsetY=Math.sin(tt.dropShadowAngle)*bt+xt}else nt.fillStyle=this._generateFillStyle(tt,at,rt),nt.strokeStyle=tt.stroke,nt.shadowColor="black",nt.shadowBlur=0,nt.shadowOffsetX=0,nt.shadowOffsetY=0;var Ct=(ot-ct.fontSize)/2;(!j.nextLineHeightBehavior||ot-ct.fontSize<0)&&(Ct=0);for(var Lt=0;Lt<at.length;Lt++)ht=tt.strokeThickness/2,pt=tt.strokeThickness/2+Lt*ot+ct.ascent+Ct,tt.align==="right"?ht+=ut-lt[Lt]:tt.align==="center"&&(ht+=(ut-lt[Lt])/2),tt.stroke&&tt.strokeThickness&&this.drawLetterSpacing(at[Lt],ht+tt.padding,pt+tt.padding-mt,!0),tt.fill&&this.drawLetterSpacing(at[Lt],ht+tt.padding,pt+tt.padding-mt)}this.updateTexture()}},j.prototype.drawLetterSpacing=function(et,tt,nt,rt){rt===void 0&&(rt=!1);var it=this._style,st=it.letterSpacing,at=j.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(st===0||at){at&&(this.context.letterSpacing=st,this.context.textLetterSpacing=st),rt?this.context.strokeText(et,tt,nt):this.context.fillText(et,tt,nt);return}for(var ot=tt,lt=Array.from?Array.from(et):et.split(""),ut=this.context.measureText(et).width,ct=0,ht=0;ht<lt.length;++ht){var pt=lt[ht];rt?this.context.strokeText(pt,ot,nt):this.context.fillText(pt,ot,nt);for(var gt="",vt=ht+1;vt<lt.length;++vt)gt+=lt[vt];ct=this.context.measureText(gt).width,ot+=ut-ct+st,ut=ct}},j.prototype.updateTexture=function(){var et=this.canvas;if(this._style.trim){var tt=trimCanvas(et);tt.data&&(et.width=tt.width,et.height=tt.height,this.context.putImageData(tt.data,0,0))}var nt=this._texture,rt=this._style,it=rt.trim?0:rt.padding,st=nt.baseTexture;nt.trim.width=nt._frame.width=et.width/this._resolution,nt.trim.height=nt._frame.height=et.height/this._resolution,nt.trim.x=-it,nt.trim.y=-it,nt.orig.width=nt._frame.width-it*2,nt.orig.height=nt._frame.height-it*2,this._onTextureUpdate(),st.setRealSize(et.width,et.height,this._resolution),nt.updateUvs(),this.dirty=!1},j.prototype._render=function(et){this._autoResolution&&this._resolution!==et.resolution&&(this._resolution=et.resolution,this.dirty=!0),this.updateText(!0),_e.prototype._render.call(this,et)},j.prototype.updateTransform=function(){this.updateText(!0),_e.prototype.updateTransform.call(this)},j.prototype.getBounds=function(et,tt){return this.updateText(!0),this._textureID===-1&&(et=!1),_e.prototype.getBounds.call(this,et,tt)},j.prototype.getLocalBounds=function(et){return this.updateText(!0),_e.prototype.getLocalBounds.call(this,et)},j.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},j.prototype._generateFillStyle=function(et,tt,nt){var rt=et.fill;if(Array.isArray(rt)){if(rt.length===1)return rt[0]}else return rt;var it,st=et.dropShadow?et.dropShadowDistance:0,at=et.padding||0,ot=this.canvas.width/this._resolution-st-at*2,lt=this.canvas.height/this._resolution-st-at*2,ut=rt.slice(),ct=et.fillGradientStops.slice();if(!ct.length)for(var ht=ut.length+1,pt=1;pt<ht;++pt)ct.push(pt/ht);if(ut.unshift(rt[0]),ct.unshift(0),ut.push(rt[rt.length-1]),ct.push(1),et.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){it=this.context.createLinearGradient(ot/2,at,ot/2,lt+at);for(var gt=nt.fontProperties.fontSize+et.strokeThickness,pt=0;pt<tt.length;pt++){var vt=nt.lineHeight*(pt-1)+gt,ft=nt.lineHeight*pt,mt=ft;pt>0&&vt>ft&&(mt=(ft+vt)/2);var xt=ft+gt,_t=nt.lineHeight*(pt+1),Tt=xt;pt+1<tt.length&&_t<xt&&(Tt=(xt+_t)/2);for(var wt=(Tt-mt)/lt,bt=0;bt<ut.length;bt++){var Ct=0;typeof ct[bt]=="number"?Ct=ct[bt]:Ct=bt/ut.length;var Lt=Math.min(1,Math.max(0,mt/lt+Ct*wt));Lt=Number(Lt.toFixed(5)),it.addColorStop(Lt,ut[bt])}}}else{it=this.context.createLinearGradient(at,lt/2,ot+at,lt/2);for(var $t=ut.length+1,Rt=1,pt=0;pt<ut.length;pt++){var Bt=void 0;typeof ct[pt]=="number"?Bt=ct[pt]:Bt=Rt/$t,it.addColorStop(Bt,ut[pt]),Rt++}}return it},j.prototype.destroy=function(et){typeof et=="boolean"&&(et={children:et}),et=Object.assign({},defaultDestroyOptions,et),_e.prototype.destroy.call(this,et),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(j.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(et){this.updateText(!0);var tt=sign$1(this.scale.x)||1;this.scale.x=tt*et/this._texture.orig.width,this._width=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(et){this.updateText(!0);var tt=sign$1(this.scale.y)||1;this.scale.y=tt*et/this._texture.orig.height,this._height=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"style",{get:function(){return this._style},set:function(et){et=et||{},et instanceof TextStyle?this._style=et:this._style=new TextStyle(et),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"text",{get:function(){return this._text},set:function(et){et=String(et==null?"":et),this._text!==et&&(this._text=et,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"resolution",{get:function(){return this._resolution},set:function(et){this._autoResolution=!1,this._resolution!==et&&(this._resolution=et,this.dirty=!0)},enumerable:!1,configurable:!0}),j.nextLineHeightBehavior=!1,j.experimentalLetterSpacing=!1,j}(Sprite$1);/*!
 * @pixi/prepare - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$b=function(_e,j){return extendStatics$b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$b(_e,j)};function __extends$b(_e,j){extendStatics$b(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var CountLimiter=function(){function _e(j){this.maxItemsPerFrame=j,this.itemsLeft=0}return _e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},_e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},_e}();function findMultipleBaseTextures(_e,j){var et=!1;if(_e&&_e._textures&&_e._textures.length){for(var tt=0;tt<_e._textures.length;tt++)if(_e._textures[tt]instanceof Texture$1){var nt=_e._textures[tt].baseTexture;j.indexOf(nt)===-1&&(j.push(nt),et=!0)}}return et}function findBaseTexture(_e,j){if(_e.baseTexture instanceof BaseTexture){var et=_e.baseTexture;return j.indexOf(et)===-1&&j.push(et),!0}return!1}function findTexture(_e,j){if(_e._texture&&_e._texture instanceof Texture$1){var et=_e._texture.baseTexture;return j.indexOf(et)===-1&&j.push(et),!0}return!1}function drawText(_e,j){return j instanceof Text?(j.updateText(!0),!0):!1}function calculateTextStyle(_e,j){if(j instanceof TextStyle){var et=j.toFontString();return TextMetrics.measureFont(et),!0}return!1}function findText(_e,j){if(_e instanceof Text){j.indexOf(_e.style)===-1&&j.push(_e.style),j.indexOf(_e)===-1&&j.push(_e);var et=_e._texture.baseTexture;return j.indexOf(et)===-1&&j.push(et),!0}return!1}function findTextStyle(_e,j){return _e instanceof TextStyle?(j.indexOf(_e)===-1&&j.push(_e),!0):!1}var BasePrepare=function(){function _e(j){var et=this;this.limiter=new CountLimiter(settings$1.UPLOADS_PER_FRAME),this.renderer=j,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!et.queue||et.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}return _e.prototype.upload=function(j,et){var tt=this;return typeof j=="function"&&(et=j,j=null),et&&deprecation$1("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(nt){j&&tt.add(j);var rt=function(){et==null||et(),nt()};tt.queue.length?(tt.completes.push(rt),tt.ticking||(tt.ticking=!0,Ticker.system.addOnce(tt.tick,tt,UPDATE_PRIORITY.UTILITY))):rt()})},_e.prototype.tick=function(){setTimeout(this.delayedTick,0)},_e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var j=this.queue[0],et=!1;if(j&&!j._destroyed){for(var tt=0,nt=this.uploadHooks.length;tt<nt;tt++)if(this.uploadHooks[tt](this.uploadHookHelper,j)){this.queue.shift(),et=!0;break}}et||this.queue.shift()}if(this.queue.length)Ticker.system.addOnce(this.tick,this,UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var rt=this.completes.slice(0);this.completes.length=0;for(var tt=0,nt=rt.length;tt<nt;tt++)rt[tt]()}},_e.prototype.registerFindHook=function(j){return j&&this.addHooks.push(j),this},_e.prototype.registerUploadHook=function(j){return j&&this.uploadHooks.push(j),this},_e.prototype.add=function(j){for(var et=0,tt=this.addHooks.length;et<tt&&!this.addHooks[et](j,this.queue);et++);if(j instanceof Container)for(var et=j.children.length-1;et>=0;et--)this.add(j.children[et]);return this},_e.prototype.destroy=function(){this.ticking&&Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},_e}();function uploadBaseTextures(_e,j){return j instanceof BaseTexture?(j._glTextures[_e.CONTEXT_UID]||_e.texture.bind(j),!0):!1}function uploadGraphics(_e,j){if(!(j instanceof Graphics))return!1;var et=j.geometry;j.finishPoly(),et.updateBatches();for(var tt=et.batches,nt=0;nt<tt.length;nt++){var rt=tt[nt].style.texture;rt&&uploadBaseTextures(_e,rt.baseTexture)}return et.batchable||_e.geometry.bind(et,j._resolveDirectShader(_e)),!0}function findGraphics(_e,j){return _e instanceof Graphics?(j.push(_e),!0):!1}var Prepare=function(_e){__extends$b(j,_e);function j(et){var tt=_e.call(this,et)||this;return tt.uploadHookHelper=tt.renderer,tt.registerFindHook(findGraphics),tt.registerUploadHook(uploadBaseTextures),tt.registerUploadHook(uploadGraphics),tt}return j.extension={name:"prepare",type:ExtensionType.RendererPlugin},j}(BasePrepare);/*!
 * @pixi/spritesheet - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Spritesheet=function(){function _e(j,et,tt){tt===void 0&&(tt=null),this.linkedSheets=[],this._texture=j instanceof Texture$1?j:null,this.baseTexture=j instanceof BaseTexture?j:this._texture.baseTexture,this.textures={},this.animations={},this.data=et;var nt=this.baseTexture.resource;this.resolution=this._updateResolution(tt||(nt?nt.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return _e.prototype._updateResolution=function(j){j===void 0&&(j=null);var et=this.data.meta.scale,tt=getResolutionOfUrl(j,null);return tt===null&&(tt=et!==void 0?parseFloat(et):1),tt!==1&&this.baseTexture.setResolution(tt),tt},_e.prototype.parse=function(j){var et=this;return j&&deprecation$1("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(tt){et._callback=function(nt){j==null||j(nt),tt(nt)},et._batchIndex=0,et._frameKeys.length<=_e.BATCH_SIZE?(et._processFrames(0),et._processAnimations(),et._parseComplete()):et._nextBatch()})},_e.prototype._processFrames=function(j){for(var et=j,tt=_e.BATCH_SIZE;et-j<tt&&et<this._frameKeys.length;){var nt=this._frameKeys[et],rt=this._frames[nt],it=rt.frame;if(it){var st=null,at=null,ot=rt.trimmed!==!1&&rt.sourceSize?rt.sourceSize:rt.frame,lt=new Rectangle(0,0,Math.floor(ot.w)/this.resolution,Math.floor(ot.h)/this.resolution);rt.rotated?st=new Rectangle(Math.floor(it.x)/this.resolution,Math.floor(it.y)/this.resolution,Math.floor(it.h)/this.resolution,Math.floor(it.w)/this.resolution):st=new Rectangle(Math.floor(it.x)/this.resolution,Math.floor(it.y)/this.resolution,Math.floor(it.w)/this.resolution,Math.floor(it.h)/this.resolution),rt.trimmed!==!1&&rt.spriteSourceSize&&(at=new Rectangle(Math.floor(rt.spriteSourceSize.x)/this.resolution,Math.floor(rt.spriteSourceSize.y)/this.resolution,Math.floor(it.w)/this.resolution,Math.floor(it.h)/this.resolution)),this.textures[nt]=new Texture$1(this.baseTexture,st,lt,at,rt.rotated?2:0,rt.anchor),Texture$1.addToCache(this.textures[nt],nt)}et++}},_e.prototype._processAnimations=function(){var j=this.data.animations||{};for(var et in j){this.animations[et]=[];for(var tt=0;tt<j[et].length;tt++){var nt=j[et][tt];this.animations[et].push(this.textures[nt])}}},_e.prototype._parseComplete=function(){var j=this._callback;this._callback=null,this._batchIndex=0,j.call(this,this.textures)},_e.prototype._nextBatch=function(){var j=this;this._processFrames(this._batchIndex*_e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){j._batchIndex*_e.BATCH_SIZE<j._frameKeys.length?j._nextBatch():(j._processAnimations(),j._parseComplete())},0)},_e.prototype.destroy=function(j){var et;j===void 0&&(j=!1);for(var tt in this.textures)this.textures[tt].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,j&&((et=this._texture)===null||et===void 0||et.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},_e.BATCH_SIZE=1e3,_e}(),SpritesheetLoader=function(){function _e(){}return _e.use=function(j,et){var tt,nt,rt=this,it=j.name+"_image";if(!j.data||j.type!==LoaderResource.TYPE.JSON||!j.data.frames||rt.resources[it]){et();return}var st=(nt=(tt=j.data)===null||tt===void 0?void 0:tt.meta)===null||nt===void 0?void 0:nt.related_multi_packs;if(Array.isArray(st))for(var at=function(pt){if(typeof pt!="string")return"continue";var gt=pt.replace(".json",""),vt=url$1.resolve(j.url.replace(rt.baseUrl,""),pt);if(rt.resources[gt]||Object.values(rt.resources).some(function(mt){return url$1.format(url$1.parse(mt.url))===vt}))return"continue";var ft={crossOrigin:j.crossOrigin,loadType:LoaderResource.LOAD_TYPE.XHR,xhrType:LoaderResource.XHR_RESPONSE_TYPE.JSON,parentResource:j,metadata:j.metadata};rt.add(gt,vt,ft)},ot=0,lt=st;ot<lt.length;ot++){var ut=lt[ot];at(ut)}var ct={crossOrigin:j.crossOrigin,metadata:j.metadata.imageMetadata,parentResource:j},ht=_e.getResourcePath(j,rt.baseUrl);rt.add(it,ht,ct,function(gt){if(gt.error){et(gt.error);return}var vt=new Spritesheet(gt.texture,j.data,j.url);vt.parse().then(function(){j.spritesheet=vt,j.textures=vt.textures,et()})})},_e.getResourcePath=function(j,et){return j.isDataUrl?j.data.meta.image:url$1.resolve(j.url.replace(et,""),j.data.meta.image)},_e.extension=ExtensionType.Loader,_e}();/*!
 * @pixi/sprite-tiling - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$a=function(_e,j){return extendStatics$a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$a(_e,j)};function __extends$a(_e,j){extendStatics$a(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var tempPoint$1=new Point;(function(_e){__extends$a(j,_e);function j(et,tt,nt){tt===void 0&&(tt=100),nt===void 0&&(nt=100);var rt=_e.call(this,et)||this;return rt.tileTransform=new Transform,rt._width=tt,rt._height=nt,rt.uvMatrix=rt.texture.uvMatrix||new TextureMatrix(et),rt.pluginName="tilingSprite",rt.uvRespectAnchor=!1,rt}return Object.defineProperty(j.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(et){this.uvMatrix.clampMargin=et,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(et){this.tileTransform.scale.copyFrom(et)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(et){this.tileTransform.position.copyFrom(et)},enumerable:!1,configurable:!0}),j.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},j.prototype._render=function(et){var tt=this._texture;!tt||!tt.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),et.batch.setObjectRenderer(et.plugins[this.pluginName]),et.plugins[this.pluginName].render(this))},j.prototype._calculateBounds=function(){var et=this._width*-this._anchor._x,tt=this._height*-this._anchor._y,nt=this._width*(1-this._anchor._x),rt=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,et,tt,nt,rt)},j.prototype.getLocalBounds=function(et){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),et||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),et=this._localBoundsRect),this._bounds.getRectangle(et)):_e.prototype.getLocalBounds.call(this,et)},j.prototype.containsPoint=function(et){this.worldTransform.applyInverse(et,tempPoint$1);var tt=this._width,nt=this._height,rt=-tt*this.anchor._x;if(tempPoint$1.x>=rt&&tempPoint$1.x<rt+tt){var it=-nt*this.anchor._y;if(tempPoint$1.y>=it&&tempPoint$1.y<it+nt)return!0}return!1},j.prototype.destroy=function(et){_e.prototype.destroy.call(this,et),this.tileTransform=null,this.uvMatrix=null},j.from=function(et,tt){var nt=et instanceof Texture$1?et:Texture$1.from(et,tt);return new j(nt,tt.width,tt.height)},Object.defineProperty(j.prototype,"width",{get:function(){return this._width},set:function(et){this._width=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"height",{get:function(){return this._height},set:function(et){this._height=et},enumerable:!1,configurable:!0}),j})(Sprite$1);var fragmentSimpleSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,gl1VertexSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,gl1FragmentSrc=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,gl2VertexSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,gl2FragmentSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,tempMat=new Matrix,TilingSpriteRenderer=function(_e){__extends$a(j,_e);function j(et){var tt=_e.call(this,et)||this;return et.runners.contextChange.add(tt),tt.quad=new QuadUv,tt.state=State$1.for2d(),tt}return j.prototype.contextChange=function(){var et=this.renderer,tt={globals:et.globalUniforms};this.simpleShader=Shader.from(gl1VertexSrc,fragmentSimpleSrc,tt),this.shader=et.context.webGLVersion>1?Shader.from(gl2VertexSrc,gl2FragmentSrc,tt):Shader.from(gl1VertexSrc,gl1FragmentSrc,tt)},j.prototype.render=function(et){var tt=this.renderer,nt=this.quad,rt=nt.vertices;rt[0]=rt[6]=et._width*-et.anchor.x,rt[1]=rt[3]=et._height*-et.anchor.y,rt[2]=rt[4]=et._width*(1-et.anchor.x),rt[5]=rt[7]=et._height*(1-et.anchor.y);var it=et.uvRespectAnchor?et.anchor.x:0,st=et.uvRespectAnchor?et.anchor.y:0;rt=nt.uvs,rt[0]=rt[6]=-it,rt[1]=rt[3]=-st,rt[2]=rt[4]=1-it,rt[5]=rt[7]=1-st,nt.invalidate();var at=et._texture,ot=at.baseTexture,lt=ot.alphaMode>0,ut=et.tileTransform.localTransform,ct=et.uvMatrix,ht=ot.isPowerOfTwo&&at.frame.width===ot.width&&at.frame.height===ot.height;ht&&(ot._glTextures[tt.CONTEXT_UID]?ht=ot.wrapMode!==WRAP_MODES$5.CLAMP:ot.wrapMode===WRAP_MODES$5.CLAMP&&(ot.wrapMode=WRAP_MODES$5.REPEAT));var pt=ht?this.simpleShader:this.shader,gt=at.width,vt=at.height,ft=et._width,mt=et._height;tempMat.set(ut.a*gt/ft,ut.b*gt/mt,ut.c*vt/ft,ut.d*vt/mt,ut.tx/ft,ut.ty/mt),tempMat.invert(),ht?tempMat.prepend(ct.mapCoord):(pt.uniforms.uMapCoord=ct.mapCoord.toArray(!0),pt.uniforms.uClampFrame=ct.uClampFrame,pt.uniforms.uClampOffset=ct.uClampOffset),pt.uniforms.uTransform=tempMat.toArray(!0),pt.uniforms.uColor=premultiplyTintToRgba(et.tint,et.worldAlpha,pt.uniforms.uColor,lt),pt.uniforms.translationMatrix=et.transform.worldTransform.toArray(!0),pt.uniforms.uSampler=at,tt.shader.bind(pt),tt.geometry.bind(nt),this.state.blendMode=correctBlendMode(et.blendMode,lt),tt.state.set(this.state),tt.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},j.extension={name:"tilingSprite",type:ExtensionType.RendererPlugin},j}(ObjectRenderer);/*!
 * @pixi/mesh - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$9=function(_e,j){return extendStatics$9=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$9(_e,j)};function __extends$9(_e,j){extendStatics$9(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var MeshBatchUvs=function(){function _e(j,et){this.uvBuffer=j,this.uvMatrix=et,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return _e.prototype.update=function(j){if(!(!j&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var et=this.uvBuffer.data;(!this.data||this.data.length!==et.length)&&(this.data=new Float32Array(et.length)),this.uvMatrix.multiplyUvs(et,this.data),this._updateID++}},_e}(),tempPoint=new Point,tempPolygon=new Polygon,Mesh$1=function(_e){__extends$9(j,_e);function j(et,tt,nt,rt){rt===void 0&&(rt=DRAW_MODES$5.TRIANGLES);var it=_e.call(this)||this;return it.geometry=et,it.shader=tt,it.state=nt||State$1.for2d(),it.drawMode=rt,it.start=0,it.size=0,it.uvs=null,it.indices=null,it.vertexData=new Float32Array(1),it.vertexDirty=-1,it._transformID=-1,it._roundPixels=settings$1.ROUND_PIXELS,it.batchUvs=null,it}return Object.defineProperty(j.prototype,"geometry",{get:function(){return this._geometry},set:function(et){this._geometry!==et&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=et,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"material",{get:function(){return this.shader},set:function(et){this.shader=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(et){this.state.blendMode=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(et){this._roundPixels!==et&&(this._transformID=-1),this._roundPixels=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(et){this.shader.tint=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(et){this.shader.texture=et},enumerable:!1,configurable:!0}),j.prototype._render=function(et){var tt=this.geometry.buffers[0].data,nt=this.shader;nt.batchable&&this.drawMode===DRAW_MODES$5.TRIANGLES&&tt.length<j.BATCHABLE_SIZE*2?this._renderToBatch(et):this._renderDefault(et)},j.prototype._renderDefault=function(et){var tt=this.shader;tt.alpha=this.worldAlpha,tt.update&&tt.update(),et.batch.flush(),tt.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),et.shader.bind(tt),et.state.set(this.state),et.geometry.bind(this.geometry,tt),et.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},j.prototype._renderToBatch=function(et){var tt=this.geometry,nt=this.shader;nt.uvMatrix&&(nt.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=tt.indexBuffer.data,this._tintRGB=nt._tintRGB,this._texture=nt.texture;var rt=this.material.pluginName;et.batch.setObjectRenderer(et.plugins[rt]),et.plugins[rt].render(this)},j.prototype.calculateVertices=function(){var et=this.geometry,tt=et.buffers[0],nt=tt.data,rt=tt._updateID;if(!(rt===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==nt.length&&(this.vertexData=new Float32Array(nt.length));for(var it=this.transform.worldTransform,st=it.a,at=it.b,ot=it.c,lt=it.d,ut=it.tx,ct=it.ty,ht=this.vertexData,pt=0;pt<ht.length/2;pt++){var gt=nt[pt*2],vt=nt[pt*2+1];ht[pt*2]=st*gt+ot*vt+ut,ht[pt*2+1]=at*gt+lt*vt+ct}if(this._roundPixels)for(var ft=settings$1.RESOLUTION,pt=0;pt<ht.length;++pt)ht[pt]=Math.round((ht[pt]*ft|0)/ft);this.vertexDirty=rt}},j.prototype.calculateUvs=function(){var et=this.geometry.buffers[1],tt=this.shader;tt.uvMatrix.isSimple?this.uvs=et.data:(this.batchUvs||(this.batchUvs=new MeshBatchUvs(et,tt.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},j.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},j.prototype.containsPoint=function(et){if(!this.getBounds().contains(et.x,et.y))return!1;this.worldTransform.applyInverse(et,tempPoint);for(var tt=this.geometry.getBuffer("aVertexPosition").data,nt=tempPolygon.points,rt=this.geometry.getIndex().data,it=rt.length,st=this.drawMode===4?3:1,at=0;at+2<it;at+=st){var ot=rt[at]*2,lt=rt[at+1]*2,ut=rt[at+2]*2;if(nt[0]=tt[ot],nt[1]=tt[ot+1],nt[2]=tt[lt],nt[3]=tt[lt+1],nt[4]=tt[ut],nt[5]=tt[ut+1],tempPolygon.contains(tempPoint.x,tempPoint.y))return!0}return!1},j.prototype.destroy=function(et){_e.prototype.destroy.call(this,et),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},j.BATCHABLE_SIZE=100,j}(Container),fragment$m=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,vertex$j=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,MeshMaterial=function(_e){__extends$9(j,_e);function j(et,tt){var nt=this,rt={uSampler:et,alpha:1,uTextureMatrix:Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};return tt=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},tt),tt.uniforms&&Object.assign(rt,tt.uniforms),nt=_e.call(this,tt.program||Program.from(vertex$j,fragment$m),rt)||this,nt._colorDirty=!1,nt.uvMatrix=new TextureMatrix(et),nt.batchable=tt.program===void 0,nt.pluginName=tt.pluginName,nt.tint=tt.tint,nt.alpha=tt.alpha,nt}return Object.defineProperty(j.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(et){this.uniforms.uSampler!==et&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!et.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=et,this.uvMatrix.texture=et)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"alpha",{get:function(){return this._alpha},set:function(et){et!==this._alpha&&(this._alpha=et,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"tint",{get:function(){return this._tint},set:function(et){et!==this._tint&&(this._tint=et,this._tintRGB=(et>>16)+(et&65280)+((et&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),j.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var et=this.texture.baseTexture;premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,et.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},j}(Shader),MeshGeometry=function(_e){__extends$9(j,_e);function j(et,tt,nt){var rt=_e.call(this)||this,it=new Buffer(et),st=new Buffer(tt,!0),at=new Buffer(nt,!0,!0);return rt.addAttribute("aVertexPosition",it,2,!1,TYPES$5.FLOAT).addAttribute("aTextureCoord",st,2,!1,TYPES$5.FLOAT).addIndex(at),rt._updateId=-1,rt}return Object.defineProperty(j.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),j}(Geometry);/*!
 * @pixi/text-bitmap - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$8=function(_e,j){return extendStatics$8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$8(_e,j)};function __extends$8(_e,j){extendStatics$8(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var BitmapFontData=function(){function _e(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return _e}(),TextFormat=function(){function _e(){}return _e.test=function(j){return typeof j=="string"&&j.indexOf("info face=")===0},_e.parse=function(j){var et=j.match(/^[a-z]+\s+.+$/gm),tt={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var nt in et){var rt=et[nt].match(/^[a-z]+/gm)[0],it=et[nt].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),st={};for(var at in it){var ot=it[at].split("="),lt=ot[0],ut=ot[1].replace(/"/gm,""),ct=parseFloat(ut),ht=isNaN(ct)?ut:ct;st[lt]=ht}tt[rt].push(st)}var pt=new BitmapFontData;return tt.info.forEach(function(gt){return pt.info.push({face:gt.face,size:parseInt(gt.size,10)})}),tt.common.forEach(function(gt){return pt.common.push({lineHeight:parseInt(gt.lineHeight,10)})}),tt.page.forEach(function(gt){return pt.page.push({id:parseInt(gt.id,10),file:gt.file})}),tt.char.forEach(function(gt){return pt.char.push({id:parseInt(gt.id,10),page:parseInt(gt.page,10),x:parseInt(gt.x,10),y:parseInt(gt.y,10),width:parseInt(gt.width,10),height:parseInt(gt.height,10),xoffset:parseInt(gt.xoffset,10),yoffset:parseInt(gt.yoffset,10),xadvance:parseInt(gt.xadvance,10)})}),tt.kerning.forEach(function(gt){return pt.kerning.push({first:parseInt(gt.first,10),second:parseInt(gt.second,10),amount:parseInt(gt.amount,10)})}),tt.distanceField.forEach(function(gt){return pt.distanceField.push({distanceRange:parseInt(gt.distanceRange,10),fieldType:gt.fieldType})}),pt},_e}(),XMLFormat=function(){function _e(){}return _e.test=function(j){return j instanceof XMLDocument&&j.getElementsByTagName("page").length&&j.getElementsByTagName("info")[0].getAttribute("face")!==null},_e.parse=function(j){for(var et=new BitmapFontData,tt=j.getElementsByTagName("info"),nt=j.getElementsByTagName("common"),rt=j.getElementsByTagName("page"),it=j.getElementsByTagName("char"),st=j.getElementsByTagName("kerning"),at=j.getElementsByTagName("distanceField"),ot=0;ot<tt.length;ot++)et.info.push({face:tt[ot].getAttribute("face"),size:parseInt(tt[ot].getAttribute("size"),10)});for(var ot=0;ot<nt.length;ot++)et.common.push({lineHeight:parseInt(nt[ot].getAttribute("lineHeight"),10)});for(var ot=0;ot<rt.length;ot++)et.page.push({id:parseInt(rt[ot].getAttribute("id"),10)||0,file:rt[ot].getAttribute("file")});for(var ot=0;ot<it.length;ot++){var lt=it[ot];et.char.push({id:parseInt(lt.getAttribute("id"),10),page:parseInt(lt.getAttribute("page"),10)||0,x:parseInt(lt.getAttribute("x"),10),y:parseInt(lt.getAttribute("y"),10),width:parseInt(lt.getAttribute("width"),10),height:parseInt(lt.getAttribute("height"),10),xoffset:parseInt(lt.getAttribute("xoffset"),10),yoffset:parseInt(lt.getAttribute("yoffset"),10),xadvance:parseInt(lt.getAttribute("xadvance"),10)})}for(var ot=0;ot<st.length;ot++)et.kerning.push({first:parseInt(st[ot].getAttribute("first"),10),second:parseInt(st[ot].getAttribute("second"),10),amount:parseInt(st[ot].getAttribute("amount"),10)});for(var ot=0;ot<at.length;ot++)et.distanceField.push({fieldType:at[ot].getAttribute("fieldType"),distanceRange:parseInt(at[ot].getAttribute("distanceRange"),10)});return et},_e}(),XMLStringFormat=function(){function _e(){}return _e.test=function(j){if(typeof j=="string"&&j.indexOf("<font>")>-1){var et=new globalThis.DOMParser().parseFromString(j,"text/xml");return XMLFormat.test(et)}return!1},_e.parse=function(j){var et=new globalThis.DOMParser().parseFromString(j,"text/xml");return XMLFormat.parse(et)},_e}(),formats=[TextFormat,XMLFormat,XMLStringFormat];function autoDetectFormat(_e){for(var j=0;j<formats.length;j++)if(formats[j].test(_e))return formats[j];return null}function generateFillStyle(_e,j,et,tt,nt,rt){var it=et.fill;if(Array.isArray(it)){if(it.length===1)return it[0]}else return it;var st,at=et.dropShadow?et.dropShadowDistance:0,ot=et.padding||0,lt=_e.width/tt-at-ot*2,ut=_e.height/tt-at-ot*2,ct=it.slice(),ht=et.fillGradientStops.slice();if(!ht.length)for(var pt=ct.length+1,gt=1;gt<pt;++gt)ht.push(gt/pt);if(ct.unshift(it[0]),ht.unshift(0),ct.push(it[it.length-1]),ht.push(1),et.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){st=j.createLinearGradient(lt/2,ot,lt/2,ut+ot);for(var vt=0,ft=rt.fontProperties.fontSize+et.strokeThickness,mt=ft/ut,gt=0;gt<nt.length;gt++)for(var xt=rt.lineHeight*gt,_t=0;_t<ct.length;_t++){var Tt=0;typeof ht[_t]=="number"?Tt=ht[_t]:Tt=_t/ct.length;var wt=xt/ut+Tt*mt,bt=Math.max(vt,wt);bt=Math.min(bt,1),st.addColorStop(bt,ct[_t]),vt=bt}}else{st=j.createLinearGradient(ot,ut/2,lt+ot,ut/2);for(var Ct=ct.length+1,Lt=1,gt=0;gt<ct.length;gt++){var $t=void 0;typeof ht[gt]=="number"?$t=ht[gt]:$t=Lt/Ct,st.addColorStop($t,ct[gt]),Lt++}}return st}function drawGlyph(_e,j,et,tt,nt,rt,it){var st=et.text,at=et.fontProperties;j.translate(tt,nt),j.scale(rt,rt);var ot=it.strokeThickness/2,lt=-(it.strokeThickness/2);if(j.font=it.toFontString(),j.lineWidth=it.strokeThickness,j.textBaseline=it.textBaseline,j.lineJoin=it.lineJoin,j.miterLimit=it.miterLimit,j.fillStyle=generateFillStyle(_e,j,it,rt,[st],et),j.strokeStyle=it.stroke,it.dropShadow){var ut=it.dropShadowColor,ct=hex2rgb(typeof ut=="number"?ut:string2hex(ut)),ht=it.dropShadowBlur*rt,pt=it.dropShadowDistance*rt;j.shadowColor="rgba("+ct[0]*255+","+ct[1]*255+","+ct[2]*255+","+it.dropShadowAlpha+")",j.shadowBlur=ht,j.shadowOffsetX=Math.cos(it.dropShadowAngle)*pt,j.shadowOffsetY=Math.sin(it.dropShadowAngle)*pt}else j.shadowColor="black",j.shadowBlur=0,j.shadowOffsetX=0,j.shadowOffsetY=0;it.stroke&&it.strokeThickness&&j.strokeText(st,ot,lt+et.lineHeight-at.descent),it.fill&&j.fillText(st,ot,lt+et.lineHeight-at.descent),j.setTransform(1,0,0,1,0,0),j.fillStyle="rgba(0, 0, 0, 0)"}function splitTextToCharacters(_e){return Array.from?Array.from(_e):_e.split("")}function resolveCharacters(_e){typeof _e=="string"&&(_e=[_e]);for(var j=[],et=0,tt=_e.length;et<tt;et++){var nt=_e[et];if(Array.isArray(nt)){if(nt.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+nt.length+".");var rt=nt[0].charCodeAt(0),it=nt[1].charCodeAt(0);if(it<rt)throw new Error("[BitmapFont]: Invalid character range.");for(var st=rt,at=it;st<=at;st++)j.push(String.fromCharCode(st))}else j.push.apply(j,splitTextToCharacters(nt))}if(j.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return j}function extractCharCode(_e){return _e.codePointAt?_e.codePointAt(0):_e.charCodeAt(0)}var BitmapFont=function(){function _e(j,et,tt){var nt,rt,it=j.info[0],st=j.common[0],at=j.page[0],ot=j.distanceField[0],lt=getResolutionOfUrl(at.file),ut={};this._ownsTextures=tt,this.font=it.face,this.size=it.size,this.lineHeight=st.lineHeight/lt,this.chars={},this.pageTextures=ut;for(var ct=0;ct<j.page.length;ct++){var ht=j.page[ct],pt=ht.id,gt=ht.file;ut[pt]=et instanceof Array?et[ct]:et[gt],(ot==null?void 0:ot.fieldType)&&ot.fieldType!=="none"&&(ut[pt].baseTexture.alphaMode=ALPHA_MODES$5.NO_PREMULTIPLIED_ALPHA)}for(var ct=0;ct<j.char.length;ct++){var vt=j.char[ct],pt=vt.id,ft=vt.page,mt=j.char[ct],xt=mt.x,_t=mt.y,Tt=mt.width,wt=mt.height,bt=mt.xoffset,Ct=mt.yoffset,Lt=mt.xadvance;xt/=lt,_t/=lt,Tt/=lt,wt/=lt,bt/=lt,Ct/=lt,Lt/=lt;var $t=new Rectangle(xt+ut[ft].frame.x/lt,_t+ut[ft].frame.y/lt,Tt,wt);this.chars[pt]={xOffset:bt,yOffset:Ct,xAdvance:Lt,kerning:{},texture:new Texture$1(ut[ft].baseTexture,$t),page:ft}}for(var ct=0;ct<j.kerning.length;ct++){var Rt=j.kerning[ct],Bt=Rt.first,Gt=Rt.second,Ft=Rt.amount;Bt/=lt,Gt/=lt,Ft/=lt,this.chars[Gt]&&(this.chars[Gt].kerning[Bt]=Ft)}this.distanceFieldRange=ot==null?void 0:ot.distanceRange,this.distanceFieldType=(rt=(nt=ot==null?void 0:ot.fieldType)===null||nt===void 0?void 0:nt.toLowerCase())!==null&&rt!==void 0?rt:"none"}return _e.prototype.destroy=function(){for(var j in this.chars)this.chars[j].texture.destroy(),this.chars[j].texture=null;for(var j in this.pageTextures)this._ownsTextures&&this.pageTextures[j].destroy(!0),this.pageTextures[j]=null;this.chars=null,this.pageTextures=null},_e.install=function(j,et,tt){var nt;if(j instanceof BitmapFontData)nt=j;else{var rt=autoDetectFormat(j);if(!rt)throw new Error("Unrecognized data format for font.");nt=rt.parse(j)}et instanceof Texture$1&&(et=[et]);var it=new _e(nt,et,tt);return _e.available[it.font]=it,it},_e.uninstall=function(j){var et=_e.available[j];if(!et)throw new Error("No font found named '"+j+"'");et.destroy(),delete _e.available[j]},_e.from=function(j,et,tt){if(!j)throw new Error("[BitmapFont] Property `name` is required.");var nt=Object.assign({},_e.defaultOptions,tt),rt=nt.chars,it=nt.padding,st=nt.resolution,at=nt.textureWidth,ot=nt.textureHeight,lt=resolveCharacters(rt),ut=et instanceof TextStyle?et:new TextStyle(et),ct=at,ht=new BitmapFontData;ht.info[0]={face:ut.fontFamily,size:ut.fontSize},ht.common[0]={lineHeight:ut.fontSize};for(var pt=0,gt=0,vt,ft,mt,xt=0,_t=[],Tt=0;Tt<lt.length;Tt++){vt||(vt=settings$1.ADAPTER.createCanvas(),vt.width=at,vt.height=ot,ft=vt.getContext("2d"),mt=new BaseTexture(vt,{resolution:st}),_t.push(new Texture$1(mt)),ht.page.push({id:_t.length-1,file:""}));var wt=TextMetrics.measureText(lt[Tt],ut,!1,vt),bt=wt.width,Ct=Math.ceil(wt.height),Lt=Math.ceil((ut.fontStyle==="italic"?2:1)*bt);if(gt>=ot-Ct*st){if(gt===0)throw new Error("[BitmapFont] textureHeight "+ot+"px is "+("too small for "+ut.fontSize+"px fonts"));--Tt,vt=null,ft=null,mt=null,gt=0,pt=0,xt=0;continue}if(xt=Math.max(Ct+wt.fontProperties.descent,xt),Lt*st+pt>=ct){--Tt,gt+=xt*st,gt=Math.ceil(gt),pt=0,xt=0;continue}drawGlyph(vt,ft,wt,pt,gt,st,ut);var $t=extractCharCode(wt.text);ht.char.push({id:$t,page:_t.length-1,x:pt/st,y:gt/st,width:Lt,height:Ct,xoffset:0,yoffset:0,xadvance:Math.ceil(bt-(ut.dropShadow?ut.dropShadowDistance:0)-(ut.stroke?ut.strokeThickness:0))}),pt+=(Lt+2*it)*st,pt=Math.ceil(pt)}for(var Tt=0,Rt=lt.length;Tt<Rt;Tt++)for(var Bt=lt[Tt],Gt=0;Gt<Rt;Gt++){var Ft=lt[Gt],kt=ft.measureText(Bt).width,It=ft.measureText(Ft).width,Ot=ft.measureText(Bt+Ft).width,Ut=Ot-(kt+It);Ut&&ht.kerning.push({first:extractCharCode(Bt),second:extractCharCode(Ft),amount:Ut})}var zt=new _e(ht,_t,!0);return _e.available[j]!==void 0&&_e.uninstall(j),_e.available[j]=zt,zt},_e.ALPHA=[["a","z"],["A","Z"]," "],_e.NUMERIC=[["0","9"]],_e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],_e.ASCII=[[" ","~"]],_e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:_e.ALPHANUMERIC},_e.available={},_e}(),msdfFrag=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,msdfVert=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,pageMeshDataDefaultPageMeshData=[],pageMeshDataMSDFPageMeshData=[],charRenderDataPool=[];(function(_e){__extends$8(j,_e);function j(et,tt){tt===void 0&&(tt={});var nt=_e.call(this)||this;nt._tint=16777215;var rt=Object.assign({},j.styleDefaults,tt),it=rt.align,st=rt.tint,at=rt.maxWidth,ot=rt.letterSpacing,lt=rt.fontName,ut=rt.fontSize;if(!BitmapFont.available[lt])throw new Error('Missing BitmapFont "'+lt+'"');return nt._activePagesMeshData=[],nt._textWidth=0,nt._textHeight=0,nt._align=it,nt._tint=st,nt._fontName=lt,nt._fontSize=ut||BitmapFont.available[lt].size,nt.text=et,nt._maxWidth=at,nt._maxLineHeight=0,nt._letterSpacing=ot,nt._anchor=new ObservablePoint(function(){nt.dirty=!0},nt,0,0),nt._roundPixels=settings$1.ROUND_PIXELS,nt.dirty=!0,nt._resolution=settings$1.RESOLUTION,nt._autoResolution=!0,nt._textureCache={},nt}return j.prototype.updateText=function(){for(var et,tt=BitmapFont.available[this._fontName],nt=this._fontSize/tt.size,rt=new Point,it=[],st=[],at=[],ot=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",lt=splitTextToCharacters(ot),ut=this._maxWidth*tt.size/this._fontSize,ct=tt.distanceFieldType==="none"?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData,ht=null,pt=0,gt=0,vt=0,ft=-1,mt=0,xt=0,_t=0,Tt=0,wt=0;wt<lt.length;wt++){var bt=lt[wt],Ct=extractCharCode(bt);if(/(?:\s)/.test(bt)&&(ft=wt,mt=pt,Tt++),bt==="\r"||bt===`
`){st.push(pt),at.push(-1),gt=Math.max(gt,pt),++vt,++xt,rt.x=0,rt.y+=tt.lineHeight,ht=null,Tt=0;continue}var Lt=tt.chars[Ct];if(!!Lt){ht&&Lt.kerning[ht]&&(rt.x+=Lt.kerning[ht]);var $t=charRenderDataPool.pop()||{texture:Texture$1.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Point};$t.texture=Lt.texture,$t.line=vt,$t.charCode=Ct,$t.position.x=rt.x+Lt.xOffset+this._letterSpacing/2,$t.position.y=rt.y+Lt.yOffset,$t.prevSpaces=Tt,it.push($t),pt=$t.position.x+Math.max(Lt.xAdvance,Lt.texture.orig.width),rt.x+=Lt.xAdvance+this._letterSpacing,_t=Math.max(_t,Lt.yOffset+Lt.texture.height),ht=Ct,ft!==-1&&ut>0&&rt.x>ut&&(++xt,removeItems(it,1+ft-xt,1+wt-ft),wt=ft,ft=-1,st.push(mt),at.push(it.length>0?it[it.length-1].prevSpaces:0),gt=Math.max(gt,mt),vt++,rt.x=0,rt.y+=tt.lineHeight,ht=null,Tt=0)}}var Rt=lt[lt.length-1];Rt!=="\r"&&Rt!==`
`&&(/(?:\s)/.test(Rt)&&(pt=mt),st.push(pt),gt=Math.max(gt,pt),at.push(-1));for(var Bt=[],wt=0;wt<=vt;wt++){var Gt=0;this._align==="right"?Gt=gt-st[wt]:this._align==="center"?Gt=(gt-st[wt])/2:this._align==="justify"&&(Gt=at[wt]<0?0:(gt-st[wt])/at[wt]),Bt.push(Gt)}for(var Ft=it.length,kt={},It=[],Ot=this._activePagesMeshData,wt=0;wt<Ot.length;wt++)ct.push(Ot[wt]);for(var wt=0;wt<Ft;wt++){var Ut=it[wt].texture,zt=Ut.baseTexture.uid;if(!kt[zt]){var Ht=ct.pop();if(!Ht){var Vt=new MeshGeometry,qt=void 0,an=void 0;tt.distanceFieldType==="none"?(qt=new MeshMaterial(Texture$1.EMPTY),an=BLEND_MODES$5.NORMAL):(qt=new MeshMaterial(Texture$1.EMPTY,{program:Program.from(msdfVert,msdfFrag),uniforms:{uFWidth:0}}),an=BLEND_MODES$5.NORMAL_NPM);var gn=new Mesh$1(Vt,qt);gn.blendMode=an,Ht={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:gn,vertices:null,uvs:null,indices:null}}Ht.index=0,Ht.indexCount=0,Ht.vertexCount=0,Ht.uvsCount=0,Ht.total=0;var yn=this._textureCache;yn[zt]=yn[zt]||new Texture$1(Ut.baseTexture),Ht.mesh.texture=yn[zt],Ht.mesh.tint=this._tint,It.push(Ht),kt[zt]=Ht}kt[zt].total++}for(var wt=0;wt<Ot.length;wt++)It.indexOf(Ot[wt])===-1&&this.removeChild(Ot[wt].mesh);for(var wt=0;wt<It.length;wt++)It[wt].mesh.parent!==this&&this.addChild(It[wt].mesh);this._activePagesMeshData=It;for(var wt in kt){var Ht=kt[wt],fn=Ht.total;if(!(((et=Ht.indices)===null||et===void 0?void 0:et.length)>6*fn)||Ht.vertices.length<Mesh$1.BATCHABLE_SIZE*2)Ht.vertices=new Float32Array(4*2*fn),Ht.uvs=new Float32Array(4*2*fn),Ht.indices=new Uint16Array(6*fn);else for(var In=Ht.total,Dn=Ht.vertices,Mn=In*4*2;Mn<Dn.length;Mn++)Dn[Mn]=0;Ht.mesh.size=6*fn}for(var wt=0;wt<Ft;wt++){var bt=it[wt],Fn=bt.position.x+Bt[bt.line]*(this._align==="justify"?bt.prevSpaces:1);this._roundPixels&&(Fn=Math.round(Fn));var Vn=Fn*nt,mn=bt.position.y*nt,Ut=bt.texture,dn=kt[Ut.baseTexture.uid],An=Ut.frame,Yn=Ut._uvs,Bn=dn.index++;dn.indices[Bn*6+0]=0+Bn*4,dn.indices[Bn*6+1]=1+Bn*4,dn.indices[Bn*6+2]=2+Bn*4,dn.indices[Bn*6+3]=0+Bn*4,dn.indices[Bn*6+4]=2+Bn*4,dn.indices[Bn*6+5]=3+Bn*4,dn.vertices[Bn*8+0]=Vn,dn.vertices[Bn*8+1]=mn,dn.vertices[Bn*8+2]=Vn+An.width*nt,dn.vertices[Bn*8+3]=mn,dn.vertices[Bn*8+4]=Vn+An.width*nt,dn.vertices[Bn*8+5]=mn+An.height*nt,dn.vertices[Bn*8+6]=Vn,dn.vertices[Bn*8+7]=mn+An.height*nt,dn.uvs[Bn*8+0]=Yn.x0,dn.uvs[Bn*8+1]=Yn.y0,dn.uvs[Bn*8+2]=Yn.x1,dn.uvs[Bn*8+3]=Yn.y1,dn.uvs[Bn*8+4]=Yn.x2,dn.uvs[Bn*8+5]=Yn.y2,dn.uvs[Bn*8+6]=Yn.x3,dn.uvs[Bn*8+7]=Yn.y3}this._textWidth=gt*nt,this._textHeight=(rt.y+tt.lineHeight)*nt;for(var wt in kt){var Ht=kt[wt];if(this.anchor.x!==0||this.anchor.y!==0)for(var tr=0,rr=this._textWidth*this.anchor.x,hr=this._textHeight*this.anchor.y,fr=0;fr<Ht.total;fr++)Ht.vertices[tr++]-=rr,Ht.vertices[tr++]-=hr,Ht.vertices[tr++]-=rr,Ht.vertices[tr++]-=hr,Ht.vertices[tr++]-=rr,Ht.vertices[tr++]-=hr,Ht.vertices[tr++]-=rr,Ht.vertices[tr++]-=hr;this._maxLineHeight=_t*nt;var sn=Ht.mesh.geometry.getBuffer("aVertexPosition"),nn=Ht.mesh.geometry.getBuffer("aTextureCoord"),Cn=Ht.mesh.geometry.getIndex();sn.data=Ht.vertices,nn.data=Ht.uvs,Cn.data=Ht.indices,sn.update(),nn.update(),Cn.update()}for(var wt=0;wt<it.length;wt++)charRenderDataPool.push(it[wt])},j.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},j.prototype._render=function(et){this._autoResolution&&this._resolution!==et.resolution&&(this._resolution=et.resolution,this.dirty=!0);var tt=BitmapFont.available[this._fontName],nt=tt.distanceFieldRange,rt=tt.distanceFieldType,it=tt.size;if(rt!=="none")for(var st=this.worldTransform,at=st.a,ot=st.b,lt=st.c,ut=st.d,ct=Math.sqrt(at*at+ot*ot),ht=Math.sqrt(lt*lt+ut*ut),pt=(Math.abs(ct)+Math.abs(ht))/2,gt=this._fontSize/it,vt=0,ft=this._activePagesMeshData;vt<ft.length;vt++){var mt=ft[vt];mt.mesh.shader.uniforms.uFWidth=pt*nt*gt*this._resolution}_e.prototype._render.call(this,et)},j.prototype.getLocalBounds=function(){return this.validate(),_e.prototype.getLocalBounds.call(this)},j.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(j.prototype,"tint",{get:function(){return this._tint},set:function(et){if(this._tint!==et){this._tint=et;for(var tt=0;tt<this._activePagesMeshData.length;tt++)this._activePagesMeshData[tt].mesh.tint=et}},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"align",{get:function(){return this._align},set:function(et){this._align!==et&&(this._align=et,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"fontName",{get:function(){return this._fontName},set:function(et){if(!BitmapFont.available[et])throw new Error('Missing BitmapFont "'+et+'"');this._fontName!==et&&(this._fontName=et,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"fontSize",{get:function(){return this._fontSize},set:function(et){this._fontSize!==et&&(this._fontSize=et,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"anchor",{get:function(){return this._anchor},set:function(et){typeof et=="number"?this._anchor.set(et):this._anchor.copyFrom(et)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"text",{get:function(){return this._text},set:function(et){et=String(et==null?"":et),this._text!==et&&(this._text=et,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(et){this._maxWidth!==et&&(this._maxWidth=et,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(et){this._letterSpacing!==et&&(this._letterSpacing=et,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(et){et!==this._roundPixels&&(this._roundPixels=et,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"resolution",{get:function(){return this._resolution},set:function(et){this._autoResolution=!1,this._resolution!==et&&(this._resolution=et,this.dirty=!0)},enumerable:!1,configurable:!0}),j.prototype.destroy=function(et){var tt=this._textureCache;for(var nt in tt){var rt=tt[nt];rt.destroy(),delete tt[nt]}this._textureCache=null,_e.prototype.destroy.call(this,et)},j.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},j})(Container);var BitmapFontLoader=function(){function _e(){}return _e.add=function(){LoaderResource.setExtensionXhrType("fnt",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},_e.use=function(j,et){var tt=autoDetectFormat(j.data);if(!tt){et();return}for(var nt=_e.getBaseUrl(this,j),rt=tt.parse(j.data),it={},st=function(gt){it[gt.metadata.pageFile]=gt.texture,Object.keys(it).length===rt.page.length&&(j.bitmapFont=BitmapFont.install(rt,it,!0),et())},at=0;at<rt.page.length;++at){var ot=rt.page[at].file,lt=nt+ot,ut=!1;for(var ct in this.resources){var ht=this.resources[ct];if(ht.url===lt){ht.metadata.pageFile=ot,ht.texture?st(ht):ht.onAfterMiddleware.add(st),ut=!0;break}}if(!ut){var pt={crossOrigin:j.crossOrigin,loadType:LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:ot},j.metadata.imageMetadata),parentResource:j};this.add(lt,pt,st)}}},_e.getBaseUrl=function(j,et){var tt=et.isDataUrl?"":_e.dirname(et.url);return et.isDataUrl&&(tt==="."&&(tt=""),j.baseUrl&&tt&&j.baseUrl.charAt(j.baseUrl.length-1)==="/"&&(tt+="/")),tt=tt.replace(j.baseUrl,""),tt&&tt.charAt(tt.length-1)!=="/"&&(tt+="/"),tt},_e.dirname=function(j){var et=j.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return et===j?".":et===""?"/":et},_e.extension=ExtensionType.Loader,_e}();/*!
 * @pixi/filter-alpha - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$7=function(_e,j){return extendStatics$7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$7(_e,j)};function __extends$7(_e,j){extendStatics$7(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var fragment$l=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(_e){__extends$7(j,_e);function j(et){et===void 0&&(et=1);var tt=_e.call(this,defaultVertex$1,fragment$l,{uAlpha:1})||this;return tt.alpha=et,tt}return Object.defineProperty(j.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(et){this.uniforms.uAlpha=et},enumerable:!1,configurable:!0}),j})(Filter);/*!
 * @pixi/filter-blur - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$6=function(_e,j){return extendStatics$6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$6(_e,j)};function __extends$6(_e,j){extendStatics$6(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var vertTemplate=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function generateBlurVertSource(_e,j){var et=Math.ceil(_e/2),tt=vertTemplate,nt="",rt;j?rt="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":rt="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var it=0;it<_e;it++){var st=rt.replace("%index%",it.toString());st=st.replace("%sampleIndex%",it-(et-1)+".0"),nt+=st,nt+=`
`}return tt=tt.replace("%blur%",nt),tt=tt.replace("%size%",_e.toString()),tt}var GAUSSIAN_VALUES={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},fragTemplate=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function generateBlurFragSource(_e){for(var j=GAUSSIAN_VALUES[_e],et=j.length,tt=fragTemplate,nt="",rt="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",it,st=0;st<_e;st++){var at=rt.replace("%index%",st.toString());it=st,st>=et&&(it=_e-st-1),at=at.replace("%value%",j[it].toString()),nt+=at,nt+=`
`}return tt=tt.replace("%blur%",nt),tt=tt.replace("%size%",_e.toString()),tt}/*!
 * @pixi/constants - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$3;(function(_e){_e[_e.WEBGL_LEGACY=0]="WEBGL_LEGACY",_e[_e.WEBGL=1]="WEBGL",_e[_e.WEBGL2=2]="WEBGL2"})(ENV$3||(ENV$3={}));var RENDERER_TYPE$3;(function(_e){_e[_e.UNKNOWN=0]="UNKNOWN",_e[_e.WEBGL=1]="WEBGL",_e[_e.CANVAS=2]="CANVAS"})(RENDERER_TYPE$3||(RENDERER_TYPE$3={}));var BUFFER_BITS$3;(function(_e){_e[_e.COLOR=16384]="COLOR",_e[_e.DEPTH=256]="DEPTH",_e[_e.STENCIL=1024]="STENCIL"})(BUFFER_BITS$3||(BUFFER_BITS$3={}));var BLEND_MODES$3;(function(_e){_e[_e.NORMAL=0]="NORMAL",_e[_e.ADD=1]="ADD",_e[_e.MULTIPLY=2]="MULTIPLY",_e[_e.SCREEN=3]="SCREEN",_e[_e.OVERLAY=4]="OVERLAY",_e[_e.DARKEN=5]="DARKEN",_e[_e.LIGHTEN=6]="LIGHTEN",_e[_e.COLOR_DODGE=7]="COLOR_DODGE",_e[_e.COLOR_BURN=8]="COLOR_BURN",_e[_e.HARD_LIGHT=9]="HARD_LIGHT",_e[_e.SOFT_LIGHT=10]="SOFT_LIGHT",_e[_e.DIFFERENCE=11]="DIFFERENCE",_e[_e.EXCLUSION=12]="EXCLUSION",_e[_e.HUE=13]="HUE",_e[_e.SATURATION=14]="SATURATION",_e[_e.COLOR=15]="COLOR",_e[_e.LUMINOSITY=16]="LUMINOSITY",_e[_e.NORMAL_NPM=17]="NORMAL_NPM",_e[_e.ADD_NPM=18]="ADD_NPM",_e[_e.SCREEN_NPM=19]="SCREEN_NPM",_e[_e.NONE=20]="NONE",_e[_e.SRC_OVER=0]="SRC_OVER",_e[_e.SRC_IN=21]="SRC_IN",_e[_e.SRC_OUT=22]="SRC_OUT",_e[_e.SRC_ATOP=23]="SRC_ATOP",_e[_e.DST_OVER=24]="DST_OVER",_e[_e.DST_IN=25]="DST_IN",_e[_e.DST_OUT=26]="DST_OUT",_e[_e.DST_ATOP=27]="DST_ATOP",_e[_e.ERASE=26]="ERASE",_e[_e.SUBTRACT=28]="SUBTRACT",_e[_e.XOR=29]="XOR"})(BLEND_MODES$3||(BLEND_MODES$3={}));var DRAW_MODES$3;(function(_e){_e[_e.POINTS=0]="POINTS",_e[_e.LINES=1]="LINES",_e[_e.LINE_LOOP=2]="LINE_LOOP",_e[_e.LINE_STRIP=3]="LINE_STRIP",_e[_e.TRIANGLES=4]="TRIANGLES",_e[_e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",_e[_e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$3||(DRAW_MODES$3={}));var FORMATS$3;(function(_e){_e[_e.RGBA=6408]="RGBA",_e[_e.RGB=6407]="RGB",_e[_e.RG=33319]="RG",_e[_e.RED=6403]="RED",_e[_e.RGBA_INTEGER=36249]="RGBA_INTEGER",_e[_e.RGB_INTEGER=36248]="RGB_INTEGER",_e[_e.RG_INTEGER=33320]="RG_INTEGER",_e[_e.RED_INTEGER=36244]="RED_INTEGER",_e[_e.ALPHA=6406]="ALPHA",_e[_e.LUMINANCE=6409]="LUMINANCE",_e[_e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",_e[_e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",_e[_e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$3||(FORMATS$3={}));var TARGETS$3;(function(_e){_e[_e.TEXTURE_2D=3553]="TEXTURE_2D",_e[_e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",_e[_e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$3||(TARGETS$3={}));var TYPES$3;(function(_e){_e[_e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",_e[_e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",_e[_e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",_e[_e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",_e[_e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",_e[_e.UNSIGNED_INT=5125]="UNSIGNED_INT",_e[_e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",_e[_e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",_e[_e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",_e[_e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",_e[_e.BYTE=5120]="BYTE",_e[_e.SHORT=5122]="SHORT",_e[_e.INT=5124]="INT",_e[_e.FLOAT=5126]="FLOAT",_e[_e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",_e[_e.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$3||(TYPES$3={}));var SAMPLER_TYPES$3;(function(_e){_e[_e.FLOAT=0]="FLOAT",_e[_e.INT=1]="INT",_e[_e.UINT=2]="UINT"})(SAMPLER_TYPES$3||(SAMPLER_TYPES$3={}));var SCALE_MODES$3;(function(_e){_e[_e.NEAREST=0]="NEAREST",_e[_e.LINEAR=1]="LINEAR"})(SCALE_MODES$3||(SCALE_MODES$3={}));var WRAP_MODES$3;(function(_e){_e[_e.CLAMP=33071]="CLAMP",_e[_e.REPEAT=10497]="REPEAT",_e[_e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$3||(WRAP_MODES$3={}));var MIPMAP_MODES$3;(function(_e){_e[_e.OFF=0]="OFF",_e[_e.POW2=1]="POW2",_e[_e.ON=2]="ON",_e[_e.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$3||(MIPMAP_MODES$3={}));var ALPHA_MODES$3;(function(_e){_e[_e.NPM=0]="NPM",_e[_e.UNPACK=1]="UNPACK",_e[_e.PMA=2]="PMA",_e[_e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",_e[_e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",_e[_e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",_e[_e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$3||(ALPHA_MODES$3={}));var CLEAR_MODES$3;(function(_e){_e[_e.NO=0]="NO",_e[_e.YES=1]="YES",_e[_e.AUTO=2]="AUTO",_e[_e.BLEND=0]="BLEND",_e[_e.CLEAR=1]="CLEAR",_e[_e.BLIT=2]="BLIT"})(CLEAR_MODES$3||(CLEAR_MODES$3={}));var GC_MODES$3;(function(_e){_e[_e.AUTO=0]="AUTO",_e[_e.MANUAL=1]="MANUAL"})(GC_MODES$3||(GC_MODES$3={}));var PRECISION$3;(function(_e){_e.LOW="lowp",_e.MEDIUM="mediump",_e.HIGH="highp"})(PRECISION$3||(PRECISION$3={}));var MASK_TYPES$3;(function(_e){_e[_e.NONE=0]="NONE",_e[_e.SCISSOR=1]="SCISSOR",_e[_e.STENCIL=2]="STENCIL",_e[_e.SPRITE=3]="SPRITE",_e[_e.COLOR=4]="COLOR"})(MASK_TYPES$3||(MASK_TYPES$3={}));var COLOR_MASK_BITS$3;(function(_e){_e[_e.RED=1]="RED",_e[_e.GREEN=2]="GREEN",_e[_e.BLUE=4]="BLUE",_e[_e.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS$3||(COLOR_MASK_BITS$3={}));var MSAA_QUALITY$3;(function(_e){_e[_e.NONE=0]="NONE",_e[_e.LOW=2]="LOW",_e[_e.MEDIUM=4]="MEDIUM",_e[_e.HIGH=8]="HIGH"})(MSAA_QUALITY$3||(MSAA_QUALITY$3={}));var BUFFER_TYPE$3;(function(_e){_e[_e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",_e[_e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",_e[_e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$3||(BUFFER_TYPE$3={}));var BlurFilterPass=function(_e){__extends$6(j,_e);function j(et,tt,nt,rt,it){tt===void 0&&(tt=8),nt===void 0&&(nt=4),rt===void 0&&(rt=settings$1.FILTER_RESOLUTION),it===void 0&&(it=5);var st=this,at=generateBlurVertSource(it,et),ot=generateBlurFragSource(it);return st=_e.call(this,at,ot)||this,st.horizontal=et,st.resolution=rt,st._quality=0,st.quality=nt,st.blur=tt,st}return j.prototype.apply=function(et,tt,nt,rt){if(nt?this.horizontal?this.uniforms.strength=1/nt.width*(nt.width/tt.width):this.uniforms.strength=1/nt.height*(nt.height/tt.height):this.horizontal?this.uniforms.strength=1/et.renderer.width*(et.renderer.width/tt.width):this.uniforms.strength=1/et.renderer.height*(et.renderer.height/tt.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)et.applyFilter(this,tt,nt,rt);else{var it=et.getFilterTexture(),st=et.renderer,at=tt,ot=it;this.state.blend=!1,et.applyFilter(this,at,ot,CLEAR_MODES$3.CLEAR);for(var lt=1;lt<this.passes-1;lt++){et.bindAndClear(at,CLEAR_MODES$3.BLIT),this.uniforms.uSampler=ot;var ut=ot;ot=at,at=ut,st.shader.bind(this),st.geometry.draw(5)}this.state.blend=!0,et.applyFilter(this,ot,nt,rt),et.returnFilterTexture(it)}},Object.defineProperty(j.prototype,"blur",{get:function(){return this.strength},set:function(et){this.padding=1+Math.abs(et)*2,this.strength=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"quality",{get:function(){return this._quality},set:function(et){this._quality=et,this.passes=et},enumerable:!1,configurable:!0}),j}(Filter);(function(_e){__extends$6(j,_e);function j(et,tt,nt,rt){et===void 0&&(et=8),tt===void 0&&(tt=4),nt===void 0&&(nt=settings$1.FILTER_RESOLUTION),rt===void 0&&(rt=5);var it=_e.call(this)||this;return it.blurXFilter=new BlurFilterPass(!0,et,tt,nt,rt),it.blurYFilter=new BlurFilterPass(!1,et,tt,nt,rt),it.resolution=nt,it.quality=tt,it.blur=et,it.repeatEdgePixels=!1,it}return j.prototype.apply=function(et,tt,nt,rt){var it=Math.abs(this.blurXFilter.strength),st=Math.abs(this.blurYFilter.strength);if(it&&st){var at=et.getFilterTexture();this.blurXFilter.apply(et,tt,at,CLEAR_MODES$3.CLEAR),this.blurYFilter.apply(et,at,nt,rt),et.returnFilterTexture(at)}else st?this.blurYFilter.apply(et,tt,nt,rt):this.blurXFilter.apply(et,tt,nt,rt)},j.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(j.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(et){this.blurXFilter.blur=this.blurYFilter.blur=et,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(et){this.blurXFilter.quality=this.blurYFilter.quality=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(et){this.blurXFilter.blur=et,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(et){this.blurYFilter.blur=et,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(et){this.blurYFilter.blendMode=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(et){this._repeatEdgePixels=et,this.updatePadding()},enumerable:!1,configurable:!0}),j})(Filter);/*!
 * @pixi/filter-color-matrix - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$5=function(_e,j){return extendStatics$5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$5(_e,j)};function __extends$5(_e,j){extendStatics$5(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var fragment$k=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,ColorMatrixFilter=function(_e){__extends$5(j,_e);function j(){var et=this,tt={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return et=_e.call(this,defaultFilterVertex,fragment$k,tt)||this,et.alpha=1,et}return j.prototype._loadMatrix=function(et,tt){tt===void 0&&(tt=!1);var nt=et;tt&&(this._multiply(nt,this.uniforms.m,et),nt=this._colorMatrix(nt)),this.uniforms.m=nt},j.prototype._multiply=function(et,tt,nt){return et[0]=tt[0]*nt[0]+tt[1]*nt[5]+tt[2]*nt[10]+tt[3]*nt[15],et[1]=tt[0]*nt[1]+tt[1]*nt[6]+tt[2]*nt[11]+tt[3]*nt[16],et[2]=tt[0]*nt[2]+tt[1]*nt[7]+tt[2]*nt[12]+tt[3]*nt[17],et[3]=tt[0]*nt[3]+tt[1]*nt[8]+tt[2]*nt[13]+tt[3]*nt[18],et[4]=tt[0]*nt[4]+tt[1]*nt[9]+tt[2]*nt[14]+tt[3]*nt[19]+tt[4],et[5]=tt[5]*nt[0]+tt[6]*nt[5]+tt[7]*nt[10]+tt[8]*nt[15],et[6]=tt[5]*nt[1]+tt[6]*nt[6]+tt[7]*nt[11]+tt[8]*nt[16],et[7]=tt[5]*nt[2]+tt[6]*nt[7]+tt[7]*nt[12]+tt[8]*nt[17],et[8]=tt[5]*nt[3]+tt[6]*nt[8]+tt[7]*nt[13]+tt[8]*nt[18],et[9]=tt[5]*nt[4]+tt[6]*nt[9]+tt[7]*nt[14]+tt[8]*nt[19]+tt[9],et[10]=tt[10]*nt[0]+tt[11]*nt[5]+tt[12]*nt[10]+tt[13]*nt[15],et[11]=tt[10]*nt[1]+tt[11]*nt[6]+tt[12]*nt[11]+tt[13]*nt[16],et[12]=tt[10]*nt[2]+tt[11]*nt[7]+tt[12]*nt[12]+tt[13]*nt[17],et[13]=tt[10]*nt[3]+tt[11]*nt[8]+tt[12]*nt[13]+tt[13]*nt[18],et[14]=tt[10]*nt[4]+tt[11]*nt[9]+tt[12]*nt[14]+tt[13]*nt[19]+tt[14],et[15]=tt[15]*nt[0]+tt[16]*nt[5]+tt[17]*nt[10]+tt[18]*nt[15],et[16]=tt[15]*nt[1]+tt[16]*nt[6]+tt[17]*nt[11]+tt[18]*nt[16],et[17]=tt[15]*nt[2]+tt[16]*nt[7]+tt[17]*nt[12]+tt[18]*nt[17],et[18]=tt[15]*nt[3]+tt[16]*nt[8]+tt[17]*nt[13]+tt[18]*nt[18],et[19]=tt[15]*nt[4]+tt[16]*nt[9]+tt[17]*nt[14]+tt[18]*nt[19]+tt[19],et},j.prototype._colorMatrix=function(et){var tt=new Float32Array(et);return tt[4]/=255,tt[9]/=255,tt[14]/=255,tt[19]/=255,tt},j.prototype.brightness=function(et,tt){var nt=[et,0,0,0,0,0,et,0,0,0,0,0,et,0,0,0,0,0,1,0];this._loadMatrix(nt,tt)},j.prototype.tint=function(et,tt){var nt=et>>16&255,rt=et>>8&255,it=et&255,st=[nt/255,0,0,0,0,0,rt/255,0,0,0,0,0,it/255,0,0,0,0,0,1,0];this._loadMatrix(st,tt)},j.prototype.greyscale=function(et,tt){var nt=[et,et,et,0,0,et,et,et,0,0,et,et,et,0,0,0,0,0,1,0];this._loadMatrix(nt,tt)},j.prototype.blackAndWhite=function(et){var tt=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(tt,et)},j.prototype.hue=function(et,tt){et=(et||0)/180*Math.PI;var nt=Math.cos(et),rt=Math.sin(et),it=Math.sqrt,st=1/3,at=it(st),ot=nt+(1-nt)*st,lt=st*(1-nt)-at*rt,ut=st*(1-nt)+at*rt,ct=st*(1-nt)+at*rt,ht=nt+st*(1-nt),pt=st*(1-nt)-at*rt,gt=st*(1-nt)-at*rt,vt=st*(1-nt)+at*rt,ft=nt+st*(1-nt),mt=[ot,lt,ut,0,0,ct,ht,pt,0,0,gt,vt,ft,0,0,0,0,0,1,0];this._loadMatrix(mt,tt)},j.prototype.contrast=function(et,tt){var nt=(et||0)+1,rt=-.5*(nt-1),it=[nt,0,0,0,rt,0,nt,0,0,rt,0,0,nt,0,rt,0,0,0,1,0];this._loadMatrix(it,tt)},j.prototype.saturate=function(et,tt){et===void 0&&(et=0);var nt=et*2/3+1,rt=(nt-1)*-.5,it=[nt,rt,rt,0,0,rt,nt,rt,0,0,rt,rt,nt,0,0,0,0,0,1,0];this._loadMatrix(it,tt)},j.prototype.desaturate=function(){this.saturate(-1)},j.prototype.negative=function(et){var tt=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(tt,et)},j.prototype.sepia=function(et){var tt=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(tt,et)},j.prototype.technicolor=function(et){var tt=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(tt,et)},j.prototype.polaroid=function(et){var tt=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(tt,et)},j.prototype.toBGR=function(et){var tt=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(tt,et)},j.prototype.kodachrome=function(et){var tt=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(tt,et)},j.prototype.browni=function(et){var tt=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(tt,et)},j.prototype.vintage=function(et){var tt=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(tt,et)},j.prototype.colorTone=function(et,tt,nt,rt,it){et=et||.2,tt=tt||.15,nt=nt||16770432,rt=rt||3375104;var st=(nt>>16&255)/255,at=(nt>>8&255)/255,ot=(nt&255)/255,lt=(rt>>16&255)/255,ut=(rt>>8&255)/255,ct=(rt&255)/255,ht=[.3,.59,.11,0,0,st,at,ot,et,0,lt,ut,ct,tt,0,st-lt,at-ut,ot-ct,0,0];this._loadMatrix(ht,it)},j.prototype.night=function(et,tt){et=et||.1;var nt=[et*-2,-et,0,0,0,-et,0,et,0,0,0,et,et*2,0,0,0,0,0,1,0];this._loadMatrix(nt,tt)},j.prototype.predator=function(et,tt){var nt=[11.224130630493164*et,-4.794486999511719*et,-2.8746118545532227*et,0*et,.40342438220977783*et,-3.6330697536468506*et,9.193157196044922*et,-2.951810836791992*et,0*et,-1.316135048866272*et,-3.2184197902679443*et,-4.2375030517578125*et,7.476448059082031*et,0*et,.8044459223747253*et,0,0,0,1,0];this._loadMatrix(nt,tt)},j.prototype.lsd=function(et){var tt=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(tt,et)},j.prototype.reset=function(){var et=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(et,!1)},Object.defineProperty(j.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(et){this.uniforms.m=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(et){this.uniforms.uAlpha=et},enumerable:!1,configurable:!0}),j}(Filter);ColorMatrixFilter.prototype.grayscale=ColorMatrixFilter.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$4=function(_e,j){return extendStatics$4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$4(_e,j)};function __extends$4(_e,j){extendStatics$4(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var fragment$j=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,vertex$i=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(_e){__extends$4(j,_e);function j(et,tt){var nt=this,rt=new Matrix;return et.renderable=!1,nt=_e.call(this,vertex$i,fragment$j,{mapSampler:et._texture,filterMatrix:rt,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,nt.maskSprite=et,nt.maskMatrix=rt,tt==null&&(tt=20),nt.scale=new Point(tt,tt),nt}return j.prototype.apply=function(et,tt,nt,rt){this.uniforms.filterMatrix=et.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var it=this.maskSprite.worldTransform,st=Math.sqrt(it.a*it.a+it.b*it.b),at=Math.sqrt(it.c*it.c+it.d*it.d);st!==0&&at!==0&&(this.uniforms.rotation[0]=it.a/st,this.uniforms.rotation[1]=it.b/st,this.uniforms.rotation[2]=it.c/at,this.uniforms.rotation[3]=it.d/at),et.applyFilter(this,tt,nt,rt)},Object.defineProperty(j.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(et){this.uniforms.mapSampler=et},enumerable:!1,configurable:!0}),j})(Filter);/*!
 * @pixi/filter-fxaa - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$3=function(_e,j){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$3(_e,j)};function __extends$3(_e,j){extendStatics$3(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var vertex$h=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,fragment$i=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(_e){__extends$3(j,_e);function j(){return _e.call(this,vertex$h,fragment$i)||this}return j})(Filter);/*!
 * @pixi/filter-noise - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$2=function(_e,j){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$2(_e,j)};function __extends$2(_e,j){extendStatics$2(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var fragment$h=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(_e){__extends$2(j,_e);function j(et,tt){et===void 0&&(et=.5),tt===void 0&&(tt=Math.random());var nt=_e.call(this,defaultFilterVertex,fragment$h,{uNoise:0,uSeed:0})||this;return nt.noise=et,nt.seed=tt,nt}return Object.defineProperty(j.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(et){this.uniforms.uNoise=et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(et){this.uniforms.uSeed=et},enumerable:!1,configurable:!0}),j})(Filter);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$2;(function(_e){_e[_e.WEBGL_LEGACY=0]="WEBGL_LEGACY",_e[_e.WEBGL=1]="WEBGL",_e[_e.WEBGL2=2]="WEBGL2"})(ENV$2||(ENV$2={}));var RENDERER_TYPE$2;(function(_e){_e[_e.UNKNOWN=0]="UNKNOWN",_e[_e.WEBGL=1]="WEBGL",_e[_e.CANVAS=2]="CANVAS"})(RENDERER_TYPE$2||(RENDERER_TYPE$2={}));var BUFFER_BITS$2;(function(_e){_e[_e.COLOR=16384]="COLOR",_e[_e.DEPTH=256]="DEPTH",_e[_e.STENCIL=1024]="STENCIL"})(BUFFER_BITS$2||(BUFFER_BITS$2={}));var BLEND_MODES$2;(function(_e){_e[_e.NORMAL=0]="NORMAL",_e[_e.ADD=1]="ADD",_e[_e.MULTIPLY=2]="MULTIPLY",_e[_e.SCREEN=3]="SCREEN",_e[_e.OVERLAY=4]="OVERLAY",_e[_e.DARKEN=5]="DARKEN",_e[_e.LIGHTEN=6]="LIGHTEN",_e[_e.COLOR_DODGE=7]="COLOR_DODGE",_e[_e.COLOR_BURN=8]="COLOR_BURN",_e[_e.HARD_LIGHT=9]="HARD_LIGHT",_e[_e.SOFT_LIGHT=10]="SOFT_LIGHT",_e[_e.DIFFERENCE=11]="DIFFERENCE",_e[_e.EXCLUSION=12]="EXCLUSION",_e[_e.HUE=13]="HUE",_e[_e.SATURATION=14]="SATURATION",_e[_e.COLOR=15]="COLOR",_e[_e.LUMINOSITY=16]="LUMINOSITY",_e[_e.NORMAL_NPM=17]="NORMAL_NPM",_e[_e.ADD_NPM=18]="ADD_NPM",_e[_e.SCREEN_NPM=19]="SCREEN_NPM",_e[_e.NONE=20]="NONE",_e[_e.SRC_OVER=0]="SRC_OVER",_e[_e.SRC_IN=21]="SRC_IN",_e[_e.SRC_OUT=22]="SRC_OUT",_e[_e.SRC_ATOP=23]="SRC_ATOP",_e[_e.DST_OVER=24]="DST_OVER",_e[_e.DST_IN=25]="DST_IN",_e[_e.DST_OUT=26]="DST_OUT",_e[_e.DST_ATOP=27]="DST_ATOP",_e[_e.ERASE=26]="ERASE",_e[_e.SUBTRACT=28]="SUBTRACT",_e[_e.XOR=29]="XOR"})(BLEND_MODES$2||(BLEND_MODES$2={}));var DRAW_MODES$2;(function(_e){_e[_e.POINTS=0]="POINTS",_e[_e.LINES=1]="LINES",_e[_e.LINE_LOOP=2]="LINE_LOOP",_e[_e.LINE_STRIP=3]="LINE_STRIP",_e[_e.TRIANGLES=4]="TRIANGLES",_e[_e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",_e[_e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$2||(DRAW_MODES$2={}));var FORMATS$2;(function(_e){_e[_e.RGBA=6408]="RGBA",_e[_e.RGB=6407]="RGB",_e[_e.RG=33319]="RG",_e[_e.RED=6403]="RED",_e[_e.RGBA_INTEGER=36249]="RGBA_INTEGER",_e[_e.RGB_INTEGER=36248]="RGB_INTEGER",_e[_e.RG_INTEGER=33320]="RG_INTEGER",_e[_e.RED_INTEGER=36244]="RED_INTEGER",_e[_e.ALPHA=6406]="ALPHA",_e[_e.LUMINANCE=6409]="LUMINANCE",_e[_e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",_e[_e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",_e[_e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$2||(FORMATS$2={}));var TARGETS$2;(function(_e){_e[_e.TEXTURE_2D=3553]="TEXTURE_2D",_e[_e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",_e[_e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$2||(TARGETS$2={}));var TYPES$2;(function(_e){_e[_e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",_e[_e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",_e[_e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",_e[_e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",_e[_e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",_e[_e.UNSIGNED_INT=5125]="UNSIGNED_INT",_e[_e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",_e[_e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",_e[_e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",_e[_e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",_e[_e.BYTE=5120]="BYTE",_e[_e.SHORT=5122]="SHORT",_e[_e.INT=5124]="INT",_e[_e.FLOAT=5126]="FLOAT",_e[_e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",_e[_e.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$2||(TYPES$2={}));var SAMPLER_TYPES$2;(function(_e){_e[_e.FLOAT=0]="FLOAT",_e[_e.INT=1]="INT",_e[_e.UINT=2]="UINT"})(SAMPLER_TYPES$2||(SAMPLER_TYPES$2={}));var SCALE_MODES$2;(function(_e){_e[_e.NEAREST=0]="NEAREST",_e[_e.LINEAR=1]="LINEAR"})(SCALE_MODES$2||(SCALE_MODES$2={}));var WRAP_MODES$2;(function(_e){_e[_e.CLAMP=33071]="CLAMP",_e[_e.REPEAT=10497]="REPEAT",_e[_e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$2||(WRAP_MODES$2={}));var MIPMAP_MODES$2;(function(_e){_e[_e.OFF=0]="OFF",_e[_e.POW2=1]="POW2",_e[_e.ON=2]="ON",_e[_e.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$2||(MIPMAP_MODES$2={}));var ALPHA_MODES$2;(function(_e){_e[_e.NPM=0]="NPM",_e[_e.UNPACK=1]="UNPACK",_e[_e.PMA=2]="PMA",_e[_e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",_e[_e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",_e[_e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",_e[_e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$2||(ALPHA_MODES$2={}));var CLEAR_MODES$2;(function(_e){_e[_e.NO=0]="NO",_e[_e.YES=1]="YES",_e[_e.AUTO=2]="AUTO",_e[_e.BLEND=0]="BLEND",_e[_e.CLEAR=1]="CLEAR",_e[_e.BLIT=2]="BLIT"})(CLEAR_MODES$2||(CLEAR_MODES$2={}));var GC_MODES$2;(function(_e){_e[_e.AUTO=0]="AUTO",_e[_e.MANUAL=1]="MANUAL"})(GC_MODES$2||(GC_MODES$2={}));var PRECISION$2;(function(_e){_e.LOW="lowp",_e.MEDIUM="mediump",_e.HIGH="highp"})(PRECISION$2||(PRECISION$2={}));var MASK_TYPES$2;(function(_e){_e[_e.NONE=0]="NONE",_e[_e.SCISSOR=1]="SCISSOR",_e[_e.STENCIL=2]="STENCIL",_e[_e.SPRITE=3]="SPRITE",_e[_e.COLOR=4]="COLOR"})(MASK_TYPES$2||(MASK_TYPES$2={}));var COLOR_MASK_BITS$2;(function(_e){_e[_e.RED=1]="RED",_e[_e.GREEN=2]="GREEN",_e[_e.BLUE=4]="BLUE",_e[_e.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS$2||(COLOR_MASK_BITS$2={}));var MSAA_QUALITY$2;(function(_e){_e[_e.NONE=0]="NONE",_e[_e.LOW=2]="LOW",_e[_e.MEDIUM=4]="MEDIUM",_e[_e.HIGH=8]="HIGH"})(MSAA_QUALITY$2||(MSAA_QUALITY$2={}));var BUFFER_TYPE$2;(function(_e){_e[_e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",_e[_e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",_e[_e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$2||(BUFFER_TYPE$2={}));var _tempMatrix=new Matrix;DisplayObject.prototype._cacheAsBitmap=!1;DisplayObject.prototype._cacheData=null;DisplayObject.prototype._cacheAsBitmapResolution=null;DisplayObject.prototype._cacheAsBitmapMultisample=MSAA_QUALITY$2.NONE;var CacheData=function(){function _e(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return _e}();Object.defineProperties(DisplayObject.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(_e){_e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=_e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(_e){_e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=_e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(_e){if(this._cacheAsBitmap!==_e){this._cacheAsBitmap=_e;var j;_e?(this._cacheData||(this._cacheData=new CacheData),j=this._cacheData,j.originalRender=this.render,j.originalRenderCanvas=this.renderCanvas,j.originalUpdateTransform=this.updateTransform,j.originalCalculateBounds=this.calculateBounds,j.originalGetLocalBounds=this.getLocalBounds,j.originalDestroy=this.destroy,j.originalContainsPoint=this.containsPoint,j.originalMask=this._mask,j.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(j=this._cacheData,j.sprite&&this._destroyCachedDisplayObject(),this.render=j.originalRender,this.renderCanvas=j.originalRenderCanvas,this.calculateBounds=j.originalCalculateBounds,this.getLocalBounds=j.originalGetLocalBounds,this.destroy=j.originalDestroy,this.updateTransform=j.originalUpdateTransform,this.containsPoint=j.originalContainsPoint,this._mask=j.originalMask,this.filterArea=j.originalFilterArea)}}}});DisplayObject.prototype._renderCached=function(j){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(j),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(j))};DisplayObject.prototype._initCachedDisplayObject=function(j){var et;if(!(this._cacheData&&this._cacheData.sprite)){var tt=this.alpha;this.alpha=1,j.batch.flush();var nt=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var rt=this.filters[0].padding;nt.pad(rt)}nt.ceil(settings$1.RESOLUTION);var it=j.renderTexture.current,st=j.renderTexture.sourceFrame.clone(),at=j.renderTexture.destinationFrame.clone(),ot=j.projection.transform,lt=RenderTexture.create({width:nt.width,height:nt.height,resolution:this.cacheAsBitmapResolution||j.resolution,multisample:(et=this.cacheAsBitmapMultisample)!==null&&et!==void 0?et:j.multisample}),ut="cacheAsBitmap_"+uid();this._cacheData.textureCacheId=ut,BaseTexture.addToCache(lt.baseTexture,ut),Texture$1.addToCache(lt,ut);var ct=this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-nt.x,-nt.y);this.render=this._cacheData.originalRender,j.render(this,{renderTexture:lt,clear:!0,transform:ct,skipUpdateTransform:!1}),j.framebuffer.blit(),j.projection.transform=ot,j.renderTexture.bind(it,st,at),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=tt;var ht=new Sprite$1(lt);ht.transform.worldTransform=this.transform.worldTransform,ht.anchor.x=-(nt.x/nt.width),ht.anchor.y=-(nt.y/nt.height),ht.alpha=tt,ht._bounds=this._bounds,this._cacheData.sprite=ht,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=ht.containsPoint.bind(ht)}};DisplayObject.prototype._renderCachedCanvas=function(j){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(j),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(j))};DisplayObject.prototype._initCachedDisplayObjectCanvas=function(j){if(!(this._cacheData&&this._cacheData.sprite)){var et=this.getLocalBounds(null,!0),tt=this.alpha;this.alpha=1;var nt=j.context,rt=j._projTransform;et.ceil(settings$1.RESOLUTION);var it=RenderTexture.create({width:et.width,height:et.height}),st="cacheAsBitmap_"+uid();this._cacheData.textureCacheId=st,BaseTexture.addToCache(it.baseTexture,st),Texture$1.addToCache(it,st);var at=_tempMatrix;this.transform.localTransform.copyTo(at),at.invert(),at.tx-=et.x,at.ty-=et.y,this.renderCanvas=this._cacheData.originalRenderCanvas,j.render(this,{renderTexture:it,clear:!0,transform:at,skipUpdateTransform:!1}),j.context=nt,j._projTransform=rt,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=tt;var ot=new Sprite$1(it);ot.transform.worldTransform=this.transform.worldTransform,ot.anchor.x=-(et.x/et.width),ot.anchor.y=-(et.y/et.height),ot.alpha=tt,ot._bounds=this._bounds,this._cacheData.sprite=ot,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=j._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=ot.containsPoint.bind(ot)}};DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,BaseTexture.removeFromCache(this._cacheData.textureCacheId),Texture$1.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};DisplayObject.prototype._cacheAsBitmapDestroy=function(j){this.cacheAsBitmap=!1,this.destroy(j)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */DisplayObject.prototype.name=null;Container.prototype.getChildByName=function(j,et){for(var tt=0,nt=this.children.length;tt<nt;tt++)if(this.children[tt].name===j)return this.children[tt];if(et)for(var tt=0,nt=this.children.length;tt<nt;tt++){var rt=this.children[tt];if(!!rt.getChildByName){var it=rt.getChildByName(j,!0);if(it)return it}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */DisplayObject.prototype.getGlobalPosition=function(j,et){return j===void 0&&(j=new Point),et===void 0&&(et=!1),this.parent?this.parent.toGlobal(this.position,j,et):(j.x=this.position.x,j.y=this.position.y),j};/*!
 * @pixi/app - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ResizePlugin=function(){function _e(){}return _e.init=function(j){var et=this;Object.defineProperty(this,"resizeTo",{set:function(tt){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=tt,tt&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!et._resizeTo||(et.cancelResize(),et._resizeId=requestAnimationFrame(function(){return et.resize()}))},this.cancelResize=function(){et._resizeId&&(cancelAnimationFrame(et._resizeId),et._resizeId=null)},this.resize=function(){if(!!et._resizeTo){et.cancelResize();var tt,nt;if(et._resizeTo===globalThis.window)tt=globalThis.innerWidth,nt=globalThis.innerHeight;else{var rt=et._resizeTo,it=rt.clientWidth,st=rt.clientHeight;tt=it,nt=st}et.renderer.resize(tt,nt)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=j.resizeTo||null},_e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},_e.extension=ExtensionType.Application,_e}();/*!
 * @pixi/settings - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$1;(function(_e){_e[_e.WEBGL_LEGACY=0]="WEBGL_LEGACY",_e[_e.WEBGL=1]="WEBGL",_e[_e.WEBGL2=2]="WEBGL2"})(ENV$1||(ENV$1={}));var RENDERER_TYPE$1;(function(_e){_e[_e.UNKNOWN=0]="UNKNOWN",_e[_e.WEBGL=1]="WEBGL",_e[_e.CANVAS=2]="CANVAS"})(RENDERER_TYPE$1||(RENDERER_TYPE$1={}));var BUFFER_BITS$1;(function(_e){_e[_e.COLOR=16384]="COLOR",_e[_e.DEPTH=256]="DEPTH",_e[_e.STENCIL=1024]="STENCIL"})(BUFFER_BITS$1||(BUFFER_BITS$1={}));var BLEND_MODES$1;(function(_e){_e[_e.NORMAL=0]="NORMAL",_e[_e.ADD=1]="ADD",_e[_e.MULTIPLY=2]="MULTIPLY",_e[_e.SCREEN=3]="SCREEN",_e[_e.OVERLAY=4]="OVERLAY",_e[_e.DARKEN=5]="DARKEN",_e[_e.LIGHTEN=6]="LIGHTEN",_e[_e.COLOR_DODGE=7]="COLOR_DODGE",_e[_e.COLOR_BURN=8]="COLOR_BURN",_e[_e.HARD_LIGHT=9]="HARD_LIGHT",_e[_e.SOFT_LIGHT=10]="SOFT_LIGHT",_e[_e.DIFFERENCE=11]="DIFFERENCE",_e[_e.EXCLUSION=12]="EXCLUSION",_e[_e.HUE=13]="HUE",_e[_e.SATURATION=14]="SATURATION",_e[_e.COLOR=15]="COLOR",_e[_e.LUMINOSITY=16]="LUMINOSITY",_e[_e.NORMAL_NPM=17]="NORMAL_NPM",_e[_e.ADD_NPM=18]="ADD_NPM",_e[_e.SCREEN_NPM=19]="SCREEN_NPM",_e[_e.NONE=20]="NONE",_e[_e.SRC_OVER=0]="SRC_OVER",_e[_e.SRC_IN=21]="SRC_IN",_e[_e.SRC_OUT=22]="SRC_OUT",_e[_e.SRC_ATOP=23]="SRC_ATOP",_e[_e.DST_OVER=24]="DST_OVER",_e[_e.DST_IN=25]="DST_IN",_e[_e.DST_OUT=26]="DST_OUT",_e[_e.DST_ATOP=27]="DST_ATOP",_e[_e.ERASE=26]="ERASE",_e[_e.SUBTRACT=28]="SUBTRACT",_e[_e.XOR=29]="XOR"})(BLEND_MODES$1||(BLEND_MODES$1={}));var DRAW_MODES$1;(function(_e){_e[_e.POINTS=0]="POINTS",_e[_e.LINES=1]="LINES",_e[_e.LINE_LOOP=2]="LINE_LOOP",_e[_e.LINE_STRIP=3]="LINE_STRIP",_e[_e.TRIANGLES=4]="TRIANGLES",_e[_e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",_e[_e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$1||(DRAW_MODES$1={}));var FORMATS$1;(function(_e){_e[_e.RGBA=6408]="RGBA",_e[_e.RGB=6407]="RGB",_e[_e.RG=33319]="RG",_e[_e.RED=6403]="RED",_e[_e.RGBA_INTEGER=36249]="RGBA_INTEGER",_e[_e.RGB_INTEGER=36248]="RGB_INTEGER",_e[_e.RG_INTEGER=33320]="RG_INTEGER",_e[_e.RED_INTEGER=36244]="RED_INTEGER",_e[_e.ALPHA=6406]="ALPHA",_e[_e.LUMINANCE=6409]="LUMINANCE",_e[_e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",_e[_e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",_e[_e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$1||(FORMATS$1={}));var TARGETS$1;(function(_e){_e[_e.TEXTURE_2D=3553]="TEXTURE_2D",_e[_e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",_e[_e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$1||(TARGETS$1={}));var TYPES$1;(function(_e){_e[_e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",_e[_e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",_e[_e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",_e[_e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",_e[_e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",_e[_e.UNSIGNED_INT=5125]="UNSIGNED_INT",_e[_e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",_e[_e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",_e[_e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",_e[_e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",_e[_e.BYTE=5120]="BYTE",_e[_e.SHORT=5122]="SHORT",_e[_e.INT=5124]="INT",_e[_e.FLOAT=5126]="FLOAT",_e[_e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",_e[_e.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$1||(TYPES$1={}));var SAMPLER_TYPES$1;(function(_e){_e[_e.FLOAT=0]="FLOAT",_e[_e.INT=1]="INT",_e[_e.UINT=2]="UINT"})(SAMPLER_TYPES$1||(SAMPLER_TYPES$1={}));var SCALE_MODES$1;(function(_e){_e[_e.NEAREST=0]="NEAREST",_e[_e.LINEAR=1]="LINEAR"})(SCALE_MODES$1||(SCALE_MODES$1={}));var WRAP_MODES$1;(function(_e){_e[_e.CLAMP=33071]="CLAMP",_e[_e.REPEAT=10497]="REPEAT",_e[_e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$1||(WRAP_MODES$1={}));var MIPMAP_MODES$1;(function(_e){_e[_e.OFF=0]="OFF",_e[_e.POW2=1]="POW2",_e[_e.ON=2]="ON",_e[_e.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$1||(MIPMAP_MODES$1={}));var ALPHA_MODES$1;(function(_e){_e[_e.NPM=0]="NPM",_e[_e.UNPACK=1]="UNPACK",_e[_e.PMA=2]="PMA",_e[_e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",_e[_e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",_e[_e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",_e[_e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$1||(ALPHA_MODES$1={}));var CLEAR_MODES$1;(function(_e){_e[_e.NO=0]="NO",_e[_e.YES=1]="YES",_e[_e.AUTO=2]="AUTO",_e[_e.BLEND=0]="BLEND",_e[_e.CLEAR=1]="CLEAR",_e[_e.BLIT=2]="BLIT"})(CLEAR_MODES$1||(CLEAR_MODES$1={}));var GC_MODES$1;(function(_e){_e[_e.AUTO=0]="AUTO",_e[_e.MANUAL=1]="MANUAL"})(GC_MODES$1||(GC_MODES$1={}));var PRECISION$1;(function(_e){_e.LOW="lowp",_e.MEDIUM="mediump",_e.HIGH="highp"})(PRECISION$1||(PRECISION$1={}));var MASK_TYPES$1;(function(_e){_e[_e.NONE=0]="NONE",_e[_e.SCISSOR=1]="SCISSOR",_e[_e.STENCIL=2]="STENCIL",_e[_e.SPRITE=3]="SPRITE",_e[_e.COLOR=4]="COLOR"})(MASK_TYPES$1||(MASK_TYPES$1={}));var COLOR_MASK_BITS$1;(function(_e){_e[_e.RED=1]="RED",_e[_e.GREEN=2]="GREEN",_e[_e.BLUE=4]="BLUE",_e[_e.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS$1||(COLOR_MASK_BITS$1={}));var MSAA_QUALITY$1;(function(_e){_e[_e.NONE=0]="NONE",_e[_e.LOW=2]="LOW",_e[_e.MEDIUM=4]="MEDIUM",_e[_e.HIGH=8]="HIGH"})(MSAA_QUALITY$1||(MSAA_QUALITY$1={}));var BUFFER_TYPE$1;(function(_e){_e[_e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",_e[_e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",_e[_e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$1||(BUFFER_TYPE$1={}));var BrowserAdapter={createCanvas:function(_e,j){var et=document.createElement("canvas");return et.width=_e,et.height=j,et},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var _e;return(_e=document.baseURI)!==null&&_e!==void 0?_e:window.location.href},fetch:function(_e,j){return fetch(_e,j)}},appleIphone=/iPhone/i,appleIpod=/iPod/i,appleTablet=/iPad/i,appleUniversal=/\biOS-universal(?:.+)Mac\b/i,androidPhone=/\bAndroid(?:.+)Mobile\b/i,androidTablet=/Android/i,amazonPhone=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet=/Silk/i,windowsPhone=/Windows Phone/i,windowsTablet=/\bWindows(?:.+)ARM\b/i,otherBlackBerry=/BlackBerry/i,otherBlackBerry10=/BB10/i,otherOpera=/Opera Mini/i,otherChrome=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13=function(_e){return typeof _e!="undefined"&&_e.platform==="MacIntel"&&typeof _e.maxTouchPoints=="number"&&_e.maxTouchPoints>1&&typeof MSStream=="undefined"};function createMatch(_e){return function(j){return j.test(_e)}}function isMobile$1(_e){var j={userAgent:"",platform:"",maxTouchPoints:0};!_e&&typeof navigator!="undefined"?j={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof _e=="string"?j.userAgent=_e:_e&&_e.userAgent&&(j={userAgent:_e.userAgent,platform:_e.platform,maxTouchPoints:_e.maxTouchPoints||0});var et=j.userAgent,tt=et.split("[FBAN");typeof tt[1]!="undefined"&&(et=tt[0]),tt=et.split("Twitter"),typeof tt[1]!="undefined"&&(et=tt[0]);var nt=createMatch(et),rt={apple:{phone:nt(appleIphone)&&!nt(windowsPhone),ipod:nt(appleIpod),tablet:!nt(appleIphone)&&(nt(appleTablet)||isAppleTabletOnIos13(j))&&!nt(windowsPhone),universal:nt(appleUniversal),device:(nt(appleIphone)||nt(appleIpod)||nt(appleTablet)||nt(appleUniversal)||isAppleTabletOnIos13(j))&&!nt(windowsPhone)},amazon:{phone:nt(amazonPhone),tablet:!nt(amazonPhone)&&nt(amazonTablet),device:nt(amazonPhone)||nt(amazonTablet)},android:{phone:!nt(windowsPhone)&&nt(amazonPhone)||!nt(windowsPhone)&&nt(androidPhone),tablet:!nt(windowsPhone)&&!nt(amazonPhone)&&!nt(androidPhone)&&(nt(amazonTablet)||nt(androidTablet)),device:!nt(windowsPhone)&&(nt(amazonPhone)||nt(amazonTablet)||nt(androidPhone)||nt(androidTablet))||nt(/\bokhttp\b/i)},windows:{phone:nt(windowsPhone),tablet:nt(windowsTablet),device:nt(windowsPhone)||nt(windowsTablet)},other:{blackberry:nt(otherBlackBerry),blackberry10:nt(otherBlackBerry10),opera:nt(otherOpera),firefox:nt(otherFirefox),chrome:nt(otherChrome),device:nt(otherBlackBerry)||nt(otherBlackBerry10)||nt(otherOpera)||nt(otherFirefox)||nt(otherChrome)},any:!1,phone:!1,tablet:!1};return rt.any=rt.apple.device||rt.android.device||rt.windows.device||rt.other.device,rt.phone=rt.apple.phone||rt.android.phone||rt.windows.phone,rt.tablet=rt.apple.tablet||rt.android.tablet||rt.windows.tablet,rt}var isMobile=isMobile$1(globalThis.navigator);function canUploadSameBuffer(){return!isMobile.apple.device}function maxRecommendedTextures(_e){var j=!0;if(isMobile.tablet||isMobile.phone){if(isMobile.apple.device){var et=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(et){var tt=parseInt(et[1],10);tt<11&&(j=!1)}}if(isMobile.android.device){var et=navigator.userAgent.match(/Android\s([0-9.]*)/);if(et){var tt=parseInt(et[1],10);tt<7&&(j=!1)}}}return j?_e:4}var settings={ADAPTER:BrowserAdapter,MIPMAP_TEXTURES:MIPMAP_MODES$1.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:MSAA_QUALITY$1.NONE,SPRITE_MAX_TEXTURES:maxRecommendedTextures(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:GC_MODES$1.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:WRAP_MODES$1.CLAMP,SCALE_MODE:SCALE_MODES$1.LINEAR,PRECISION_VERTEX:PRECISION$1.HIGH,PRECISION_FRAGMENT:isMobile.apple.device?PRECISION$1.HIGH:PRECISION$1.MEDIUM,CAN_UPLOAD_SAME_BUFFER:canUploadSameBuffer(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function createCommonjsModule(_e,j,et){return et={path:j,exports:{},require:function(tt,nt){return commonjsRequire(tt,nt==null?et.path:nt)}},_e(et,et.exports),et.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}createCommonjsModule(function(_e){var j=Object.prototype.hasOwnProperty,et="~";function tt(){}Object.create&&(tt.prototype=Object.create(null),new tt().__proto__||(et=!1));function nt(at,ot,lt){this.fn=at,this.context=ot,this.once=lt||!1}function rt(at,ot,lt,ut,ct){if(typeof lt!="function")throw new TypeError("The listener must be a function");var ht=new nt(lt,ut||at,ct),pt=et?et+ot:ot;return at._events[pt]?at._events[pt].fn?at._events[pt]=[at._events[pt],ht]:at._events[pt].push(ht):(at._events[pt]=ht,at._eventsCount++),at}function it(at,ot){--at._eventsCount===0?at._events=new tt:delete at._events[ot]}function st(){this._events=new tt,this._eventsCount=0}st.prototype.eventNames=function(){var ot=[],lt,ut;if(this._eventsCount===0)return ot;for(ut in lt=this._events)j.call(lt,ut)&&ot.push(et?ut.slice(1):ut);return Object.getOwnPropertySymbols?ot.concat(Object.getOwnPropertySymbols(lt)):ot},st.prototype.listeners=function(ot){var lt=et?et+ot:ot,ut=this._events[lt];if(!ut)return[];if(ut.fn)return[ut.fn];for(var ct=0,ht=ut.length,pt=new Array(ht);ct<ht;ct++)pt[ct]=ut[ct].fn;return pt},st.prototype.listenerCount=function(ot){var lt=et?et+ot:ot,ut=this._events[lt];return ut?ut.fn?1:ut.length:0},st.prototype.emit=function(ot,lt,ut,ct,ht,pt){var gt=arguments,vt=et?et+ot:ot;if(!this._events[vt])return!1;var ft=this._events[vt],mt=arguments.length,xt,_t;if(ft.fn){switch(ft.once&&this.removeListener(ot,ft.fn,void 0,!0),mt){case 1:return ft.fn.call(ft.context),!0;case 2:return ft.fn.call(ft.context,lt),!0;case 3:return ft.fn.call(ft.context,lt,ut),!0;case 4:return ft.fn.call(ft.context,lt,ut,ct),!0;case 5:return ft.fn.call(ft.context,lt,ut,ct,ht),!0;case 6:return ft.fn.call(ft.context,lt,ut,ct,ht,pt),!0}for(_t=1,xt=new Array(mt-1);_t<mt;_t++)xt[_t-1]=gt[_t];ft.fn.apply(ft.context,xt)}else{var Tt=ft.length,wt;for(_t=0;_t<Tt;_t++)switch(ft[_t].once&&this.removeListener(ot,ft[_t].fn,void 0,!0),mt){case 1:ft[_t].fn.call(ft[_t].context);break;case 2:ft[_t].fn.call(ft[_t].context,lt);break;case 3:ft[_t].fn.call(ft[_t].context,lt,ut);break;case 4:ft[_t].fn.call(ft[_t].context,lt,ut,ct);break;default:if(!xt)for(wt=1,xt=new Array(mt-1);wt<mt;wt++)xt[wt-1]=gt[wt];ft[_t].fn.apply(ft[_t].context,xt)}}return!0},st.prototype.on=function(ot,lt,ut){return rt(this,ot,lt,ut,!1)},st.prototype.once=function(ot,lt,ut){return rt(this,ot,lt,ut,!0)},st.prototype.removeListener=function(ot,lt,ut,ct){var ht=et?et+ot:ot;if(!this._events[ht])return this;if(!lt)return it(this,ht),this;var pt=this._events[ht];if(pt.fn)pt.fn===lt&&(!ct||pt.once)&&(!ut||pt.context===ut)&&it(this,ht);else{for(var gt=0,vt=[],ft=pt.length;gt<ft;gt++)(pt[gt].fn!==lt||ct&&!pt[gt].once||ut&&pt[gt].context!==ut)&&vt.push(pt[gt]);vt.length?this._events[ht]=vt.length===1?vt[0]:vt:it(this,ht)}return this},st.prototype.removeAllListeners=function(ot){var lt;return ot?(lt=et?et+ot:ot,this._events[lt]&&it(this,lt)):(this._events=new tt,this._eventsCount=0),this},st.prototype.off=st.prototype.removeListener,st.prototype.addListener=st.prototype.on,st.prefixed=et,st.EventEmitter=st,_e.exports=st});createCommonjsModule(function(_e,j){(function(et){var tt=j&&!j.nodeType&&j,nt=_e&&!_e.nodeType&&_e,rt=typeof commonjsGlobal=="object"&&commonjsGlobal;(rt.global===rt||rt.window===rt||rt.self===rt)&&(et=rt);var it,st=2147483647,at=36,ot=1,lt=26,ut=38,ct=700,ht=72,pt=128,gt="-",vt=/^xn--/,ft=/[^\x20-\x7E]/,mt=/[\x2E\u3002\uFF0E\uFF61]/g,xt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_t=at-ot,Tt=Math.floor,wt=String.fromCharCode,bt;function Ct(Ht){throw RangeError(xt[Ht])}function Lt(Ht,Vt){for(var qt=Ht.length,an=[];qt--;)an[qt]=Vt(Ht[qt]);return an}function $t(Ht,Vt){var qt=Ht.split("@"),an="";qt.length>1&&(an=qt[0]+"@",Ht=qt[1]),Ht=Ht.replace(mt,".");var gn=Ht.split("."),yn=Lt(gn,Vt).join(".");return an+yn}function Rt(Ht){for(var Vt=[],qt=0,an=Ht.length,gn,yn;qt<an;)gn=Ht.charCodeAt(qt++),gn>=55296&&gn<=56319&&qt<an?(yn=Ht.charCodeAt(qt++),(yn&64512)==56320?Vt.push(((gn&1023)<<10)+(yn&1023)+65536):(Vt.push(gn),qt--)):Vt.push(gn);return Vt}function Bt(Ht){return Lt(Ht,function(Vt){var qt="";return Vt>65535&&(Vt-=65536,qt+=wt(Vt>>>10&1023|55296),Vt=56320|Vt&1023),qt+=wt(Vt),qt}).join("")}function Gt(Ht){return Ht-48<10?Ht-22:Ht-65<26?Ht-65:Ht-97<26?Ht-97:at}function Ft(Ht,Vt){return Ht+22+75*(Ht<26)-((Vt!=0)<<5)}function kt(Ht,Vt,qt){var an=0;for(Ht=qt?Tt(Ht/ct):Ht>>1,Ht+=Tt(Ht/Vt);Ht>_t*lt>>1;an+=at)Ht=Tt(Ht/_t);return Tt(an+(_t+1)*Ht/(Ht+ut))}function It(Ht){var Vt=[],qt=Ht.length,an,gn=0,yn=pt,fn=ht,In,Dn,Mn,Fn,Vn,mn,dn,An,Yn;for(In=Ht.lastIndexOf(gt),In<0&&(In=0),Dn=0;Dn<In;++Dn)Ht.charCodeAt(Dn)>=128&&Ct("not-basic"),Vt.push(Ht.charCodeAt(Dn));for(Mn=In>0?In+1:0;Mn<qt;){for(Fn=gn,Vn=1,mn=at;Mn>=qt&&Ct("invalid-input"),dn=Gt(Ht.charCodeAt(Mn++)),(dn>=at||dn>Tt((st-gn)/Vn))&&Ct("overflow"),gn+=dn*Vn,An=mn<=fn?ot:mn>=fn+lt?lt:mn-fn,!(dn<An);mn+=at)Yn=at-An,Vn>Tt(st/Yn)&&Ct("overflow"),Vn*=Yn;an=Vt.length+1,fn=kt(gn-Fn,an,Fn==0),Tt(gn/an)>st-yn&&Ct("overflow"),yn+=Tt(gn/an),gn%=an,Vt.splice(gn++,0,yn)}return Bt(Vt)}function Ot(Ht){var Vt,qt,an,gn,yn,fn,In,Dn,Mn,Fn,Vn,mn=[],dn,An,Yn,Bn;for(Ht=Rt(Ht),dn=Ht.length,Vt=pt,qt=0,yn=ht,fn=0;fn<dn;++fn)Vn=Ht[fn],Vn<128&&mn.push(wt(Vn));for(an=gn=mn.length,gn&&mn.push(gt);an<dn;){for(In=st,fn=0;fn<dn;++fn)Vn=Ht[fn],Vn>=Vt&&Vn<In&&(In=Vn);for(An=an+1,In-Vt>Tt((st-qt)/An)&&Ct("overflow"),qt+=(In-Vt)*An,Vt=In,fn=0;fn<dn;++fn)if(Vn=Ht[fn],Vn<Vt&&++qt>st&&Ct("overflow"),Vn==Vt){for(Dn=qt,Mn=at;Fn=Mn<=yn?ot:Mn>=yn+lt?lt:Mn-yn,!(Dn<Fn);Mn+=at)Bn=Dn-Fn,Yn=at-Fn,mn.push(wt(Ft(Fn+Bn%Yn,0))),Dn=Tt(Bn/Yn);mn.push(wt(Ft(Dn,0))),yn=kt(qt,An,an==gn),qt=0,++an}++qt,++Vt}return mn.join("")}function Ut(Ht){return $t(Ht,function(Vt){return vt.test(Vt)?It(Vt.slice(4).toLowerCase()):Vt})}function zt(Ht){return $t(Ht,function(Vt){return ft.test(Vt)?"xn--"+Ot(Vt):Vt})}if(it={version:"1.3.2",ucs2:{decode:Rt,encode:Bt},decode:It,encode:Ot,toASCII:zt,toUnicode:Ut},tt&&nt)if(_e.exports==tt)nt.exports=it;else for(bt in it)it.hasOwnProperty(bt)&&(tt[bt]=it[bt]);else et.punycode=it})(commonjsGlobal)});function hasOwnProperty(_e,j){return Object.prototype.hasOwnProperty.call(_e,j)}var decode$3=function(_e,j,et,tt){j=j||"&",et=et||"=";var nt={};if(typeof _e!="string"||_e.length===0)return nt;var rt=/\+/g;_e=_e.split(j);var it=1e3;tt&&typeof tt.maxKeys=="number"&&(it=tt.maxKeys);var st=_e.length;it>0&&st>it&&(st=it);for(var at=0;at<st;++at){var ot=_e[at].replace(rt,"%20"),lt=ot.indexOf(et),ut,ct,ht,pt;lt>=0?(ut=ot.substr(0,lt),ct=ot.substr(lt+1)):(ut=ot,ct=""),ht=decodeURIComponent(ut),pt=decodeURIComponent(ct),hasOwnProperty(nt,ht)?Array.isArray(nt[ht])?nt[ht].push(pt):nt[ht]=[nt[ht],pt]:nt[ht]=pt}return nt},stringifyPrimitive=function(_e){switch(typeof _e){case"string":return _e;case"boolean":return _e?"true":"false";case"number":return isFinite(_e)?_e:"";default:return""}},encode$2=function(_e,j,et,tt){return j=j||"&",et=et||"=",_e===null&&(_e=void 0),typeof _e=="object"?Object.keys(_e).map(function(nt){var rt=encodeURIComponent(stringifyPrimitive(nt))+et;return Array.isArray(_e[nt])?_e[nt].map(function(it){return rt+encodeURIComponent(stringifyPrimitive(it))}).join(j):rt+encodeURIComponent(stringifyPrimitive(_e[nt]))}).join(j):tt?encodeURIComponent(stringifyPrimitive(tt))+et+encodeURIComponent(stringifyPrimitive(_e)):""};createCommonjsModule(function(_e,j){j.decode=j.parse=decode$3,j.encode=j.stringify=encode$2});/*!
 * @pixi/constants - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV;(function(_e){_e[_e.WEBGL_LEGACY=0]="WEBGL_LEGACY",_e[_e.WEBGL=1]="WEBGL",_e[_e.WEBGL2=2]="WEBGL2"})(ENV||(ENV={}));var RENDERER_TYPE;(function(_e){_e[_e.UNKNOWN=0]="UNKNOWN",_e[_e.WEBGL=1]="WEBGL",_e[_e.CANVAS=2]="CANVAS"})(RENDERER_TYPE||(RENDERER_TYPE={}));var BUFFER_BITS;(function(_e){_e[_e.COLOR=16384]="COLOR",_e[_e.DEPTH=256]="DEPTH",_e[_e.STENCIL=1024]="STENCIL"})(BUFFER_BITS||(BUFFER_BITS={}));var BLEND_MODES;(function(_e){_e[_e.NORMAL=0]="NORMAL",_e[_e.ADD=1]="ADD",_e[_e.MULTIPLY=2]="MULTIPLY",_e[_e.SCREEN=3]="SCREEN",_e[_e.OVERLAY=4]="OVERLAY",_e[_e.DARKEN=5]="DARKEN",_e[_e.LIGHTEN=6]="LIGHTEN",_e[_e.COLOR_DODGE=7]="COLOR_DODGE",_e[_e.COLOR_BURN=8]="COLOR_BURN",_e[_e.HARD_LIGHT=9]="HARD_LIGHT",_e[_e.SOFT_LIGHT=10]="SOFT_LIGHT",_e[_e.DIFFERENCE=11]="DIFFERENCE",_e[_e.EXCLUSION=12]="EXCLUSION",_e[_e.HUE=13]="HUE",_e[_e.SATURATION=14]="SATURATION",_e[_e.COLOR=15]="COLOR",_e[_e.LUMINOSITY=16]="LUMINOSITY",_e[_e.NORMAL_NPM=17]="NORMAL_NPM",_e[_e.ADD_NPM=18]="ADD_NPM",_e[_e.SCREEN_NPM=19]="SCREEN_NPM",_e[_e.NONE=20]="NONE",_e[_e.SRC_OVER=0]="SRC_OVER",_e[_e.SRC_IN=21]="SRC_IN",_e[_e.SRC_OUT=22]="SRC_OUT",_e[_e.SRC_ATOP=23]="SRC_ATOP",_e[_e.DST_OVER=24]="DST_OVER",_e[_e.DST_IN=25]="DST_IN",_e[_e.DST_OUT=26]="DST_OUT",_e[_e.DST_ATOP=27]="DST_ATOP",_e[_e.ERASE=26]="ERASE",_e[_e.SUBTRACT=28]="SUBTRACT",_e[_e.XOR=29]="XOR"})(BLEND_MODES||(BLEND_MODES={}));var DRAW_MODES;(function(_e){_e[_e.POINTS=0]="POINTS",_e[_e.LINES=1]="LINES",_e[_e.LINE_LOOP=2]="LINE_LOOP",_e[_e.LINE_STRIP=3]="LINE_STRIP",_e[_e.TRIANGLES=4]="TRIANGLES",_e[_e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",_e[_e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES||(DRAW_MODES={}));var FORMATS;(function(_e){_e[_e.RGBA=6408]="RGBA",_e[_e.RGB=6407]="RGB",_e[_e.RG=33319]="RG",_e[_e.RED=6403]="RED",_e[_e.RGBA_INTEGER=36249]="RGBA_INTEGER",_e[_e.RGB_INTEGER=36248]="RGB_INTEGER",_e[_e.RG_INTEGER=33320]="RG_INTEGER",_e[_e.RED_INTEGER=36244]="RED_INTEGER",_e[_e.ALPHA=6406]="ALPHA",_e[_e.LUMINANCE=6409]="LUMINANCE",_e[_e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",_e[_e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",_e[_e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS||(FORMATS={}));var TARGETS;(function(_e){_e[_e.TEXTURE_2D=3553]="TEXTURE_2D",_e[_e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",_e[_e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS||(TARGETS={}));var TYPES;(function(_e){_e[_e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",_e[_e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",_e[_e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",_e[_e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",_e[_e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",_e[_e.UNSIGNED_INT=5125]="UNSIGNED_INT",_e[_e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",_e[_e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",_e[_e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",_e[_e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",_e[_e.BYTE=5120]="BYTE",_e[_e.SHORT=5122]="SHORT",_e[_e.INT=5124]="INT",_e[_e.FLOAT=5126]="FLOAT",_e[_e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",_e[_e.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES||(TYPES={}));var SAMPLER_TYPES;(function(_e){_e[_e.FLOAT=0]="FLOAT",_e[_e.INT=1]="INT",_e[_e.UINT=2]="UINT"})(SAMPLER_TYPES||(SAMPLER_TYPES={}));var SCALE_MODES;(function(_e){_e[_e.NEAREST=0]="NEAREST",_e[_e.LINEAR=1]="LINEAR"})(SCALE_MODES||(SCALE_MODES={}));var WRAP_MODES;(function(_e){_e[_e.CLAMP=33071]="CLAMP",_e[_e.REPEAT=10497]="REPEAT",_e[_e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES||(WRAP_MODES={}));var MIPMAP_MODES;(function(_e){_e[_e.OFF=0]="OFF",_e[_e.POW2=1]="POW2",_e[_e.ON=2]="ON",_e[_e.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES||(MIPMAP_MODES={}));var ALPHA_MODES;(function(_e){_e[_e.NPM=0]="NPM",_e[_e.UNPACK=1]="UNPACK",_e[_e.PMA=2]="PMA",_e[_e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",_e[_e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",_e[_e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",_e[_e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES||(ALPHA_MODES={}));var CLEAR_MODES;(function(_e){_e[_e.NO=0]="NO",_e[_e.YES=1]="YES",_e[_e.AUTO=2]="AUTO",_e[_e.BLEND=0]="BLEND",_e[_e.CLEAR=1]="CLEAR",_e[_e.BLIT=2]="BLIT"})(CLEAR_MODES||(CLEAR_MODES={}));var GC_MODES;(function(_e){_e[_e.AUTO=0]="AUTO",_e[_e.MANUAL=1]="MANUAL"})(GC_MODES||(GC_MODES={}));var PRECISION;(function(_e){_e.LOW="lowp",_e.MEDIUM="mediump",_e.HIGH="highp"})(PRECISION||(PRECISION={}));var MASK_TYPES;(function(_e){_e[_e.NONE=0]="NONE",_e[_e.SCISSOR=1]="SCISSOR",_e[_e.STENCIL=2]="STENCIL",_e[_e.SPRITE=3]="SPRITE",_e[_e.COLOR=4]="COLOR"})(MASK_TYPES||(MASK_TYPES={}));var COLOR_MASK_BITS;(function(_e){_e[_e.RED=1]="RED",_e[_e.GREEN=2]="GREEN",_e[_e.BLUE=4]="BLUE",_e[_e.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS||(COLOR_MASK_BITS={}));var MSAA_QUALITY;(function(_e){_e[_e.NONE=0]="NONE",_e[_e.LOW=2]="LOW",_e[_e.MEDIUM=4]="MEDIUM",_e[_e.HIGH=8]="HIGH"})(MSAA_QUALITY||(MSAA_QUALITY={}));var BUFFER_TYPE;(function(_e){_e[_e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",_e[_e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",_e[_e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE||(BUFFER_TYPE={}));/*!
 * @pixi/utils - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings.RETINA_PREFIX=/@([0-9\.]+)x/;settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;function mapPremultipliedBlendModes(){for(var _e=[],j=[],et=0;et<32;et++)_e[et]=et,j[et]=et;_e[BLEND_MODES.NORMAL_NPM]=BLEND_MODES.NORMAL,_e[BLEND_MODES.ADD_NPM]=BLEND_MODES.ADD,_e[BLEND_MODES.SCREEN_NPM]=BLEND_MODES.SCREEN,j[BLEND_MODES.NORMAL]=BLEND_MODES.NORMAL_NPM,j[BLEND_MODES.ADD]=BLEND_MODES.ADD_NPM,j[BLEND_MODES.SCREEN]=BLEND_MODES.SCREEN_NPM;var tt=[];return tt.push(j),tt.push(_e),tt}mapPremultipliedBlendModes();var warnings={};function deprecation(_e,j,et){if(et===void 0&&(et=3),!warnings[j]){var tt=new Error().stack;typeof tt=="undefined"?console.warn("PixiJS Deprecation Warning: ",j+`
Deprecated since v`+_e):(tt=tt.split(`
`).splice(et).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",j+`
Deprecated since v`+_e),console.warn(tt),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",j+`
Deprecated since v`+_e),console.warn(tt))),warnings[j]=!0}}(function(){function _e(j,et,tt){this.canvas=settings.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=tt||settings.RESOLUTION,this.resize(j,et)}return _e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},_e.prototype.resize=function(j,et){this.canvas.width=Math.round(j*this.resolution),this.canvas.height=Math.round(et*this.resolution)},_e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(_e.prototype,"width",{get:function(){return this.canvas.width},set:function(j){this.canvas.width=Math.round(j)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"height",{get:function(){return this.canvas.height},set:function(j){this.canvas.height=Math.round(j)},enumerable:!1,configurable:!0}),_e})();var Application=function(){function _e(j){var et=this;this.stage=new Container,j=Object.assign({forceCanvas:!1},j),this.renderer=autoDetectRenderer(j),_e._plugins.forEach(function(tt){tt.init.call(et,j)})}return _e.registerPlugin=function(j){deprecation("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),extensions.add({type:ExtensionType.Application,ref:j})},_e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(_e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),_e.prototype.destroy=function(j,et){var tt=this,nt=_e._plugins.slice(0);nt.reverse(),nt.forEach(function(rt){rt.destroy.call(tt)}),this.stage.destroy(et),this.stage=null,this.renderer.destroy(j),this.renderer=null},_e._plugins=[],_e}();extensions.handleByList(ExtensionType.Application,Application._plugins);extensions.add(ResizePlugin);/*!
 * @pixi/mesh-extras - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(_e,j){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics$1(_e,j)};function __extends$1(_e,j){extendStatics$1(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}var PlaneGeometry$1=function(_e){__extends$1(j,_e);function j(et,tt,nt,rt){et===void 0&&(et=100),tt===void 0&&(tt=100),nt===void 0&&(nt=10),rt===void 0&&(rt=10);var it=_e.call(this)||this;return it.segWidth=nt,it.segHeight=rt,it.width=et,it.height=tt,it.build(),it}return j.prototype.build=function(){for(var et=this.segWidth*this.segHeight,tt=[],nt=[],rt=[],it=this.segWidth-1,st=this.segHeight-1,at=this.width/it,ot=this.height/st,lt=0;lt<et;lt++){var ut=lt%this.segWidth,ct=lt/this.segWidth|0;tt.push(ut*at,ct*ot),nt.push(ut/it,ct/st)}for(var ht=it*st,lt=0;lt<ht;lt++){var pt=lt%it,gt=lt/it|0,vt=gt*this.segWidth+pt,ft=gt*this.segWidth+pt+1,mt=(gt+1)*this.segWidth+pt,xt=(gt+1)*this.segWidth+pt+1;rt.push(vt,ft,mt,ft,xt,mt)}this.buffers[0].data=new Float32Array(tt),this.buffers[1].data=new Float32Array(nt),this.indexBuffer.data=new Uint16Array(rt),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},j}(MeshGeometry),RopeGeometry=function(_e){__extends$1(j,_e);function j(et,tt,nt){et===void 0&&(et=200),nt===void 0&&(nt=0);var rt=_e.call(this,new Float32Array(tt.length*4),new Float32Array(tt.length*4),new Uint16Array((tt.length-1)*6))||this;return rt.points=tt,rt._width=et,rt.textureScale=nt,rt.build(),rt}return Object.defineProperty(j.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),j.prototype.build=function(){var et=this.points;if(!!et){var tt=this.getBuffer("aVertexPosition"),nt=this.getBuffer("aTextureCoord"),rt=this.getIndex();if(!(et.length<1)){tt.data.length/4!==et.length&&(tt.data=new Float32Array(et.length*4),nt.data=new Float32Array(et.length*4),rt.data=new Uint16Array((et.length-1)*6));var it=nt.data,st=rt.data;it[0]=0,it[1]=0,it[2]=0,it[3]=1;for(var at=0,ot=et[0],lt=this._width*this.textureScale,ut=et.length,ct=0;ct<ut;ct++){var ht=ct*4;if(this.textureScale>0){var pt=ot.x-et[ct].x,gt=ot.y-et[ct].y,vt=Math.sqrt(pt*pt+gt*gt);ot=et[ct],at+=vt/lt}else at=ct/(ut-1);it[ht]=at,it[ht+1]=0,it[ht+2]=at,it[ht+3]=1}for(var ft=0,ct=0;ct<ut-1;ct++){var ht=ct*2;st[ft++]=ht,st[ft++]=ht+1,st[ft++]=ht+2,st[ft++]=ht+2,st[ft++]=ht+1,st[ft++]=ht+3}nt.update(),rt.update(),this.updateVertices()}}},j.prototype.updateVertices=function(){var et=this.points;if(!(et.length<1)){for(var tt=et[0],nt,rt=0,it=0,st=this.buffers[0].data,at=et.length,ot=0;ot<at;ot++){var lt=et[ot],ut=ot*4;ot<et.length-1?nt=et[ot+1]:nt=lt,it=-(nt.x-tt.x),rt=nt.y-tt.y;var ct=Math.sqrt(rt*rt+it*it),ht=this.textureScale>0?this.textureScale*this._width/2:this._width/2;rt/=ct,it/=ct,rt*=ht,it*=ht,st[ut]=lt.x+rt,st[ut+1]=lt.y+it,st[ut+2]=lt.x-rt,st[ut+3]=lt.y-it,tt=lt}this.buffers[0].update()}},j.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},j}(MeshGeometry);(function(_e){__extends$1(j,_e);function j(et,tt,nt){nt===void 0&&(nt=0);var rt=this,it=new RopeGeometry(et.height,tt,nt),st=new MeshMaterial(et);return nt>0&&(et.baseTexture.wrapMode=WRAP_MODES$5.REPEAT),rt=_e.call(this,it,st)||this,rt.autoUpdate=!0,rt}return j.prototype._render=function(et){var tt=this.geometry;(this.autoUpdate||tt._width!==this.shader.texture.height)&&(tt._width=this.shader.texture.height,tt.update()),_e.prototype._render.call(this,et)},j})(Mesh$1);var SimplePlane=function(_e){__extends$1(j,_e);function j(et,tt,nt){var rt=this,it=new PlaneGeometry$1(et.width,et.height,tt,nt),st=new MeshMaterial(Texture$1.WHITE);return rt=_e.call(this,it,st)||this,rt.texture=et,rt.autoResize=!0,rt}return j.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var et=this.geometry,tt=this.shader.texture,nt=tt.width,rt=tt.height;this.autoResize&&(et.width!==nt||et.height!==rt)&&(et.width=this.shader.texture.width,et.height=this.shader.texture.height,et.build())},Object.defineProperty(j.prototype,"texture",{get:function(){return this.shader.texture},set:function(et){this.shader.texture!==et&&(this.shader.texture=et,this._textureID=-1,et.baseTexture.valid?this.textureUpdated():et.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),j.prototype._render=function(et){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),_e.prototype._render.call(this,et)},j.prototype.destroy=function(et){this.shader.texture.off("update",this.textureUpdated,this),_e.prototype.destroy.call(this,et)},j}(Mesh$1);(function(_e){__extends$1(j,_e);function j(et,tt,nt,rt,it){et===void 0&&(et=Texture$1.EMPTY);var st=this,at=new MeshGeometry(tt,nt,rt);at.getBuffer("aVertexPosition").static=!1;var ot=new MeshMaterial(et);return st=_e.call(this,at,ot,null,it)||this,st.autoUpdate=!0,st}return Object.defineProperty(j.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(et){this.geometry.getBuffer("aVertexPosition").data=et},enumerable:!1,configurable:!0}),j.prototype._render=function(et){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),_e.prototype._render.call(this,et)},j})(Mesh$1);var DEFAULT_BORDER_SIZE=10;(function(_e){__extends$1(j,_e);function j(et,tt,nt,rt,it){tt===void 0&&(tt=DEFAULT_BORDER_SIZE),nt===void 0&&(nt=DEFAULT_BORDER_SIZE),rt===void 0&&(rt=DEFAULT_BORDER_SIZE),it===void 0&&(it=DEFAULT_BORDER_SIZE);var st=_e.call(this,Texture$1.WHITE,4,4)||this;return st._origWidth=et.orig.width,st._origHeight=et.orig.height,st._width=st._origWidth,st._height=st._origHeight,st._leftWidth=tt,st._rightWidth=rt,st._topHeight=nt,st._bottomHeight=it,st.texture=et,st}return j.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(j.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(et){this.geometry.getBuffer("aVertexPosition").data=et},enumerable:!1,configurable:!0}),j.prototype.updateHorizontalVertices=function(){var et=this.vertices,tt=this._getMinScale();et[9]=et[11]=et[13]=et[15]=this._topHeight*tt,et[17]=et[19]=et[21]=et[23]=this._height-this._bottomHeight*tt,et[25]=et[27]=et[29]=et[31]=this._height},j.prototype.updateVerticalVertices=function(){var et=this.vertices,tt=this._getMinScale();et[2]=et[10]=et[18]=et[26]=this._leftWidth*tt,et[4]=et[12]=et[20]=et[28]=this._width-this._rightWidth*tt,et[6]=et[14]=et[22]=et[30]=this._width},j.prototype._getMinScale=function(){var et=this._leftWidth+this._rightWidth,tt=this._width>et?1:this._width/et,nt=this._topHeight+this._bottomHeight,rt=this._height>nt?1:this._height/nt,it=Math.min(tt,rt);return it},Object.defineProperty(j.prototype,"width",{get:function(){return this._width},set:function(et){this._width=et,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"height",{get:function(){return this._height},set:function(et){this._height=et,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(et){this._leftWidth=et,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(et){this._rightWidth=et,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"topHeight",{get:function(){return this._topHeight},set:function(et){this._topHeight=et,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(et){this._bottomHeight=et,this._refresh()},enumerable:!1,configurable:!0}),j.prototype._refresh=function(){var et=this.texture,tt=this.geometry.buffers[1].data;this._origWidth=et.orig.width,this._origHeight=et.orig.height;var nt=1/this._origWidth,rt=1/this._origHeight;tt[0]=tt[8]=tt[16]=tt[24]=0,tt[1]=tt[3]=tt[5]=tt[7]=0,tt[6]=tt[14]=tt[22]=tt[30]=1,tt[25]=tt[27]=tt[29]=tt[31]=1,tt[2]=tt[10]=tt[18]=tt[26]=nt*this._leftWidth,tt[4]=tt[12]=tt[20]=tt[28]=1-nt*this._rightWidth,tt[9]=tt[11]=tt[13]=tt[15]=rt*this._topHeight,tt[17]=tt[19]=tt[21]=tt[23]=1-rt*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},j})(SimplePlane);/*!
 * @pixi/sprite-animated - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(_e,j){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)tt.hasOwnProperty(nt)&&(et[nt]=tt[nt])},extendStatics(_e,j)};function __extends(_e,j){extendStatics(_e,j);function et(){this.constructor=_e}_e.prototype=j===null?Object.create(j):(et.prototype=j.prototype,new et)}(function(_e){__extends(j,_e);function j(et,tt){tt===void 0&&(tt=!0);var nt=_e.call(this,et[0]instanceof Texture$1?et[0]:et[0].texture)||this;return nt._textures=null,nt._durations=null,nt._autoUpdate=tt,nt._isConnectedToTicker=!1,nt.animationSpeed=1,nt.loop=!0,nt.updateAnchor=!1,nt.onComplete=null,nt.onFrameChange=null,nt.onLoop=null,nt._currentTime=0,nt._playing=!1,nt._previousFrame=null,nt.textures=et,nt}return j.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))},j.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this,UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},j.prototype.gotoAndStop=function(et){this.stop();var tt=this.currentFrame;this._currentTime=et,tt!==this.currentFrame&&this.updateTexture()},j.prototype.gotoAndPlay=function(et){var tt=this.currentFrame;this._currentTime=et,tt!==this.currentFrame&&this.updateTexture(),this.play()},j.prototype.update=function(et){if(!!this._playing){var tt=this.animationSpeed*et,nt=this.currentFrame;if(this._durations!==null){var rt=this._currentTime%1*this._durations[this.currentFrame];for(rt+=tt/60*1e3;rt<0;)this._currentTime--,rt+=this._durations[this.currentFrame];var it=Math.sign(this.animationSpeed*et);for(this._currentTime=Math.floor(this._currentTime);rt>=this._durations[this.currentFrame];)rt-=this._durations[this.currentFrame]*it,this._currentTime+=it;this._currentTime+=rt/this._durations[this.currentFrame]}else this._currentTime+=tt;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):nt!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<nt?this.onLoop():this.animationSpeed<0&&this.currentFrame>nt&&this.onLoop()),this.updateTexture())}},j.prototype.updateTexture=function(){var et=this.currentFrame;this._previousFrame!==et&&(this._previousFrame=et,this._texture=this._textures[et],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},j.prototype.destroy=function(et){this.stop(),_e.prototype.destroy.call(this,et),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},j.fromFrames=function(et){for(var tt=[],nt=0;nt<et.length;++nt)tt.push(Texture$1.from(et[nt]));return new j(tt)},j.fromImages=function(et){for(var tt=[],nt=0;nt<et.length;++nt)tt.push(Texture$1.from(et[nt]));return new j(tt)},Object.defineProperty(j.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"textures",{get:function(){return this._textures},set:function(et){if(et[0]instanceof Texture$1)this._textures=et,this._durations=null;else{this._textures=[],this._durations=[];for(var tt=0;tt<et.length;tt++)this._textures.push(et[tt].texture),this._durations.push(et[tt].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"currentFrame",{get:function(){var et=Math.floor(this._currentTime)%this._textures.length;return et<0&&(et+=this._textures.length),et},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(et){et!==this._autoUpdate&&(this._autoUpdate=et,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),j})(Sprite$1);/*!
 * pixi.js - v6.5.1
 * Compiled Sun, 24 Jul 2022 20:56:21 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */extensions.add(AccessibilityManager,Extract,InteractionManager,ParticleRenderer,Prepare,BatchRenderer,TilingSpriteRenderer,BitmapFontLoader,CompressedTextureLoader,DDSLoader,KTXLoader,SpritesheetLoader,TickerPlugin,AppLoaderPlugin);const BunnyUrl="https://pixijs.io/examples/examples/assets/bunny.png";class BulletproofGlassGame{constructor(j,et){is(this,"app");is(this,"data");is(this,"alpha",1);is(this,"dragging",!1);is(this,"sprite");is(this,"animate");is(this,"animation",()=>{this.animate=requestAnimationFrame(this.animation),this.sprite.rotation+=.01});is(this,"createSprite",()=>{const j=Sprite$1.from(BunnyUrl);return j.anchor.set(.5),j.x=this.app.screen.width/2,j.y=this.app.screen.height/2,j.interactive=!0,j.buttonMode=!0,j.on("pointerdown",()=>{j.scale.x*=1.25,j.scale.y*=1.25}),j});this.app=new Application({backgroundColor:1087931}),settings$1.SCALE_MODE=SCALE_MODES$5.NEAREST,this.sprite=this.createSprite(),this.app.stage.addChild(this.sprite),this.app.stage.addChild(this.createBunny(Math.floor(Math.random()*j.clientWidth),Math.floor(Math.random()*j.clientHeight)))}createBunny(j,et){const tt=Sprite$1.from(BunnyUrl);return tt.interactive=!0,tt.buttonMode=!0,tt.anchor.set(.5),tt.scale.set(3),tt.on("pointerdown",nt=>{console.error("pointerdown",nt),this.data=nt.data,this.alpha=.5,this.dragging=!0}).on("pointerup",()=>{console.error("pointerup"),this.alpha=1,this.dragging=!1,this.data=null}).on("pointerupoutside",()=>{this.alpha=1,this.dragging=!1,this.data=null}).on("pointermove",nt=>{if(this.dragging){const rt=nt.data.global;tt.x=rt.x,tt.y=rt.y}}),tt.x=j,tt.y=et,tt}}var __glob_1_11=Object.freeze(Object.defineProperty({__proto__:null,default:BulletproofGlassGame},Symbol.toStringTag,{value:"Module"}));const BulletproofGlass=()=>{const _e=react.exports.useRef(null),[j,et]=react.exports.useState();return react.exports.useEffect(()=>{if(document.querySelectorAll("#game-canvas>*").length<1){const tt=document.querySelector("#game-canvas"),nt=new BulletproofGlassGame(tt);et(nt),tt.appendChild(nt.app.view)}},[]),jsxs("div",{id:"canvas-container",style:{height:"100%",overflow:"hidden"},ref:_e,children:[jsxs("div",{children:[jsx("button",{onClick:()=>{j==null||j.animation()},children:"\u5F00\u59CB"}),jsx("button",{onClick:()=>{cancelAnimationFrame(j.animate)},children:"\u505C\u6B62"})]}),jsx("div",{id:"game-canvas"})]})};var index$f=react.exports.memo(BulletproofGlass),__glob_1_4=Object.freeze(Object.defineProperty({__proto__:null,default:index$f},Symbol.toStringTag,{value:"Module"})),styles$1={"side-sitemap-wrapper":"_side-sitemap-wrapper_1muj1_1","sitemap-wrapper":"_sitemap-wrapper_1muj1_4","content-wrapper":"_content-wrapper_1muj1_9"};const SideSitemap=_e=>{const{routes:j,title:et="Side Sitemap"}=_e;return jsxs("div",{className:classnames$2(styles$1["side-sitemap-wrapper"]),id:"side-sitemap-wrapper",children:[jsx("div",{className:classnames$2(styles$1["sitemap-wrapper"]),id:"sitemap-wrapper",children:jsx(Sitemap,{title:et,routes:j})}),jsx("div",{className:classnames$2(styles$1["content-wrapper"]),id:"sitemap-content-wrapper",children:renderRoutes(j)})]})};var SideSitemap$1=react.exports.memo(SideSitemap);const Socket$2=_e=>{const{route:{routes:j}}=_e;return jsx(SideSitemap$1,{routes:j,title:"Socket"})};Socket$2.exact=!1;var index$e=react.exports.memo(Socket$2),__glob_1_5=Object.freeze(Object.defineProperty({__proto__:null,default:index$e},Symbol.toStringTag,{value:"Module"})),index$d="";const Test=()=>jsx("div",{className:classnames$2("poetries-wrapper"),children:jsxs("div",{className:classnames$2("poetry-wrapper"),children:[jsxs("div",{className:classnames$2("poetry-title-wrapper"),children:[jsx("div",{children:"1"}),jsxs("div",{className:classnames$2("poetry-title"),children:[jsx("div",{children:"2"}),jsx("div",{children:"3"})]}),jsx("div",{children:"4"})]}),jsxs("div",{className:classnames$2("poetry-content"),children:[jsx("div",{children:"5"}),jsx("div",{children:"6"})]})]})});var index$c=react.exports.memo(Test),__glob_1_6=Object.freeze(Object.defineProperty({__proto__:null,default:index$c},Symbol.toStringTag,{value:"Module"}));class WebGL{static isWebGLAvailable(){try{const j=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(j.getContext("webgl")||j.getContext("experimental-webgl")))}catch{return!1}}static isWebGL2Available(){try{const j=document.createElement("canvas");return!!(window.WebGL2RenderingContext&&j.getContext("webgl2"))}catch{return!1}}static getWebGLErrorMessage(){return this.getErrorMessage(1)}static getWebGL2ErrorMessage(){return this.getErrorMessage(2)}static getErrorMessage(j){const et={1:"WebGL",2:"WebGL 2"},tt={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext};let nt='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>';const rt=document.createElement("div");return rt.id="webglmessage",rt.style.fontFamily="monospace",rt.style.fontSize="13px",rt.style.fontWeight="normal",rt.style.textAlign="center",rt.style.background="#fff",rt.style.color="#000",rt.style.padding="1.5em",rt.style.width="400px",rt.style.margin="5em auto 0",tt[j]?nt=nt.replace("$0","graphics card"):nt=nt.replace("$0","browser"),nt=nt.replace("$1",et[j]),rt.innerHTML=nt,rt}}const ThreeJs=_e=>{const{route:{routes:j}}=_e,[et,tt]=react.exports.useState(!1);return react.exports.useEffect(()=>{WebGL.isWebGLAvailable()?WebGL.isWebGL2Available()?tt(!0):document.body.appendChild(WebGL.getWebGL2ErrorMessage()):document.body.appendChild(WebGL.getWebGLErrorMessage())},[]),jsx(Fragment,{children:et&&jsx(SideSitemap$1,{routes:j,title:"Three Js"})})};ThreeJs.exact=!1;var index$b=react.exports.memo(ThreeJs),__glob_1_7=Object.freeze(Object.defineProperty({__proto__:null,default:index$b},Symbol.toStringTag,{value:"Module"}));const WebComponent=_e=>{const{route:{routes:j}}=_e;return jsx(SideSitemap$1,{routes:j,title:"Web Components"})};WebComponent.exact=!1;var index$a=react.exports.memo(WebComponent),__glob_1_8=Object.freeze(Object.defineProperty({__proto__:null,default:index$a},Symbol.toStringTag,{value:"Module"}));const SITE_NAME="SmallStars",SITE_DOMAIN="smallstars.top",BLOG={NAME:`${SITE_NAME}'s Blog`,URI:`//blog.${SITE_DOMAIN}`},CRON={NAME:`${SITE_NAME}'s Cron Expression`,URI:`//cron.${SITE_DOMAIN}`};var TYPE=(_e=>(_e.APP="app",_e.POST="post",_e.RESOURCE="resource",_e))(TYPE||{});const config$1={siteName:`${SITE_NAME}`,siteUri:`//${SITE_DOMAIN}`,sitemaps:[{name:BLOG.NAME,uri:BLOG.URI,type:TYPE.APP},{name:CRON.NAME,uri:CRON.URI,type:TYPE.APP},{name:"Professional JavaScript for Web Developers, 4th Edition(zh)",uri:`//${SITE_DOMAIN}/JavaScript.pdf`,type:TYPE.RESOURCE}]},copyright="_copyright_15zyu_22";var styles={"sitemap-wrapper":"_sitemap-wrapper_15zyu_1","sitemap-body-wrapper":"_sitemap-body-wrapper_15zyu_7","sitemap-item-wrapper":"_sitemap-item-wrapper_15zyu_11","latest-update-date":"_latest-update-date_15zyu_19",copyright};const lastUpdateDate=formatTimestamp(new Date().getTime()/1e3,SECOND_FORMAT),SiteMap=()=>{const{siteName:_e,siteUri:j,sitemaps:et}=config$1,[tt,nt]=react.exports.useState();return react.exports.useEffect(()=>{nt(et.reduce((rt,it)=>(Reflect.get(rt,it.type)?rt[it.type].push(it):Reflect.set(rt,it.type,[it]),rt),{}))},[et]),jsxs("div",{id:"sitemap-wrapper",className:classnames$2(styles["sitemap-wrapper"]),children:[jsx("header",{children:jsxs("h2",{children:[_e,"'s Website Sitemap"]})}),jsx("div",{id:"sitemap-body-wrapper",className:classnames$2(styles["sitemap-body-wrapper"]),children:tt&&Object.keys(tt).map(rt=>jsxs("div",{className:styles["sitemap-item-wrapper"],children:[jsx("h3",{children:rt}),jsx("ul",{children:tt[rt].map(it=>jsx("li",{children:jsx("a",{href:it.uri,children:it.name})},it.name))})]},rt))}),jsxs("footer",{children:[jsxs("div",{className:classnames$2(styles["latest-update-date"]),children:["Latest Update: ",lastUpdateDate]}),jsxs("div",{className:classnames$2(styles.copyright),children:["\xA9 2020-2022 ",_e,"'s website. All Rights Reserved"]})]})]})};var index$9=react.exports.memo(SiteMap),__glob_1_9=Object.freeze(Object.defineProperty({__proto__:null,default:index$9},Symbol.toStringTag,{value:"Module"}));function useMemoizedFn(_e){var j=react.exports.useRef(_e);j.current=react.exports.useMemo(function(){return _e},[_e]);var et=react.exports.useRef();return et.current||(et.current=function(){for(var tt=[],nt=0;nt<arguments.length;nt++)tt[nt]=arguments[nt];return j.current.apply(this,tt)}),et.current}var __read=globalThis&&globalThis.__read||function(_e,j){var et=typeof Symbol=="function"&&_e[Symbol.iterator];if(!et)return _e;var tt=et.call(_e),nt,rt=[],it;try{for(;(j===void 0||j-- >0)&&!(nt=tt.next()).done;)rt.push(nt.value)}catch(st){it={error:st}}finally{try{nt&&!nt.done&&(et=tt.return)&&et.call(tt)}finally{if(it)throw it.error}}return rt},useUpdate=function(){var j=__read(react.exports.useState({}),2),et=j[1];return react.exports.useCallback(function(){return et({})},[])},useUpdate$1=useUpdate,queryString={},strictUriEncode=_e=>encodeURIComponent(_e).replace(/[!'()*]/g,j=>`%${j.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp(token,"gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(_e,j){try{return decodeURIComponent(_e.join(""))}catch{}if(_e.length===1)return _e;j=j||1;var et=_e.slice(0,j),tt=_e.slice(j);return Array.prototype.concat.call([],decodeComponents(et),decodeComponents(tt))}function decode$2(_e){try{return decodeURIComponent(_e)}catch{for(var j=_e.match(singleMatcher),et=1;et<j.length;et++)_e=decodeComponents(j,et).join(""),j=_e.match(singleMatcher);return _e}}function customDecodeURIComponent(_e){for(var j={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},et=multiMatcher.exec(_e);et;){try{j[et[0]]=decodeURIComponent(et[0])}catch{var tt=decode$2(et[0]);tt!==et[0]&&(j[et[0]]=tt)}et=multiMatcher.exec(_e)}j["%C2"]="\uFFFD";for(var nt=Object.keys(j),rt=0;rt<nt.length;rt++){var it=nt[rt];_e=_e.replace(new RegExp(it,"g"),j[it])}return _e}var decodeUriComponent=function(_e){if(typeof _e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof _e+"`");try{return _e=_e.replace(/\+/g," "),decodeURIComponent(_e)}catch{return customDecodeURIComponent(_e)}},splitOnFirst=(_e,j)=>{if(!(typeof _e=="string"&&typeof j=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(j==="")return[_e];const et=_e.indexOf(j);return et===-1?[_e]:[_e.slice(0,et),_e.slice(et+j.length)]},filterObj=function(_e,j){for(var et={},tt=Object.keys(_e),nt=Array.isArray(j),rt=0;rt<tt.length;rt++){var it=tt[rt],st=_e[it];(nt?j.indexOf(it)!==-1:j(it,st,_e))&&(et[it]=st)}return et};(function(_e){const j=strictUriEncode,et=decodeUriComponent,tt=splitOnFirst,nt=filterObj,rt=ft=>ft==null;function it(ft){switch(ft.arrayFormat){case"index":return mt=>(xt,_t)=>{const Tt=xt.length;return _t===void 0||ft.skipNull&&_t===null||ft.skipEmptyString&&_t===""?xt:_t===null?[...xt,[ot(mt,ft),"[",Tt,"]"].join("")]:[...xt,[ot(mt,ft),"[",ot(Tt,ft),"]=",ot(_t,ft)].join("")]};case"bracket":return mt=>(xt,_t)=>_t===void 0||ft.skipNull&&_t===null||ft.skipEmptyString&&_t===""?xt:_t===null?[...xt,[ot(mt,ft),"[]"].join("")]:[...xt,[ot(mt,ft),"[]=",ot(_t,ft)].join("")];case"comma":case"separator":return mt=>(xt,_t)=>_t==null||_t.length===0?xt:xt.length===0?[[ot(mt,ft),"=",ot(_t,ft)].join("")]:[[xt,ot(_t,ft)].join(ft.arrayFormatSeparator)];default:return mt=>(xt,_t)=>_t===void 0||ft.skipNull&&_t===null||ft.skipEmptyString&&_t===""?xt:_t===null?[...xt,ot(mt,ft)]:[...xt,[ot(mt,ft),"=",ot(_t,ft)].join("")]}}function st(ft){let mt;switch(ft.arrayFormat){case"index":return(xt,_t,Tt)=>{if(mt=/\[(\d*)\]$/.exec(xt),xt=xt.replace(/\[\d*\]$/,""),!mt){Tt[xt]=_t;return}Tt[xt]===void 0&&(Tt[xt]={}),Tt[xt][mt[1]]=_t};case"bracket":return(xt,_t,Tt)=>{if(mt=/(\[\])$/.exec(xt),xt=xt.replace(/\[\]$/,""),!mt){Tt[xt]=_t;return}if(Tt[xt]===void 0){Tt[xt]=[_t];return}Tt[xt]=[].concat(Tt[xt],_t)};case"comma":case"separator":return(xt,_t,Tt)=>{const wt=typeof _t=="string"&&_t.includes(ft.arrayFormatSeparator),bt=typeof _t=="string"&&!wt&&lt(_t,ft).includes(ft.arrayFormatSeparator);_t=bt?lt(_t,ft):_t;const Ct=wt||bt?_t.split(ft.arrayFormatSeparator).map(Lt=>lt(Lt,ft)):_t===null?_t:lt(_t,ft);Tt[xt]=Ct};default:return(xt,_t,Tt)=>{if(Tt[xt]===void 0){Tt[xt]=_t;return}Tt[xt]=[].concat(Tt[xt],_t)}}}function at(ft){if(typeof ft!="string"||ft.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function ot(ft,mt){return mt.encode?mt.strict?j(ft):encodeURIComponent(ft):ft}function lt(ft,mt){return mt.decode?et(ft):ft}function ut(ft){return Array.isArray(ft)?ft.sort():typeof ft=="object"?ut(Object.keys(ft)).sort((mt,xt)=>Number(mt)-Number(xt)).map(mt=>ft[mt]):ft}function ct(ft){const mt=ft.indexOf("#");return mt!==-1&&(ft=ft.slice(0,mt)),ft}function ht(ft){let mt="";const xt=ft.indexOf("#");return xt!==-1&&(mt=ft.slice(xt)),mt}function pt(ft){ft=ct(ft);const mt=ft.indexOf("?");return mt===-1?"":ft.slice(mt+1)}function gt(ft,mt){return mt.parseNumbers&&!Number.isNaN(Number(ft))&&typeof ft=="string"&&ft.trim()!==""?ft=Number(ft):mt.parseBooleans&&ft!==null&&(ft.toLowerCase()==="true"||ft.toLowerCase()==="false")&&(ft=ft.toLowerCase()==="true"),ft}function vt(ft,mt){mt=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},mt),at(mt.arrayFormatSeparator);const xt=st(mt),_t=Object.create(null);if(typeof ft!="string"||(ft=ft.trim().replace(/^[?#&]/,""),!ft))return _t;for(const Tt of ft.split("&")){if(Tt==="")continue;let[wt,bt]=tt(mt.decode?Tt.replace(/\+/g," "):Tt,"=");bt=bt===void 0?null:["comma","separator"].includes(mt.arrayFormat)?bt:lt(bt,mt),xt(lt(wt,mt),bt,_t)}for(const Tt of Object.keys(_t)){const wt=_t[Tt];if(typeof wt=="object"&&wt!==null)for(const bt of Object.keys(wt))wt[bt]=gt(wt[bt],mt);else _t[Tt]=gt(wt,mt)}return mt.sort===!1?_t:(mt.sort===!0?Object.keys(_t).sort():Object.keys(_t).sort(mt.sort)).reduce((Tt,wt)=>{const bt=_t[wt];return Boolean(bt)&&typeof bt=="object"&&!Array.isArray(bt)?Tt[wt]=ut(bt):Tt[wt]=bt,Tt},Object.create(null))}_e.extract=pt,_e.parse=vt,_e.stringify=(ft,mt)=>{if(!ft)return"";mt=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},mt),at(mt.arrayFormatSeparator);const xt=bt=>mt.skipNull&&rt(ft[bt])||mt.skipEmptyString&&ft[bt]==="",_t=it(mt),Tt={};for(const bt of Object.keys(ft))xt(bt)||(Tt[bt]=ft[bt]);const wt=Object.keys(Tt);return mt.sort!==!1&&wt.sort(mt.sort),wt.map(bt=>{const Ct=ft[bt];return Ct===void 0?"":Ct===null?ot(bt,mt):Array.isArray(Ct)?Ct.reduce(_t(bt),[]).join("&"):ot(bt,mt)+"="+ot(Ct,mt)}).filter(bt=>bt.length>0).join("&")},_e.parseUrl=(ft,mt)=>{mt=Object.assign({decode:!0},mt);const[xt,_t]=tt(ft,"#");return Object.assign({url:xt.split("?")[0]||"",query:vt(pt(ft),mt)},mt&&mt.parseFragmentIdentifier&&_t?{fragmentIdentifier:lt(_t,mt)}:{})},_e.stringifyUrl=(ft,mt)=>{mt=Object.assign({encode:!0,strict:!0},mt);const xt=ct(ft.url).split("?")[0]||"",_t=_e.extract(ft.url),Tt=_e.parse(_t,{sort:!1}),wt=Object.assign(Tt,ft.query);let bt=_e.stringify(wt,mt);bt&&(bt=`?${bt}`);let Ct=ht(ft.url);return ft.fragmentIdentifier&&(Ct=`#${ot(ft.fragmentIdentifier,mt)}`),`${xt}${bt}${Ct}`},_e.pick=(ft,mt,xt)=>{xt=Object.assign({parseFragmentIdentifier:!0},xt);const{url:_t,query:Tt,fragmentIdentifier:wt}=_e.parseUrl(ft,xt);return _e.stringifyUrl({url:_t,query:nt(Tt,mt),fragmentIdentifier:wt},xt)},_e.exclude=(ft,mt,xt)=>{const _t=Array.isArray(mt)?Tt=>!mt.includes(Tt):(Tt,wt)=>!mt(Tt,wt);return _e.pick(ft,_t,xt)}})(queryString);var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(_e){for(var j,et=1,tt=arguments.length;et<tt;et++){j=arguments[et];for(var nt in j)Object.prototype.hasOwnProperty.call(j,nt)&&(_e[nt]=j[nt])}return _e},__assign.apply(this,arguments)},rc=tmp$1,baseParseConfig={parseNumbers:!1,parseBooleans:!1},baseStringifyConfig={skipNull:!1,skipEmptyString:!1},useUrlState=function(j,et){var tt,nt,rt=et||{},it=rt.navigateMode,st=it===void 0?"push":it,at=rt.parseOptions,ot=rt.stringifyOptions,lt=__assign(__assign({},baseParseConfig),at),ut=__assign(__assign({},baseStringifyConfig),ot),ct=rc.useLocation(),ht=(tt=rc.useHistory)===null||tt===void 0?void 0:tt.call(rc),pt=(nt=rc.useNavigate)===null||nt===void 0?void 0:nt.call(rc),gt=useUpdate$1(),vt=react.exports.useRef(typeof j=="function"?j():j||{}),ft=react.exports.useMemo(function(){return queryString.parse(ct.search,lt)},[ct.search]),mt=react.exports.useMemo(function(){return __assign(__assign({},vt.current),ft)},[ft]),xt=function(Tt){var wt=typeof Tt=="function"?Tt(mt):Tt;gt(),ht&&ht[st]({hash:ct.hash,search:queryString.stringify(__assign(__assign({},ft),wt),ut)||"?"}),pt&&pt({hash:ct.hash,search:queryString.stringify(__assign(__assign({},ft),wt),ut)||"?"},{replace:st==="replace"})};return[mt,useMemoizedFn(xt)]};const PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(_e=>{PACKET_TYPES_REVERSE[PACKET_TYPES[_e]]=_e});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=_e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(_e):_e&&_e.buffer instanceof ArrayBuffer,encodePacket=({type:_e,data:j},et,tt)=>withNativeBlob$1&&j instanceof Blob?et?tt(j):encodeBlobAsBase64(j,tt):withNativeArrayBuffer$2&&(j instanceof ArrayBuffer||isView$1(j))?et?tt(j):encodeBlobAsBase64(new Blob([j]),tt):tt(PACKET_TYPES[_e]+(j||"")),encodeBlobAsBase64=(_e,j)=>{const et=new FileReader;return et.onload=function(){const tt=et.result.split(",")[1];j("b"+tt)},et.readAsDataURL(_e)},chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let _e=0;_e<chars.length;_e++)lookup$1[chars.charCodeAt(_e)]=_e;const decode$1=_e=>{let j=_e.length*.75,et=_e.length,tt,nt=0,rt,it,st,at;_e[_e.length-1]==="="&&(j--,_e[_e.length-2]==="="&&j--);const ot=new ArrayBuffer(j),lt=new Uint8Array(ot);for(tt=0;tt<et;tt+=4)rt=lookup$1[_e.charCodeAt(tt)],it=lookup$1[_e.charCodeAt(tt+1)],st=lookup$1[_e.charCodeAt(tt+2)],at=lookup$1[_e.charCodeAt(tt+3)],lt[nt++]=rt<<2|it>>4,lt[nt++]=(it&15)<<4|st>>2,lt[nt++]=(st&3)<<6|at&63;return ot},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(_e,j)=>{if(typeof _e!="string")return{type:"message",data:mapBinary(_e,j)};const et=_e.charAt(0);return et==="b"?{type:"message",data:decodeBase64Packet(_e.substring(1),j)}:PACKET_TYPES_REVERSE[et]?_e.length>1?{type:PACKET_TYPES_REVERSE[et],data:_e.substring(1)}:{type:PACKET_TYPES_REVERSE[et]}:ERROR_PACKET},decodeBase64Packet=(_e,j)=>{if(withNativeArrayBuffer$1){const et=decode$1(_e);return mapBinary(et,j)}else return{base64:!0,data:_e}},mapBinary=(_e,j)=>{switch(j){case"blob":return _e instanceof ArrayBuffer?new Blob([_e]):_e;case"arraybuffer":default:return _e}},SEPARATOR=String.fromCharCode(30),encodePayload=(_e,j)=>{const et=_e.length,tt=new Array(et);let nt=0;_e.forEach((rt,it)=>{encodePacket(rt,!1,st=>{tt[it]=st,++nt===et&&j(tt.join(SEPARATOR))})})},decodePayload=(_e,j)=>{const et=_e.split(SEPARATOR),tt=[];for(let nt=0;nt<et.length;nt++){const rt=decodePacket(et[nt],j);if(tt.push(rt),rt.type==="error")break}return tt},protocol$1=4;function Emitter(_e){if(_e)return mixin(_e)}function mixin(_e){for(var j in Emitter.prototype)_e[j]=Emitter.prototype[j];return _e}Emitter.prototype.on=Emitter.prototype.addEventListener=function(_e,j){return this._callbacks=this._callbacks||{},(this._callbacks["$"+_e]=this._callbacks["$"+_e]||[]).push(j),this};Emitter.prototype.once=function(_e,j){function et(){this.off(_e,et),j.apply(this,arguments)}return et.fn=j,this.on(_e,et),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(_e,j){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var et=this._callbacks["$"+_e];if(!et)return this;if(arguments.length==1)return delete this._callbacks["$"+_e],this;for(var tt,nt=0;nt<et.length;nt++)if(tt=et[nt],tt===j||tt.fn===j){et.splice(nt,1);break}return et.length===0&&delete this._callbacks["$"+_e],this};Emitter.prototype.emit=function(_e){this._callbacks=this._callbacks||{};for(var j=new Array(arguments.length-1),et=this._callbacks["$"+_e],tt=1;tt<arguments.length;tt++)j[tt-1]=arguments[tt];if(et){et=et.slice(0);for(var tt=0,nt=et.length;tt<nt;++tt)et[tt].apply(this,j)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(_e){return this._callbacks=this._callbacks||{},this._callbacks["$"+_e]||[]};Emitter.prototype.hasListeners=function(_e){return!!this.listeners(_e).length};const globalThisShim=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function pick(_e,...j){return j.reduce((et,tt)=>(_e.hasOwnProperty(tt)&&(et[tt]=_e[tt]),et),{})}const NATIVE_SET_TIMEOUT=setTimeout,NATIVE_CLEAR_TIMEOUT=clearTimeout;function installTimerFunctions(_e,j){j.useNativeTimers?(_e.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),_e.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(_e.setTimeoutFn=setTimeout.bind(globalThisShim),_e.clearTimeoutFn=clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(_e){return typeof _e=="string"?utf8Length(_e):Math.ceil((_e.byteLength||_e.size)*BASE64_OVERHEAD)}function utf8Length(_e){let j=0,et=0;for(let tt=0,nt=_e.length;tt<nt;tt++)j=_e.charCodeAt(tt),j<128?et+=1:j<2048?et+=2:j<55296||j>=57344?et+=3:(tt++,et+=4);return et}class TransportError extends Error{constructor(j,et,tt){super(j),this.description=et,this.context=tt,this.type="TransportError"}}class Transport extends Emitter{constructor(j){super(),this.writable=!1,installTimerFunctions(this,j),this.opts=j,this.query=j.query,this.readyState="",this.socket=j.socket}onError(j,et,tt){return super.emitReserved("error",new TransportError(j,et,tt)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(j){this.readyState==="open"&&this.write(j)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(j){const et=decodePacket(j,this.socket.binaryType);this.onPacket(et)}onPacket(j){super.emitReserved("packet",j)}onClose(j){this.readyState="closed",super.emitReserved("close",j)}}const alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={};let seed=0,i$1=0,prev;function encode$1(_e){let j="";do j=alphabet[_e%length]+j,_e=Math.floor(_e/length);while(_e>0);return j}function yeast(){const _e=encode$1(+new Date);return _e!==prev?(seed=0,prev=_e):_e+"."+encode$1(seed++)}for(;i$1<length;i$1++)map[alphabet[i$1]]=i$1;function encode(_e){let j="";for(let et in _e)_e.hasOwnProperty(et)&&(j.length&&(j+="&"),j+=encodeURIComponent(et)+"="+encodeURIComponent(_e[et]));return j}function decode(_e){let j={},et=_e.split("&");for(let tt=0,nt=et.length;tt<nt;tt++){let rt=et[tt].split("=");j[decodeURIComponent(rt[0])]=decodeURIComponent(rt[1])}return j}let value=!1;try{value=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{}const hasCORS=value;function XHR(_e){const j=_e.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!j||hasCORS))return new XMLHttpRequest}catch{}if(!j)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function empty(){}const hasXHR2=function(){return new XHR({xdomain:!1}).responseType!=null}();class Polling extends Transport{constructor(j){if(super(j),this.polling=!1,typeof location!="undefined"){const tt=location.protocol==="https:";let nt=location.port;nt||(nt=tt?"443":"80"),this.xd=typeof location!="undefined"&&j.hostname!==location.hostname||nt!==j.port,this.xs=j.secure!==tt}const et=j&&j.forceBase64;this.supportsBinary=hasXHR2&&!et}get name(){return"polling"}doOpen(){this.poll()}pause(j){this.readyState="pausing";const et=()=>{this.readyState="paused",j()};if(this.polling||!this.writable){let tt=0;this.polling&&(tt++,this.once("pollComplete",function(){--tt||et()})),this.writable||(tt++,this.once("drain",function(){--tt||et()}))}else et()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(j){const et=tt=>{if(this.readyState==="opening"&&tt.type==="open"&&this.onOpen(),tt.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(tt)};decodePayload(j,this.socket.binaryType).forEach(et),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const j=()=>{this.write([{type:"close"}])};this.readyState==="open"?j():this.once("open",j)}write(j){this.writable=!1,encodePayload(j,et=>{this.doWrite(et,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let j=this.query||{};const et=this.opts.secure?"https":"http";let tt="";this.opts.timestampRequests!==!1&&(j[this.opts.timestampParam]=yeast()),!this.supportsBinary&&!j.sid&&(j.b64=1),this.opts.port&&(et==="https"&&Number(this.opts.port)!==443||et==="http"&&Number(this.opts.port)!==80)&&(tt=":"+this.opts.port);const nt=encode(j),rt=this.opts.hostname.indexOf(":")!==-1;return et+"://"+(rt?"["+this.opts.hostname+"]":this.opts.hostname)+tt+this.opts.path+(nt.length?"?"+nt:"")}request(j={}){return Object.assign(j,{xd:this.xd,xs:this.xs},this.opts),new Request$1(this.uri(),j)}doWrite(j,et){const tt=this.request({method:"POST",data:j});tt.on("success",et),tt.on("error",(nt,rt)=>{this.onError("xhr post error",nt,rt)})}doPoll(){const j=this.request();j.on("data",this.onData.bind(this)),j.on("error",(et,tt)=>{this.onError("xhr poll error",et,tt)}),this.pollXhr=j}}class Request$1 extends Emitter{constructor(j,et){super(),installTimerFunctions(this,et),this.opts=et,this.method=et.method||"GET",this.uri=j,this.async=et.async!==!1,this.data=et.data!==void 0?et.data:null,this.create()}create(){const j=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");j.xdomain=!!this.opts.xd,j.xscheme=!!this.opts.xs;const et=this.xhr=new XHR(j);try{et.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){et.setDisableHeaderCheck&&et.setDisableHeaderCheck(!0);for(let tt in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(tt)&&et.setRequestHeader(tt,this.opts.extraHeaders[tt])}}catch{}if(this.method==="POST")try{et.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{et.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in et&&(et.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(et.timeout=this.opts.requestTimeout),et.onreadystatechange=()=>{et.readyState===4&&(et.status===200||et.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof et.status=="number"?et.status:0)},0))},et.send(this.data)}catch(tt){this.setTimeoutFn(()=>{this.onError(tt)},0);return}typeof document!="undefined"&&(this.index=Request$1.requestsCount++,Request$1.requests[this.index]=this)}onError(j){this.emitReserved("error",j,this.xhr),this.cleanup(!0)}cleanup(j){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=empty,j)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete Request$1.requests[this.index],this.xhr=null}}onLoad(){const j=this.xhr.responseText;j!==null&&(this.emitReserved("data",j),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Request$1.requestsCount=0;Request$1.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const _e="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(_e,unloadHandler,!1)}}function unloadHandler(){for(let _e in Request$1.requests)Request$1.requests.hasOwnProperty(_e)&&Request$1.requests[_e].abort()}const nextTick=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?j=>Promise.resolve().then(j):(j,et)=>et(j,0))(),WebSocket=globalThisShim.WebSocket||globalThisShim.MozWebSocket,usingBrowserWebSocket=!0,defaultBinaryType="arraybuffer",isReactNative=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class WS extends Transport{constructor(j){super(j),this.supportsBinary=!j.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const j=this.uri(),et=this.opts.protocols,tt=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(tt.headers=this.opts.extraHeaders);try{this.ws=usingBrowserWebSocket&&!isReactNative?et?new WebSocket(j,et):new WebSocket(j):new WebSocket(j,et,tt)}catch(nt){return this.emitReserved("error",nt)}this.ws.binaryType=this.socket.binaryType||defaultBinaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=j=>this.onClose({description:"websocket connection closed",context:j}),this.ws.onmessage=j=>this.onData(j.data),this.ws.onerror=j=>this.onError("websocket error",j)}write(j){this.writable=!1;for(let et=0;et<j.length;et++){const tt=j[et],nt=et===j.length-1;encodePacket(tt,this.supportsBinary,rt=>{const it={};try{usingBrowserWebSocket&&this.ws.send(rt)}catch{}nt&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let j=this.query||{};const et=this.opts.secure?"wss":"ws";let tt="";this.opts.port&&(et==="wss"&&Number(this.opts.port)!==443||et==="ws"&&Number(this.opts.port)!==80)&&(tt=":"+this.opts.port),this.opts.timestampRequests&&(j[this.opts.timestampParam]=yeast()),this.supportsBinary||(j.b64=1);const nt=encode(j),rt=this.opts.hostname.indexOf(":")!==-1;return et+"://"+(rt?"["+this.opts.hostname+"]":this.opts.hostname)+tt+this.opts.path+(nt.length?"?"+nt:"")}check(){return!!WebSocket}}const transports={websocket:WS,polling:Polling},re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(_e){const j=_e,et=_e.indexOf("["),tt=_e.indexOf("]");et!=-1&&tt!=-1&&(_e=_e.substring(0,et)+_e.substring(et,tt).replace(/:/g,";")+_e.substring(tt,_e.length));let nt=re.exec(_e||""),rt={},it=14;for(;it--;)rt[parts[it]]=nt[it]||"";return et!=-1&&tt!=-1&&(rt.source=j,rt.host=rt.host.substring(1,rt.host.length-1).replace(/;/g,":"),rt.authority=rt.authority.replace("[","").replace("]","").replace(/;/g,":"),rt.ipv6uri=!0),rt.pathNames=pathNames(rt,rt.path),rt.queryKey=queryKey(rt,rt.query),rt}function pathNames(_e,j){const et=/\/{2,9}/g,tt=j.replace(et,"/").split("/");return(j.substr(0,1)=="/"||j.length===0)&&tt.splice(0,1),j.substr(j.length-1,1)=="/"&&tt.splice(tt.length-1,1),tt}function queryKey(_e,j){const et={};return j.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(tt,nt,rt){nt&&(et[nt]=rt)}),et}class Socket$1 extends Emitter{constructor(j,et={}){super(),j&&typeof j=="object"&&(et=j,j=null),j?(j=parse(j),et.hostname=j.host,et.secure=j.protocol==="https"||j.protocol==="wss",et.port=j.port,j.query&&(et.query=j.query)):et.host&&(et.hostname=parse(et.host).host),installTimerFunctions(this,et),this.secure=et.secure!=null?et.secure:typeof location!="undefined"&&location.protocol==="https:",et.hostname&&!et.port&&(et.port=this.secure?"443":"80"),this.hostname=et.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=et.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=et.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},et),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(j){const et=Object.assign({},this.opts.query);et.EIO=protocol$1,et.transport=j,this.id&&(et.sid=this.id);const tt=Object.assign({},this.opts.transportOptions[j],this.opts,{query:et,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new transports[j](tt)}open(){let j;if(this.opts.rememberUpgrade&&Socket$1.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)j="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else j=this.transports[0];this.readyState="opening";try{j=this.createTransport(j)}catch{this.transports.shift(),this.open();return}j.open(),this.setTransport(j)}setTransport(j){this.transport&&this.transport.removeAllListeners(),this.transport=j,j.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",et=>this.onClose("transport close",et))}probe(j){let et=this.createTransport(j),tt=!1;Socket$1.priorWebsocketSuccess=!1;const nt=()=>{tt||(et.send([{type:"ping",data:"probe"}]),et.once("packet",ut=>{if(!tt)if(ut.type==="pong"&&ut.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",et),!et)return;Socket$1.priorWebsocketSuccess=et.name==="websocket",this.transport.pause(()=>{tt||this.readyState!=="closed"&&(lt(),this.setTransport(et),et.send([{type:"upgrade"}]),this.emitReserved("upgrade",et),et=null,this.upgrading=!1,this.flush())})}else{const ct=new Error("probe error");ct.transport=et.name,this.emitReserved("upgradeError",ct)}}))};function rt(){tt||(tt=!0,lt(),et.close(),et=null)}const it=ut=>{const ct=new Error("probe error: "+ut);ct.transport=et.name,rt(),this.emitReserved("upgradeError",ct)};function st(){it("transport closed")}function at(){it("socket closed")}function ot(ut){et&&ut.name!==et.name&&rt()}const lt=()=>{et.removeListener("open",nt),et.removeListener("error",it),et.removeListener("close",st),this.off("close",at),this.off("upgrading",ot)};et.once("open",nt),et.once("error",it),et.once("close",st),this.once("close",at),this.once("upgrading",ot),et.open()}onOpen(){if(this.readyState="open",Socket$1.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let j=0;const et=this.upgrades.length;for(;j<et;j++)this.probe(this.upgrades[j])}}onPacket(j){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",j),this.emitReserved("heartbeat"),j.type){case"open":this.onHandshake(JSON.parse(j.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const et=new Error("server error");et.code=j.data,this.onError(et);break;case"message":this.emitReserved("data",j.data),this.emitReserved("message",j.data);break}}onHandshake(j){this.emitReserved("handshake",j),this.id=j.sid,this.transport.query.sid=j.sid,this.upgrades=this.filterUpgrades(j.upgrades),this.pingInterval=j.pingInterval,this.pingTimeout=j.pingTimeout,this.maxPayload=j.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const j=this.getWritablePackets();this.transport.send(j),this.prevBufferLen=j.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let et=1;for(let tt=0;tt<this.writeBuffer.length;tt++){const nt=this.writeBuffer[tt].data;if(nt&&(et+=byteLength(nt)),tt>0&&et>this.maxPayload)return this.writeBuffer.slice(0,tt);et+=2}return this.writeBuffer}write(j,et,tt){return this.sendPacket("message",j,et,tt),this}send(j,et,tt){return this.sendPacket("message",j,et,tt),this}sendPacket(j,et,tt,nt){if(typeof et=="function"&&(nt=et,et=void 0),typeof tt=="function"&&(nt=tt,tt=null),this.readyState==="closing"||this.readyState==="closed")return;tt=tt||{},tt.compress=tt.compress!==!1;const rt={type:j,data:et,options:tt};this.emitReserved("packetCreate",rt),this.writeBuffer.push(rt),nt&&this.once("flush",nt),this.flush()}close(){const j=()=>{this.onClose("forced close"),this.transport.close()},et=()=>{this.off("upgrade",et),this.off("upgradeError",et),j()},tt=()=>{this.once("upgrade",et),this.once("upgradeError",et)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?tt():j()}):this.upgrading?tt():j()),this}onError(j){Socket$1.priorWebsocketSuccess=!1,this.emitReserved("error",j),this.onClose("transport error",j)}onClose(j,et){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",j,et),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(j){const et=[];let tt=0;const nt=j.length;for(;tt<nt;tt++)~this.transports.indexOf(j[tt])&&et.push(j[tt]);return et}}Socket$1.protocol=protocol$1;function url(_e,j="",et){let tt=_e;et=et||typeof location!="undefined"&&location,_e==null&&(_e=et.protocol+"//"+et.host),typeof _e=="string"&&(_e.charAt(0)==="/"&&(_e.charAt(1)==="/"?_e=et.protocol+_e:_e=et.host+_e),/^(https?|wss?):\/\//.test(_e)||(typeof et!="undefined"?_e=et.protocol+"//"+_e:_e="https://"+_e),tt=parse(_e)),tt.port||(/^(http|ws)$/.test(tt.protocol)?tt.port="80":/^(http|ws)s$/.test(tt.protocol)&&(tt.port="443")),tt.path=tt.path||"/";const rt=tt.host.indexOf(":")!==-1?"["+tt.host+"]":tt.host;return tt.id=tt.protocol+"://"+rt+":"+tt.port+j,tt.href=tt.protocol+"://"+rt+(et&&et.port===tt.port?"":":"+tt.port),tt}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=_e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(_e):_e.buffer instanceof ArrayBuffer,toString$1=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob!="undefined"&&toString$1.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File!="undefined"&&toString$1.call(File)==="[object FileConstructor]";function isBinary(_e){return withNativeArrayBuffer&&(_e instanceof ArrayBuffer||isView(_e))||withNativeBlob&&_e instanceof Blob||withNativeFile&&_e instanceof File}function hasBinary(_e,j){if(!_e||typeof _e!="object")return!1;if(Array.isArray(_e)){for(let et=0,tt=_e.length;et<tt;et++)if(hasBinary(_e[et]))return!0;return!1}if(isBinary(_e))return!0;if(_e.toJSON&&typeof _e.toJSON=="function"&&arguments.length===1)return hasBinary(_e.toJSON(),!0);for(const et in _e)if(Object.prototype.hasOwnProperty.call(_e,et)&&hasBinary(_e[et]))return!0;return!1}function deconstructPacket(_e){const j=[],et=_e.data,tt=_e;return tt.data=_deconstructPacket(et,j),tt.attachments=j.length,{packet:tt,buffers:j}}function _deconstructPacket(_e,j){if(!_e)return _e;if(isBinary(_e)){const et={_placeholder:!0,num:j.length};return j.push(_e),et}else if(Array.isArray(_e)){const et=new Array(_e.length);for(let tt=0;tt<_e.length;tt++)et[tt]=_deconstructPacket(_e[tt],j);return et}else if(typeof _e=="object"&&!(_e instanceof Date)){const et={};for(const tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&(et[tt]=_deconstructPacket(_e[tt],j));return et}return _e}function reconstructPacket(_e,j){return _e.data=_reconstructPacket(_e.data,j),_e.attachments=void 0,_e}function _reconstructPacket(_e,j){if(!_e)return _e;if(_e&&_e._placeholder===!0){if(typeof _e.num=="number"&&_e.num>=0&&_e.num<j.length)return j[_e.num];throw new Error("illegal attachments")}else if(Array.isArray(_e))for(let et=0;et<_e.length;et++)_e[et]=_reconstructPacket(_e[et],j);else if(typeof _e=="object")for(const et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&(_e[et]=_reconstructPacket(_e[et],j));return _e}const protocol=5;var PacketType;(function(_e){_e[_e.CONNECT=0]="CONNECT",_e[_e.DISCONNECT=1]="DISCONNECT",_e[_e.EVENT=2]="EVENT",_e[_e.ACK=3]="ACK",_e[_e.CONNECT_ERROR=4]="CONNECT_ERROR",_e[_e.BINARY_EVENT=5]="BINARY_EVENT",_e[_e.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(j){this.replacer=j}encode(j){return(j.type===PacketType.EVENT||j.type===PacketType.ACK)&&hasBinary(j)?(j.type=j.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,this.encodeAsBinary(j)):[this.encodeAsString(j)]}encodeAsString(j){let et=""+j.type;return(j.type===PacketType.BINARY_EVENT||j.type===PacketType.BINARY_ACK)&&(et+=j.attachments+"-"),j.nsp&&j.nsp!=="/"&&(et+=j.nsp+","),j.id!=null&&(et+=j.id),j.data!=null&&(et+=JSON.stringify(j.data,this.replacer)),et}encodeAsBinary(j){const et=deconstructPacket(j),tt=this.encodeAsString(et.packet),nt=et.buffers;return nt.unshift(tt),nt}}class Decoder extends Emitter{constructor(j){super(),this.reviver=j}add(j){let et;if(typeof j=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");et=this.decodeString(j),et.type===PacketType.BINARY_EVENT||et.type===PacketType.BINARY_ACK?(this.reconstructor=new BinaryReconstructor(et),et.attachments===0&&super.emitReserved("decoded",et)):super.emitReserved("decoded",et)}else if(isBinary(j)||j.base64)if(this.reconstructor)et=this.reconstructor.takeBinaryData(j),et&&(this.reconstructor=null,super.emitReserved("decoded",et));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+j)}decodeString(j){let et=0;const tt={type:Number(j.charAt(0))};if(PacketType[tt.type]===void 0)throw new Error("unknown packet type "+tt.type);if(tt.type===PacketType.BINARY_EVENT||tt.type===PacketType.BINARY_ACK){const rt=et+1;for(;j.charAt(++et)!=="-"&&et!=j.length;);const it=j.substring(rt,et);if(it!=Number(it)||j.charAt(et)!=="-")throw new Error("Illegal attachments");tt.attachments=Number(it)}if(j.charAt(et+1)==="/"){const rt=et+1;for(;++et&&!(j.charAt(et)===","||et===j.length););tt.nsp=j.substring(rt,et)}else tt.nsp="/";const nt=j.charAt(et+1);if(nt!==""&&Number(nt)==nt){const rt=et+1;for(;++et;){const it=j.charAt(et);if(it==null||Number(it)!=it){--et;break}if(et===j.length)break}tt.id=Number(j.substring(rt,et+1))}if(j.charAt(++et)){const rt=this.tryParse(j.substr(et));if(Decoder.isPayloadValid(tt.type,rt))tt.data=rt;else throw new Error("invalid payload")}return tt}tryParse(j){try{return JSON.parse(j,this.reviver)}catch{return!1}}static isPayloadValid(j,et){switch(j){case PacketType.CONNECT:return typeof et=="object";case PacketType.DISCONNECT:return et===void 0;case PacketType.CONNECT_ERROR:return typeof et=="string"||typeof et=="object";case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(et)&&et.length>0;case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(et)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class BinaryReconstructor{constructor(j){this.packet=j,this.buffers=[],this.reconPack=j}takeBinaryData(j){if(this.buffers.push(j),this.buffers.length===this.reconPack.attachments){const et=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),et}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var parser=Object.freeze(Object.defineProperty({__proto__:null,protocol,get PacketType(){return PacketType},Encoder,Decoder},Symbol.toStringTag,{value:"Module"}));function on(_e,j,et){return _e.on(j,et),function(){_e.off(j,et)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(j,et,tt){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=j,this.nsp=et,tt&&tt.auth&&(this.auth=tt.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const j=this.io;this.subs=[on(j,"open",this.onopen.bind(this)),on(j,"packet",this.onpacket.bind(this)),on(j,"error",this.onerror.bind(this)),on(j,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...j){return j.unshift("message"),this.emit.apply(this,j),this}emit(j,...et){if(RESERVED_EVENTS.hasOwnProperty(j))throw new Error('"'+j+'" is a reserved event name');et.unshift(j);const tt={type:PacketType.EVENT,data:et};if(tt.options={},tt.options.compress=this.flags.compress!==!1,typeof et[et.length-1]=="function"){const it=this.ids++,st=et.pop();this._registerAckCallback(it,st),tt.id=it}const nt=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!nt||!this.connected)||(this.connected?(this.notifyOutgoingListeners(tt),this.packet(tt)):this.sendBuffer.push(tt)),this.flags={},this}_registerAckCallback(j,et){const tt=this.flags.timeout;if(tt===void 0){this.acks[j]=et;return}const nt=this.io.setTimeoutFn(()=>{delete this.acks[j];for(let rt=0;rt<this.sendBuffer.length;rt++)this.sendBuffer[rt].id===j&&this.sendBuffer.splice(rt,1);et.call(this,new Error("operation has timed out"))},tt);this.acks[j]=(...rt)=>{this.io.clearTimeoutFn(nt),et.apply(this,[null,...rt])}}packet(j){j.nsp=this.nsp,this.io._packet(j)}onopen(){typeof this.auth=="function"?this.auth(j=>{this.packet({type:PacketType.CONNECT,data:j})}):this.packet({type:PacketType.CONNECT,data:this.auth})}onerror(j){this.connected||this.emitReserved("connect_error",j)}onclose(j,et){this.connected=!1,delete this.id,this.emitReserved("disconnect",j,et)}onpacket(j){if(j.nsp===this.nsp)switch(j.type){case PacketType.CONNECT:if(j.data&&j.data.sid){const nt=j.data.sid;this.onconnect(nt)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(j);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(j);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const tt=new Error(j.data.message);tt.data=j.data.data,this.emitReserved("connect_error",tt);break}}onevent(j){const et=j.data||[];j.id!=null&&et.push(this.ack(j.id)),this.connected?this.emitEvent(et):this.receiveBuffer.push(Object.freeze(et))}emitEvent(j){if(this._anyListeners&&this._anyListeners.length){const et=this._anyListeners.slice();for(const tt of et)tt.apply(this,j)}super.emit.apply(this,j)}ack(j){const et=this;let tt=!1;return function(...nt){tt||(tt=!0,et.packet({type:PacketType.ACK,id:j,data:nt}))}}onack(j){const et=this.acks[j.id];typeof et=="function"&&(et.apply(this,j.data),delete this.acks[j.id])}onconnect(j){this.id=j,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(j=>this.emitEvent(j)),this.receiveBuffer=[],this.sendBuffer.forEach(j=>{this.notifyOutgoingListeners(j),this.packet(j)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(j=>j()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(j){return this.flags.compress=j,this}get volatile(){return this.flags.volatile=!0,this}timeout(j){return this.flags.timeout=j,this}onAny(j){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(j),this}prependAny(j){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(j),this}offAny(j){if(!this._anyListeners)return this;if(j){const et=this._anyListeners;for(let tt=0;tt<et.length;tt++)if(j===et[tt])return et.splice(tt,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(j){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(j),this}prependAnyOutgoing(j){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(j),this}offAnyOutgoing(j){if(!this._anyOutgoingListeners)return this;if(j){const et=this._anyOutgoingListeners;for(let tt=0;tt<et.length;tt++)if(j===et[tt])return et.splice(tt,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(j){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const et=this._anyOutgoingListeners.slice();for(const tt of et)tt.apply(this,j.data)}}}function Backoff(_e){_e=_e||{},this.ms=_e.min||100,this.max=_e.max||1e4,this.factor=_e.factor||2,this.jitter=_e.jitter>0&&_e.jitter<=1?_e.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var _e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var j=Math.random(),et=Math.floor(j*this.jitter*_e);_e=(Math.floor(j*10)&1)==0?_e-et:_e+et}return Math.min(_e,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(_e){this.ms=_e};Backoff.prototype.setMax=function(_e){this.max=_e};Backoff.prototype.setJitter=function(_e){this.jitter=_e};class Manager extends Emitter{constructor(j,et){var tt;super(),this.nsps={},this.subs=[],j&&typeof j=="object"&&(et=j,j=void 0),et=et||{},et.path=et.path||"/socket.io",this.opts=et,installTimerFunctions(this,et),this.reconnection(et.reconnection!==!1),this.reconnectionAttempts(et.reconnectionAttempts||1/0),this.reconnectionDelay(et.reconnectionDelay||1e3),this.reconnectionDelayMax(et.reconnectionDelayMax||5e3),this.randomizationFactor((tt=et.randomizationFactor)!==null&&tt!==void 0?tt:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(et.timeout==null?2e4:et.timeout),this._readyState="closed",this.uri=j;const nt=et.parser||parser;this.encoder=new nt.Encoder,this.decoder=new nt.Decoder,this._autoConnect=et.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(j){return arguments.length?(this._reconnection=!!j,this):this._reconnection}reconnectionAttempts(j){return j===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=j,this)}reconnectionDelay(j){var et;return j===void 0?this._reconnectionDelay:(this._reconnectionDelay=j,(et=this.backoff)===null||et===void 0||et.setMin(j),this)}randomizationFactor(j){var et;return j===void 0?this._randomizationFactor:(this._randomizationFactor=j,(et=this.backoff)===null||et===void 0||et.setJitter(j),this)}reconnectionDelayMax(j){var et;return j===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=j,(et=this.backoff)===null||et===void 0||et.setMax(j),this)}timeout(j){return arguments.length?(this._timeout=j,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(j){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const et=this.engine,tt=this;this._readyState="opening",this.skipReconnect=!1;const nt=on(et,"open",function(){tt.onopen(),j&&j()}),rt=on(et,"error",it=>{tt.cleanup(),tt._readyState="closed",this.emitReserved("error",it),j?j(it):tt.maybeReconnectOnOpen()});if(this._timeout!==!1){const it=this._timeout;it===0&&nt();const st=this.setTimeoutFn(()=>{nt(),et.close(),et.emit("error",new Error("timeout"))},it);this.opts.autoUnref&&st.unref(),this.subs.push(function(){clearTimeout(st)})}return this.subs.push(nt),this.subs.push(rt),this}connect(j){return this.open(j)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const j=this.engine;this.subs.push(on(j,"ping",this.onping.bind(this)),on(j,"data",this.ondata.bind(this)),on(j,"error",this.onerror.bind(this)),on(j,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(j){this.decoder.add(j)}ondecoded(j){this.emitReserved("packet",j)}onerror(j){this.emitReserved("error",j)}socket(j,et){let tt=this.nsps[j];return tt||(tt=new Socket(this,j,et),this.nsps[j]=tt),tt}_destroy(j){const et=Object.keys(this.nsps);for(const tt of et)if(this.nsps[tt].active)return;this._close()}_packet(j){const et=this.encoder.encode(j);for(let tt=0;tt<et.length;tt++)this.engine.write(et[tt],j.options)}cleanup(){this.subs.forEach(j=>j()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(j,et){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",j,et),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const j=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const et=this.backoff.duration();this._reconnecting=!0;const tt=this.setTimeoutFn(()=>{j.skipReconnect||(this.emitReserved("reconnect_attempt",j.backoff.attempts),!j.skipReconnect&&j.open(nt=>{nt?(j._reconnecting=!1,j.reconnect(),this.emitReserved("reconnect_error",nt)):j.onreconnect()}))},et);this.opts.autoUnref&&tt.unref(),this.subs.push(function(){clearTimeout(tt)})}}onreconnect(){const j=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",j)}}const cache={};function lookup(_e,j){typeof _e=="object"&&(j=_e,_e=void 0),j=j||{};const et=url(_e,j.path||"/socket.io"),tt=et.source,nt=et.id,rt=et.path,it=cache[nt]&&rt in cache[nt].nsps,st=j.forceNew||j["force new connection"]||j.multiplex===!1||it;let at;return st?at=new Manager(tt,j):(cache[nt]||(cache[nt]=new Manager(tt,j)),at=cache[nt]),et.query&&!j.query&&(j.query=et.queryKey),at.socket(et.path,j)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});let nanoid=(_e=21)=>crypto.getRandomValues(new Uint8Array(_e)).reduce((j,et)=>(et&=63,et<36?j+=et.toString(36):et<62?j+=(et-26).toString(36).toUpperCase():et>62?j+="-":j+="_",j),"");var index$8="";const ChatRoom=()=>{const[_e,j]=react.exports.useState(lookup()),[et,tt]=react.exports.useState(""),[nt,rt]=react.exports.useState([]),[it,st]=react.exports.useState([]),[at,ot]=useUrlState({port:3101,host:"localhost"}),lt=react.exports.useRef({id:"",enterRoomTS:0}),ut=react.exports.useRef({content:[]});react.exports.useEffect(()=>{ct(),lt.current={id:nanoid(),enterRoomTS:Date.now()}},[]),react.exports.useEffect(()=>{ut.current.content=nt},[nt]);const ct=()=>{const{host:ft,port:mt}=at;console.error(ft,mt);const xt=lookup(`ws://${ft}:${mt}`,{path:"chat-room"});j(xt),xt.on("connect",()=>{console.log("\u8FDE\u63A5\u6210\u529F"),xt.emit("add user",lt.current)}),xt.on("user joined",({id:_t,userList:Tt})=>{const wt=[...ut.current.content];wt.push({id:_t,message:`${_t}\u52A0\u5165`,type:"tip"}),rt(wt),st(Tt)}),xt.on("new message",({id:_t,message:Tt})=>{const wt=[...ut.current.content];wt.push({id:_t,message:Tt}),rt(wt)}),xt.on("user leave",function({id:_t,userList:Tt}){const wt=[...ut.current.content];wt.push({id:_t,message:`${_t}\u79BB\u5F00`,type:"tip"}),rt(wt),st(Tt)})},ht=ft=>{ft.key==="Enter"&&(_e.emit("new message",{id:lt.current.id,message:et}),tt(""),ft.preventDefault())},pt=()=>{_e.emit("new message",{id:lt.current.id,message:et}),tt("")},gt=ft=>{var xt;const mt=(xt=ft.target.value)!=null?xt:"";tt(mt)},vt=()=>{_e.disconnect()};return jsxs("div",{children:[jsx("h2",{children:"ChatRoom"}),jsxs("h2",{children:["id: ",lt.current.id]}),jsxs("div",{className:"ChatRoom",children:[jsxs("div",{className:"ChatRoom-header",children:[jsxs("div",{children:["Chat Room \xB7 ",it.length,"\u4EBA"]}),jsx("button",{className:"ChatRoom-header-quit",onClick:vt,children:"\u9000\u51FA"})]}),jsx("div",{className:"ChatRoom-content",children:nt.map(({id:ft,message:mt,type:xt},_t)=>jsx("div",{className:"ChatRoom-content-item",children:xt==="tip"?jsx("div",{className:"ChatRoom-content-tip",children:mt}):jsxs(React.Fragment,{children:[jsx("div",{className:"ChatRoom-content-id",children:ft}),jsx("div",{className:"ChatRoom-content-message",children:mt})]})},`${ft}-${_t}`))}),jsx("textarea",{className:"ChatRoom-message",cols:77,rows:10,value:et,onChange:gt,onKeyPress:ht}),jsx("button",{onClick:pt,children:"Send"})]}),it.map(ft=>jsx("div",{children:ft},ft))]})};var index$7=react.exports.memo(ChatRoom),__glob_1_12=Object.freeze(Object.defineProperty({__proto__:null,default:index$7},Symbol.toStringTag,{value:"Module"})),getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(_e){return typeof _e=="string"&&REGEX.test(_e)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(_e){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,et=(byteToHex[_e[j+0]]+byteToHex[_e[j+1]]+byteToHex[_e[j+2]]+byteToHex[_e[j+3]]+"-"+byteToHex[_e[j+4]]+byteToHex[_e[j+5]]+"-"+byteToHex[_e[j+6]]+byteToHex[_e[j+7]]+"-"+byteToHex[_e[j+8]]+byteToHex[_e[j+9]]+"-"+byteToHex[_e[j+10]]+byteToHex[_e[j+11]]+byteToHex[_e[j+12]]+byteToHex[_e[j+13]]+byteToHex[_e[j+14]]+byteToHex[_e[j+15]]).toLowerCase();if(!validate(et))throw TypeError("Stringified UUID is invalid");return et}function v4(_e,j,et){_e=_e||{};var tt=_e.random||(_e.rng||rng)();if(tt[6]=tt[6]&15|64,tt[8]=tt[8]&63|128,j){et=et||0;for(var nt=0;nt<16;++nt)j[et+nt]=tt[nt];return j}return stringify(tt)}class State{constructor(j){is(this,"initPos");is(this,"team");is(this,"x");var et;this.initPos=(et=j==null?void 0:j.initPos)!=null?et:0,this.team=1,this.x=this.initPos}}class Player{constructor(j){is(this,"socketId","");is(this,"id");is(this,"enterRoomTS");is(this,"state");is(this,"tick");is(this,"delay");is(this,"speed");is(this,"predict");is(this,"reconciliation");is(this,"interpolation");var et,tt,nt;this.id=(et=j==null?void 0:j.id)!=null?et:v4(),this.enterRoomTS=Date.now(),this.state=j!=null&&j.state?new State(j.state):new State({}),this.delay=(tt=j==null?void 0:j.delay)!=null?tt:150,this.speed=(nt=j==null?void 0:j.speed)!=null?nt:2,this.predict=!1,this.reconciliation=!1,this.interpolation=!1}}const teamColor=["black","red","blue","green"];var Easing={Linear:{None:function(_e){return _e}},Quadratic:{In:function(_e){return _e*_e},Out:function(_e){return _e*(2-_e)},InOut:function(_e){return(_e*=2)<1?.5*_e*_e:-.5*(--_e*(_e-2)-1)}},Cubic:{In:function(_e){return _e*_e*_e},Out:function(_e){return--_e*_e*_e+1},InOut:function(_e){return(_e*=2)<1?.5*_e*_e*_e:.5*((_e-=2)*_e*_e+2)}},Quartic:{In:function(_e){return _e*_e*_e*_e},Out:function(_e){return 1- --_e*_e*_e*_e},InOut:function(_e){return(_e*=2)<1?.5*_e*_e*_e*_e:-.5*((_e-=2)*_e*_e*_e-2)}},Quintic:{In:function(_e){return _e*_e*_e*_e*_e},Out:function(_e){return--_e*_e*_e*_e*_e+1},InOut:function(_e){return(_e*=2)<1?.5*_e*_e*_e*_e*_e:.5*((_e-=2)*_e*_e*_e*_e+2)}},Sinusoidal:{In:function(_e){return 1-Math.cos(_e*Math.PI/2)},Out:function(_e){return Math.sin(_e*Math.PI/2)},InOut:function(_e){return .5*(1-Math.cos(Math.PI*_e))}},Exponential:{In:function(_e){return _e===0?0:Math.pow(1024,_e-1)},Out:function(_e){return _e===1?1:1-Math.pow(2,-10*_e)},InOut:function(_e){return _e===0?0:_e===1?1:(_e*=2)<1?.5*Math.pow(1024,_e-1):.5*(-Math.pow(2,-10*(_e-1))+2)}},Circular:{In:function(_e){return 1-Math.sqrt(1-_e*_e)},Out:function(_e){return Math.sqrt(1- --_e*_e)},InOut:function(_e){return(_e*=2)<1?-.5*(Math.sqrt(1-_e*_e)-1):.5*(Math.sqrt(1-(_e-=2)*_e)+1)}},Elastic:{In:function(_e){return _e===0?0:_e===1?1:-Math.pow(2,10*(_e-1))*Math.sin((_e-1.1)*5*Math.PI)},Out:function(_e){return _e===0?0:_e===1?1:Math.pow(2,-10*_e)*Math.sin((_e-.1)*5*Math.PI)+1},InOut:function(_e){return _e===0?0:_e===1?1:(_e*=2,_e<1?-.5*Math.pow(2,10*(_e-1))*Math.sin((_e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(_e-1))*Math.sin((_e-1.1)*5*Math.PI)+1)}},Back:{In:function(_e){var j=1.70158;return _e*_e*((j+1)*_e-j)},Out:function(_e){var j=1.70158;return--_e*_e*((j+1)*_e+j)+1},InOut:function(_e){var j=2.5949095;return(_e*=2)<1?.5*(_e*_e*((j+1)*_e-j)):.5*((_e-=2)*_e*((j+1)*_e+j)+2)}},Bounce:{In:function(_e){return 1-Easing.Bounce.Out(1-_e)},Out:function(_e){return _e<1/2.75?7.5625*_e*_e:_e<2/2.75?7.5625*(_e-=1.5/2.75)*_e+.75:_e<2.5/2.75?7.5625*(_e-=2.25/2.75)*_e+.9375:7.5625*(_e-=2.625/2.75)*_e+.984375},InOut:function(_e){return _e<.5?Easing.Bounce.In(_e*2)*.5:Easing.Bounce.Out(_e*2-1)*.5+.5}}},now$1;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?now$1=function(){var _e=process.hrtime();return _e[0]*1e3+_e[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?now$1=self.performance.now.bind(self.performance):Date.now!==void 0?now$1=Date.now:now$1=function(){return new Date().getTime()};var now$1$1=now$1,Group$1=function(){function _e(){this._tweens={},this._tweensAddedDuringUpdate={}}return _e.prototype.getAll=function(){var j=this;return Object.keys(this._tweens).map(function(et){return j._tweens[et]})},_e.prototype.removeAll=function(){this._tweens={}},_e.prototype.add=function(j){this._tweens[j.getId()]=j,this._tweensAddedDuringUpdate[j.getId()]=j},_e.prototype.remove=function(j){delete this._tweens[j.getId()],delete this._tweensAddedDuringUpdate[j.getId()]},_e.prototype.update=function(j,et){j===void 0&&(j=now$1$1()),et===void 0&&(et=!1);var tt=Object.keys(this._tweens);if(tt.length===0)return!1;for(;tt.length>0;){this._tweensAddedDuringUpdate={};for(var nt=0;nt<tt.length;nt++){var rt=this._tweens[tt[nt]],it=!et;rt&&rt.update(j,it)===!1&&!et&&delete this._tweens[tt[nt]]}tt=Object.keys(this._tweensAddedDuringUpdate)}return!0},_e}(),Interpolation={Linear:function(_e,j){var et=_e.length-1,tt=et*j,nt=Math.floor(tt),rt=Interpolation.Utils.Linear;return j<0?rt(_e[0],_e[1],tt):j>1?rt(_e[et],_e[et-1],et-tt):rt(_e[nt],_e[nt+1>et?et:nt+1],tt-nt)},Bezier:function(_e,j){for(var et=0,tt=_e.length-1,nt=Math.pow,rt=Interpolation.Utils.Bernstein,it=0;it<=tt;it++)et+=nt(1-j,tt-it)*nt(j,it)*_e[it]*rt(tt,it);return et},CatmullRom:function(_e,j){var et=_e.length-1,tt=et*j,nt=Math.floor(tt),rt=Interpolation.Utils.CatmullRom;return _e[0]===_e[et]?(j<0&&(nt=Math.floor(tt=et*(1+j))),rt(_e[(nt-1+et)%et],_e[nt],_e[(nt+1)%et],_e[(nt+2)%et],tt-nt)):j<0?_e[0]-(rt(_e[0],_e[0],_e[1],_e[1],-tt)-_e[0]):j>1?_e[et]-(rt(_e[et],_e[et],_e[et-1],_e[et-1],tt-et)-_e[et]):rt(_e[nt?nt-1:0],_e[nt],_e[et<nt+1?et:nt+1],_e[et<nt+2?et:nt+2],tt-nt)},Utils:{Linear:function(_e,j,et){return(j-_e)*et+_e},Bernstein:function(_e,j){var et=Interpolation.Utils.Factorial;return et(_e)/et(j)/et(_e-j)},Factorial:function(){var _e=[1];return function(j){var et=1;if(_e[j])return _e[j];for(var tt=j;tt>1;tt--)et*=tt;return _e[j]=et,et}}(),CatmullRom:function(_e,j,et,tt,nt){var rt=(et-_e)*.5,it=(tt-j)*.5,st=nt*nt,at=nt*st;return(2*j-2*et+rt+it)*at+(-3*j+3*et-2*rt-it)*st+rt*nt+j}}},Sequence=function(){function _e(){}return _e.nextId=function(){return _e._nextId++},_e._nextId=0,_e}(),mainGroup=new Group$1,Tween=function(){function _e(j,et){et===void 0&&(et=mainGroup),this._object=j,this._group=et,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Easing.Linear.None,this._interpolationFunction=Interpolation.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Sequence.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return _e.prototype.getId=function(){return this._id},_e.prototype.isPlaying=function(){return this._isPlaying},_e.prototype.isPaused=function(){return this._isPaused},_e.prototype.to=function(j,et){return this._valuesEnd=Object.create(j),et!==void 0&&(this._duration=et),this},_e.prototype.duration=function(j){return this._duration=j,this},_e.prototype.start=function(j){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var et in this._valuesStartRepeat)this._swapEndStartRepeatValues(et),this._valuesStart[et]=this._valuesStartRepeat[et]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=j!==void 0?typeof j=="string"?now$1$1()+parseFloat(j):j:now$1$1(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},_e.prototype._setupProperties=function(j,et,tt,nt){for(var rt in tt){var it=j[rt],st=Array.isArray(it),at=st?"array":typeof it,ot=!st&&Array.isArray(tt[rt]);if(!(at==="undefined"||at==="function")){if(ot){var lt=tt[rt];if(lt.length===0)continue;lt=lt.map(this._handleRelativeValue.bind(this,it)),tt[rt]=[it].concat(lt)}if((at==="object"||st)&&it&&!ot){et[rt]=st?[]:{};for(var ut in it)et[rt][ut]=it[ut];nt[rt]=st?[]:{},this._setupProperties(it,et[rt],tt[rt],nt[rt])}else typeof et[rt]=="undefined"&&(et[rt]=it),st||(et[rt]*=1),ot?nt[rt]=tt[rt].slice().reverse():nt[rt]=et[rt]||0}}},_e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},_e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},_e.prototype.pause=function(j){return j===void 0&&(j=now$1$1()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=j,this._group&&this._group.remove(this),this)},_e.prototype.resume=function(j){return j===void 0&&(j=now$1$1()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=j-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},_e.prototype.stopChainedTweens=function(){for(var j=0,et=this._chainedTweens.length;j<et;j++)this._chainedTweens[j].stop();return this},_e.prototype.group=function(j){return this._group=j,this},_e.prototype.delay=function(j){return this._delayTime=j,this},_e.prototype.repeat=function(j){return this._initialRepeat=j,this._repeat=j,this},_e.prototype.repeatDelay=function(j){return this._repeatDelayTime=j,this},_e.prototype.yoyo=function(j){return this._yoyo=j,this},_e.prototype.easing=function(j){return this._easingFunction=j,this},_e.prototype.interpolation=function(j){return this._interpolationFunction=j,this},_e.prototype.chain=function(){for(var j=[],et=0;et<arguments.length;et++)j[et]=arguments[et];return this._chainedTweens=j,this},_e.prototype.onStart=function(j){return this._onStartCallback=j,this},_e.prototype.onUpdate=function(j){return this._onUpdateCallback=j,this},_e.prototype.onRepeat=function(j){return this._onRepeatCallback=j,this},_e.prototype.onComplete=function(j){return this._onCompleteCallback=j,this},_e.prototype.onStop=function(j){return this._onStopCallback=j,this},_e.prototype.update=function(j,et){if(j===void 0&&(j=now$1$1()),et===void 0&&(et=!0),this._isPaused)return!0;var tt,nt,rt=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(j>rt)return!1;et&&this.start(j)}if(this._goToEnd=!1,j<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),nt=(j-this._startTime)/this._duration,nt=this._duration===0||nt>1?1:nt;var it=this._easingFunction(nt);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,it),this._onUpdateCallback&&this._onUpdateCallback(this._object,nt),nt===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(tt in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[tt]=="string"&&(this._valuesStartRepeat[tt]=this._valuesStartRepeat[tt]+parseFloat(this._valuesEnd[tt])),this._yoyo&&this._swapEndStartRepeatValues(tt),this._valuesStart[tt]=this._valuesStartRepeat[tt];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=j+this._repeatDelayTime:this._startTime=j+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var st=0,at=this._chainedTweens.length;st<at;st++)this._chainedTweens[st].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},_e.prototype._updateProperties=function(j,et,tt,nt){for(var rt in tt)if(et[rt]!==void 0){var it=et[rt]||0,st=tt[rt],at=Array.isArray(j[rt]),ot=Array.isArray(st),lt=!at&&ot;lt?j[rt]=this._interpolationFunction(st,nt):typeof st=="object"&&st?this._updateProperties(j[rt],it,st,nt):(st=this._handleRelativeValue(it,st),typeof st=="number"&&(j[rt]=it+(st-it)*nt))}},_e.prototype._handleRelativeValue=function(j,et){return typeof et!="string"?et:et.charAt(0)==="+"||et.charAt(0)==="-"?j+parseFloat(et):parseFloat(et)},_e.prototype._swapEndStartRepeatValues=function(j){var et=this._valuesStartRepeat[j],tt=this._valuesEnd[j];typeof tt=="string"?this._valuesStartRepeat[j]=this._valuesStartRepeat[j]+parseFloat(tt):this._valuesStartRepeat[j]=this._valuesEnd[j],this._valuesEnd[j]=et},_e}(),VERSION="18.6.4",nextId=Sequence.nextId,TWEEN=mainGroup,getAll=TWEEN.getAll.bind(TWEEN),removeAll=TWEEN.removeAll.bind(TWEEN),add=TWEEN.add.bind(TWEEN),remove=TWEEN.remove.bind(TWEEN),update=TWEEN.update.bind(TWEEN),exports={Easing,Group:Group$1,Interpolation,now:now$1$1,Sequence,nextId,Tween,VERSION,getAll,removeAll,add,remove,update},index$6="";const GameDemo=()=>{const[_e,j]=react.exports.useState(lookup()),[et,tt]=react.exports.useState([]),[nt,rt]=react.exports.useState([]),[it,st]=useUrlState({port:3101,host:"localhost"}),at=react.exports.useRef(new Player({id:nanoid(),speed:5})),ot=react.exports.useRef(0),lt=react.exports.useRef([]),ut=react.exports.useRef([]);react.exports.useEffect(()=>{ct()},[]);const ct=()=>{const{host:gt,port:vt}=it;console.error(gt,vt);const ft=lookup(`ws://${gt}:${vt}`,{path:"game-demo"});ft.id=at.current.id,j(ft),ft.on("connect",()=>{ft.emit("create-player",{id:at.current.id})}),ft.on("create-player-done",({playerList:mt})=>{tt(mt);const xt=mt.findIndex(_t=>_t.id===at.current.id);at.current.socketId=mt[xt].socketId}),ft.on("player-disconnect",({id:mt,playerList:xt})=>{tt(xt)}),ft.on("interval-update",({state:mt})=>{at.current.state=mt}),ft.on("update-state",({playerList:mt,actionId:xt})=>{tt(mt);const _t=mt.find(Tt=>at.current.id===Tt.id);if(_t)if(_t.reconciliation&&xt){const Tt=lt.current.findIndex(Ct=>Ct.actionId===xt);let wt=0;for(let Ct=Tt;Ct<lt.current.length;Ct++)wt+=lt.current[Ct].actionType;const bt=lodash.exports.cloneDeep(_t);bt.state.x+=wt*_t.speed,at.current=bt}else at.current=_t;mt.forEach(Tt=>{if(Tt.interpolation&&Tt.id!==at.current.id){const wt=ut.current.findIndex(bt=>Tt.id===bt.id);if(wt===-1)ut.current.push(Tt);else{const bt=document.getElementById(`thumb-${Tt.id}`);if(bt){const Ct={x:ut.current[wt].state.x};new exports.Tween(Ct).to({x:Tt.state.x},100).onUpdate(()=>{bt.style.setProperty("transform",`translateX(${Ct.x}px)`),console.error("onUpdate",2,Ct.x)}).start()}ut.current[wt]=Tt}}})}),ft.on("update-real-state",({playerList:mt})=>{rt(mt)})},ht=()=>{const{id:gt,predict:vt,speed:ft,reconciliation:mt}=at.current;if(mt){const xt=v4();lt.current.push({actionId:xt,actionType:-1,ts:Date.now()}),_e.emit("handle-left",{id:gt,actionId:xt})}else _e.emit("handle-left",{id:gt});vt&&(at.current.state.x-=ft),ot.current=window.requestAnimationFrame(ht),exports.update()},pt=gt=>{const{id:vt,predict:ft,speed:mt,reconciliation:xt}=at.current;if(xt){const _t=v4();lt.current.push({actionId:_t,actionType:1,ts:Date.now()}),_e.emit("handle-right",{id:vt,actionId:_t})}else _e.emit("handle-right",{id:vt});ft&&(at.current.state.x+=mt),ot.current=window.requestAnimationFrame(pt),exports.update()};return jsxs("div",{children:[jsxs("div",{children:["\u5F53\u524D\u7528\u6237",jsx("div",{children:at.current.id}),"\u5728\u7EBF\u7528\u6237",et.map(gt=>jsxs("div",{style:{display:"flex",justifyContent:"space-around"},children:[jsx("div",{children:gt.id}),jsx("div",{children:hooks(gt.enterRoomTS).format("HH:mm:ss")})]},gt.id))]}),et.map((gt,vt)=>{var xt,_t,Tt;const ft=gt.id===at.current.id,mt=!ft;return jsxs("div",{className:"player-wrapper",children:[jsxs("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[jsx("div",{style:{color:ft?"red":"black"},children:gt.id}),jsxs("div",{children:["\u9884\u6D4B",jsx("input",{disabled:mt,type:"checkbox",checked:gt.predict,onChange:()=>{_e.emit("predict-change",{id:at.current.id,predict:!gt.predict})}})]}),jsxs("div",{children:["\u548C\u89E3",jsx("input",{disabled:mt,type:"checkbox",checked:gt.reconciliation,onChange:()=>{_e.emit("reconciliation-change",{id:at.current.id,reconciliation:!gt.reconciliation})}})]}),jsxs("div",{children:["\u63D2\u503C",jsx("input",{disabled:!0,type:"checkbox",checked:gt.interpolation,onChange:()=>{_e.emit("interpolation-change",{id:gt.id,interpolation:!gt.interpolation})}})]})]}),jsx("div",{children:"Client"}),ft?jsx("div",{className:"track",children:jsx("div",{id:`thumb-${gt.id}`,className:"left",style:{backgroundColor:teamColor[gt.state.team],transform:`translateX(${at.current.predict?at.current.state.x:gt.state.x}px)`},children:"\u81EA\u5DF1"})}):jsx("div",{className:"track",children:jsx("div",{id:`thumb-${gt.id}`,className:"left",style:gt.interpolation?{backgroundColor:teamColor[gt.state.team]}:{backgroundColor:teamColor[gt.state.team],transform:`translateX(${gt.state.x}px)`},children:"\u522B\u4EBA"})}),jsx("div",{children:"Server"}),nt.length&&jsx("div",{className:"server-track",children:jsx("div",{className:"left",style:{backgroundColor:teamColor[gt.state.team],transform:`translateX(${(Tt=(_t=(xt=nt[vt])==null?void 0:xt.state)==null?void 0:_t.x)!=null?Tt:0}px)`}})}),jsxs("div",{children:["delay:",jsx("input",{type:"number",min:1,max:3e3,onChange:wt=>{const bt=parseInt(wt.target.value);_e.emit("delay-change",{delay:bt,id:at.current.id})},value:gt.delay,disabled:mt}),"speed:",jsx("input",{onChange:wt=>{const bt=wt.target.value===""?0:parseInt(wt.target.value);_e.emit("speed-change",{speed:bt,id:at.current.id})},value:gt.speed,disabled:mt})]}),jsx("button",{onMouseDown:()=>{window.requestAnimationFrame(ht)},onMouseUp:()=>{cancelAnimationFrame(ot.current)},disabled:mt,children:"\u5DE6"}),jsx("button",{onMouseDown:()=>{window.requestAnimationFrame(pt)},onMouseUp:()=>{cancelAnimationFrame(ot.current)},disabled:mt,children:"\u53F3"})]},gt.id)})]})};var index$5=react.exports.memo(GameDemo),__glob_1_13=Object.freeze(Object.defineProperty({__proto__:null,default:index$5},Symbol.toStringTag,{value:"Module"}));const host="localhost",port=3101,SocketDemo=()=>{const[_e,j]=react.exports.useState(lookup()),[et,tt]=react.exports.useState("");react.exports.useEffect(()=>{nt()},[]);const nt=()=>{const it=lookup(`ws://${host}:${port}`);j(it),it.emit("connected-successful",{id:nanoid(),ts:Date.now()}),it.on("server-res",st=>{console.log("server-res",st)})};return jsxs("div",{children:[jsx("h3",{children:"Socket Demo"}),jsx("input",{style:{width:"500px"},value:et,onChange:it=>tt(it.target.value)}),jsx("div",{children:jsx("button",{onClick:()=>{_e.emit("client-input-val",et)},children:"send"})})]})};var index$4=react.exports.memo(SocketDemo),__glob_1_14=Object.freeze(Object.defineProperty({__proto__:null,default:index$4},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="138",CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,FlatShading=1,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,CubeUVRefractionMapping=307,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipmapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipmapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,KeepStencilOp=7680,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher{addEventListener(j,et){this._listeners===void 0&&(this._listeners={});const tt=this._listeners;tt[j]===void 0&&(tt[j]=[]),tt[j].indexOf(et)===-1&&tt[j].push(et)}hasEventListener(j,et){if(this._listeners===void 0)return!1;const tt=this._listeners;return tt[j]!==void 0&&tt[j].indexOf(et)!==-1}removeEventListener(j,et){if(this._listeners===void 0)return;const nt=this._listeners[j];if(nt!==void 0){const rt=nt.indexOf(et);rt!==-1&&nt.splice(rt,1)}}dispatchEvent(j){if(this._listeners===void 0)return;const tt=this._listeners[j.type];if(tt!==void 0){j.target=this;const nt=tt.slice(0);for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].call(this,j);j.target=null}}}const _lut=[];for(let _e=0;_e<256;_e++)_lut[_e]=(_e<16?"0":"")+_e.toString(16);const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const _e=Math.random()*4294967295|0,j=Math.random()*4294967295|0,et=Math.random()*4294967295|0,tt=Math.random()*4294967295|0;return(_lut[_e&255]+_lut[_e>>8&255]+_lut[_e>>16&255]+_lut[_e>>24&255]+"-"+_lut[j&255]+_lut[j>>8&255]+"-"+_lut[j>>16&15|64]+_lut[j>>24&255]+"-"+_lut[et&63|128]+_lut[et>>8&255]+"-"+_lut[et>>16&255]+_lut[et>>24&255]+_lut[tt&255]+_lut[tt>>8&255]+_lut[tt>>16&255]+_lut[tt>>24&255]).toUpperCase()}function clamp(_e,j,et){return Math.max(j,Math.min(et,_e))}function euclideanModulo(_e,j){return(_e%j+j)%j}function lerp(_e,j,et){return(1-et)*_e+et*j}function isPowerOfTwo(_e){return(_e&_e-1)===0&&_e!==0}function floorPowerOfTwo(_e){return Math.pow(2,Math.floor(Math.log(_e)/Math.LN2))}class Vector2{constructor(j=0,et=0){this.x=j,this.y=et}get width(){return this.x}set width(j){this.x=j}get height(){return this.y}set height(j){this.y=j}set(j,et){return this.x=j,this.y=et,this}setScalar(j){return this.x=j,this.y=j,this}setX(j){return this.x=j,this}setY(j){return this.y=j,this}setComponent(j,et){switch(j){case 0:this.x=et;break;case 1:this.y=et;break;default:throw new Error("index is out of range: "+j)}return this}getComponent(j){switch(j){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+j)}}clone(){return new this.constructor(this.x,this.y)}copy(j){return this.x=j.x,this.y=j.y,this}add(j,et){return et!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(j,et)):(this.x+=j.x,this.y+=j.y,this)}addScalar(j){return this.x+=j,this.y+=j,this}addVectors(j,et){return this.x=j.x+et.x,this.y=j.y+et.y,this}addScaledVector(j,et){return this.x+=j.x*et,this.y+=j.y*et,this}sub(j,et){return et!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(j,et)):(this.x-=j.x,this.y-=j.y,this)}subScalar(j){return this.x-=j,this.y-=j,this}subVectors(j,et){return this.x=j.x-et.x,this.y=j.y-et.y,this}multiply(j){return this.x*=j.x,this.y*=j.y,this}multiplyScalar(j){return this.x*=j,this.y*=j,this}divide(j){return this.x/=j.x,this.y/=j.y,this}divideScalar(j){return this.multiplyScalar(1/j)}applyMatrix3(j){const et=this.x,tt=this.y,nt=j.elements;return this.x=nt[0]*et+nt[3]*tt+nt[6],this.y=nt[1]*et+nt[4]*tt+nt[7],this}min(j){return this.x=Math.min(this.x,j.x),this.y=Math.min(this.y,j.y),this}max(j){return this.x=Math.max(this.x,j.x),this.y=Math.max(this.y,j.y),this}clamp(j,et){return this.x=Math.max(j.x,Math.min(et.x,this.x)),this.y=Math.max(j.y,Math.min(et.y,this.y)),this}clampScalar(j,et){return this.x=Math.max(j,Math.min(et,this.x)),this.y=Math.max(j,Math.min(et,this.y)),this}clampLength(j,et){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max(j,Math.min(et,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(j){return this.x*j.x+this.y*j.y}cross(j){return this.x*j.y-this.y*j.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(j){return Math.sqrt(this.distanceToSquared(j))}distanceToSquared(j){const et=this.x-j.x,tt=this.y-j.y;return et*et+tt*tt}manhattanDistanceTo(j){return Math.abs(this.x-j.x)+Math.abs(this.y-j.y)}setLength(j){return this.normalize().multiplyScalar(j)}lerp(j,et){return this.x+=(j.x-this.x)*et,this.y+=(j.y-this.y)*et,this}lerpVectors(j,et,tt){return this.x=j.x+(et.x-j.x)*tt,this.y=j.y+(et.y-j.y)*tt,this}equals(j){return j.x===this.x&&j.y===this.y}fromArray(j,et=0){return this.x=j[et],this.y=j[et+1],this}toArray(j=[],et=0){return j[et]=this.x,j[et+1]=this.y,j}fromBufferAttribute(j,et,tt){return tt!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=j.getX(et),this.y=j.getY(et),this}rotateAround(j,et){const tt=Math.cos(et),nt=Math.sin(et),rt=this.x-j.x,it=this.y-j.y;return this.x=rt*tt-it*nt+j.x,this.y=rt*nt+it*tt+j.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Vector2.prototype.isVector2=!0;class Matrix3{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(j,et,tt,nt,rt,it,st,at,ot){const lt=this.elements;return lt[0]=j,lt[1]=nt,lt[2]=st,lt[3]=et,lt[4]=rt,lt[5]=at,lt[6]=tt,lt[7]=it,lt[8]=ot,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(j){const et=this.elements,tt=j.elements;return et[0]=tt[0],et[1]=tt[1],et[2]=tt[2],et[3]=tt[3],et[4]=tt[4],et[5]=tt[5],et[6]=tt[6],et[7]=tt[7],et[8]=tt[8],this}extractBasis(j,et,tt){return j.setFromMatrix3Column(this,0),et.setFromMatrix3Column(this,1),tt.setFromMatrix3Column(this,2),this}setFromMatrix4(j){const et=j.elements;return this.set(et[0],et[4],et[8],et[1],et[5],et[9],et[2],et[6],et[10]),this}multiply(j){return this.multiplyMatrices(this,j)}premultiply(j){return this.multiplyMatrices(j,this)}multiplyMatrices(j,et){const tt=j.elements,nt=et.elements,rt=this.elements,it=tt[0],st=tt[3],at=tt[6],ot=tt[1],lt=tt[4],ut=tt[7],ct=tt[2],ht=tt[5],pt=tt[8],gt=nt[0],vt=nt[3],ft=nt[6],mt=nt[1],xt=nt[4],_t=nt[7],Tt=nt[2],wt=nt[5],bt=nt[8];return rt[0]=it*gt+st*mt+at*Tt,rt[3]=it*vt+st*xt+at*wt,rt[6]=it*ft+st*_t+at*bt,rt[1]=ot*gt+lt*mt+ut*Tt,rt[4]=ot*vt+lt*xt+ut*wt,rt[7]=ot*ft+lt*_t+ut*bt,rt[2]=ct*gt+ht*mt+pt*Tt,rt[5]=ct*vt+ht*xt+pt*wt,rt[8]=ct*ft+ht*_t+pt*bt,this}multiplyScalar(j){const et=this.elements;return et[0]*=j,et[3]*=j,et[6]*=j,et[1]*=j,et[4]*=j,et[7]*=j,et[2]*=j,et[5]*=j,et[8]*=j,this}determinant(){const j=this.elements,et=j[0],tt=j[1],nt=j[2],rt=j[3],it=j[4],st=j[5],at=j[6],ot=j[7],lt=j[8];return et*it*lt-et*st*ot-tt*rt*lt+tt*st*at+nt*rt*ot-nt*it*at}invert(){const j=this.elements,et=j[0],tt=j[1],nt=j[2],rt=j[3],it=j[4],st=j[5],at=j[6],ot=j[7],lt=j[8],ut=lt*it-st*ot,ct=st*at-lt*rt,ht=ot*rt-it*at,pt=et*ut+tt*ct+nt*ht;if(pt===0)return this.set(0,0,0,0,0,0,0,0,0);const gt=1/pt;return j[0]=ut*gt,j[1]=(nt*ot-lt*tt)*gt,j[2]=(st*tt-nt*it)*gt,j[3]=ct*gt,j[4]=(lt*et-nt*at)*gt,j[5]=(nt*rt-st*et)*gt,j[6]=ht*gt,j[7]=(tt*at-ot*et)*gt,j[8]=(it*et-tt*rt)*gt,this}transpose(){let j;const et=this.elements;return j=et[1],et[1]=et[3],et[3]=j,j=et[2],et[2]=et[6],et[6]=j,j=et[5],et[5]=et[7],et[7]=j,this}getNormalMatrix(j){return this.setFromMatrix4(j).invert().transpose()}transposeIntoArray(j){const et=this.elements;return j[0]=et[0],j[1]=et[3],j[2]=et[6],j[3]=et[1],j[4]=et[4],j[5]=et[7],j[6]=et[2],j[7]=et[5],j[8]=et[8],this}setUvTransform(j,et,tt,nt,rt,it,st){const at=Math.cos(rt),ot=Math.sin(rt);return this.set(tt*at,tt*ot,-tt*(at*it+ot*st)+it+j,-nt*ot,nt*at,-nt*(-ot*it+at*st)+st+et,0,0,1),this}scale(j,et){const tt=this.elements;return tt[0]*=j,tt[3]*=j,tt[6]*=j,tt[1]*=et,tt[4]*=et,tt[7]*=et,this}rotate(j){const et=Math.cos(j),tt=Math.sin(j),nt=this.elements,rt=nt[0],it=nt[3],st=nt[6],at=nt[1],ot=nt[4],lt=nt[7];return nt[0]=et*rt+tt*at,nt[3]=et*it+tt*ot,nt[6]=et*st+tt*lt,nt[1]=-tt*rt+et*at,nt[4]=-tt*it+et*ot,nt[7]=-tt*st+et*lt,this}translate(j,et){const tt=this.elements;return tt[0]+=j*tt[2],tt[3]+=j*tt[5],tt[6]+=j*tt[8],tt[1]+=et*tt[2],tt[4]+=et*tt[5],tt[7]+=et*tt[8],this}equals(j){const et=this.elements,tt=j.elements;for(let nt=0;nt<9;nt++)if(et[nt]!==tt[nt])return!1;return!0}fromArray(j,et=0){for(let tt=0;tt<9;tt++)this.elements[tt]=j[tt+et];return this}toArray(j=[],et=0){const tt=this.elements;return j[et]=tt[0],j[et+1]=tt[1],j[et+2]=tt[2],j[et+3]=tt[3],j[et+4]=tt[4],j[et+5]=tt[5],j[et+6]=tt[6],j[et+7]=tt[7],j[et+8]=tt[8],j}clone(){return new this.constructor().fromArray(this.elements)}}Matrix3.prototype.isMatrix3=!0;function arrayNeedsUint32(_e){for(let j=_e.length-1;j>=0;--j)if(_e[j]>65535)return!0;return!1}function createElementNS(_e){return document.createElementNS("http://www.w3.org/1999/xhtml",_e)}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(_e,j,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?_e+(j-_e)*6*et:et<1/2?j:et<2/3?_e+(j-_e)*6*(2/3-et):_e}function SRGBToLinear(_e){return _e<.04045?_e*.0773993808:Math.pow(_e*.9478672986+.0521327014,2.4)}function LinearToSRGB(_e){return _e<.0031308?_e*12.92:1.055*Math.pow(_e,.41666)-.055}class Color{constructor(j,et,tt){return et===void 0&&tt===void 0?this.set(j):this.setRGB(j,et,tt)}set(j){return j&&j.isColor?this.copy(j):typeof j=="number"?this.setHex(j):typeof j=="string"&&this.setStyle(j),this}setScalar(j){return this.r=j,this.g=j,this.b=j,this}setHex(j){return j=Math.floor(j),this.r=(j>>16&255)/255,this.g=(j>>8&255)/255,this.b=(j&255)/255,this}setRGB(j,et,tt){return this.r=j,this.g=et,this.b=tt,this}setHSL(j,et,tt){if(j=euclideanModulo(j,1),et=clamp(et,0,1),tt=clamp(tt,0,1),et===0)this.r=this.g=this.b=tt;else{const nt=tt<=.5?tt*(1+et):tt+et-tt*et,rt=2*tt-nt;this.r=hue2rgb(rt,nt,j+1/3),this.g=hue2rgb(rt,nt,j),this.b=hue2rgb(rt,nt,j-1/3)}return this}setStyle(j){function et(nt){nt!==void 0&&parseFloat(nt)<1&&console.warn("THREE.Color: Alpha component of "+j+" will be ignored.")}let tt;if(tt=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(j)){let nt;const rt=tt[1],it=tt[2];switch(rt){case"rgb":case"rgba":if(nt=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(it))return this.r=Math.min(255,parseInt(nt[1],10))/255,this.g=Math.min(255,parseInt(nt[2],10))/255,this.b=Math.min(255,parseInt(nt[3],10))/255,et(nt[4]),this;if(nt=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(it))return this.r=Math.min(100,parseInt(nt[1],10))/100,this.g=Math.min(100,parseInt(nt[2],10))/100,this.b=Math.min(100,parseInt(nt[3],10))/100,et(nt[4]),this;break;case"hsl":case"hsla":if(nt=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(it)){const st=parseFloat(nt[1])/360,at=parseInt(nt[2],10)/100,ot=parseInt(nt[3],10)/100;return et(nt[4]),this.setHSL(st,at,ot)}break}}else if(tt=/^\#([A-Fa-f\d]+)$/.exec(j)){const nt=tt[1],rt=nt.length;if(rt===3)return this.r=parseInt(nt.charAt(0)+nt.charAt(0),16)/255,this.g=parseInt(nt.charAt(1)+nt.charAt(1),16)/255,this.b=parseInt(nt.charAt(2)+nt.charAt(2),16)/255,this;if(rt===6)return this.r=parseInt(nt.charAt(0)+nt.charAt(1),16)/255,this.g=parseInt(nt.charAt(2)+nt.charAt(3),16)/255,this.b=parseInt(nt.charAt(4)+nt.charAt(5),16)/255,this}return j&&j.length>0?this.setColorName(j):this}setColorName(j){const et=_colorKeywords[j.toLowerCase()];return et!==void 0?this.setHex(et):console.warn("THREE.Color: Unknown color "+j),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(j){return this.r=j.r,this.g=j.g,this.b=j.b,this}copySRGBToLinear(j){return this.r=SRGBToLinear(j.r),this.g=SRGBToLinear(j.g),this.b=SRGBToLinear(j.b),this}copyLinearToSRGB(j){return this.r=LinearToSRGB(j.r),this.g=LinearToSRGB(j.g),this.b=LinearToSRGB(j.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(j){const et=this.r,tt=this.g,nt=this.b,rt=Math.max(et,tt,nt),it=Math.min(et,tt,nt);let st,at;const ot=(it+rt)/2;if(it===rt)st=0,at=0;else{const lt=rt-it;switch(at=ot<=.5?lt/(rt+it):lt/(2-rt-it),rt){case et:st=(tt-nt)/lt+(tt<nt?6:0);break;case tt:st=(nt-et)/lt+2;break;case nt:st=(et-tt)/lt+4;break}st/=6}return j.h=st,j.s=at,j.l=ot,j}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(j,et,tt){return this.getHSL(_hslA),_hslA.h+=j,_hslA.s+=et,_hslA.l+=tt,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(j){return this.r+=j.r,this.g+=j.g,this.b+=j.b,this}addColors(j,et){return this.r=j.r+et.r,this.g=j.g+et.g,this.b=j.b+et.b,this}addScalar(j){return this.r+=j,this.g+=j,this.b+=j,this}sub(j){return this.r=Math.max(0,this.r-j.r),this.g=Math.max(0,this.g-j.g),this.b=Math.max(0,this.b-j.b),this}multiply(j){return this.r*=j.r,this.g*=j.g,this.b*=j.b,this}multiplyScalar(j){return this.r*=j,this.g*=j,this.b*=j,this}lerp(j,et){return this.r+=(j.r-this.r)*et,this.g+=(j.g-this.g)*et,this.b+=(j.b-this.b)*et,this}lerpColors(j,et,tt){return this.r=j.r+(et.r-j.r)*tt,this.g=j.g+(et.g-j.g)*tt,this.b=j.b+(et.b-j.b)*tt,this}lerpHSL(j,et){this.getHSL(_hslA),j.getHSL(_hslB);const tt=lerp(_hslA.h,_hslB.h,et),nt=lerp(_hslA.s,_hslB.s,et),rt=lerp(_hslA.l,_hslB.l,et);return this.setHSL(tt,nt,rt),this}equals(j){return j.r===this.r&&j.g===this.g&&j.b===this.b}fromArray(j,et=0){return this.r=j[et],this.g=j[et+1],this.b=j[et+2],this}toArray(j=[],et=0){return j[et]=this.r,j[et+1]=this.g,j[et+2]=this.b,j}fromBufferAttribute(j,et){return this.r=j.getX(et),this.g=j.getY(et),this.b=j.getZ(et),j.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Color.NAMES=_colorKeywords;Color.prototype.isColor=!0;Color.prototype.r=1;Color.prototype.g=1;Color.prototype.b=1;let _canvas;class ImageUtils{static getDataURL(j){if(/^data:/i.test(j.src)||typeof HTMLCanvasElement=="undefined")return j.src;let et;if(j instanceof HTMLCanvasElement)et=j;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=j.width,_canvas.height=j.height;const tt=_canvas.getContext("2d");j instanceof ImageData?tt.putImageData(j,0,0):tt.drawImage(j,0,0,j.width,j.height),et=_canvas}return et.width>2048||et.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",j),et.toDataURL("image/jpeg",.6)):et.toDataURL("image/png")}static sRGBToLinear(j){if(typeof HTMLImageElement!="undefined"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&j instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&j instanceof ImageBitmap){const et=createElementNS("canvas");et.width=j.width,et.height=j.height;const tt=et.getContext("2d");tt.drawImage(j,0,0,j.width,j.height);const nt=tt.getImageData(0,0,j.width,j.height),rt=nt.data;for(let it=0;it<rt.length;it++)rt[it]=SRGBToLinear(rt[it]/255)*255;return tt.putImageData(nt,0,0),et}else if(j.data){const et=j.data.slice(0);for(let tt=0;tt<et.length;tt++)et instanceof Uint8Array||et instanceof Uint8ClampedArray?et[tt]=Math.floor(SRGBToLinear(et[tt]/255)*255):et[tt]=SRGBToLinear(et[tt]);return{data:et,width:j.width,height:j.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),j}}class Source{constructor(j=null){this.uuid=generateUUID(),this.data=j,this.version=0}set needsUpdate(j){j===!0&&this.version++}toJSON(j){const et=j===void 0||typeof j=="string";if(!et&&j.images[this.uuid]!==void 0)return j.images[this.uuid];const tt={uuid:this.uuid,url:""},nt=this.data;if(nt!==null){let rt;if(Array.isArray(nt)){rt=[];for(let it=0,st=nt.length;it<st;it++)nt[it].isDataTexture?rt.push(serializeImage(nt[it].image)):rt.push(serializeImage(nt[it]))}else rt=serializeImage(nt);tt.url=rt}return et||(j.images[this.uuid]=tt),tt}}function serializeImage(_e){return typeof HTMLImageElement!="undefined"&&_e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&_e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&_e instanceof ImageBitmap?ImageUtils.getDataURL(_e):_e.data?{data:Array.prototype.slice.call(_e.data),width:_e.width,height:_e.height,type:_e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Source.prototype.isSource=!0;let textureId=0;class Texture extends EventDispatcher{constructor(j=Texture.DEFAULT_IMAGE,et=Texture.DEFAULT_MAPPING,tt=ClampToEdgeWrapping,nt=ClampToEdgeWrapping,rt=LinearFilter,it=LinearMipmapLinearFilter,st=RGBAFormat,at=UnsignedByteType,ot=1,lt=LinearEncoding){super(),Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(j),this.mipmaps=[],this.mapping=et,this.wrapS=tt,this.wrapT=nt,this.magFilter=rt,this.minFilter=it,this.anisotropy=ot,this.format=st,this.internalFormat=null,this.type=at,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=lt,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(j){this.source.data=j}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(j){return this.name=j.name,this.source=j.source,this.mipmaps=j.mipmaps.slice(0),this.mapping=j.mapping,this.wrapS=j.wrapS,this.wrapT=j.wrapT,this.magFilter=j.magFilter,this.minFilter=j.minFilter,this.anisotropy=j.anisotropy,this.format=j.format,this.internalFormat=j.internalFormat,this.type=j.type,this.offset.copy(j.offset),this.repeat.copy(j.repeat),this.center.copy(j.center),this.rotation=j.rotation,this.matrixAutoUpdate=j.matrixAutoUpdate,this.matrix.copy(j.matrix),this.generateMipmaps=j.generateMipmaps,this.premultiplyAlpha=j.premultiplyAlpha,this.flipY=j.flipY,this.unpackAlignment=j.unpackAlignment,this.encoding=j.encoding,this.userData=JSON.parse(JSON.stringify(j.userData)),this.needsUpdate=!0,this}toJSON(j){const et=j===void 0||typeof j=="string";if(!et&&j.textures[this.uuid]!==void 0)return j.textures[this.uuid];const tt={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(j).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(tt.userData=this.userData),et||(j.textures[this.uuid]=tt),tt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(j){if(this.mapping!==UVMapping)return j;if(j.applyMatrix3(this.matrix),j.x<0||j.x>1)switch(this.wrapS){case RepeatWrapping:j.x=j.x-Math.floor(j.x);break;case ClampToEdgeWrapping:j.x=j.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(j.x)%2)===1?j.x=Math.ceil(j.x)-j.x:j.x=j.x-Math.floor(j.x);break}if(j.y<0||j.y>1)switch(this.wrapT){case RepeatWrapping:j.y=j.y-Math.floor(j.y);break;case ClampToEdgeWrapping:j.y=j.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(j.y)%2)===1?j.y=Math.ceil(j.y)-j.y:j.y=j.y-Math.floor(j.y);break}return this.flipY&&(j.y=1-j.y),j}set needsUpdate(j){j===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.prototype.isTexture=!0;class Vector4{constructor(j=0,et=0,tt=0,nt=1){this.x=j,this.y=et,this.z=tt,this.w=nt}get width(){return this.z}set width(j){this.z=j}get height(){return this.w}set height(j){this.w=j}set(j,et,tt,nt){return this.x=j,this.y=et,this.z=tt,this.w=nt,this}setScalar(j){return this.x=j,this.y=j,this.z=j,this.w=j,this}setX(j){return this.x=j,this}setY(j){return this.y=j,this}setZ(j){return this.z=j,this}setW(j){return this.w=j,this}setComponent(j,et){switch(j){case 0:this.x=et;break;case 1:this.y=et;break;case 2:this.z=et;break;case 3:this.w=et;break;default:throw new Error("index is out of range: "+j)}return this}getComponent(j){switch(j){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+j)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(j){return this.x=j.x,this.y=j.y,this.z=j.z,this.w=j.w!==void 0?j.w:1,this}add(j,et){return et!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(j,et)):(this.x+=j.x,this.y+=j.y,this.z+=j.z,this.w+=j.w,this)}addScalar(j){return this.x+=j,this.y+=j,this.z+=j,this.w+=j,this}addVectors(j,et){return this.x=j.x+et.x,this.y=j.y+et.y,this.z=j.z+et.z,this.w=j.w+et.w,this}addScaledVector(j,et){return this.x+=j.x*et,this.y+=j.y*et,this.z+=j.z*et,this.w+=j.w*et,this}sub(j,et){return et!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(j,et)):(this.x-=j.x,this.y-=j.y,this.z-=j.z,this.w-=j.w,this)}subScalar(j){return this.x-=j,this.y-=j,this.z-=j,this.w-=j,this}subVectors(j,et){return this.x=j.x-et.x,this.y=j.y-et.y,this.z=j.z-et.z,this.w=j.w-et.w,this}multiply(j){return this.x*=j.x,this.y*=j.y,this.z*=j.z,this.w*=j.w,this}multiplyScalar(j){return this.x*=j,this.y*=j,this.z*=j,this.w*=j,this}applyMatrix4(j){const et=this.x,tt=this.y,nt=this.z,rt=this.w,it=j.elements;return this.x=it[0]*et+it[4]*tt+it[8]*nt+it[12]*rt,this.y=it[1]*et+it[5]*tt+it[9]*nt+it[13]*rt,this.z=it[2]*et+it[6]*tt+it[10]*nt+it[14]*rt,this.w=it[3]*et+it[7]*tt+it[11]*nt+it[15]*rt,this}divideScalar(j){return this.multiplyScalar(1/j)}setAxisAngleFromQuaternion(j){this.w=2*Math.acos(j.w);const et=Math.sqrt(1-j.w*j.w);return et<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=j.x/et,this.y=j.y/et,this.z=j.z/et),this}setAxisAngleFromRotationMatrix(j){let et,tt,nt,rt;const at=j.elements,ot=at[0],lt=at[4],ut=at[8],ct=at[1],ht=at[5],pt=at[9],gt=at[2],vt=at[6],ft=at[10];if(Math.abs(lt-ct)<.01&&Math.abs(ut-gt)<.01&&Math.abs(pt-vt)<.01){if(Math.abs(lt+ct)<.1&&Math.abs(ut+gt)<.1&&Math.abs(pt+vt)<.1&&Math.abs(ot+ht+ft-3)<.1)return this.set(1,0,0,0),this;et=Math.PI;const xt=(ot+1)/2,_t=(ht+1)/2,Tt=(ft+1)/2,wt=(lt+ct)/4,bt=(ut+gt)/4,Ct=(pt+vt)/4;return xt>_t&&xt>Tt?xt<.01?(tt=0,nt=.707106781,rt=.707106781):(tt=Math.sqrt(xt),nt=wt/tt,rt=bt/tt):_t>Tt?_t<.01?(tt=.707106781,nt=0,rt=.707106781):(nt=Math.sqrt(_t),tt=wt/nt,rt=Ct/nt):Tt<.01?(tt=.707106781,nt=.707106781,rt=0):(rt=Math.sqrt(Tt),tt=bt/rt,nt=Ct/rt),this.set(tt,nt,rt,et),this}let mt=Math.sqrt((vt-pt)*(vt-pt)+(ut-gt)*(ut-gt)+(ct-lt)*(ct-lt));return Math.abs(mt)<.001&&(mt=1),this.x=(vt-pt)/mt,this.y=(ut-gt)/mt,this.z=(ct-lt)/mt,this.w=Math.acos((ot+ht+ft-1)/2),this}min(j){return this.x=Math.min(this.x,j.x),this.y=Math.min(this.y,j.y),this.z=Math.min(this.z,j.z),this.w=Math.min(this.w,j.w),this}max(j){return this.x=Math.max(this.x,j.x),this.y=Math.max(this.y,j.y),this.z=Math.max(this.z,j.z),this.w=Math.max(this.w,j.w),this}clamp(j,et){return this.x=Math.max(j.x,Math.min(et.x,this.x)),this.y=Math.max(j.y,Math.min(et.y,this.y)),this.z=Math.max(j.z,Math.min(et.z,this.z)),this.w=Math.max(j.w,Math.min(et.w,this.w)),this}clampScalar(j,et){return this.x=Math.max(j,Math.min(et,this.x)),this.y=Math.max(j,Math.min(et,this.y)),this.z=Math.max(j,Math.min(et,this.z)),this.w=Math.max(j,Math.min(et,this.w)),this}clampLength(j,et){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max(j,Math.min(et,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(j){return this.x*j.x+this.y*j.y+this.z*j.z+this.w*j.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(j){return this.normalize().multiplyScalar(j)}lerp(j,et){return this.x+=(j.x-this.x)*et,this.y+=(j.y-this.y)*et,this.z+=(j.z-this.z)*et,this.w+=(j.w-this.w)*et,this}lerpVectors(j,et,tt){return this.x=j.x+(et.x-j.x)*tt,this.y=j.y+(et.y-j.y)*tt,this.z=j.z+(et.z-j.z)*tt,this.w=j.w+(et.w-j.w)*tt,this}equals(j){return j.x===this.x&&j.y===this.y&&j.z===this.z&&j.w===this.w}fromArray(j,et=0){return this.x=j[et],this.y=j[et+1],this.z=j[et+2],this.w=j[et+3],this}toArray(j=[],et=0){return j[et]=this.x,j[et+1]=this.y,j[et+2]=this.z,j[et+3]=this.w,j}fromBufferAttribute(j,et,tt){return tt!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=j.getX(et),this.y=j.getY(et),this.z=j.getZ(et),this.w=j.getW(et),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Vector4.prototype.isVector4=!0;class WebGLRenderTarget extends EventDispatcher{constructor(j,et,tt={}){super(),this.width=j,this.height=et,this.depth=1,this.scissor=new Vector4(0,0,j,et),this.scissorTest=!1,this.viewport=new Vector4(0,0,j,et);const nt={width:j,height:et,depth:1};this.texture=new Texture(nt,tt.mapping,tt.wrapS,tt.wrapT,tt.magFilter,tt.minFilter,tt.format,tt.type,tt.anisotropy,tt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=tt.generateMipmaps!==void 0?tt.generateMipmaps:!1,this.texture.internalFormat=tt.internalFormat!==void 0?tt.internalFormat:null,this.texture.minFilter=tt.minFilter!==void 0?tt.minFilter:LinearFilter,this.depthBuffer=tt.depthBuffer!==void 0?tt.depthBuffer:!0,this.stencilBuffer=tt.stencilBuffer!==void 0?tt.stencilBuffer:!1,this.depthTexture=tt.depthTexture!==void 0?tt.depthTexture:null,this.samples=tt.samples!==void 0?tt.samples:0}setSize(j,et,tt=1){(this.width!==j||this.height!==et||this.depth!==tt)&&(this.width=j,this.height=et,this.depth=tt,this.texture.image.width=j,this.texture.image.height=et,this.texture.image.depth=tt,this.dispose()),this.viewport.set(0,0,j,et),this.scissor.set(0,0,j,et)}clone(){return new this.constructor().copy(this)}copy(j){return this.width=j.width,this.height=j.height,this.depth=j.depth,this.viewport.copy(j.viewport),this.texture=j.texture.clone(),this.texture.image=Object.assign({},j.texture.image),this.depthBuffer=j.depthBuffer,this.stencilBuffer=j.stencilBuffer,j.depthTexture!==null&&(this.depthTexture=j.depthTexture.clone()),this.samples=j.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}WebGLRenderTarget.prototype.isWebGLRenderTarget=!0;class DataArrayTexture extends Texture{constructor(j=null,et=1,tt=1,nt=1){super(null),this.image={data:j,width:et,height:tt,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}DataArrayTexture.prototype.isDataArrayTexture=!0;class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(j,et,tt){super(j,et),this.depth=tt,this.texture=new DataArrayTexture(null,j,et,tt),this.texture.isRenderTargetTexture=!0}}WebGLArrayRenderTarget.prototype.isWebGLArrayRenderTarget=!0;class Data3DTexture extends Texture{constructor(j=null,et=1,tt=1,nt=1){super(null),this.image={data:j,width:et,height:tt,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Data3DTexture.prototype.isData3DTexture=!0;class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(j,et,tt){super(j,et),this.depth=tt,this.texture=new Data3DTexture(null,j,et,tt),this.texture.isRenderTargetTexture=!0}}WebGL3DRenderTarget.prototype.isWebGL3DRenderTarget=!0;class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(j,et,tt,nt={}){super(j,et,nt);const rt=this.texture;this.texture=[];for(let it=0;it<tt;it++)this.texture[it]=rt.clone(),this.texture[it].isRenderTargetTexture=!0}setSize(j,et,tt=1){if(this.width!==j||this.height!==et||this.depth!==tt){this.width=j,this.height=et,this.depth=tt;for(let nt=0,rt=this.texture.length;nt<rt;nt++)this.texture[nt].image.width=j,this.texture[nt].image.height=et,this.texture[nt].image.depth=tt;this.dispose()}return this.viewport.set(0,0,j,et),this.scissor.set(0,0,j,et),this}copy(j){this.dispose(),this.width=j.width,this.height=j.height,this.depth=j.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=j.depthBuffer,this.stencilBuffer=j.stencilBuffer,this.depthTexture=j.depthTexture,this.texture.length=0;for(let et=0,tt=j.texture.length;et<tt;et++)this.texture[et]=j.texture[et].clone();return this}}WebGLMultipleRenderTargets.prototype.isWebGLMultipleRenderTargets=!0;class Quaternion{constructor(j=0,et=0,tt=0,nt=1){this._x=j,this._y=et,this._z=tt,this._w=nt}static slerp(j,et,tt,nt){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),tt.slerpQuaternions(j,et,nt)}static slerpFlat(j,et,tt,nt,rt,it,st){let at=tt[nt+0],ot=tt[nt+1],lt=tt[nt+2],ut=tt[nt+3];const ct=rt[it+0],ht=rt[it+1],pt=rt[it+2],gt=rt[it+3];if(st===0){j[et+0]=at,j[et+1]=ot,j[et+2]=lt,j[et+3]=ut;return}if(st===1){j[et+0]=ct,j[et+1]=ht,j[et+2]=pt,j[et+3]=gt;return}if(ut!==gt||at!==ct||ot!==ht||lt!==pt){let vt=1-st;const ft=at*ct+ot*ht+lt*pt+ut*gt,mt=ft>=0?1:-1,xt=1-ft*ft;if(xt>Number.EPSILON){const Tt=Math.sqrt(xt),wt=Math.atan2(Tt,ft*mt);vt=Math.sin(vt*wt)/Tt,st=Math.sin(st*wt)/Tt}const _t=st*mt;if(at=at*vt+ct*_t,ot=ot*vt+ht*_t,lt=lt*vt+pt*_t,ut=ut*vt+gt*_t,vt===1-st){const Tt=1/Math.sqrt(at*at+ot*ot+lt*lt+ut*ut);at*=Tt,ot*=Tt,lt*=Tt,ut*=Tt}}j[et]=at,j[et+1]=ot,j[et+2]=lt,j[et+3]=ut}static multiplyQuaternionsFlat(j,et,tt,nt,rt,it){const st=tt[nt],at=tt[nt+1],ot=tt[nt+2],lt=tt[nt+3],ut=rt[it],ct=rt[it+1],ht=rt[it+2],pt=rt[it+3];return j[et]=st*pt+lt*ut+at*ht-ot*ct,j[et+1]=at*pt+lt*ct+ot*ut-st*ht,j[et+2]=ot*pt+lt*ht+st*ct-at*ut,j[et+3]=lt*pt-st*ut-at*ct-ot*ht,j}get x(){return this._x}set x(j){this._x=j,this._onChangeCallback()}get y(){return this._y}set y(j){this._y=j,this._onChangeCallback()}get z(){return this._z}set z(j){this._z=j,this._onChangeCallback()}get w(){return this._w}set w(j){this._w=j,this._onChangeCallback()}set(j,et,tt,nt){return this._x=j,this._y=et,this._z=tt,this._w=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(j){return this._x=j.x,this._y=j.y,this._z=j.z,this._w=j.w,this._onChangeCallback(),this}setFromEuler(j,et){if(!(j&&j.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const tt=j._x,nt=j._y,rt=j._z,it=j._order,st=Math.cos,at=Math.sin,ot=st(tt/2),lt=st(nt/2),ut=st(rt/2),ct=at(tt/2),ht=at(nt/2),pt=at(rt/2);switch(it){case"XYZ":this._x=ct*lt*ut+ot*ht*pt,this._y=ot*ht*ut-ct*lt*pt,this._z=ot*lt*pt+ct*ht*ut,this._w=ot*lt*ut-ct*ht*pt;break;case"YXZ":this._x=ct*lt*ut+ot*ht*pt,this._y=ot*ht*ut-ct*lt*pt,this._z=ot*lt*pt-ct*ht*ut,this._w=ot*lt*ut+ct*ht*pt;break;case"ZXY":this._x=ct*lt*ut-ot*ht*pt,this._y=ot*ht*ut+ct*lt*pt,this._z=ot*lt*pt+ct*ht*ut,this._w=ot*lt*ut-ct*ht*pt;break;case"ZYX":this._x=ct*lt*ut-ot*ht*pt,this._y=ot*ht*ut+ct*lt*pt,this._z=ot*lt*pt-ct*ht*ut,this._w=ot*lt*ut+ct*ht*pt;break;case"YZX":this._x=ct*lt*ut+ot*ht*pt,this._y=ot*ht*ut+ct*lt*pt,this._z=ot*lt*pt-ct*ht*ut,this._w=ot*lt*ut-ct*ht*pt;break;case"XZY":this._x=ct*lt*ut-ot*ht*pt,this._y=ot*ht*ut-ct*lt*pt,this._z=ot*lt*pt+ct*ht*ut,this._w=ot*lt*ut+ct*ht*pt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+it)}return et!==!1&&this._onChangeCallback(),this}setFromAxisAngle(j,et){const tt=et/2,nt=Math.sin(tt);return this._x=j.x*nt,this._y=j.y*nt,this._z=j.z*nt,this._w=Math.cos(tt),this._onChangeCallback(),this}setFromRotationMatrix(j){const et=j.elements,tt=et[0],nt=et[4],rt=et[8],it=et[1],st=et[5],at=et[9],ot=et[2],lt=et[6],ut=et[10],ct=tt+st+ut;if(ct>0){const ht=.5/Math.sqrt(ct+1);this._w=.25/ht,this._x=(lt-at)*ht,this._y=(rt-ot)*ht,this._z=(it-nt)*ht}else if(tt>st&&tt>ut){const ht=2*Math.sqrt(1+tt-st-ut);this._w=(lt-at)/ht,this._x=.25*ht,this._y=(nt+it)/ht,this._z=(rt+ot)/ht}else if(st>ut){const ht=2*Math.sqrt(1+st-tt-ut);this._w=(rt-ot)/ht,this._x=(nt+it)/ht,this._y=.25*ht,this._z=(at+lt)/ht}else{const ht=2*Math.sqrt(1+ut-tt-st);this._w=(it-nt)/ht,this._x=(rt+ot)/ht,this._y=(at+lt)/ht,this._z=.25*ht}return this._onChangeCallback(),this}setFromUnitVectors(j,et){let tt=j.dot(et)+1;return tt<Number.EPSILON?(tt=0,Math.abs(j.x)>Math.abs(j.z)?(this._x=-j.y,this._y=j.x,this._z=0,this._w=tt):(this._x=0,this._y=-j.z,this._z=j.y,this._w=tt)):(this._x=j.y*et.z-j.z*et.y,this._y=j.z*et.x-j.x*et.z,this._z=j.x*et.y-j.y*et.x,this._w=tt),this.normalize()}angleTo(j){return 2*Math.acos(Math.abs(clamp(this.dot(j),-1,1)))}rotateTowards(j,et){const tt=this.angleTo(j);if(tt===0)return this;const nt=Math.min(1,et/tt);return this.slerp(j,nt),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(j){return this._x*j._x+this._y*j._y+this._z*j._z+this._w*j._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let j=this.length();return j===0?(this._x=0,this._y=0,this._z=0,this._w=1):(j=1/j,this._x=this._x*j,this._y=this._y*j,this._z=this._z*j,this._w=this._w*j),this._onChangeCallback(),this}multiply(j,et){return et!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(j,et)):this.multiplyQuaternions(this,j)}premultiply(j){return this.multiplyQuaternions(j,this)}multiplyQuaternions(j,et){const tt=j._x,nt=j._y,rt=j._z,it=j._w,st=et._x,at=et._y,ot=et._z,lt=et._w;return this._x=tt*lt+it*st+nt*ot-rt*at,this._y=nt*lt+it*at+rt*st-tt*ot,this._z=rt*lt+it*ot+tt*at-nt*st,this._w=it*lt-tt*st-nt*at-rt*ot,this._onChangeCallback(),this}slerp(j,et){if(et===0)return this;if(et===1)return this.copy(j);const tt=this._x,nt=this._y,rt=this._z,it=this._w;let st=it*j._w+tt*j._x+nt*j._y+rt*j._z;if(st<0?(this._w=-j._w,this._x=-j._x,this._y=-j._y,this._z=-j._z,st=-st):this.copy(j),st>=1)return this._w=it,this._x=tt,this._y=nt,this._z=rt,this;const at=1-st*st;if(at<=Number.EPSILON){const ht=1-et;return this._w=ht*it+et*this._w,this._x=ht*tt+et*this._x,this._y=ht*nt+et*this._y,this._z=ht*rt+et*this._z,this.normalize(),this._onChangeCallback(),this}const ot=Math.sqrt(at),lt=Math.atan2(ot,st),ut=Math.sin((1-et)*lt)/ot,ct=Math.sin(et*lt)/ot;return this._w=it*ut+this._w*ct,this._x=tt*ut+this._x*ct,this._y=nt*ut+this._y*ct,this._z=rt*ut+this._z*ct,this._onChangeCallback(),this}slerpQuaternions(j,et,tt){return this.copy(j).slerp(et,tt)}random(){const j=Math.random(),et=Math.sqrt(1-j),tt=Math.sqrt(j),nt=2*Math.PI*Math.random(),rt=2*Math.PI*Math.random();return this.set(et*Math.cos(nt),tt*Math.sin(rt),tt*Math.cos(rt),et*Math.sin(nt))}equals(j){return j._x===this._x&&j._y===this._y&&j._z===this._z&&j._w===this._w}fromArray(j,et=0){return this._x=j[et],this._y=j[et+1],this._z=j[et+2],this._w=j[et+3],this._onChangeCallback(),this}toArray(j=[],et=0){return j[et]=this._x,j[et+1]=this._y,j[et+2]=this._z,j[et+3]=this._w,j}fromBufferAttribute(j,et){return this._x=j.getX(et),this._y=j.getY(et),this._z=j.getZ(et),this._w=j.getW(et),this}_onChange(j){return this._onChangeCallback=j,this}_onChangeCallback(){}}Quaternion.prototype.isQuaternion=!0;class Vector3{constructor(j=0,et=0,tt=0){this.x=j,this.y=et,this.z=tt}set(j,et,tt){return tt===void 0&&(tt=this.z),this.x=j,this.y=et,this.z=tt,this}setScalar(j){return this.x=j,this.y=j,this.z=j,this}setX(j){return this.x=j,this}setY(j){return this.y=j,this}setZ(j){return this.z=j,this}setComponent(j,et){switch(j){case 0:this.x=et;break;case 1:this.y=et;break;case 2:this.z=et;break;default:throw new Error("index is out of range: "+j)}return this}getComponent(j){switch(j){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+j)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(j){return this.x=j.x,this.y=j.y,this.z=j.z,this}add(j,et){return et!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(j,et)):(this.x+=j.x,this.y+=j.y,this.z+=j.z,this)}addScalar(j){return this.x+=j,this.y+=j,this.z+=j,this}addVectors(j,et){return this.x=j.x+et.x,this.y=j.y+et.y,this.z=j.z+et.z,this}addScaledVector(j,et){return this.x+=j.x*et,this.y+=j.y*et,this.z+=j.z*et,this}sub(j,et){return et!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(j,et)):(this.x-=j.x,this.y-=j.y,this.z-=j.z,this)}subScalar(j){return this.x-=j,this.y-=j,this.z-=j,this}subVectors(j,et){return this.x=j.x-et.x,this.y=j.y-et.y,this.z=j.z-et.z,this}multiply(j,et){return et!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(j,et)):(this.x*=j.x,this.y*=j.y,this.z*=j.z,this)}multiplyScalar(j){return this.x*=j,this.y*=j,this.z*=j,this}multiplyVectors(j,et){return this.x=j.x*et.x,this.y=j.y*et.y,this.z=j.z*et.z,this}applyEuler(j){return j&&j.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(_quaternion$4.setFromEuler(j))}applyAxisAngle(j,et){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(j,et))}applyMatrix3(j){const et=this.x,tt=this.y,nt=this.z,rt=j.elements;return this.x=rt[0]*et+rt[3]*tt+rt[6]*nt,this.y=rt[1]*et+rt[4]*tt+rt[7]*nt,this.z=rt[2]*et+rt[5]*tt+rt[8]*nt,this}applyNormalMatrix(j){return this.applyMatrix3(j).normalize()}applyMatrix4(j){const et=this.x,tt=this.y,nt=this.z,rt=j.elements,it=1/(rt[3]*et+rt[7]*tt+rt[11]*nt+rt[15]);return this.x=(rt[0]*et+rt[4]*tt+rt[8]*nt+rt[12])*it,this.y=(rt[1]*et+rt[5]*tt+rt[9]*nt+rt[13])*it,this.z=(rt[2]*et+rt[6]*tt+rt[10]*nt+rt[14])*it,this}applyQuaternion(j){const et=this.x,tt=this.y,nt=this.z,rt=j.x,it=j.y,st=j.z,at=j.w,ot=at*et+it*nt-st*tt,lt=at*tt+st*et-rt*nt,ut=at*nt+rt*tt-it*et,ct=-rt*et-it*tt-st*nt;return this.x=ot*at+ct*-rt+lt*-st-ut*-it,this.y=lt*at+ct*-it+ut*-rt-ot*-st,this.z=ut*at+ct*-st+ot*-it-lt*-rt,this}project(j){return this.applyMatrix4(j.matrixWorldInverse).applyMatrix4(j.projectionMatrix)}unproject(j){return this.applyMatrix4(j.projectionMatrixInverse).applyMatrix4(j.matrixWorld)}transformDirection(j){const et=this.x,tt=this.y,nt=this.z,rt=j.elements;return this.x=rt[0]*et+rt[4]*tt+rt[8]*nt,this.y=rt[1]*et+rt[5]*tt+rt[9]*nt,this.z=rt[2]*et+rt[6]*tt+rt[10]*nt,this.normalize()}divide(j){return this.x/=j.x,this.y/=j.y,this.z/=j.z,this}divideScalar(j){return this.multiplyScalar(1/j)}min(j){return this.x=Math.min(this.x,j.x),this.y=Math.min(this.y,j.y),this.z=Math.min(this.z,j.z),this}max(j){return this.x=Math.max(this.x,j.x),this.y=Math.max(this.y,j.y),this.z=Math.max(this.z,j.z),this}clamp(j,et){return this.x=Math.max(j.x,Math.min(et.x,this.x)),this.y=Math.max(j.y,Math.min(et.y,this.y)),this.z=Math.max(j.z,Math.min(et.z,this.z)),this}clampScalar(j,et){return this.x=Math.max(j,Math.min(et,this.x)),this.y=Math.max(j,Math.min(et,this.y)),this.z=Math.max(j,Math.min(et,this.z)),this}clampLength(j,et){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max(j,Math.min(et,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(j){return this.x*j.x+this.y*j.y+this.z*j.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(j){return this.normalize().multiplyScalar(j)}lerp(j,et){return this.x+=(j.x-this.x)*et,this.y+=(j.y-this.y)*et,this.z+=(j.z-this.z)*et,this}lerpVectors(j,et,tt){return this.x=j.x+(et.x-j.x)*tt,this.y=j.y+(et.y-j.y)*tt,this.z=j.z+(et.z-j.z)*tt,this}cross(j,et){return et!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(j,et)):this.crossVectors(this,j)}crossVectors(j,et){const tt=j.x,nt=j.y,rt=j.z,it=et.x,st=et.y,at=et.z;return this.x=nt*at-rt*st,this.y=rt*it-tt*at,this.z=tt*st-nt*it,this}projectOnVector(j){const et=j.lengthSq();if(et===0)return this.set(0,0,0);const tt=j.dot(this)/et;return this.copy(j).multiplyScalar(tt)}projectOnPlane(j){return _vector$c.copy(this).projectOnVector(j),this.sub(_vector$c)}reflect(j){return this.sub(_vector$c.copy(j).multiplyScalar(2*this.dot(j)))}angleTo(j){const et=Math.sqrt(this.lengthSq()*j.lengthSq());if(et===0)return Math.PI/2;const tt=this.dot(j)/et;return Math.acos(clamp(tt,-1,1))}distanceTo(j){return Math.sqrt(this.distanceToSquared(j))}distanceToSquared(j){const et=this.x-j.x,tt=this.y-j.y,nt=this.z-j.z;return et*et+tt*tt+nt*nt}manhattanDistanceTo(j){return Math.abs(this.x-j.x)+Math.abs(this.y-j.y)+Math.abs(this.z-j.z)}setFromSpherical(j){return this.setFromSphericalCoords(j.radius,j.phi,j.theta)}setFromSphericalCoords(j,et,tt){const nt=Math.sin(et)*j;return this.x=nt*Math.sin(tt),this.y=Math.cos(et)*j,this.z=nt*Math.cos(tt),this}setFromCylindrical(j){return this.setFromCylindricalCoords(j.radius,j.theta,j.y)}setFromCylindricalCoords(j,et,tt){return this.x=j*Math.sin(et),this.y=tt,this.z=j*Math.cos(et),this}setFromMatrixPosition(j){const et=j.elements;return this.x=et[12],this.y=et[13],this.z=et[14],this}setFromMatrixScale(j){const et=this.setFromMatrixColumn(j,0).length(),tt=this.setFromMatrixColumn(j,1).length(),nt=this.setFromMatrixColumn(j,2).length();return this.x=et,this.y=tt,this.z=nt,this}setFromMatrixColumn(j,et){return this.fromArray(j.elements,et*4)}setFromMatrix3Column(j,et){return this.fromArray(j.elements,et*3)}setFromEuler(j){return this.x=j._x,this.y=j._y,this.z=j._z,this}equals(j){return j.x===this.x&&j.y===this.y&&j.z===this.z}fromArray(j,et=0){return this.x=j[et],this.y=j[et+1],this.z=j[et+2],this}toArray(j=[],et=0){return j[et]=this.x,j[et+1]=this.y,j[et+2]=this.z,j}fromBufferAttribute(j,et,tt){return tt!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=j.getX(et),this.y=j.getY(et),this.z=j.getZ(et),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const j=(Math.random()-.5)*2,et=Math.random()*Math.PI*2,tt=Math.sqrt(1-j**2);return this.x=tt*Math.cos(et),this.y=tt*Math.sin(et),this.z=j,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}Vector3.prototype.isVector3=!0;const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(j=new Vector3(1/0,1/0,1/0),et=new Vector3(-1/0,-1/0,-1/0)){this.min=j,this.max=et}set(j,et){return this.min.copy(j),this.max.copy(et),this}setFromArray(j){let et=1/0,tt=1/0,nt=1/0,rt=-1/0,it=-1/0,st=-1/0;for(let at=0,ot=j.length;at<ot;at+=3){const lt=j[at],ut=j[at+1],ct=j[at+2];lt<et&&(et=lt),ut<tt&&(tt=ut),ct<nt&&(nt=ct),lt>rt&&(rt=lt),ut>it&&(it=ut),ct>st&&(st=ct)}return this.min.set(et,tt,nt),this.max.set(rt,it,st),this}setFromBufferAttribute(j){let et=1/0,tt=1/0,nt=1/0,rt=-1/0,it=-1/0,st=-1/0;for(let at=0,ot=j.count;at<ot;at++){const lt=j.getX(at),ut=j.getY(at),ct=j.getZ(at);lt<et&&(et=lt),ut<tt&&(tt=ut),ct<nt&&(nt=ct),lt>rt&&(rt=lt),ut>it&&(it=ut),ct>st&&(st=ct)}return this.min.set(et,tt,nt),this.max.set(rt,it,st),this}setFromPoints(j){this.makeEmpty();for(let et=0,tt=j.length;et<tt;et++)this.expandByPoint(j[et]);return this}setFromCenterAndSize(j,et){const tt=_vector$b.copy(et).multiplyScalar(.5);return this.min.copy(j).sub(tt),this.max.copy(j).add(tt),this}setFromObject(j,et=!1){return this.makeEmpty(),this.expandByObject(j,et)}clone(){return new this.constructor().copy(this)}copy(j){return this.min.copy(j.min),this.max.copy(j.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(j){return this.isEmpty()?j.set(0,0,0):j.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(j){return this.isEmpty()?j.set(0,0,0):j.subVectors(this.max,this.min)}expandByPoint(j){return this.min.min(j),this.max.max(j),this}expandByVector(j){return this.min.sub(j),this.max.add(j),this}expandByScalar(j){return this.min.addScalar(-j),this.max.addScalar(j),this}expandByObject(j,et=!1){j.updateWorldMatrix(!1,!1);const tt=j.geometry;if(tt!==void 0)if(et&&tt.attributes!=null&&tt.attributes.position!==void 0){const rt=tt.attributes.position;for(let it=0,st=rt.count;it<st;it++)_vector$b.fromBufferAttribute(rt,it).applyMatrix4(j.matrixWorld),this.expandByPoint(_vector$b)}else tt.boundingBox===null&&tt.computeBoundingBox(),_box$3.copy(tt.boundingBox),_box$3.applyMatrix4(j.matrixWorld),this.union(_box$3);const nt=j.children;for(let rt=0,it=nt.length;rt<it;rt++)this.expandByObject(nt[rt],et);return this}containsPoint(j){return!(j.x<this.min.x||j.x>this.max.x||j.y<this.min.y||j.y>this.max.y||j.z<this.min.z||j.z>this.max.z)}containsBox(j){return this.min.x<=j.min.x&&j.max.x<=this.max.x&&this.min.y<=j.min.y&&j.max.y<=this.max.y&&this.min.z<=j.min.z&&j.max.z<=this.max.z}getParameter(j,et){return et.set((j.x-this.min.x)/(this.max.x-this.min.x),(j.y-this.min.y)/(this.max.y-this.min.y),(j.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(j){return!(j.max.x<this.min.x||j.min.x>this.max.x||j.max.y<this.min.y||j.min.y>this.max.y||j.max.z<this.min.z||j.min.z>this.max.z)}intersectsSphere(j){return this.clampPoint(j.center,_vector$b),_vector$b.distanceToSquared(j.center)<=j.radius*j.radius}intersectsPlane(j){let et,tt;return j.normal.x>0?(et=j.normal.x*this.min.x,tt=j.normal.x*this.max.x):(et=j.normal.x*this.max.x,tt=j.normal.x*this.min.x),j.normal.y>0?(et+=j.normal.y*this.min.y,tt+=j.normal.y*this.max.y):(et+=j.normal.y*this.max.y,tt+=j.normal.y*this.min.y),j.normal.z>0?(et+=j.normal.z*this.min.z,tt+=j.normal.z*this.max.z):(et+=j.normal.z*this.max.z,tt+=j.normal.z*this.min.z),et<=-j.constant&&tt>=-j.constant}intersectsTriangle(j){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(j.a,_center),_v1$7.subVectors(j.b,_center),_v2$3.subVectors(j.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$3,_v1$7),_f2.subVectors(_v0$2,_v2$3);let et=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(et,_v0$2,_v1$7,_v2$3,_extents)||(et=[1,0,0,0,1,0,0,0,1],!satForAxes(et,_v0$2,_v1$7,_v2$3,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),et=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(et,_v0$2,_v1$7,_v2$3,_extents))}clampPoint(j,et){return et.copy(j).clamp(this.min,this.max)}distanceToPoint(j){return _vector$b.copy(j).clamp(this.min,this.max).sub(j).length()}getBoundingSphere(j){return this.getCenter(j.center),j.radius=this.getSize(_vector$b).length()*.5,j}intersect(j){return this.min.max(j.min),this.max.min(j.max),this.isEmpty()&&this.makeEmpty(),this}union(j){return this.min.min(j.min),this.max.max(j.max),this}applyMatrix4(j){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(j),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(j),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(j),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(j),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(j),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(j),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(j),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(j),this.setFromPoints(_points),this)}translate(j){return this.min.add(j),this.max.add(j),this}equals(j){return j.min.equals(this.min)&&j.max.equals(this.max)}}Box3.prototype.isBox3=!0;const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$3=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(_e,j,et,tt,nt){for(let rt=0,it=_e.length-3;rt<=it;rt+=3){_testAxis.fromArray(_e,rt);const st=nt.x*Math.abs(_testAxis.x)+nt.y*Math.abs(_testAxis.y)+nt.z*Math.abs(_testAxis.z),at=j.dot(_testAxis),ot=et.dot(_testAxis),lt=tt.dot(_testAxis);if(Math.max(-Math.max(at,ot,lt),Math.min(at,ot,lt))>st)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_toFarthestPoint=new Vector3,_toPoint=new Vector3;class Sphere{constructor(j=new Vector3,et=-1){this.center=j,this.radius=et}set(j,et){return this.center.copy(j),this.radius=et,this}setFromPoints(j,et){const tt=this.center;et!==void 0?tt.copy(et):_box$2.setFromPoints(j).getCenter(tt);let nt=0;for(let rt=0,it=j.length;rt<it;rt++)nt=Math.max(nt,tt.distanceToSquared(j[rt]));return this.radius=Math.sqrt(nt),this}copy(j){return this.center.copy(j.center),this.radius=j.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(j){return j.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(j){return j.distanceTo(this.center)-this.radius}intersectsSphere(j){const et=this.radius+j.radius;return j.center.distanceToSquared(this.center)<=et*et}intersectsBox(j){return j.intersectsSphere(this)}intersectsPlane(j){return Math.abs(j.distanceToPoint(this.center))<=this.radius}clampPoint(j,et){const tt=this.center.distanceToSquared(j);return et.copy(j),tt>this.radius*this.radius&&(et.sub(this.center).normalize(),et.multiplyScalar(this.radius).add(this.center)),et}getBoundingBox(j){return this.isEmpty()?(j.makeEmpty(),j):(j.set(this.center,this.center),j.expandByScalar(this.radius),j)}applyMatrix4(j){return this.center.applyMatrix4(j),this.radius=this.radius*j.getMaxScaleOnAxis(),this}translate(j){return this.center.add(j),this}expandByPoint(j){_toPoint.subVectors(j,this.center);const et=_toPoint.lengthSq();if(et>this.radius*this.radius){const tt=Math.sqrt(et),nt=(tt-this.radius)*.5;this.center.add(_toPoint.multiplyScalar(nt/tt)),this.radius+=nt}return this}union(j){return this.center.equals(j.center)===!0?_toFarthestPoint.set(0,0,1).multiplyScalar(j.radius):_toFarthestPoint.subVectors(j.center,this.center).normalize().multiplyScalar(j.radius),this.expandByPoint(_v1$6.copy(j.center).add(_toFarthestPoint)),this.expandByPoint(_v1$6.copy(j.center).sub(_toFarthestPoint)),this}equals(j){return j.center.equals(this.center)&&j.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(j=new Vector3,et=new Vector3(0,0,-1)){this.origin=j,this.direction=et}set(j,et){return this.origin.copy(j),this.direction.copy(et),this}copy(j){return this.origin.copy(j.origin),this.direction.copy(j.direction),this}at(j,et){return et.copy(this.direction).multiplyScalar(j).add(this.origin)}lookAt(j){return this.direction.copy(j).sub(this.origin).normalize(),this}recast(j){return this.origin.copy(this.at(j,_vector$a)),this}closestPointToPoint(j,et){et.subVectors(j,this.origin);const tt=et.dot(this.direction);return tt<0?et.copy(this.origin):et.copy(this.direction).multiplyScalar(tt).add(this.origin)}distanceToPoint(j){return Math.sqrt(this.distanceSqToPoint(j))}distanceSqToPoint(j){const et=_vector$a.subVectors(j,this.origin).dot(this.direction);return et<0?this.origin.distanceToSquared(j):(_vector$a.copy(this.direction).multiplyScalar(et).add(this.origin),_vector$a.distanceToSquared(j))}distanceSqToSegment(j,et,tt,nt){_segCenter.copy(j).add(et).multiplyScalar(.5),_segDir.copy(et).sub(j).normalize(),_diff.copy(this.origin).sub(_segCenter);const rt=j.distanceTo(et)*.5,it=-this.direction.dot(_segDir),st=_diff.dot(this.direction),at=-_diff.dot(_segDir),ot=_diff.lengthSq(),lt=Math.abs(1-it*it);let ut,ct,ht,pt;if(lt>0)if(ut=it*at-st,ct=it*st-at,pt=rt*lt,ut>=0)if(ct>=-pt)if(ct<=pt){const gt=1/lt;ut*=gt,ct*=gt,ht=ut*(ut+it*ct+2*st)+ct*(it*ut+ct+2*at)+ot}else ct=rt,ut=Math.max(0,-(it*ct+st)),ht=-ut*ut+ct*(ct+2*at)+ot;else ct=-rt,ut=Math.max(0,-(it*ct+st)),ht=-ut*ut+ct*(ct+2*at)+ot;else ct<=-pt?(ut=Math.max(0,-(-it*rt+st)),ct=ut>0?-rt:Math.min(Math.max(-rt,-at),rt),ht=-ut*ut+ct*(ct+2*at)+ot):ct<=pt?(ut=0,ct=Math.min(Math.max(-rt,-at),rt),ht=ct*(ct+2*at)+ot):(ut=Math.max(0,-(it*rt+st)),ct=ut>0?rt:Math.min(Math.max(-rt,-at),rt),ht=-ut*ut+ct*(ct+2*at)+ot);else ct=it>0?-rt:rt,ut=Math.max(0,-(it*ct+st)),ht=-ut*ut+ct*(ct+2*at)+ot;return tt&&tt.copy(this.direction).multiplyScalar(ut).add(this.origin),nt&&nt.copy(_segDir).multiplyScalar(ct).add(_segCenter),ht}intersectSphere(j,et){_vector$a.subVectors(j.center,this.origin);const tt=_vector$a.dot(this.direction),nt=_vector$a.dot(_vector$a)-tt*tt,rt=j.radius*j.radius;if(nt>rt)return null;const it=Math.sqrt(rt-nt),st=tt-it,at=tt+it;return st<0&&at<0?null:st<0?this.at(at,et):this.at(st,et)}intersectsSphere(j){return this.distanceSqToPoint(j.center)<=j.radius*j.radius}distanceToPlane(j){const et=j.normal.dot(this.direction);if(et===0)return j.distanceToPoint(this.origin)===0?0:null;const tt=-(this.origin.dot(j.normal)+j.constant)/et;return tt>=0?tt:null}intersectPlane(j,et){const tt=this.distanceToPlane(j);return tt===null?null:this.at(tt,et)}intersectsPlane(j){const et=j.distanceToPoint(this.origin);return et===0||j.normal.dot(this.direction)*et<0}intersectBox(j,et){let tt,nt,rt,it,st,at;const ot=1/this.direction.x,lt=1/this.direction.y,ut=1/this.direction.z,ct=this.origin;return ot>=0?(tt=(j.min.x-ct.x)*ot,nt=(j.max.x-ct.x)*ot):(tt=(j.max.x-ct.x)*ot,nt=(j.min.x-ct.x)*ot),lt>=0?(rt=(j.min.y-ct.y)*lt,it=(j.max.y-ct.y)*lt):(rt=(j.max.y-ct.y)*lt,it=(j.min.y-ct.y)*lt),tt>it||rt>nt||((rt>tt||tt!==tt)&&(tt=rt),(it<nt||nt!==nt)&&(nt=it),ut>=0?(st=(j.min.z-ct.z)*ut,at=(j.max.z-ct.z)*ut):(st=(j.max.z-ct.z)*ut,at=(j.min.z-ct.z)*ut),tt>at||st>nt)||((st>tt||tt!==tt)&&(tt=st),(at<nt||nt!==nt)&&(nt=at),nt<0)?null:this.at(tt>=0?tt:nt,et)}intersectsBox(j){return this.intersectBox(j,_vector$a)!==null}intersectTriangle(j,et,tt,nt,rt){_edge1.subVectors(et,j),_edge2.subVectors(tt,j),_normal$1.crossVectors(_edge1,_edge2);let it=this.direction.dot(_normal$1),st;if(it>0){if(nt)return null;st=1}else if(it<0)st=-1,it=-it;else return null;_diff.subVectors(this.origin,j);const at=st*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(at<0)return null;const ot=st*this.direction.dot(_edge1.cross(_diff));if(ot<0||at+ot>it)return null;const lt=-st*_diff.dot(_normal$1);return lt<0?null:this.at(lt/it,rt)}applyMatrix4(j){return this.origin.applyMatrix4(j),this.direction.transformDirection(j),this}equals(j){return j.origin.equals(this.origin)&&j.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(j,et,tt,nt,rt,it,st,at,ot,lt,ut,ct,ht,pt,gt,vt){const ft=this.elements;return ft[0]=j,ft[4]=et,ft[8]=tt,ft[12]=nt,ft[1]=rt,ft[5]=it,ft[9]=st,ft[13]=at,ft[2]=ot,ft[6]=lt,ft[10]=ut,ft[14]=ct,ft[3]=ht,ft[7]=pt,ft[11]=gt,ft[15]=vt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(j){const et=this.elements,tt=j.elements;return et[0]=tt[0],et[1]=tt[1],et[2]=tt[2],et[3]=tt[3],et[4]=tt[4],et[5]=tt[5],et[6]=tt[6],et[7]=tt[7],et[8]=tt[8],et[9]=tt[9],et[10]=tt[10],et[11]=tt[11],et[12]=tt[12],et[13]=tt[13],et[14]=tt[14],et[15]=tt[15],this}copyPosition(j){const et=this.elements,tt=j.elements;return et[12]=tt[12],et[13]=tt[13],et[14]=tt[14],this}setFromMatrix3(j){const et=j.elements;return this.set(et[0],et[3],et[6],0,et[1],et[4],et[7],0,et[2],et[5],et[8],0,0,0,0,1),this}extractBasis(j,et,tt){return j.setFromMatrixColumn(this,0),et.setFromMatrixColumn(this,1),tt.setFromMatrixColumn(this,2),this}makeBasis(j,et,tt){return this.set(j.x,et.x,tt.x,0,j.y,et.y,tt.y,0,j.z,et.z,tt.z,0,0,0,0,1),this}extractRotation(j){const et=this.elements,tt=j.elements,nt=1/_v1$5.setFromMatrixColumn(j,0).length(),rt=1/_v1$5.setFromMatrixColumn(j,1).length(),it=1/_v1$5.setFromMatrixColumn(j,2).length();return et[0]=tt[0]*nt,et[1]=tt[1]*nt,et[2]=tt[2]*nt,et[3]=0,et[4]=tt[4]*rt,et[5]=tt[5]*rt,et[6]=tt[6]*rt,et[7]=0,et[8]=tt[8]*it,et[9]=tt[9]*it,et[10]=tt[10]*it,et[11]=0,et[12]=0,et[13]=0,et[14]=0,et[15]=1,this}makeRotationFromEuler(j){j&&j.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const et=this.elements,tt=j.x,nt=j.y,rt=j.z,it=Math.cos(tt),st=Math.sin(tt),at=Math.cos(nt),ot=Math.sin(nt),lt=Math.cos(rt),ut=Math.sin(rt);if(j.order==="XYZ"){const ct=it*lt,ht=it*ut,pt=st*lt,gt=st*ut;et[0]=at*lt,et[4]=-at*ut,et[8]=ot,et[1]=ht+pt*ot,et[5]=ct-gt*ot,et[9]=-st*at,et[2]=gt-ct*ot,et[6]=pt+ht*ot,et[10]=it*at}else if(j.order==="YXZ"){const ct=at*lt,ht=at*ut,pt=ot*lt,gt=ot*ut;et[0]=ct+gt*st,et[4]=pt*st-ht,et[8]=it*ot,et[1]=it*ut,et[5]=it*lt,et[9]=-st,et[2]=ht*st-pt,et[6]=gt+ct*st,et[10]=it*at}else if(j.order==="ZXY"){const ct=at*lt,ht=at*ut,pt=ot*lt,gt=ot*ut;et[0]=ct-gt*st,et[4]=-it*ut,et[8]=pt+ht*st,et[1]=ht+pt*st,et[5]=it*lt,et[9]=gt-ct*st,et[2]=-it*ot,et[6]=st,et[10]=it*at}else if(j.order==="ZYX"){const ct=it*lt,ht=it*ut,pt=st*lt,gt=st*ut;et[0]=at*lt,et[4]=pt*ot-ht,et[8]=ct*ot+gt,et[1]=at*ut,et[5]=gt*ot+ct,et[9]=ht*ot-pt,et[2]=-ot,et[6]=st*at,et[10]=it*at}else if(j.order==="YZX"){const ct=it*at,ht=it*ot,pt=st*at,gt=st*ot;et[0]=at*lt,et[4]=gt-ct*ut,et[8]=pt*ut+ht,et[1]=ut,et[5]=it*lt,et[9]=-st*lt,et[2]=-ot*lt,et[6]=ht*ut+pt,et[10]=ct-gt*ut}else if(j.order==="XZY"){const ct=it*at,ht=it*ot,pt=st*at,gt=st*ot;et[0]=at*lt,et[4]=-ut,et[8]=ot*lt,et[1]=ct*ut+gt,et[5]=it*lt,et[9]=ht*ut-pt,et[2]=pt*ut-ht,et[6]=st*lt,et[10]=gt*ut+ct}return et[3]=0,et[7]=0,et[11]=0,et[12]=0,et[13]=0,et[14]=0,et[15]=1,this}makeRotationFromQuaternion(j){return this.compose(_zero,j,_one)}lookAt(j,et,tt){const nt=this.elements;return _z.subVectors(j,et),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(tt,_z),_x.lengthSq()===0&&(Math.abs(tt.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(tt,_z)),_x.normalize(),_y.crossVectors(_z,_x),nt[0]=_x.x,nt[4]=_y.x,nt[8]=_z.x,nt[1]=_x.y,nt[5]=_y.y,nt[9]=_z.y,nt[2]=_x.z,nt[6]=_y.z,nt[10]=_z.z,this}multiply(j,et){return et!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(j,et)):this.multiplyMatrices(this,j)}premultiply(j){return this.multiplyMatrices(j,this)}multiplyMatrices(j,et){const tt=j.elements,nt=et.elements,rt=this.elements,it=tt[0],st=tt[4],at=tt[8],ot=tt[12],lt=tt[1],ut=tt[5],ct=tt[9],ht=tt[13],pt=tt[2],gt=tt[6],vt=tt[10],ft=tt[14],mt=tt[3],xt=tt[7],_t=tt[11],Tt=tt[15],wt=nt[0],bt=nt[4],Ct=nt[8],Lt=nt[12],$t=nt[1],Rt=nt[5],Bt=nt[9],Gt=nt[13],Ft=nt[2],kt=nt[6],It=nt[10],Ot=nt[14],Ut=nt[3],zt=nt[7],Ht=nt[11],Vt=nt[15];return rt[0]=it*wt+st*$t+at*Ft+ot*Ut,rt[4]=it*bt+st*Rt+at*kt+ot*zt,rt[8]=it*Ct+st*Bt+at*It+ot*Ht,rt[12]=it*Lt+st*Gt+at*Ot+ot*Vt,rt[1]=lt*wt+ut*$t+ct*Ft+ht*Ut,rt[5]=lt*bt+ut*Rt+ct*kt+ht*zt,rt[9]=lt*Ct+ut*Bt+ct*It+ht*Ht,rt[13]=lt*Lt+ut*Gt+ct*Ot+ht*Vt,rt[2]=pt*wt+gt*$t+vt*Ft+ft*Ut,rt[6]=pt*bt+gt*Rt+vt*kt+ft*zt,rt[10]=pt*Ct+gt*Bt+vt*It+ft*Ht,rt[14]=pt*Lt+gt*Gt+vt*Ot+ft*Vt,rt[3]=mt*wt+xt*$t+_t*Ft+Tt*Ut,rt[7]=mt*bt+xt*Rt+_t*kt+Tt*zt,rt[11]=mt*Ct+xt*Bt+_t*It+Tt*Ht,rt[15]=mt*Lt+xt*Gt+_t*Ot+Tt*Vt,this}multiplyScalar(j){const et=this.elements;return et[0]*=j,et[4]*=j,et[8]*=j,et[12]*=j,et[1]*=j,et[5]*=j,et[9]*=j,et[13]*=j,et[2]*=j,et[6]*=j,et[10]*=j,et[14]*=j,et[3]*=j,et[7]*=j,et[11]*=j,et[15]*=j,this}determinant(){const j=this.elements,et=j[0],tt=j[4],nt=j[8],rt=j[12],it=j[1],st=j[5],at=j[9],ot=j[13],lt=j[2],ut=j[6],ct=j[10],ht=j[14],pt=j[3],gt=j[7],vt=j[11],ft=j[15];return pt*(+rt*at*ut-nt*ot*ut-rt*st*ct+tt*ot*ct+nt*st*ht-tt*at*ht)+gt*(+et*at*ht-et*ot*ct+rt*it*ct-nt*it*ht+nt*ot*lt-rt*at*lt)+vt*(+et*ot*ut-et*st*ht-rt*it*ut+tt*it*ht+rt*st*lt-tt*ot*lt)+ft*(-nt*st*lt-et*at*ut+et*st*ct+nt*it*ut-tt*it*ct+tt*at*lt)}transpose(){const j=this.elements;let et;return et=j[1],j[1]=j[4],j[4]=et,et=j[2],j[2]=j[8],j[8]=et,et=j[6],j[6]=j[9],j[9]=et,et=j[3],j[3]=j[12],j[12]=et,et=j[7],j[7]=j[13],j[13]=et,et=j[11],j[11]=j[14],j[14]=et,this}setPosition(j,et,tt){const nt=this.elements;return j.isVector3?(nt[12]=j.x,nt[13]=j.y,nt[14]=j.z):(nt[12]=j,nt[13]=et,nt[14]=tt),this}invert(){const j=this.elements,et=j[0],tt=j[1],nt=j[2],rt=j[3],it=j[4],st=j[5],at=j[6],ot=j[7],lt=j[8],ut=j[9],ct=j[10],ht=j[11],pt=j[12],gt=j[13],vt=j[14],ft=j[15],mt=ut*vt*ot-gt*ct*ot+gt*at*ht-st*vt*ht-ut*at*ft+st*ct*ft,xt=pt*ct*ot-lt*vt*ot-pt*at*ht+it*vt*ht+lt*at*ft-it*ct*ft,_t=lt*gt*ot-pt*ut*ot+pt*st*ht-it*gt*ht-lt*st*ft+it*ut*ft,Tt=pt*ut*at-lt*gt*at-pt*st*ct+it*gt*ct+lt*st*vt-it*ut*vt,wt=et*mt+tt*xt+nt*_t+rt*Tt;if(wt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const bt=1/wt;return j[0]=mt*bt,j[1]=(gt*ct*rt-ut*vt*rt-gt*nt*ht+tt*vt*ht+ut*nt*ft-tt*ct*ft)*bt,j[2]=(st*vt*rt-gt*at*rt+gt*nt*ot-tt*vt*ot-st*nt*ft+tt*at*ft)*bt,j[3]=(ut*at*rt-st*ct*rt-ut*nt*ot+tt*ct*ot+st*nt*ht-tt*at*ht)*bt,j[4]=xt*bt,j[5]=(lt*vt*rt-pt*ct*rt+pt*nt*ht-et*vt*ht-lt*nt*ft+et*ct*ft)*bt,j[6]=(pt*at*rt-it*vt*rt-pt*nt*ot+et*vt*ot+it*nt*ft-et*at*ft)*bt,j[7]=(it*ct*rt-lt*at*rt+lt*nt*ot-et*ct*ot-it*nt*ht+et*at*ht)*bt,j[8]=_t*bt,j[9]=(pt*ut*rt-lt*gt*rt-pt*tt*ht+et*gt*ht+lt*tt*ft-et*ut*ft)*bt,j[10]=(it*gt*rt-pt*st*rt+pt*tt*ot-et*gt*ot-it*tt*ft+et*st*ft)*bt,j[11]=(lt*st*rt-it*ut*rt-lt*tt*ot+et*ut*ot+it*tt*ht-et*st*ht)*bt,j[12]=Tt*bt,j[13]=(lt*gt*nt-pt*ut*nt+pt*tt*ct-et*gt*ct-lt*tt*vt+et*ut*vt)*bt,j[14]=(pt*st*nt-it*gt*nt-pt*tt*at+et*gt*at+it*tt*vt-et*st*vt)*bt,j[15]=(it*ut*nt-lt*st*nt+lt*tt*at-et*ut*at-it*tt*ct+et*st*ct)*bt,this}scale(j){const et=this.elements,tt=j.x,nt=j.y,rt=j.z;return et[0]*=tt,et[4]*=nt,et[8]*=rt,et[1]*=tt,et[5]*=nt,et[9]*=rt,et[2]*=tt,et[6]*=nt,et[10]*=rt,et[3]*=tt,et[7]*=nt,et[11]*=rt,this}getMaxScaleOnAxis(){const j=this.elements,et=j[0]*j[0]+j[1]*j[1]+j[2]*j[2],tt=j[4]*j[4]+j[5]*j[5]+j[6]*j[6],nt=j[8]*j[8]+j[9]*j[9]+j[10]*j[10];return Math.sqrt(Math.max(et,tt,nt))}makeTranslation(j,et,tt){return this.set(1,0,0,j,0,1,0,et,0,0,1,tt,0,0,0,1),this}makeRotationX(j){const et=Math.cos(j),tt=Math.sin(j);return this.set(1,0,0,0,0,et,-tt,0,0,tt,et,0,0,0,0,1),this}makeRotationY(j){const et=Math.cos(j),tt=Math.sin(j);return this.set(et,0,tt,0,0,1,0,0,-tt,0,et,0,0,0,0,1),this}makeRotationZ(j){const et=Math.cos(j),tt=Math.sin(j);return this.set(et,-tt,0,0,tt,et,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(j,et){const tt=Math.cos(et),nt=Math.sin(et),rt=1-tt,it=j.x,st=j.y,at=j.z,ot=rt*it,lt=rt*st;return this.set(ot*it+tt,ot*st-nt*at,ot*at+nt*st,0,ot*st+nt*at,lt*st+tt,lt*at-nt*it,0,ot*at-nt*st,lt*at+nt*it,rt*at*at+tt,0,0,0,0,1),this}makeScale(j,et,tt){return this.set(j,0,0,0,0,et,0,0,0,0,tt,0,0,0,0,1),this}makeShear(j,et,tt,nt,rt,it){return this.set(1,tt,rt,0,j,1,it,0,et,nt,1,0,0,0,0,1),this}compose(j,et,tt){const nt=this.elements,rt=et._x,it=et._y,st=et._z,at=et._w,ot=rt+rt,lt=it+it,ut=st+st,ct=rt*ot,ht=rt*lt,pt=rt*ut,gt=it*lt,vt=it*ut,ft=st*ut,mt=at*ot,xt=at*lt,_t=at*ut,Tt=tt.x,wt=tt.y,bt=tt.z;return nt[0]=(1-(gt+ft))*Tt,nt[1]=(ht+_t)*Tt,nt[2]=(pt-xt)*Tt,nt[3]=0,nt[4]=(ht-_t)*wt,nt[5]=(1-(ct+ft))*wt,nt[6]=(vt+mt)*wt,nt[7]=0,nt[8]=(pt+xt)*bt,nt[9]=(vt-mt)*bt,nt[10]=(1-(ct+gt))*bt,nt[11]=0,nt[12]=j.x,nt[13]=j.y,nt[14]=j.z,nt[15]=1,this}decompose(j,et,tt){const nt=this.elements;let rt=_v1$5.set(nt[0],nt[1],nt[2]).length();const it=_v1$5.set(nt[4],nt[5],nt[6]).length(),st=_v1$5.set(nt[8],nt[9],nt[10]).length();this.determinant()<0&&(rt=-rt),j.x=nt[12],j.y=nt[13],j.z=nt[14],_m1$2.copy(this);const ot=1/rt,lt=1/it,ut=1/st;return _m1$2.elements[0]*=ot,_m1$2.elements[1]*=ot,_m1$2.elements[2]*=ot,_m1$2.elements[4]*=lt,_m1$2.elements[5]*=lt,_m1$2.elements[6]*=lt,_m1$2.elements[8]*=ut,_m1$2.elements[9]*=ut,_m1$2.elements[10]*=ut,et.setFromRotationMatrix(_m1$2),tt.x=rt,tt.y=it,tt.z=st,this}makePerspective(j,et,tt,nt,rt,it){it===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const st=this.elements,at=2*rt/(et-j),ot=2*rt/(tt-nt),lt=(et+j)/(et-j),ut=(tt+nt)/(tt-nt),ct=-(it+rt)/(it-rt),ht=-2*it*rt/(it-rt);return st[0]=at,st[4]=0,st[8]=lt,st[12]=0,st[1]=0,st[5]=ot,st[9]=ut,st[13]=0,st[2]=0,st[6]=0,st[10]=ct,st[14]=ht,st[3]=0,st[7]=0,st[11]=-1,st[15]=0,this}makeOrthographic(j,et,tt,nt,rt,it){const st=this.elements,at=1/(et-j),ot=1/(tt-nt),lt=1/(it-rt),ut=(et+j)*at,ct=(tt+nt)*ot,ht=(it+rt)*lt;return st[0]=2*at,st[4]=0,st[8]=0,st[12]=-ut,st[1]=0,st[5]=2*ot,st[9]=0,st[13]=-ct,st[2]=0,st[6]=0,st[10]=-2*lt,st[14]=-ht,st[3]=0,st[7]=0,st[11]=0,st[15]=1,this}equals(j){const et=this.elements,tt=j.elements;for(let nt=0;nt<16;nt++)if(et[nt]!==tt[nt])return!1;return!0}fromArray(j,et=0){for(let tt=0;tt<16;tt++)this.elements[tt]=j[tt+et];return this}toArray(j=[],et=0){const tt=this.elements;return j[et]=tt[0],j[et+1]=tt[1],j[et+2]=tt[2],j[et+3]=tt[3],j[et+4]=tt[4],j[et+5]=tt[5],j[et+6]=tt[6],j[et+7]=tt[7],j[et+8]=tt[8],j[et+9]=tt[9],j[et+10]=tt[10],j[et+11]=tt[11],j[et+12]=tt[12],j[et+13]=tt[13],j[et+14]=tt[14],j[et+15]=tt[15],j}}Matrix4.prototype.isMatrix4=!0;const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(j=0,et=0,tt=0,nt=Euler.DefaultOrder){this._x=j,this._y=et,this._z=tt,this._order=nt}get x(){return this._x}set x(j){this._x=j,this._onChangeCallback()}get y(){return this._y}set y(j){this._y=j,this._onChangeCallback()}get z(){return this._z}set z(j){this._z=j,this._onChangeCallback()}get order(){return this._order}set order(j){this._order=j,this._onChangeCallback()}set(j,et,tt,nt=this._order){return this._x=j,this._y=et,this._z=tt,this._order=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(j){return this._x=j._x,this._y=j._y,this._z=j._z,this._order=j._order,this._onChangeCallback(),this}setFromRotationMatrix(j,et=this._order,tt=!0){const nt=j.elements,rt=nt[0],it=nt[4],st=nt[8],at=nt[1],ot=nt[5],lt=nt[9],ut=nt[2],ct=nt[6],ht=nt[10];switch(et){case"XYZ":this._y=Math.asin(clamp(st,-1,1)),Math.abs(st)<.9999999?(this._x=Math.atan2(-lt,ht),this._z=Math.atan2(-it,rt)):(this._x=Math.atan2(ct,ot),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(lt,-1,1)),Math.abs(lt)<.9999999?(this._y=Math.atan2(st,ht),this._z=Math.atan2(at,ot)):(this._y=Math.atan2(-ut,rt),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(ct,-1,1)),Math.abs(ct)<.9999999?(this._y=Math.atan2(-ut,ht),this._z=Math.atan2(-it,ot)):(this._y=0,this._z=Math.atan2(at,rt));break;case"ZYX":this._y=Math.asin(-clamp(ut,-1,1)),Math.abs(ut)<.9999999?(this._x=Math.atan2(ct,ht),this._z=Math.atan2(at,rt)):(this._x=0,this._z=Math.atan2(-it,ot));break;case"YZX":this._z=Math.asin(clamp(at,-1,1)),Math.abs(at)<.9999999?(this._x=Math.atan2(-lt,ot),this._y=Math.atan2(-ut,rt)):(this._x=0,this._y=Math.atan2(st,ht));break;case"XZY":this._z=Math.asin(-clamp(it,-1,1)),Math.abs(it)<.9999999?(this._x=Math.atan2(ct,ot),this._y=Math.atan2(st,rt)):(this._x=Math.atan2(-lt,ht),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+et)}return this._order=et,tt===!0&&this._onChangeCallback(),this}setFromQuaternion(j,et,tt){return _matrix$1.makeRotationFromQuaternion(j),this.setFromRotationMatrix(_matrix$1,et,tt)}setFromVector3(j,et=this._order){return this.set(j.x,j.y,j.z,et)}reorder(j){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,j)}equals(j){return j._x===this._x&&j._y===this._y&&j._z===this._z&&j._order===this._order}fromArray(j){return this._x=j[0],this._y=j[1],this._z=j[2],j[3]!==void 0&&(this._order=j[3]),this._onChangeCallback(),this}toArray(j=[],et=0){return j[et]=this._x,j[et+1]=this._y,j[et+2]=this._z,j[et+3]=this._order,j}_onChange(j){return this._onChangeCallback=j,this}_onChangeCallback(){}}Euler.prototype.isEuler=!0;Euler.DefaultOrder="XYZ";Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Layers{constructor(){this.mask=1}set(j){this.mask=(1<<j|0)>>>0}enable(j){this.mask|=1<<j|0}enableAll(){this.mask=-1}toggle(j){this.mask^=1<<j|0}disable(j){this.mask&=~(1<<j|0)}disableAll(){this.mask=0}test(j){return(this.mask&j.mask)!==0}isEnabled(j){return(this.mask&(1<<j|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DefaultUp.clone();const j=new Vector3,et=new Euler,tt=new Quaternion,nt=new Vector3(1,1,1);function rt(){tt.setFromEuler(et,!1)}function it(){et.setFromQuaternion(tt,void 0,!1)}et._onChange(rt),tt._onChange(it),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:j},rotation:{configurable:!0,enumerable:!0,value:et},quaternion:{configurable:!0,enumerable:!0,value:tt},scale:{configurable:!0,enumerable:!0,value:nt},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(j){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(j),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(j){return this.quaternion.premultiply(j),this}setRotationFromAxisAngle(j,et){this.quaternion.setFromAxisAngle(j,et)}setRotationFromEuler(j){this.quaternion.setFromEuler(j,!0)}setRotationFromMatrix(j){this.quaternion.setFromRotationMatrix(j)}setRotationFromQuaternion(j){this.quaternion.copy(j)}rotateOnAxis(j,et){return _q1.setFromAxisAngle(j,et),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(j,et){return _q1.setFromAxisAngle(j,et),this.quaternion.premultiply(_q1),this}rotateX(j){return this.rotateOnAxis(_xAxis,j)}rotateY(j){return this.rotateOnAxis(_yAxis,j)}rotateZ(j){return this.rotateOnAxis(_zAxis,j)}translateOnAxis(j,et){return _v1$4.copy(j).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(et)),this}translateX(j){return this.translateOnAxis(_xAxis,j)}translateY(j){return this.translateOnAxis(_yAxis,j)}translateZ(j){return this.translateOnAxis(_zAxis,j)}localToWorld(j){return j.applyMatrix4(this.matrixWorld)}worldToLocal(j){return j.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(j,et,tt){j.isVector3?_target.copy(j):_target.set(j,et,tt);const nt=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),nt&&(_m1$1.extractRotation(nt.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(j){if(arguments.length>1){for(let et=0;et<arguments.length;et++)this.add(arguments[et]);return this}return j===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",j),this):(j&&j.isObject3D?(j.parent!==null&&j.parent.remove(j),j.parent=this,this.children.push(j),j.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",j),this)}remove(j){if(arguments.length>1){for(let tt=0;tt<arguments.length;tt++)this.remove(arguments[tt]);return this}const et=this.children.indexOf(j);return et!==-1&&(j.parent=null,this.children.splice(et,1),j.dispatchEvent(_removedEvent)),this}removeFromParent(){const j=this.parent;return j!==null&&j.remove(this),this}clear(){for(let j=0;j<this.children.length;j++){const et=this.children[j];et.parent=null,et.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(j){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),j.parent!==null&&(j.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(j.parent.matrixWorld)),j.applyMatrix4(_m1$1),this.add(j),j.updateWorldMatrix(!1,!0),this}getObjectById(j){return this.getObjectByProperty("id",j)}getObjectByName(j){return this.getObjectByProperty("name",j)}getObjectByProperty(j,et){if(this[j]===et)return this;for(let tt=0,nt=this.children.length;tt<nt;tt++){const it=this.children[tt].getObjectByProperty(j,et);if(it!==void 0)return it}}getWorldPosition(j){return this.updateWorldMatrix(!0,!1),j.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(j){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,j,_scale$2),j}getWorldScale(j){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,j),j}getWorldDirection(j){this.updateWorldMatrix(!0,!1);const et=this.matrixWorld.elements;return j.set(et[8],et[9],et[10]).normalize()}raycast(){}traverse(j){j(this);const et=this.children;for(let tt=0,nt=et.length;tt<nt;tt++)et[tt].traverse(j)}traverseVisible(j){if(this.visible===!1)return;j(this);const et=this.children;for(let tt=0,nt=et.length;tt<nt;tt++)et[tt].traverseVisible(j)}traverseAncestors(j){const et=this.parent;et!==null&&(j(et),et.traverseAncestors(j))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(j){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||j)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,j=!0);const et=this.children;for(let tt=0,nt=et.length;tt<nt;tt++)et[tt].updateMatrixWorld(j)}updateWorldMatrix(j,et){const tt=this.parent;if(j===!0&&tt!==null&&tt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),et===!0){const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].updateWorldMatrix(!1,!0)}}toJSON(j){const et=j===void 0||typeof j=="string",tt={};et&&(j={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},tt.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const nt={};nt.uuid=this.uuid,nt.type=this.type,this.name!==""&&(nt.name=this.name),this.castShadow===!0&&(nt.castShadow=!0),this.receiveShadow===!0&&(nt.receiveShadow=!0),this.visible===!1&&(nt.visible=!1),this.frustumCulled===!1&&(nt.frustumCulled=!1),this.renderOrder!==0&&(nt.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(nt.userData=this.userData),nt.layers=this.layers.mask,nt.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(nt.matrixAutoUpdate=!1),this.isInstancedMesh&&(nt.type="InstancedMesh",nt.count=this.count,nt.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(nt.instanceColor=this.instanceColor.toJSON()));function rt(st,at){return st[at.uuid]===void 0&&(st[at.uuid]=at.toJSON(j)),at.uuid}if(this.isScene)this.background&&(this.background.isColor?nt.background=this.background.toJSON():this.background.isTexture&&(nt.background=this.background.toJSON(j).uuid)),this.environment&&this.environment.isTexture&&(nt.environment=this.environment.toJSON(j).uuid);else if(this.isMesh||this.isLine||this.isPoints){nt.geometry=rt(j.geometries,this.geometry);const st=this.geometry.parameters;if(st!==void 0&&st.shapes!==void 0){const at=st.shapes;if(Array.isArray(at))for(let ot=0,lt=at.length;ot<lt;ot++){const ut=at[ot];rt(j.shapes,ut)}else rt(j.shapes,at)}}if(this.isSkinnedMesh&&(nt.bindMode=this.bindMode,nt.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(rt(j.skeletons,this.skeleton),nt.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const st=[];for(let at=0,ot=this.material.length;at<ot;at++)st.push(rt(j.materials,this.material[at]));nt.material=st}else nt.material=rt(j.materials,this.material);if(this.children.length>0){nt.children=[];for(let st=0;st<this.children.length;st++)nt.children.push(this.children[st].toJSON(j).object)}if(this.animations.length>0){nt.animations=[];for(let st=0;st<this.animations.length;st++){const at=this.animations[st];nt.animations.push(rt(j.animations,at))}}if(et){const st=it(j.geometries),at=it(j.materials),ot=it(j.textures),lt=it(j.images),ut=it(j.shapes),ct=it(j.skeletons),ht=it(j.animations),pt=it(j.nodes);st.length>0&&(tt.geometries=st),at.length>0&&(tt.materials=at),ot.length>0&&(tt.textures=ot),lt.length>0&&(tt.images=lt),ut.length>0&&(tt.shapes=ut),ct.length>0&&(tt.skeletons=ct),ht.length>0&&(tt.animations=ht),pt.length>0&&(tt.nodes=pt)}return tt.object=nt,tt;function it(st){const at=[];for(const ot in st){const lt=st[ot];delete lt.metadata,at.push(lt)}return at}}clone(j){return new this.constructor().copy(this,j)}copy(j,et=!0){if(this.name=j.name,this.up.copy(j.up),this.position.copy(j.position),this.rotation.order=j.rotation.order,this.quaternion.copy(j.quaternion),this.scale.copy(j.scale),this.matrix.copy(j.matrix),this.matrixWorld.copy(j.matrixWorld),this.matrixAutoUpdate=j.matrixAutoUpdate,this.matrixWorldNeedsUpdate=j.matrixWorldNeedsUpdate,this.layers.mask=j.layers.mask,this.visible=j.visible,this.castShadow=j.castShadow,this.receiveShadow=j.receiveShadow,this.frustumCulled=j.frustumCulled,this.renderOrder=j.renderOrder,this.userData=JSON.parse(JSON.stringify(j.userData)),et===!0)for(let tt=0;tt<j.children.length;tt++){const nt=j.children[tt];this.add(nt.clone())}return this}}Object3D.DefaultUp=new Vector3(0,1,0);Object3D.DefaultMatrixAutoUpdate=!0;Object3D.prototype.isObject3D=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(j=new Vector3,et=new Vector3,tt=new Vector3){this.a=j,this.b=et,this.c=tt}static getNormal(j,et,tt,nt){nt.subVectors(tt,et),_v0$1.subVectors(j,et),nt.cross(_v0$1);const rt=nt.lengthSq();return rt>0?nt.multiplyScalar(1/Math.sqrt(rt)):nt.set(0,0,0)}static getBarycoord(j,et,tt,nt,rt){_v0$1.subVectors(nt,et),_v1$3.subVectors(tt,et),_v2$2.subVectors(j,et);const it=_v0$1.dot(_v0$1),st=_v0$1.dot(_v1$3),at=_v0$1.dot(_v2$2),ot=_v1$3.dot(_v1$3),lt=_v1$3.dot(_v2$2),ut=it*ot-st*st;if(ut===0)return rt.set(-2,-1,-1);const ct=1/ut,ht=(ot*at-st*lt)*ct,pt=(it*lt-st*at)*ct;return rt.set(1-ht-pt,pt,ht)}static containsPoint(j,et,tt,nt){return this.getBarycoord(j,et,tt,nt,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(j,et,tt,nt,rt,it,st,at){return this.getBarycoord(j,et,tt,nt,_v3$1),at.set(0,0),at.addScaledVector(rt,_v3$1.x),at.addScaledVector(it,_v3$1.y),at.addScaledVector(st,_v3$1.z),at}static isFrontFacing(j,et,tt,nt){return _v0$1.subVectors(tt,et),_v1$3.subVectors(j,et),_v0$1.cross(_v1$3).dot(nt)<0}set(j,et,tt){return this.a.copy(j),this.b.copy(et),this.c.copy(tt),this}setFromPointsAndIndices(j,et,tt,nt){return this.a.copy(j[et]),this.b.copy(j[tt]),this.c.copy(j[nt]),this}setFromAttributeAndIndices(j,et,tt,nt){return this.a.fromBufferAttribute(j,et),this.b.fromBufferAttribute(j,tt),this.c.fromBufferAttribute(j,nt),this}clone(){return new this.constructor().copy(this)}copy(j){return this.a.copy(j.a),this.b.copy(j.b),this.c.copy(j.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(j){return j.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(j){return Triangle.getNormal(this.a,this.b,this.c,j)}getPlane(j){return j.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(j,et){return Triangle.getBarycoord(j,this.a,this.b,this.c,et)}getUV(j,et,tt,nt,rt){return Triangle.getUV(j,this.a,this.b,this.c,et,tt,nt,rt)}containsPoint(j){return Triangle.containsPoint(j,this.a,this.b,this.c)}isFrontFacing(j){return Triangle.isFrontFacing(this.a,this.b,this.c,j)}intersectsBox(j){return j.intersectsTriangle(this)}closestPointToPoint(j,et){const tt=this.a,nt=this.b,rt=this.c;let it,st;_vab.subVectors(nt,tt),_vac.subVectors(rt,tt),_vap.subVectors(j,tt);const at=_vab.dot(_vap),ot=_vac.dot(_vap);if(at<=0&&ot<=0)return et.copy(tt);_vbp.subVectors(j,nt);const lt=_vab.dot(_vbp),ut=_vac.dot(_vbp);if(lt>=0&&ut<=lt)return et.copy(nt);const ct=at*ut-lt*ot;if(ct<=0&&at>=0&&lt<=0)return it=at/(at-lt),et.copy(tt).addScaledVector(_vab,it);_vcp.subVectors(j,rt);const ht=_vab.dot(_vcp),pt=_vac.dot(_vcp);if(pt>=0&&ht<=pt)return et.copy(rt);const gt=ht*ot-at*pt;if(gt<=0&&ot>=0&&pt<=0)return st=ot/(ot-pt),et.copy(tt).addScaledVector(_vac,st);const vt=lt*pt-ht*ut;if(vt<=0&&ut-lt>=0&&ht-pt>=0)return _vbc.subVectors(rt,nt),st=(ut-lt)/(ut-lt+(ht-pt)),et.copy(nt).addScaledVector(_vbc,st);const ft=1/(vt+gt+ct);return it=gt*ft,st=ct*ft,et.copy(tt).addScaledVector(_vab,it).addScaledVector(_vac,st)}equals(j){return j.a.equals(this.a)&&j.b.equals(this.b)&&j.c.equals(this.c)}}let materialId=0;class Material extends EventDispatcher{constructor(){super(),Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(j){this._alphaTest>0!=j>0&&this.version++,this._alphaTest=j}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(j){if(j!==void 0)for(const et in j){const tt=j[et];if(tt===void 0){console.warn("THREE.Material: '"+et+"' parameter is undefined.");continue}if(et==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=tt===FlatShading;continue}const nt=this[et];if(nt===void 0){console.warn("THREE."+this.type+": '"+et+"' is not a property of this material.");continue}nt&&nt.isColor?nt.set(tt):nt&&nt.isVector3&&tt&&tt.isVector3?nt.copy(tt):this[et]=tt}}toJSON(j){const et=j===void 0||typeof j=="string";et&&(j={textures:{},images:{}});const tt={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};tt.uuid=this.uuid,tt.type=this.type,this.name!==""&&(tt.name=this.name),this.color&&this.color.isColor&&(tt.color=this.color.getHex()),this.roughness!==void 0&&(tt.roughness=this.roughness),this.metalness!==void 0&&(tt.metalness=this.metalness),this.sheen!==void 0&&(tt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(tt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(tt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(tt.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(tt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(tt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(tt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(tt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(tt.shininess=this.shininess),this.clearcoat!==void 0&&(tt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(tt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(tt.clearcoatMap=this.clearcoatMap.toJSON(j).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(tt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(j).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(tt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(j).uuid,tt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(tt.map=this.map.toJSON(j).uuid),this.matcap&&this.matcap.isTexture&&(tt.matcap=this.matcap.toJSON(j).uuid),this.alphaMap&&this.alphaMap.isTexture&&(tt.alphaMap=this.alphaMap.toJSON(j).uuid),this.lightMap&&this.lightMap.isTexture&&(tt.lightMap=this.lightMap.toJSON(j).uuid,tt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(tt.aoMap=this.aoMap.toJSON(j).uuid,tt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(tt.bumpMap=this.bumpMap.toJSON(j).uuid,tt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(tt.normalMap=this.normalMap.toJSON(j).uuid,tt.normalMapType=this.normalMapType,tt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(tt.displacementMap=this.displacementMap.toJSON(j).uuid,tt.displacementScale=this.displacementScale,tt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(tt.roughnessMap=this.roughnessMap.toJSON(j).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(tt.metalnessMap=this.metalnessMap.toJSON(j).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(tt.emissiveMap=this.emissiveMap.toJSON(j).uuid),this.specularMap&&this.specularMap.isTexture&&(tt.specularMap=this.specularMap.toJSON(j).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(tt.specularIntensityMap=this.specularIntensityMap.toJSON(j).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(tt.specularColorMap=this.specularColorMap.toJSON(j).uuid),this.envMap&&this.envMap.isTexture&&(tt.envMap=this.envMap.toJSON(j).uuid,this.combine!==void 0&&(tt.combine=this.combine)),this.envMapIntensity!==void 0&&(tt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(tt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(tt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(tt.gradientMap=this.gradientMap.toJSON(j).uuid),this.transmission!==void 0&&(tt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(tt.transmissionMap=this.transmissionMap.toJSON(j).uuid),this.thickness!==void 0&&(tt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(tt.thicknessMap=this.thicknessMap.toJSON(j).uuid),this.attenuationDistance!==void 0&&(tt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(tt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(tt.size=this.size),this.shadowSide!==null&&(tt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(tt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(tt.blending=this.blending),this.side!==FrontSide&&(tt.side=this.side),this.vertexColors&&(tt.vertexColors=!0),this.opacity<1&&(tt.opacity=this.opacity),this.transparent===!0&&(tt.transparent=this.transparent),tt.depthFunc=this.depthFunc,tt.depthTest=this.depthTest,tt.depthWrite=this.depthWrite,tt.colorWrite=this.colorWrite,tt.stencilWrite=this.stencilWrite,tt.stencilWriteMask=this.stencilWriteMask,tt.stencilFunc=this.stencilFunc,tt.stencilRef=this.stencilRef,tt.stencilFuncMask=this.stencilFuncMask,tt.stencilFail=this.stencilFail,tt.stencilZFail=this.stencilZFail,tt.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(tt.rotation=this.rotation),this.polygonOffset===!0&&(tt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(tt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(tt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(tt.linewidth=this.linewidth),this.dashSize!==void 0&&(tt.dashSize=this.dashSize),this.gapSize!==void 0&&(tt.gapSize=this.gapSize),this.scale!==void 0&&(tt.scale=this.scale),this.dithering===!0&&(tt.dithering=!0),this.alphaTest>0&&(tt.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(tt.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(tt.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(tt.wireframe=this.wireframe),this.wireframeLinewidth>1&&(tt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(tt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(tt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(tt.flatShading=this.flatShading),this.visible===!1&&(tt.visible=!1),this.toneMapped===!1&&(tt.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(tt.userData=this.userData);function nt(rt){const it=[];for(const st in rt){const at=rt[st];delete at.metadata,it.push(at)}return it}if(et){const rt=nt(j.textures),it=nt(j.images);rt.length>0&&(tt.textures=rt),it.length>0&&(tt.images=it)}return tt}clone(){return new this.constructor().copy(this)}copy(j){this.name=j.name,this.fog=j.fog,this.blending=j.blending,this.side=j.side,this.vertexColors=j.vertexColors,this.opacity=j.opacity,this.transparent=j.transparent,this.blendSrc=j.blendSrc,this.blendDst=j.blendDst,this.blendEquation=j.blendEquation,this.blendSrcAlpha=j.blendSrcAlpha,this.blendDstAlpha=j.blendDstAlpha,this.blendEquationAlpha=j.blendEquationAlpha,this.depthFunc=j.depthFunc,this.depthTest=j.depthTest,this.depthWrite=j.depthWrite,this.stencilWriteMask=j.stencilWriteMask,this.stencilFunc=j.stencilFunc,this.stencilRef=j.stencilRef,this.stencilFuncMask=j.stencilFuncMask,this.stencilFail=j.stencilFail,this.stencilZFail=j.stencilZFail,this.stencilZPass=j.stencilZPass,this.stencilWrite=j.stencilWrite;const et=j.clippingPlanes;let tt=null;if(et!==null){const nt=et.length;tt=new Array(nt);for(let rt=0;rt!==nt;++rt)tt[rt]=et[rt].clone()}return this.clippingPlanes=tt,this.clipIntersection=j.clipIntersection,this.clipShadows=j.clipShadows,this.shadowSide=j.shadowSide,this.colorWrite=j.colorWrite,this.precision=j.precision,this.polygonOffset=j.polygonOffset,this.polygonOffsetFactor=j.polygonOffsetFactor,this.polygonOffsetUnits=j.polygonOffsetUnits,this.dithering=j.dithering,this.alphaTest=j.alphaTest,this.alphaToCoverage=j.alphaToCoverage,this.premultipliedAlpha=j.premultipliedAlpha,this.visible=j.visible,this.toneMapped=j.toneMapped,this.userData=JSON.parse(JSON.stringify(j.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(j){j===!0&&this.version++}}Material.prototype.isMaterial=!0;Material.fromType=function(){return null};class MeshBasicMaterial extends Material{constructor(j){super(),this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(j)}copy(j){return super.copy(j),this.color.copy(j.color),this.map=j.map,this.lightMap=j.lightMap,this.lightMapIntensity=j.lightMapIntensity,this.aoMap=j.aoMap,this.aoMapIntensity=j.aoMapIntensity,this.specularMap=j.specularMap,this.alphaMap=j.alphaMap,this.envMap=j.envMap,this.combine=j.combine,this.reflectivity=j.reflectivity,this.refractionRatio=j.refractionRatio,this.wireframe=j.wireframe,this.wireframeLinewidth=j.wireframeLinewidth,this.wireframeLinecap=j.wireframeLinecap,this.wireframeLinejoin=j.wireframeLinejoin,this}}MeshBasicMaterial.prototype.isMeshBasicMaterial=!0;const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(j,et,tt){if(Array.isArray(j))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=j,this.itemSize=et,this.count=j!==void 0?j.length/et:0,this.normalized=tt===!0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(j){j===!0&&this.version++}setUsage(j){return this.usage=j,this}copy(j){return this.name=j.name,this.array=new j.array.constructor(j.array),this.itemSize=j.itemSize,this.count=j.count,this.normalized=j.normalized,this.usage=j.usage,this}copyAt(j,et,tt){j*=this.itemSize,tt*=et.itemSize;for(let nt=0,rt=this.itemSize;nt<rt;nt++)this.array[j+nt]=et.array[tt+nt];return this}copyArray(j){return this.array.set(j),this}copyColorsArray(j){const et=this.array;let tt=0;for(let nt=0,rt=j.length;nt<rt;nt++){let it=j[nt];it===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",nt),it=new Color),et[tt++]=it.r,et[tt++]=it.g,et[tt++]=it.b}return this}copyVector2sArray(j){const et=this.array;let tt=0;for(let nt=0,rt=j.length;nt<rt;nt++){let it=j[nt];it===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",nt),it=new Vector2),et[tt++]=it.x,et[tt++]=it.y}return this}copyVector3sArray(j){const et=this.array;let tt=0;for(let nt=0,rt=j.length;nt<rt;nt++){let it=j[nt];it===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",nt),it=new Vector3),et[tt++]=it.x,et[tt++]=it.y,et[tt++]=it.z}return this}copyVector4sArray(j){const et=this.array;let tt=0;for(let nt=0,rt=j.length;nt<rt;nt++){let it=j[nt];it===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",nt),it=new Vector4),et[tt++]=it.x,et[tt++]=it.y,et[tt++]=it.z,et[tt++]=it.w}return this}applyMatrix3(j){if(this.itemSize===2)for(let et=0,tt=this.count;et<tt;et++)_vector2$1.fromBufferAttribute(this,et),_vector2$1.applyMatrix3(j),this.setXY(et,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let et=0,tt=this.count;et<tt;et++)_vector$9.fromBufferAttribute(this,et),_vector$9.applyMatrix3(j),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(j){for(let et=0,tt=this.count;et<tt;et++)_vector$9.x=this.getX(et),_vector$9.y=this.getY(et),_vector$9.z=this.getZ(et),_vector$9.applyMatrix4(j),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(j){for(let et=0,tt=this.count;et<tt;et++)_vector$9.x=this.getX(et),_vector$9.y=this.getY(et),_vector$9.z=this.getZ(et),_vector$9.applyNormalMatrix(j),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(j){for(let et=0,tt=this.count;et<tt;et++)_vector$9.x=this.getX(et),_vector$9.y=this.getY(et),_vector$9.z=this.getZ(et),_vector$9.transformDirection(j),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(j,et=0){return this.array.set(j,et),this}getX(j){return this.array[j*this.itemSize]}setX(j,et){return this.array[j*this.itemSize]=et,this}getY(j){return this.array[j*this.itemSize+1]}setY(j,et){return this.array[j*this.itemSize+1]=et,this}getZ(j){return this.array[j*this.itemSize+2]}setZ(j,et){return this.array[j*this.itemSize+2]=et,this}getW(j){return this.array[j*this.itemSize+3]}setW(j,et){return this.array[j*this.itemSize+3]=et,this}setXY(j,et,tt){return j*=this.itemSize,this.array[j+0]=et,this.array[j+1]=tt,this}setXYZ(j,et,tt,nt){return j*=this.itemSize,this.array[j+0]=et,this.array[j+1]=tt,this.array[j+2]=nt,this}setXYZW(j,et,tt,nt,rt){return j*=this.itemSize,this.array[j+0]=et,this.array[j+1]=tt,this.array[j+2]=nt,this.array[j+3]=rt,this}onUpload(j){return this.onUploadCallback=j,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const j={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(j.name=this.name),this.usage!==StaticDrawUsage&&(j.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(j.updateRange=this.updateRange),j}}BufferAttribute.prototype.isBufferAttribute=!0;class Uint16BufferAttribute extends BufferAttribute{constructor(j,et,tt){super(new Uint16Array(j),et,tt)}}class Uint32BufferAttribute extends BufferAttribute{constructor(j,et,tt){super(new Uint32Array(j),et,tt)}}class Float16BufferAttribute extends BufferAttribute{constructor(j,et,tt){super(new Uint16Array(j),et,tt)}}Float16BufferAttribute.prototype.isFloat16BufferAttribute=!0;class Float32BufferAttribute extends BufferAttribute{constructor(j,et,tt){super(new Float32Array(j),et,tt)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(j){return Array.isArray(j)?this.index=new(arrayNeedsUint32(j)?Uint32BufferAttribute:Uint16BufferAttribute)(j,1):this.index=j,this}getAttribute(j){return this.attributes[j]}setAttribute(j,et){return this.attributes[j]=et,this}deleteAttribute(j){return delete this.attributes[j],this}hasAttribute(j){return this.attributes[j]!==void 0}addGroup(j,et,tt=0){this.groups.push({start:j,count:et,materialIndex:tt})}clearGroups(){this.groups=[]}setDrawRange(j,et){this.drawRange.start=j,this.drawRange.count=et}applyMatrix4(j){const et=this.attributes.position;et!==void 0&&(et.applyMatrix4(j),et.needsUpdate=!0);const tt=this.attributes.normal;if(tt!==void 0){const rt=new Matrix3().getNormalMatrix(j);tt.applyNormalMatrix(rt),tt.needsUpdate=!0}const nt=this.attributes.tangent;return nt!==void 0&&(nt.transformDirection(j),nt.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(j){return _m1.makeRotationFromQuaternion(j),this.applyMatrix4(_m1),this}rotateX(j){return _m1.makeRotationX(j),this.applyMatrix4(_m1),this}rotateY(j){return _m1.makeRotationY(j),this.applyMatrix4(_m1),this}rotateZ(j){return _m1.makeRotationZ(j),this.applyMatrix4(_m1),this}translate(j,et,tt){return _m1.makeTranslation(j,et,tt),this.applyMatrix4(_m1),this}scale(j,et,tt){return _m1.makeScale(j,et,tt),this.applyMatrix4(_m1),this}lookAt(j){return _obj.lookAt(j),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(j){const et=[];for(let tt=0,nt=j.length;tt<nt;tt++){const rt=j[tt];et.push(rt.x,rt.y,rt.z||0)}return this.setAttribute("position",new Float32BufferAttribute(et,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const j=this.attributes.position,et=this.morphAttributes.position;if(j&&j.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(j!==void 0){if(this.boundingBox.setFromBufferAttribute(j),et)for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];_box$1.setFromBufferAttribute(rt),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const j=this.attributes.position,et=this.morphAttributes.position;if(j&&j.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(j){const tt=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(j),et)for(let rt=0,it=et.length;rt<it;rt++){const st=et[rt];_boxMorphTargets.setFromBufferAttribute(st),this.morphTargetsRelative?(_vector$8.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$8),_vector$8.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$8)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(tt);let nt=0;for(let rt=0,it=j.count;rt<it;rt++)_vector$8.fromBufferAttribute(j,rt),nt=Math.max(nt,tt.distanceToSquared(_vector$8));if(et)for(let rt=0,it=et.length;rt<it;rt++){const st=et[rt],at=this.morphTargetsRelative;for(let ot=0,lt=st.count;ot<lt;ot++)_vector$8.fromBufferAttribute(st,ot),at&&(_offset.fromBufferAttribute(j,ot),_vector$8.add(_offset)),nt=Math.max(nt,tt.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(nt),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const j=this.index,et=this.attributes;if(j===null||et.position===void 0||et.normal===void 0||et.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const tt=j.array,nt=et.position.array,rt=et.normal.array,it=et.uv.array,st=nt.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*st),4));const at=this.getAttribute("tangent").array,ot=[],lt=[];for(let $t=0;$t<st;$t++)ot[$t]=new Vector3,lt[$t]=new Vector3;const ut=new Vector3,ct=new Vector3,ht=new Vector3,pt=new Vector2,gt=new Vector2,vt=new Vector2,ft=new Vector3,mt=new Vector3;function xt($t,Rt,Bt){ut.fromArray(nt,$t*3),ct.fromArray(nt,Rt*3),ht.fromArray(nt,Bt*3),pt.fromArray(it,$t*2),gt.fromArray(it,Rt*2),vt.fromArray(it,Bt*2),ct.sub(ut),ht.sub(ut),gt.sub(pt),vt.sub(pt);const Gt=1/(gt.x*vt.y-vt.x*gt.y);!isFinite(Gt)||(ft.copy(ct).multiplyScalar(vt.y).addScaledVector(ht,-gt.y).multiplyScalar(Gt),mt.copy(ht).multiplyScalar(gt.x).addScaledVector(ct,-vt.x).multiplyScalar(Gt),ot[$t].add(ft),ot[Rt].add(ft),ot[Bt].add(ft),lt[$t].add(mt),lt[Rt].add(mt),lt[Bt].add(mt))}let _t=this.groups;_t.length===0&&(_t=[{start:0,count:tt.length}]);for(let $t=0,Rt=_t.length;$t<Rt;++$t){const Bt=_t[$t],Gt=Bt.start,Ft=Bt.count;for(let kt=Gt,It=Gt+Ft;kt<It;kt+=3)xt(tt[kt+0],tt[kt+1],tt[kt+2])}const Tt=new Vector3,wt=new Vector3,bt=new Vector3,Ct=new Vector3;function Lt($t){bt.fromArray(rt,$t*3),Ct.copy(bt);const Rt=ot[$t];Tt.copy(Rt),Tt.sub(bt.multiplyScalar(bt.dot(Rt))).normalize(),wt.crossVectors(Ct,Rt);const Gt=wt.dot(lt[$t])<0?-1:1;at[$t*4]=Tt.x,at[$t*4+1]=Tt.y,at[$t*4+2]=Tt.z,at[$t*4+3]=Gt}for(let $t=0,Rt=_t.length;$t<Rt;++$t){const Bt=_t[$t],Gt=Bt.start,Ft=Bt.count;for(let kt=Gt,It=Gt+Ft;kt<It;kt+=3)Lt(tt[kt+0]),Lt(tt[kt+1]),Lt(tt[kt+2])}}computeVertexNormals(){const j=this.index,et=this.getAttribute("position");if(et!==void 0){let tt=this.getAttribute("normal");if(tt===void 0)tt=new BufferAttribute(new Float32Array(et.count*3),3),this.setAttribute("normal",tt);else for(let ct=0,ht=tt.count;ct<ht;ct++)tt.setXYZ(ct,0,0,0);const nt=new Vector3,rt=new Vector3,it=new Vector3,st=new Vector3,at=new Vector3,ot=new Vector3,lt=new Vector3,ut=new Vector3;if(j)for(let ct=0,ht=j.count;ct<ht;ct+=3){const pt=j.getX(ct+0),gt=j.getX(ct+1),vt=j.getX(ct+2);nt.fromBufferAttribute(et,pt),rt.fromBufferAttribute(et,gt),it.fromBufferAttribute(et,vt),lt.subVectors(it,rt),ut.subVectors(nt,rt),lt.cross(ut),st.fromBufferAttribute(tt,pt),at.fromBufferAttribute(tt,gt),ot.fromBufferAttribute(tt,vt),st.add(lt),at.add(lt),ot.add(lt),tt.setXYZ(pt,st.x,st.y,st.z),tt.setXYZ(gt,at.x,at.y,at.z),tt.setXYZ(vt,ot.x,ot.y,ot.z)}else for(let ct=0,ht=et.count;ct<ht;ct+=3)nt.fromBufferAttribute(et,ct+0),rt.fromBufferAttribute(et,ct+1),it.fromBufferAttribute(et,ct+2),lt.subVectors(it,rt),ut.subVectors(nt,rt),lt.cross(ut),tt.setXYZ(ct+0,lt.x,lt.y,lt.z),tt.setXYZ(ct+1,lt.x,lt.y,lt.z),tt.setXYZ(ct+2,lt.x,lt.y,lt.z);this.normalizeNormals(),tt.needsUpdate=!0}}merge(j,et){if(!(j&&j.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",j);return}et===void 0&&(et=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const tt=this.attributes;for(const nt in tt){if(j.attributes[nt]===void 0)continue;const it=tt[nt].array,st=j.attributes[nt],at=st.array,ot=st.itemSize*et,lt=Math.min(at.length,it.length-ot);for(let ut=0,ct=ot;ut<lt;ut++,ct++)it[ct]=at[ut]}return this}normalizeNormals(){const j=this.attributes.normal;for(let et=0,tt=j.count;et<tt;et++)_vector$8.fromBufferAttribute(j,et),_vector$8.normalize(),j.setXYZ(et,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function j(st,at){const ot=st.array,lt=st.itemSize,ut=st.normalized,ct=new ot.constructor(at.length*lt);let ht=0,pt=0;for(let gt=0,vt=at.length;gt<vt;gt++){st.isInterleavedBufferAttribute?ht=at[gt]*st.data.stride+st.offset:ht=at[gt]*lt;for(let ft=0;ft<lt;ft++)ct[pt++]=ot[ht++]}return new BufferAttribute(ct,lt,ut)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const et=new BufferGeometry,tt=this.index.array,nt=this.attributes;for(const st in nt){const at=nt[st],ot=j(at,tt);et.setAttribute(st,ot)}const rt=this.morphAttributes;for(const st in rt){const at=[],ot=rt[st];for(let lt=0,ut=ot.length;lt<ut;lt++){const ct=ot[lt],ht=j(ct,tt);at.push(ht)}et.morphAttributes[st]=at}et.morphTargetsRelative=this.morphTargetsRelative;const it=this.groups;for(let st=0,at=it.length;st<at;st++){const ot=it[st];et.addGroup(ot.start,ot.count,ot.materialIndex)}return et}toJSON(){const j={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(j.uuid=this.uuid,j.type=this.type,this.name!==""&&(j.name=this.name),Object.keys(this.userData).length>0&&(j.userData=this.userData),this.parameters!==void 0){const at=this.parameters;for(const ot in at)at[ot]!==void 0&&(j[ot]=at[ot]);return j}j.data={attributes:{}};const et=this.index;et!==null&&(j.data.index={type:et.array.constructor.name,array:Array.prototype.slice.call(et.array)});const tt=this.attributes;for(const at in tt){const ot=tt[at];j.data.attributes[at]=ot.toJSON(j.data)}const nt={};let rt=!1;for(const at in this.morphAttributes){const ot=this.morphAttributes[at],lt=[];for(let ut=0,ct=ot.length;ut<ct;ut++){const ht=ot[ut];lt.push(ht.toJSON(j.data))}lt.length>0&&(nt[at]=lt,rt=!0)}rt&&(j.data.morphAttributes=nt,j.data.morphTargetsRelative=this.morphTargetsRelative);const it=this.groups;it.length>0&&(j.data.groups=JSON.parse(JSON.stringify(it)));const st=this.boundingSphere;return st!==null&&(j.data.boundingSphere={center:st.center.toArray(),radius:st.radius}),j}clone(){return new this.constructor().copy(this)}copy(j){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const et={};this.name=j.name;const tt=j.index;tt!==null&&this.setIndex(tt.clone(et));const nt=j.attributes;for(const ot in nt){const lt=nt[ot];this.setAttribute(ot,lt.clone(et))}const rt=j.morphAttributes;for(const ot in rt){const lt=[],ut=rt[ot];for(let ct=0,ht=ut.length;ct<ht;ct++)lt.push(ut[ct].clone(et));this.morphAttributes[ot]=lt}this.morphTargetsRelative=j.morphTargetsRelative;const it=j.groups;for(let ot=0,lt=it.length;ot<lt;ot++){const ut=it[ot];this.addGroup(ut.start,ut.count,ut.materialIndex)}const st=j.boundingBox;st!==null&&(this.boundingBox=st.clone());const at=j.boundingSphere;return at!==null&&(this.boundingSphere=at.clone()),this.drawRange.start=j.drawRange.start,this.drawRange.count=j.drawRange.count,this.userData=j.userData,j.parameters!==void 0&&(this.parameters=Object.assign({},j.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}BufferGeometry.prototype.isBufferGeometry=!0;const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_tempB=new Vector3,_tempC=new Vector3,_morphA=new Vector3,_morphB=new Vector3,_morphC=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(j=new BufferGeometry,et=new MeshBasicMaterial){super(),this.type="Mesh",this.geometry=j,this.material=et,this.updateMorphTargets()}copy(j){return super.copy(j),j.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=j.morphTargetInfluences.slice()),j.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},j.morphTargetDictionary)),this.material=j.material,this.geometry=j.geometry,this}updateMorphTargets(){const j=this.geometry;if(j.isBufferGeometry){const et=j.morphAttributes,tt=Object.keys(et);if(tt.length>0){const nt=et[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=rt}}}}else{const et=j.morphTargets;et!==void 0&&et.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(j,et){const tt=this.geometry,nt=this.material,rt=this.matrixWorld;if(nt===void 0||(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$3.copy(tt.boundingSphere),_sphere$3.applyMatrix4(rt),j.ray.intersectsSphere(_sphere$3)===!1)||(_inverseMatrix$2.copy(rt).invert(),_ray$2.copy(j.ray).applyMatrix4(_inverseMatrix$2),tt.boundingBox!==null&&_ray$2.intersectsBox(tt.boundingBox)===!1))return;let it;if(tt.isBufferGeometry){const st=tt.index,at=tt.attributes.position,ot=tt.morphAttributes.position,lt=tt.morphTargetsRelative,ut=tt.attributes.uv,ct=tt.attributes.uv2,ht=tt.groups,pt=tt.drawRange;if(st!==null)if(Array.isArray(nt))for(let gt=0,vt=ht.length;gt<vt;gt++){const ft=ht[gt],mt=nt[ft.materialIndex],xt=Math.max(ft.start,pt.start),_t=Math.min(st.count,Math.min(ft.start+ft.count,pt.start+pt.count));for(let Tt=xt,wt=_t;Tt<wt;Tt+=3){const bt=st.getX(Tt),Ct=st.getX(Tt+1),Lt=st.getX(Tt+2);it=checkBufferGeometryIntersection(this,mt,j,_ray$2,at,ot,lt,ut,ct,bt,Ct,Lt),it&&(it.faceIndex=Math.floor(Tt/3),it.face.materialIndex=ft.materialIndex,et.push(it))}}else{const gt=Math.max(0,pt.start),vt=Math.min(st.count,pt.start+pt.count);for(let ft=gt,mt=vt;ft<mt;ft+=3){const xt=st.getX(ft),_t=st.getX(ft+1),Tt=st.getX(ft+2);it=checkBufferGeometryIntersection(this,nt,j,_ray$2,at,ot,lt,ut,ct,xt,_t,Tt),it&&(it.faceIndex=Math.floor(ft/3),et.push(it))}}else if(at!==void 0)if(Array.isArray(nt))for(let gt=0,vt=ht.length;gt<vt;gt++){const ft=ht[gt],mt=nt[ft.materialIndex],xt=Math.max(ft.start,pt.start),_t=Math.min(at.count,Math.min(ft.start+ft.count,pt.start+pt.count));for(let Tt=xt,wt=_t;Tt<wt;Tt+=3){const bt=Tt,Ct=Tt+1,Lt=Tt+2;it=checkBufferGeometryIntersection(this,mt,j,_ray$2,at,ot,lt,ut,ct,bt,Ct,Lt),it&&(it.faceIndex=Math.floor(Tt/3),it.face.materialIndex=ft.materialIndex,et.push(it))}}else{const gt=Math.max(0,pt.start),vt=Math.min(at.count,pt.start+pt.count);for(let ft=gt,mt=vt;ft<mt;ft+=3){const xt=ft,_t=ft+1,Tt=ft+2;it=checkBufferGeometryIntersection(this,nt,j,_ray$2,at,ot,lt,ut,ct,xt,_t,Tt),it&&(it.faceIndex=Math.floor(ft/3),et.push(it))}}}else tt.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Mesh.prototype.isMesh=!0;function checkIntersection(_e,j,et,tt,nt,rt,it,st){let at;if(j.side===BackSide?at=tt.intersectTriangle(it,rt,nt,!0,st):at=tt.intersectTriangle(nt,rt,it,j.side!==DoubleSide,st),at===null)return null;_intersectionPointWorld.copy(st),_intersectionPointWorld.applyMatrix4(_e.matrixWorld);const ot=et.ray.origin.distanceTo(_intersectionPointWorld);return ot<et.near||ot>et.far?null:{distance:ot,point:_intersectionPointWorld.clone(),object:_e}}function checkBufferGeometryIntersection(_e,j,et,tt,nt,rt,it,st,at,ot,lt,ut){_vA$1.fromBufferAttribute(nt,ot),_vB$1.fromBufferAttribute(nt,lt),_vC$1.fromBufferAttribute(nt,ut);const ct=_e.morphTargetInfluences;if(rt&&ct){_morphA.set(0,0,0),_morphB.set(0,0,0),_morphC.set(0,0,0);for(let pt=0,gt=rt.length;pt<gt;pt++){const vt=ct[pt],ft=rt[pt];vt!==0&&(_tempA.fromBufferAttribute(ft,ot),_tempB.fromBufferAttribute(ft,lt),_tempC.fromBufferAttribute(ft,ut),it?(_morphA.addScaledVector(_tempA,vt),_morphB.addScaledVector(_tempB,vt),_morphC.addScaledVector(_tempC,vt)):(_morphA.addScaledVector(_tempA.sub(_vA$1),vt),_morphB.addScaledVector(_tempB.sub(_vB$1),vt),_morphC.addScaledVector(_tempC.sub(_vC$1),vt)))}_vA$1.add(_morphA),_vB$1.add(_morphB),_vC$1.add(_morphC)}_e.isSkinnedMesh&&(_e.boneTransform(ot,_vA$1),_e.boneTransform(lt,_vB$1),_e.boneTransform(ut,_vC$1));const ht=checkIntersection(_e,j,et,tt,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(ht){st&&(_uvA$1.fromBufferAttribute(st,ot),_uvB$1.fromBufferAttribute(st,lt),_uvC$1.fromBufferAttribute(st,ut),ht.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),at&&(_uvA$1.fromBufferAttribute(at,ot),_uvB$1.fromBufferAttribute(at,lt),_uvC$1.fromBufferAttribute(at,ut),ht.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2));const pt={a:ot,b:lt,c:ut,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,pt.normal),ht.face=pt}return ht}class BoxGeometry extends BufferGeometry{constructor(j=1,et=1,tt=1,nt=1,rt=1,it=1){super(),this.type="BoxGeometry",this.parameters={width:j,height:et,depth:tt,widthSegments:nt,heightSegments:rt,depthSegments:it};const st=this;nt=Math.floor(nt),rt=Math.floor(rt),it=Math.floor(it);const at=[],ot=[],lt=[],ut=[];let ct=0,ht=0;pt("z","y","x",-1,-1,tt,et,j,it,rt,0),pt("z","y","x",1,-1,tt,et,-j,it,rt,1),pt("x","z","y",1,1,j,tt,et,nt,it,2),pt("x","z","y",1,-1,j,tt,-et,nt,it,3),pt("x","y","z",1,-1,j,et,tt,nt,rt,4),pt("x","y","z",-1,-1,j,et,-tt,nt,rt,5),this.setIndex(at),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(lt,3)),this.setAttribute("uv",new Float32BufferAttribute(ut,2));function pt(gt,vt,ft,mt,xt,_t,Tt,wt,bt,Ct,Lt){const $t=_t/bt,Rt=Tt/Ct,Bt=_t/2,Gt=Tt/2,Ft=wt/2,kt=bt+1,It=Ct+1;let Ot=0,Ut=0;const zt=new Vector3;for(let Ht=0;Ht<It;Ht++){const Vt=Ht*Rt-Gt;for(let qt=0;qt<kt;qt++){const an=qt*$t-Bt;zt[gt]=an*mt,zt[vt]=Vt*xt,zt[ft]=Ft,ot.push(zt.x,zt.y,zt.z),zt[gt]=0,zt[vt]=0,zt[ft]=wt>0?1:-1,lt.push(zt.x,zt.y,zt.z),ut.push(qt/bt),ut.push(1-Ht/Ct),Ot+=1}}for(let Ht=0;Ht<Ct;Ht++)for(let Vt=0;Vt<bt;Vt++){const qt=ct+Vt+kt*Ht,an=ct+Vt+kt*(Ht+1),gn=ct+(Vt+1)+kt*(Ht+1),yn=ct+(Vt+1)+kt*Ht;at.push(qt,an,yn),at.push(an,gn,yn),Ut+=6}st.addGroup(ht,Ut,Lt),ht+=Ut,ct+=Ot}}static fromJSON(j){return new BoxGeometry(j.width,j.height,j.depth,j.widthSegments,j.heightSegments,j.depthSegments)}}function cloneUniforms(_e){const j={};for(const et in _e){j[et]={};for(const tt in _e[et]){const nt=_e[et][tt];nt&&(nt.isColor||nt.isMatrix3||nt.isMatrix4||nt.isVector2||nt.isVector3||nt.isVector4||nt.isTexture||nt.isQuaternion)?j[et][tt]=nt.clone():Array.isArray(nt)?j[et][tt]=nt.slice():j[et][tt]=nt}}return j}function mergeUniforms(_e){const j={};for(let et=0;et<_e.length;et++){const tt=cloneUniforms(_e[et]);for(const nt in tt)j[nt]=tt[nt]}return j}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(j){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,j!==void 0&&(j.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(j))}copy(j){return super.copy(j),this.fragmentShader=j.fragmentShader,this.vertexShader=j.vertexShader,this.uniforms=cloneUniforms(j.uniforms),this.defines=Object.assign({},j.defines),this.wireframe=j.wireframe,this.wireframeLinewidth=j.wireframeLinewidth,this.lights=j.lights,this.clipping=j.clipping,this.extensions=Object.assign({},j.extensions),this.glslVersion=j.glslVersion,this}toJSON(j){const et=super.toJSON(j);et.glslVersion=this.glslVersion,et.uniforms={};for(const nt in this.uniforms){const it=this.uniforms[nt].value;it&&it.isTexture?et.uniforms[nt]={type:"t",value:it.toJSON(j).uuid}:it&&it.isColor?et.uniforms[nt]={type:"c",value:it.getHex()}:it&&it.isVector2?et.uniforms[nt]={type:"v2",value:it.toArray()}:it&&it.isVector3?et.uniforms[nt]={type:"v3",value:it.toArray()}:it&&it.isVector4?et.uniforms[nt]={type:"v4",value:it.toArray()}:it&&it.isMatrix3?et.uniforms[nt]={type:"m3",value:it.toArray()}:it&&it.isMatrix4?et.uniforms[nt]={type:"m4",value:it.toArray()}:et.uniforms[nt]={value:it}}Object.keys(this.defines).length>0&&(et.defines=this.defines),et.vertexShader=this.vertexShader,et.fragmentShader=this.fragmentShader;const tt={};for(const nt in this.extensions)this.extensions[nt]===!0&&(tt[nt]=!0);return Object.keys(tt).length>0&&(et.extensions=tt),et}}ShaderMaterial.prototype.isShaderMaterial=!0;class Camera extends Object3D{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy(j,et){return super.copy(j,et),this.matrixWorldInverse.copy(j.matrixWorldInverse),this.projectionMatrix.copy(j.projectionMatrix),this.projectionMatrixInverse.copy(j.projectionMatrixInverse),this}getWorldDirection(j){this.updateWorldMatrix(!0,!1);const et=this.matrixWorld.elements;return j.set(-et[8],-et[9],-et[10]).normalize()}updateMatrixWorld(j){super.updateMatrixWorld(j),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(j,et){super.updateWorldMatrix(j,et),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Camera.prototype.isCamera=!0;class PerspectiveCamera extends Camera{constructor(j=50,et=1,tt=.1,nt=2e3){super(),this.type="PerspectiveCamera",this.fov=j,this.zoom=1,this.near=tt,this.far=nt,this.focus=10,this.aspect=et,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(j,et){return super.copy(j,et),this.fov=j.fov,this.zoom=j.zoom,this.near=j.near,this.far=j.far,this.focus=j.focus,this.aspect=j.aspect,this.view=j.view===null?null:Object.assign({},j.view),this.filmGauge=j.filmGauge,this.filmOffset=j.filmOffset,this}setFocalLength(j){const et=.5*this.getFilmHeight()/j;this.fov=RAD2DEG*2*Math.atan(et),this.updateProjectionMatrix()}getFocalLength(){const j=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/j}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(j,et,tt,nt,rt,it){this.aspect=j/et,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=j,this.view.fullHeight=et,this.view.offsetX=tt,this.view.offsetY=nt,this.view.width=rt,this.view.height=it,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const j=this.near;let et=j*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,tt=2*et,nt=this.aspect*tt,rt=-.5*nt;const it=this.view;if(this.view!==null&&this.view.enabled){const at=it.fullWidth,ot=it.fullHeight;rt+=it.offsetX*nt/at,et-=it.offsetY*tt/ot,nt*=it.width/at,tt*=it.height/ot}const st=this.filmOffset;st!==0&&(rt+=j*st/this.getFilmWidth()),this.projectionMatrix.makePerspective(rt,rt+nt,et,et-tt,j,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(j){const et=super.toJSON(j);return et.object.fov=this.fov,et.object.zoom=this.zoom,et.object.near=this.near,et.object.far=this.far,et.object.focus=this.focus,et.object.aspect=this.aspect,this.view!==null&&(et.object.view=Object.assign({},this.view)),et.object.filmGauge=this.filmGauge,et.object.filmOffset=this.filmOffset,et}}PerspectiveCamera.prototype.isPerspectiveCamera=!0;const fov=90,aspect=1;class CubeCamera extends Object3D{constructor(j,et,tt){if(super(),this.type="CubeCamera",tt.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=tt;const nt=new PerspectiveCamera(fov,aspect,j,et);nt.layers=this.layers,nt.up.set(0,-1,0),nt.lookAt(new Vector3(1,0,0)),this.add(nt);const rt=new PerspectiveCamera(fov,aspect,j,et);rt.layers=this.layers,rt.up.set(0,-1,0),rt.lookAt(new Vector3(-1,0,0)),this.add(rt);const it=new PerspectiveCamera(fov,aspect,j,et);it.layers=this.layers,it.up.set(0,0,1),it.lookAt(new Vector3(0,1,0)),this.add(it);const st=new PerspectiveCamera(fov,aspect,j,et);st.layers=this.layers,st.up.set(0,0,-1),st.lookAt(new Vector3(0,-1,0)),this.add(st);const at=new PerspectiveCamera(fov,aspect,j,et);at.layers=this.layers,at.up.set(0,-1,0),at.lookAt(new Vector3(0,0,1)),this.add(at);const ot=new PerspectiveCamera(fov,aspect,j,et);ot.layers=this.layers,ot.up.set(0,-1,0),ot.lookAt(new Vector3(0,0,-1)),this.add(ot)}update(j,et){this.parent===null&&this.updateMatrixWorld();const tt=this.renderTarget,[nt,rt,it,st,at,ot]=this.children,lt=j.xr.enabled,ut=j.getRenderTarget();j.xr.enabled=!1;const ct=tt.texture.generateMipmaps;tt.texture.generateMipmaps=!1,j.setRenderTarget(tt,0),j.render(et,nt),j.setRenderTarget(tt,1),j.render(et,rt),j.setRenderTarget(tt,2),j.render(et,it),j.setRenderTarget(tt,3),j.render(et,st),j.setRenderTarget(tt,4),j.render(et,at),tt.texture.generateMipmaps=ct,j.setRenderTarget(tt,5),j.render(et,ot),j.setRenderTarget(ut),j.xr.enabled=lt,tt.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(j,et,tt,nt,rt,it,st,at,ot,lt){j=j!==void 0?j:[],et=et!==void 0?et:CubeReflectionMapping,super(j,et,tt,nt,rt,it,st,at,ot,lt),this.flipY=!1}get images(){return this.image}set images(j){this.image=j}}CubeTexture.prototype.isCubeTexture=!0;class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(j,et={}){super(j,j,et);const tt={width:j,height:j,depth:1},nt=[tt,tt,tt,tt,tt,tt];this.texture=new CubeTexture(nt,et.mapping,et.wrapS,et.wrapT,et.magFilter,et.minFilter,et.format,et.type,et.anisotropy,et.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=et.generateMipmaps!==void 0?et.generateMipmaps:!1,this.texture.minFilter=et.minFilter!==void 0?et.minFilter:LinearFilter}fromEquirectangularTexture(j,et){this.texture.type=et.type,this.texture.format=RGBAFormat,this.texture.encoding=et.encoding,this.texture.generateMipmaps=et.generateMipmaps,this.texture.minFilter=et.minFilter,this.texture.magFilter=et.magFilter;const tt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},nt=new BoxGeometry(5,5,5),rt=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(tt.uniforms),vertexShader:tt.vertexShader,fragmentShader:tt.fragmentShader,side:BackSide,blending:NoBlending});rt.uniforms.tEquirect.value=et;const it=new Mesh(nt,rt),st=et.minFilter;return et.minFilter===LinearMipmapLinearFilter&&(et.minFilter=LinearFilter),new CubeCamera(1,10,this).update(j,it),et.minFilter=st,it.geometry.dispose(),it.material.dispose(),this}clear(j,et,tt,nt){const rt=j.getRenderTarget();for(let it=0;it<6;it++)j.setRenderTarget(this,it),j.clear(et,tt,nt);j.setRenderTarget(rt)}}WebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget=!0;const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(j=new Vector3(1,0,0),et=0){this.normal=j,this.constant=et}set(j,et){return this.normal.copy(j),this.constant=et,this}setComponents(j,et,tt,nt){return this.normal.set(j,et,tt),this.constant=nt,this}setFromNormalAndCoplanarPoint(j,et){return this.normal.copy(j),this.constant=-et.dot(this.normal),this}setFromCoplanarPoints(j,et,tt){const nt=_vector1.subVectors(tt,et).cross(_vector2.subVectors(j,et)).normalize();return this.setFromNormalAndCoplanarPoint(nt,j),this}copy(j){return this.normal.copy(j.normal),this.constant=j.constant,this}normalize(){const j=1/this.normal.length();return this.normal.multiplyScalar(j),this.constant*=j,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(j){return this.normal.dot(j)+this.constant}distanceToSphere(j){return this.distanceToPoint(j.center)-j.radius}projectPoint(j,et){return et.copy(this.normal).multiplyScalar(-this.distanceToPoint(j)).add(j)}intersectLine(j,et){const tt=j.delta(_vector1),nt=this.normal.dot(tt);if(nt===0)return this.distanceToPoint(j.start)===0?et.copy(j.start):null;const rt=-(j.start.dot(this.normal)+this.constant)/nt;return rt<0||rt>1?null:et.copy(tt).multiplyScalar(rt).add(j.start)}intersectsLine(j){const et=this.distanceToPoint(j.start),tt=this.distanceToPoint(j.end);return et<0&&tt>0||tt<0&&et>0}intersectsBox(j){return j.intersectsPlane(this)}intersectsSphere(j){return j.intersectsPlane(this)}coplanarPoint(j){return j.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(j,et){const tt=et||_normalMatrix.getNormalMatrix(j),nt=this.coplanarPoint(_vector1).applyMatrix4(j),rt=this.normal.applyMatrix3(tt).normalize();return this.constant=-nt.dot(rt),this}translate(j){return this.constant-=j.dot(this.normal),this}equals(j){return j.normal.equals(this.normal)&&j.constant===this.constant}clone(){return new this.constructor().copy(this)}}Plane.prototype.isPlane=!0;const _sphere$2=new Sphere,_vector$7=new Vector3;class Frustum{constructor(j=new Plane,et=new Plane,tt=new Plane,nt=new Plane,rt=new Plane,it=new Plane){this.planes=[j,et,tt,nt,rt,it]}set(j,et,tt,nt,rt,it){const st=this.planes;return st[0].copy(j),st[1].copy(et),st[2].copy(tt),st[3].copy(nt),st[4].copy(rt),st[5].copy(it),this}copy(j){const et=this.planes;for(let tt=0;tt<6;tt++)et[tt].copy(j.planes[tt]);return this}setFromProjectionMatrix(j){const et=this.planes,tt=j.elements,nt=tt[0],rt=tt[1],it=tt[2],st=tt[3],at=tt[4],ot=tt[5],lt=tt[6],ut=tt[7],ct=tt[8],ht=tt[9],pt=tt[10],gt=tt[11],vt=tt[12],ft=tt[13],mt=tt[14],xt=tt[15];return et[0].setComponents(st-nt,ut-at,gt-ct,xt-vt).normalize(),et[1].setComponents(st+nt,ut+at,gt+ct,xt+vt).normalize(),et[2].setComponents(st+rt,ut+ot,gt+ht,xt+ft).normalize(),et[3].setComponents(st-rt,ut-ot,gt-ht,xt-ft).normalize(),et[4].setComponents(st-it,ut-lt,gt-pt,xt-mt).normalize(),et[5].setComponents(st+it,ut+lt,gt+pt,xt+mt).normalize(),this}intersectsObject(j){const et=j.geometry;return et.boundingSphere===null&&et.computeBoundingSphere(),_sphere$2.copy(et.boundingSphere).applyMatrix4(j.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSprite(j){return _sphere$2.center.set(0,0,0),_sphere$2.radius=.7071067811865476,_sphere$2.applyMatrix4(j.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSphere(j){const et=this.planes,tt=j.center,nt=-j.radius;for(let rt=0;rt<6;rt++)if(et[rt].distanceToPoint(tt)<nt)return!1;return!0}intersectsBox(j){const et=this.planes;for(let tt=0;tt<6;tt++){const nt=et[tt];if(_vector$7.x=nt.normal.x>0?j.max.x:j.min.x,_vector$7.y=nt.normal.y>0?j.max.y:j.min.y,_vector$7.z=nt.normal.z>0?j.max.z:j.min.z,nt.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(j){const et=this.planes;for(let tt=0;tt<6;tt++)if(et[tt].distanceToPoint(j)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let _e=null,j=!1,et=null,tt=null;function nt(rt,it){et(rt,it),tt=_e.requestAnimationFrame(nt)}return{start:function(){j!==!0&&et!==null&&(tt=_e.requestAnimationFrame(nt),j=!0)},stop:function(){_e.cancelAnimationFrame(tt),j=!1},setAnimationLoop:function(rt){et=rt},setContext:function(rt){_e=rt}}}function WebGLAttributes(_e,j){const et=j.isWebGL2,tt=new WeakMap;function nt(ot,lt){const ut=ot.array,ct=ot.usage,ht=_e.createBuffer();_e.bindBuffer(lt,ht),_e.bufferData(lt,ut,ct),ot.onUploadCallback();let pt;if(ut instanceof Float32Array)pt=5126;else if(ut instanceof Uint16Array)if(ot.isFloat16BufferAttribute)if(et)pt=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else pt=5123;else if(ut instanceof Int16Array)pt=5122;else if(ut instanceof Uint32Array)pt=5125;else if(ut instanceof Int32Array)pt=5124;else if(ut instanceof Int8Array)pt=5120;else if(ut instanceof Uint8Array)pt=5121;else if(ut instanceof Uint8ClampedArray)pt=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+ut);return{buffer:ht,type:pt,bytesPerElement:ut.BYTES_PER_ELEMENT,version:ot.version}}function rt(ot,lt,ut){const ct=lt.array,ht=lt.updateRange;_e.bindBuffer(ut,ot),ht.count===-1?_e.bufferSubData(ut,0,ct):(et?_e.bufferSubData(ut,ht.offset*ct.BYTES_PER_ELEMENT,ct,ht.offset,ht.count):_e.bufferSubData(ut,ht.offset*ct.BYTES_PER_ELEMENT,ct.subarray(ht.offset,ht.offset+ht.count)),ht.count=-1)}function it(ot){return ot.isInterleavedBufferAttribute&&(ot=ot.data),tt.get(ot)}function st(ot){ot.isInterleavedBufferAttribute&&(ot=ot.data);const lt=tt.get(ot);lt&&(_e.deleteBuffer(lt.buffer),tt.delete(ot))}function at(ot,lt){if(ot.isGLBufferAttribute){const ct=tt.get(ot);(!ct||ct.version<ot.version)&&tt.set(ot,{buffer:ot.buffer,type:ot.type,bytesPerElement:ot.elementSize,version:ot.version});return}ot.isInterleavedBufferAttribute&&(ot=ot.data);const ut=tt.get(ot);ut===void 0?tt.set(ot,nt(ot,lt)):ut.version<ot.version&&(rt(ut.buffer,ot,lt),ut.version=ot.version)}return{get:it,remove:st,update:at}}class PlaneGeometry extends BufferGeometry{constructor(j=1,et=1,tt=1,nt=1){super(),this.type="PlaneGeometry",this.parameters={width:j,height:et,widthSegments:tt,heightSegments:nt};const rt=j/2,it=et/2,st=Math.floor(tt),at=Math.floor(nt),ot=st+1,lt=at+1,ut=j/st,ct=et/at,ht=[],pt=[],gt=[],vt=[];for(let ft=0;ft<lt;ft++){const mt=ft*ct-it;for(let xt=0;xt<ot;xt++){const _t=xt*ut-rt;pt.push(_t,-mt,0),gt.push(0,0,1),vt.push(xt/st),vt.push(1-ft/at)}}for(let ft=0;ft<at;ft++)for(let mt=0;mt<st;mt++){const xt=mt+ot*ft,_t=mt+ot*(ft+1),Tt=mt+1+ot*(ft+1),wt=mt+1+ot*ft;ht.push(xt,_t,wt),ht.push(_t,Tt,wt)}this.setIndex(ht),this.setAttribute("position",new Float32BufferAttribute(pt,3)),this.setAttribute("normal",new Float32BufferAttribute(gt,3)),this.setAttribute("uv",new Float32BufferAttribute(vt,2))}static fromJSON(j){return new PlaneGeometry(j.width,j.height,j.widthSegments,j.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ]
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			float texelIndex = float( vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$g=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$g=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_vertex,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_vert:vertex$g,background_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},cube:{uniforms:mergeUniforms([UniformsLib.envmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};function WebGLBackground(_e,j,et,tt,nt,rt){const it=new Color(0);let st=nt===!0?0:1,at,ot,lt=null,ut=0,ct=null;function ht(gt,vt){let ft=!1,mt=vt.isScene===!0?vt.background:null;mt&&mt.isTexture&&(mt=j.get(mt));const xt=_e.xr,_t=xt.getSession&&xt.getSession();_t&&_t.environmentBlendMode==="additive"&&(mt=null),mt===null?pt(it,st):mt&&mt.isColor&&(pt(mt,1),ft=!0),(_e.autoClear||ft)&&_e.clear(_e.autoClearColor,_e.autoClearDepth,_e.autoClearStencil),mt&&(mt.isCubeTexture||mt.mapping===CubeUVReflectionMapping)?(ot===void 0&&(ot=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.cube.uniforms),vertexShader:ShaderLib.cube.vertexShader,fragmentShader:ShaderLib.cube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),ot.geometry.deleteAttribute("normal"),ot.geometry.deleteAttribute("uv"),ot.onBeforeRender=function(Tt,wt,bt){this.matrixWorld.copyPosition(bt.matrixWorld)},Object.defineProperty(ot.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),tt.update(ot)),ot.material.uniforms.envMap.value=mt,ot.material.uniforms.flipEnvMap.value=mt.isCubeTexture&&mt.isRenderTargetTexture===!1?-1:1,(lt!==mt||ut!==mt.version||ct!==_e.toneMapping)&&(ot.material.needsUpdate=!0,lt=mt,ut=mt.version,ct=_e.toneMapping),gt.unshift(ot,ot.geometry,ot.material,0,0,null)):mt&&mt.isTexture&&(at===void 0&&(at=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),at.geometry.deleteAttribute("normal"),Object.defineProperty(at.material,"map",{get:function(){return this.uniforms.t2D.value}}),tt.update(at)),at.material.uniforms.t2D.value=mt,mt.matrixAutoUpdate===!0&&mt.updateMatrix(),at.material.uniforms.uvTransform.value.copy(mt.matrix),(lt!==mt||ut!==mt.version||ct!==_e.toneMapping)&&(at.material.needsUpdate=!0,lt=mt,ut=mt.version,ct=_e.toneMapping),gt.unshift(at,at.geometry,at.material,0,0,null))}function pt(gt,vt){et.buffers.color.setClear(gt.r,gt.g,gt.b,vt,rt)}return{getClearColor:function(){return it},setClearColor:function(gt,vt=1){it.set(gt),st=vt,pt(it,st)},getClearAlpha:function(){return st},setClearAlpha:function(gt){st=gt,pt(it,st)},render:ht}}function WebGLBindingStates(_e,j,et,tt){const nt=_e.getParameter(34921),rt=tt.isWebGL2?null:j.get("OES_vertex_array_object"),it=tt.isWebGL2||rt!==null,st={},at=gt(null);let ot=at;function lt(Gt,Ft,kt,It,Ot){let Ut=!1;if(it){const zt=pt(It,kt,Ft);ot!==zt&&(ot=zt,ct(ot.object)),Ut=vt(It,Ot),Ut&&ft(It,Ot)}else{const zt=Ft.wireframe===!0;(ot.geometry!==It.id||ot.program!==kt.id||ot.wireframe!==zt)&&(ot.geometry=It.id,ot.program=kt.id,ot.wireframe=zt,Ut=!0)}Gt.isInstancedMesh===!0&&(Ut=!0),Ot!==null&&et.update(Ot,34963),Ut&&(bt(Gt,Ft,kt,It),Ot!==null&&_e.bindBuffer(34963,et.get(Ot).buffer))}function ut(){return tt.isWebGL2?_e.createVertexArray():rt.createVertexArrayOES()}function ct(Gt){return tt.isWebGL2?_e.bindVertexArray(Gt):rt.bindVertexArrayOES(Gt)}function ht(Gt){return tt.isWebGL2?_e.deleteVertexArray(Gt):rt.deleteVertexArrayOES(Gt)}function pt(Gt,Ft,kt){const It=kt.wireframe===!0;let Ot=st[Gt.id];Ot===void 0&&(Ot={},st[Gt.id]=Ot);let Ut=Ot[Ft.id];Ut===void 0&&(Ut={},Ot[Ft.id]=Ut);let zt=Ut[It];return zt===void 0&&(zt=gt(ut()),Ut[It]=zt),zt}function gt(Gt){const Ft=[],kt=[],It=[];for(let Ot=0;Ot<nt;Ot++)Ft[Ot]=0,kt[Ot]=0,It[Ot]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ft,enabledAttributes:kt,attributeDivisors:It,object:Gt,attributes:{},index:null}}function vt(Gt,Ft){const kt=ot.attributes,It=Gt.attributes;let Ot=0;for(const Ut in It){const zt=kt[Ut],Ht=It[Ut];if(zt===void 0||zt.attribute!==Ht||zt.data!==Ht.data)return!0;Ot++}return ot.attributesNum!==Ot||ot.index!==Ft}function ft(Gt,Ft){const kt={},It=Gt.attributes;let Ot=0;for(const Ut in It){const zt=It[Ut],Ht={};Ht.attribute=zt,zt.data&&(Ht.data=zt.data),kt[Ut]=Ht,Ot++}ot.attributes=kt,ot.attributesNum=Ot,ot.index=Ft}function mt(){const Gt=ot.newAttributes;for(let Ft=0,kt=Gt.length;Ft<kt;Ft++)Gt[Ft]=0}function xt(Gt){_t(Gt,0)}function _t(Gt,Ft){const kt=ot.newAttributes,It=ot.enabledAttributes,Ot=ot.attributeDivisors;kt[Gt]=1,It[Gt]===0&&(_e.enableVertexAttribArray(Gt),It[Gt]=1),Ot[Gt]!==Ft&&((tt.isWebGL2?_e:j.get("ANGLE_instanced_arrays"))[tt.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Gt,Ft),Ot[Gt]=Ft)}function Tt(){const Gt=ot.newAttributes,Ft=ot.enabledAttributes;for(let kt=0,It=Ft.length;kt<It;kt++)Ft[kt]!==Gt[kt]&&(_e.disableVertexAttribArray(kt),Ft[kt]=0)}function wt(Gt,Ft,kt,It,Ot,Ut){tt.isWebGL2===!0&&(kt===5124||kt===5125)?_e.vertexAttribIPointer(Gt,Ft,kt,Ot,Ut):_e.vertexAttribPointer(Gt,Ft,kt,It,Ot,Ut)}function bt(Gt,Ft,kt,It){if(tt.isWebGL2===!1&&(Gt.isInstancedMesh||It.isInstancedBufferGeometry)&&j.get("ANGLE_instanced_arrays")===null)return;mt();const Ot=It.attributes,Ut=kt.getAttributes(),zt=Ft.defaultAttributeValues;for(const Ht in Ut){const Vt=Ut[Ht];if(Vt.location>=0){let qt=Ot[Ht];if(qt===void 0&&(Ht==="instanceMatrix"&&Gt.instanceMatrix&&(qt=Gt.instanceMatrix),Ht==="instanceColor"&&Gt.instanceColor&&(qt=Gt.instanceColor)),qt!==void 0){const an=qt.normalized,gn=qt.itemSize,yn=et.get(qt);if(yn===void 0)continue;const fn=yn.buffer,In=yn.type,Dn=yn.bytesPerElement;if(qt.isInterleavedBufferAttribute){const Mn=qt.data,Fn=Mn.stride,Vn=qt.offset;if(Mn.isInstancedInterleavedBuffer){for(let mn=0;mn<Vt.locationSize;mn++)_t(Vt.location+mn,Mn.meshPerAttribute);Gt.isInstancedMesh!==!0&&It._maxInstanceCount===void 0&&(It._maxInstanceCount=Mn.meshPerAttribute*Mn.count)}else for(let mn=0;mn<Vt.locationSize;mn++)xt(Vt.location+mn);_e.bindBuffer(34962,fn);for(let mn=0;mn<Vt.locationSize;mn++)wt(Vt.location+mn,gn/Vt.locationSize,In,an,Fn*Dn,(Vn+gn/Vt.locationSize*mn)*Dn)}else{if(qt.isInstancedBufferAttribute){for(let Mn=0;Mn<Vt.locationSize;Mn++)_t(Vt.location+Mn,qt.meshPerAttribute);Gt.isInstancedMesh!==!0&&It._maxInstanceCount===void 0&&(It._maxInstanceCount=qt.meshPerAttribute*qt.count)}else for(let Mn=0;Mn<Vt.locationSize;Mn++)xt(Vt.location+Mn);_e.bindBuffer(34962,fn);for(let Mn=0;Mn<Vt.locationSize;Mn++)wt(Vt.location+Mn,gn/Vt.locationSize,In,an,gn*Dn,gn/Vt.locationSize*Mn*Dn)}}else if(zt!==void 0){const an=zt[Ht];if(an!==void 0)switch(an.length){case 2:_e.vertexAttrib2fv(Vt.location,an);break;case 3:_e.vertexAttrib3fv(Vt.location,an);break;case 4:_e.vertexAttrib4fv(Vt.location,an);break;default:_e.vertexAttrib1fv(Vt.location,an)}}}}Tt()}function Ct(){Rt();for(const Gt in st){const Ft=st[Gt];for(const kt in Ft){const It=Ft[kt];for(const Ot in It)ht(It[Ot].object),delete It[Ot];delete Ft[kt]}delete st[Gt]}}function Lt(Gt){if(st[Gt.id]===void 0)return;const Ft=st[Gt.id];for(const kt in Ft){const It=Ft[kt];for(const Ot in It)ht(It[Ot].object),delete It[Ot];delete Ft[kt]}delete st[Gt.id]}function $t(Gt){for(const Ft in st){const kt=st[Ft];if(kt[Gt.id]===void 0)continue;const It=kt[Gt.id];for(const Ot in It)ht(It[Ot].object),delete It[Ot];delete kt[Gt.id]}}function Rt(){Bt(),ot!==at&&(ot=at,ct(ot.object))}function Bt(){at.geometry=null,at.program=null,at.wireframe=!1}return{setup:lt,reset:Rt,resetDefaultState:Bt,dispose:Ct,releaseStatesOfGeometry:Lt,releaseStatesOfProgram:$t,initAttributes:mt,enableAttribute:xt,disableUnusedAttributes:Tt}}function WebGLBufferRenderer(_e,j,et,tt){const nt=tt.isWebGL2;let rt;function it(ot){rt=ot}function st(ot,lt){_e.drawArrays(rt,ot,lt),et.update(lt,rt,1)}function at(ot,lt,ut){if(ut===0)return;let ct,ht;if(nt)ct=_e,ht="drawArraysInstanced";else if(ct=j.get("ANGLE_instanced_arrays"),ht="drawArraysInstancedANGLE",ct===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ct[ht](rt,ot,lt,ut),et.update(lt,rt,ut)}this.setMode=it,this.render=st,this.renderInstances=at}function WebGLCapabilities(_e,j,et){let tt;function nt(){if(tt!==void 0)return tt;if(j.has("EXT_texture_filter_anisotropic")===!0){const bt=j.get("EXT_texture_filter_anisotropic");tt=_e.getParameter(bt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else tt=0;return tt}function rt(bt){if(bt==="highp"){if(_e.getShaderPrecisionFormat(35633,36338).precision>0&&_e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";bt="mediump"}return bt==="mediump"&&_e.getShaderPrecisionFormat(35633,36337).precision>0&&_e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const it=typeof WebGL2RenderingContext!="undefined"&&_e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&_e instanceof WebGL2ComputeRenderingContext;let st=et.precision!==void 0?et.precision:"highp";const at=rt(st);at!==st&&(console.warn("THREE.WebGLRenderer:",st,"not supported, using",at,"instead."),st=at);const ot=it||j.has("WEBGL_draw_buffers"),lt=et.logarithmicDepthBuffer===!0,ut=_e.getParameter(34930),ct=_e.getParameter(35660),ht=_e.getParameter(3379),pt=_e.getParameter(34076),gt=_e.getParameter(34921),vt=_e.getParameter(36347),ft=_e.getParameter(36348),mt=_e.getParameter(36349),xt=ct>0,_t=it||j.has("OES_texture_float"),Tt=xt&&_t,wt=it?_e.getParameter(36183):0;return{isWebGL2:it,drawBuffers:ot,getMaxAnisotropy:nt,getMaxPrecision:rt,precision:st,logarithmicDepthBuffer:lt,maxTextures:ut,maxVertexTextures:ct,maxTextureSize:ht,maxCubemapSize:pt,maxAttributes:gt,maxVertexUniforms:vt,maxVaryings:ft,maxFragmentUniforms:mt,vertexTextures:xt,floatFragmentTextures:_t,floatVertexTextures:Tt,maxSamples:wt}}function WebGLClipping(_e){const j=this;let et=null,tt=0,nt=!1,rt=!1;const it=new Plane,st=new Matrix3,at={value:null,needsUpdate:!1};this.uniform=at,this.numPlanes=0,this.numIntersection=0,this.init=function(ut,ct,ht){const pt=ut.length!==0||ct||tt!==0||nt;return nt=ct,et=lt(ut,ht,0),tt=ut.length,pt},this.beginShadows=function(){rt=!0,lt(null)},this.endShadows=function(){rt=!1,ot()},this.setState=function(ut,ct,ht){const pt=ut.clippingPlanes,gt=ut.clipIntersection,vt=ut.clipShadows,ft=_e.get(ut);if(!nt||pt===null||pt.length===0||rt&&!vt)rt?lt(null):ot();else{const mt=rt?0:tt,xt=mt*4;let _t=ft.clippingState||null;at.value=_t,_t=lt(pt,ct,xt,ht);for(let Tt=0;Tt!==xt;++Tt)_t[Tt]=et[Tt];ft.clippingState=_t,this.numIntersection=gt?this.numPlanes:0,this.numPlanes+=mt}};function ot(){at.value!==et&&(at.value=et,at.needsUpdate=tt>0),j.numPlanes=tt,j.numIntersection=0}function lt(ut,ct,ht,pt){const gt=ut!==null?ut.length:0;let vt=null;if(gt!==0){if(vt=at.value,pt!==!0||vt===null){const ft=ht+gt*4,mt=ct.matrixWorldInverse;st.getNormalMatrix(mt),(vt===null||vt.length<ft)&&(vt=new Float32Array(ft));for(let xt=0,_t=ht;xt!==gt;++xt,_t+=4)it.copy(ut[xt]).applyMatrix4(mt,st),it.normal.toArray(vt,_t),vt[_t+3]=it.constant}at.value=vt,at.needsUpdate=!0}return j.numPlanes=gt,j.numIntersection=0,vt}}function WebGLCubeMaps(_e){let j=new WeakMap;function et(it,st){return st===EquirectangularReflectionMapping?it.mapping=CubeReflectionMapping:st===EquirectangularRefractionMapping&&(it.mapping=CubeRefractionMapping),it}function tt(it){if(it&&it.isTexture&&it.isRenderTargetTexture===!1){const st=it.mapping;if(st===EquirectangularReflectionMapping||st===EquirectangularRefractionMapping)if(j.has(it)){const at=j.get(it).texture;return et(at,it.mapping)}else{const at=it.image;if(at&&at.height>0){const ot=new WebGLCubeRenderTarget(at.height/2);return ot.fromEquirectangularTexture(_e,it),j.set(it,ot),it.addEventListener("dispose",nt),et(ot.texture,it.mapping)}else return null}}return it}function nt(it){const st=it.target;st.removeEventListener("dispose",nt);const at=j.get(st);at!==void 0&&(j.delete(st),at.dispose())}function rt(){j=new WeakMap}return{get:tt,dispose:rt}}class OrthographicCamera extends Camera{constructor(j=-1,et=1,tt=1,nt=-1,rt=.1,it=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=j,this.right=et,this.top=tt,this.bottom=nt,this.near=rt,this.far=it,this.updateProjectionMatrix()}copy(j,et){return super.copy(j,et),this.left=j.left,this.right=j.right,this.top=j.top,this.bottom=j.bottom,this.near=j.near,this.far=j.far,this.zoom=j.zoom,this.view=j.view===null?null:Object.assign({},j.view),this}setViewOffset(j,et,tt,nt,rt,it){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=j,this.view.fullHeight=et,this.view.offsetX=tt,this.view.offsetY=nt,this.view.width=rt,this.view.height=it,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const j=(this.right-this.left)/(2*this.zoom),et=(this.top-this.bottom)/(2*this.zoom),tt=(this.right+this.left)/2,nt=(this.top+this.bottom)/2;let rt=tt-j,it=tt+j,st=nt+et,at=nt-et;if(this.view!==null&&this.view.enabled){const ot=(this.right-this.left)/this.view.fullWidth/this.zoom,lt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;rt+=ot*this.view.offsetX,it=rt+ot*this.view.width,st-=lt*this.view.offsetY,at=st-lt*this.view.height}this.projectionMatrix.makeOrthographic(rt,it,st,at,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(j){const et=super.toJSON(j);return et.object.zoom=this.zoom,et.object.left=this.left,et.object.right=this.right,et.object.top=this.top,et.object.bottom=this.bottom,et.object.near=this.near,et.object.far=this.far,this.view!==null&&(et.object.view=Object.assign({},this.view)),et}}OrthographicCamera.prototype.isOrthographicCamera=!0;const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(j){this._renderer=j,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(j,et=0,tt=.1,nt=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const rt=this._allocateTargets();return rt.depthBuffer=!0,this._sceneToCubeUV(j,tt,nt,rt),et>0&&this._blur(rt,0,0,et),this._applyPMREM(rt),this._cleanup(rt),rt}fromEquirectangular(j,et=null){return this._fromTexture(j,et)}fromCubemap(j,et=null){return this._fromTexture(j,et)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(j){this._lodMax=Math.floor(Math.log2(j)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let j=0;j<this._lodPlanes.length;j++)this._lodPlanes[j].dispose()}_cleanup(j){this._renderer.setRenderTarget(_oldTarget),j.scissorTest=!1,_setViewport(j,0,0,j.width,j.height)}_fromTexture(j,et){j.mapping===CubeReflectionMapping||j.mapping===CubeRefractionMapping?this._setSize(j.image.length===0?16:j.image[0].width||j.image[0].image.width):this._setSize(j.image.width/4),_oldTarget=this._renderer.getRenderTarget();const tt=et||this._allocateTargets();return this._textureToCubeUV(j,tt),this._applyPMREM(tt),this._cleanup(tt),tt}_allocateTargets(){const j=3*Math.max(this._cubeSize,112),et=4*this._cubeSize-32,tt={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,encoding:LinearEncoding,depthBuffer:!1},nt=_createRenderTarget(j,et,tt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==j){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(j,et,tt);const{_lodMax:rt}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(rt)),this._blurMaterial=_getBlurShader(rt,j,et)}return nt}_compileMaterial(j){const et=new Mesh(this._lodPlanes[0],j);this._renderer.compile(et,_flatCamera)}_sceneToCubeUV(j,et,tt,nt){const st=new PerspectiveCamera(90,1,et,tt),at=[1,-1,1,1,1,1],ot=[1,1,1,-1,-1,-1],lt=this._renderer,ut=lt.autoClear,ct=lt.toneMapping;lt.getClearColor(_clearColor),lt.toneMapping=NoToneMapping,lt.autoClear=!1;const ht=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),pt=new Mesh(new BoxGeometry,ht);let gt=!1;const vt=j.background;vt?vt.isColor&&(ht.color.copy(vt),j.background=null,gt=!0):(ht.color.copy(_clearColor),gt=!0);for(let ft=0;ft<6;ft++){const mt=ft%3;mt===0?(st.up.set(0,at[ft],0),st.lookAt(ot[ft],0,0)):mt===1?(st.up.set(0,0,at[ft]),st.lookAt(0,ot[ft],0)):(st.up.set(0,at[ft],0),st.lookAt(0,0,ot[ft]));const xt=this._cubeSize;_setViewport(nt,mt*xt,ft>2?xt:0,xt,xt),lt.setRenderTarget(nt),gt&&lt.render(pt,st),lt.render(j,st)}pt.geometry.dispose(),pt.material.dispose(),lt.toneMapping=ct,lt.autoClear=ut,j.background=vt}_textureToCubeUV(j,et){const tt=this._renderer,nt=j.mapping===CubeReflectionMapping||j.mapping===CubeRefractionMapping;nt?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=j.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const rt=nt?this._cubemapMaterial:this._equirectMaterial,it=new Mesh(this._lodPlanes[0],rt),st=rt.uniforms;st.envMap.value=j;const at=this._cubeSize;_setViewport(et,0,0,3*at,2*at),tt.setRenderTarget(et),tt.render(it,_flatCamera)}_applyPMREM(j){const et=this._renderer,tt=et.autoClear;et.autoClear=!1;for(let nt=1;nt<this._lodPlanes.length;nt++){const rt=Math.sqrt(this._sigmas[nt]*this._sigmas[nt]-this._sigmas[nt-1]*this._sigmas[nt-1]),it=_axisDirections[(nt-1)%_axisDirections.length];this._blur(j,nt-1,nt,rt,it)}et.autoClear=tt}_blur(j,et,tt,nt,rt){const it=this._pingPongRenderTarget;this._halfBlur(j,it,et,tt,nt,"latitudinal",rt),this._halfBlur(it,j,tt,tt,nt,"longitudinal",rt)}_halfBlur(j,et,tt,nt,rt,it,st){const at=this._renderer,ot=this._blurMaterial;it!=="latitudinal"&&it!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const lt=3,ut=new Mesh(this._lodPlanes[nt],ot),ct=ot.uniforms,ht=this._sizeLods[tt]-1,pt=isFinite(rt)?Math.PI/(2*ht):2*Math.PI/(2*MAX_SAMPLES-1),gt=rt/pt,vt=isFinite(rt)?1+Math.floor(lt*gt):MAX_SAMPLES;vt>MAX_SAMPLES&&console.warn(`sigmaRadians, ${rt}, is too large and will clip, as it requested ${vt} samples when the maximum is set to ${MAX_SAMPLES}`);const ft=[];let mt=0;for(let bt=0;bt<MAX_SAMPLES;++bt){const Ct=bt/gt,Lt=Math.exp(-Ct*Ct/2);ft.push(Lt),bt===0?mt+=Lt:bt<vt&&(mt+=2*Lt)}for(let bt=0;bt<ft.length;bt++)ft[bt]=ft[bt]/mt;ct.envMap.value=j.texture,ct.samples.value=vt,ct.weights.value=ft,ct.latitudinal.value=it==="latitudinal",st&&(ct.poleAxis.value=st);const{_lodMax:xt}=this;ct.dTheta.value=pt,ct.mipInt.value=xt-tt;const _t=this._sizeLods[nt],Tt=3*_t*(nt>xt-LOD_MIN?nt-xt+LOD_MIN:0),wt=4*(this._cubeSize-_t);_setViewport(et,Tt,wt,3*_t,2*_t),at.setRenderTarget(et),at.render(ut,_flatCamera)}}function _createPlanes(_e){const j=[],et=[],tt=[];let nt=_e;const rt=_e-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let it=0;it<rt;it++){const st=Math.pow(2,nt);et.push(st);let at=1/st;it>_e-LOD_MIN?at=EXTRA_LOD_SIGMA[it-_e+LOD_MIN-1]:it===0&&(at=0),tt.push(at);const ot=1/(st-1),lt=-ot/2,ut=1+ot/2,ct=[lt,lt,ut,lt,ut,ut,lt,lt,ut,ut,lt,ut],ht=6,pt=6,gt=3,vt=2,ft=1,mt=new Float32Array(gt*pt*ht),xt=new Float32Array(vt*pt*ht),_t=new Float32Array(ft*pt*ht);for(let wt=0;wt<ht;wt++){const bt=wt%3*2/3-1,Ct=wt>2?0:-1,Lt=[bt,Ct,0,bt+2/3,Ct,0,bt+2/3,Ct+1,0,bt,Ct,0,bt+2/3,Ct+1,0,bt,Ct+1,0];mt.set(Lt,gt*pt*wt),xt.set(ct,vt*pt*wt);const $t=[wt,wt,wt,wt,wt,wt];_t.set($t,ft*pt*wt)}const Tt=new BufferGeometry;Tt.setAttribute("position",new BufferAttribute(mt,gt)),Tt.setAttribute("uv",new BufferAttribute(xt,vt)),Tt.setAttribute("faceIndex",new BufferAttribute(_t,ft)),j.push(Tt),nt>LOD_MIN&&nt--}return{lodPlanes:j,sizeLods:et,sigmas:tt}}function _createRenderTarget(_e,j,et){const tt=new WebGLRenderTarget(_e,j,et);return tt.texture.mapping=CubeUVReflectionMapping,tt.texture.name="PMREM.cubeUv",tt.scissorTest=!0,tt}function _setViewport(_e,j,et,tt,nt){_e.viewport.set(j,et,tt,nt),_e.scissor.set(j,et,tt,nt)}function _getBlurShader(_e,j,et){const tt=new Float32Array(MAX_SAMPLES),nt=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/j,CUBEUV_TEXEL_HEIGHT:1/et,CUBEUV_MAX_MIP:`${_e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:tt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:nt}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(_e){let j=new WeakMap,et=null;function tt(st){if(st&&st.isTexture){const at=st.mapping,ot=at===EquirectangularReflectionMapping||at===EquirectangularRefractionMapping,lt=at===CubeReflectionMapping||at===CubeRefractionMapping;if(ot||lt)if(st.isRenderTargetTexture&&st.needsPMREMUpdate===!0){st.needsPMREMUpdate=!1;let ut=j.get(st);return et===null&&(et=new PMREMGenerator(_e)),ut=ot?et.fromEquirectangular(st,ut):et.fromCubemap(st,ut),j.set(st,ut),ut.texture}else{if(j.has(st))return j.get(st).texture;{const ut=st.image;if(ot&&ut&&ut.height>0||lt&&ut&&nt(ut)){et===null&&(et=new PMREMGenerator(_e));const ct=ot?et.fromEquirectangular(st):et.fromCubemap(st);return j.set(st,ct),st.addEventListener("dispose",rt),ct.texture}else return null}}}return st}function nt(st){let at=0;const ot=6;for(let lt=0;lt<ot;lt++)st[lt]!==void 0&&at++;return at===ot}function rt(st){const at=st.target;at.removeEventListener("dispose",rt);const ot=j.get(at);ot!==void 0&&(j.delete(at),ot.dispose())}function it(){j=new WeakMap,et!==null&&(et.dispose(),et=null)}return{get:tt,dispose:it}}function WebGLExtensions(_e){const j={};function et(tt){if(j[tt]!==void 0)return j[tt];let nt;switch(tt){case"WEBGL_depth_texture":nt=_e.getExtension("WEBGL_depth_texture")||_e.getExtension("MOZ_WEBGL_depth_texture")||_e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":nt=_e.getExtension("EXT_texture_filter_anisotropic")||_e.getExtension("MOZ_EXT_texture_filter_anisotropic")||_e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":nt=_e.getExtension("WEBGL_compressed_texture_s3tc")||_e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||_e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":nt=_e.getExtension("WEBGL_compressed_texture_pvrtc")||_e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:nt=_e.getExtension(tt)}return j[tt]=nt,nt}return{has:function(tt){return et(tt)!==null},init:function(tt){tt.isWebGL2?et("EXT_color_buffer_float"):(et("WEBGL_depth_texture"),et("OES_texture_float"),et("OES_texture_half_float"),et("OES_texture_half_float_linear"),et("OES_standard_derivatives"),et("OES_element_index_uint"),et("OES_vertex_array_object"),et("ANGLE_instanced_arrays")),et("OES_texture_float_linear"),et("EXT_color_buffer_half_float"),et("WEBGL_multisampled_render_to_texture")},get:function(tt){const nt=et(tt);return nt===null&&console.warn("THREE.WebGLRenderer: "+tt+" extension not supported."),nt}}}function WebGLGeometries(_e,j,et,tt){const nt={},rt=new WeakMap;function it(ut){const ct=ut.target;ct.index!==null&&j.remove(ct.index);for(const pt in ct.attributes)j.remove(ct.attributes[pt]);ct.removeEventListener("dispose",it),delete nt[ct.id];const ht=rt.get(ct);ht&&(j.remove(ht),rt.delete(ct)),tt.releaseStatesOfGeometry(ct),ct.isInstancedBufferGeometry===!0&&delete ct._maxInstanceCount,et.memory.geometries--}function st(ut,ct){return nt[ct.id]===!0||(ct.addEventListener("dispose",it),nt[ct.id]=!0,et.memory.geometries++),ct}function at(ut){const ct=ut.attributes;for(const pt in ct)j.update(ct[pt],34962);const ht=ut.morphAttributes;for(const pt in ht){const gt=ht[pt];for(let vt=0,ft=gt.length;vt<ft;vt++)j.update(gt[vt],34962)}}function ot(ut){const ct=[],ht=ut.index,pt=ut.attributes.position;let gt=0;if(ht!==null){const mt=ht.array;gt=ht.version;for(let xt=0,_t=mt.length;xt<_t;xt+=3){const Tt=mt[xt+0],wt=mt[xt+1],bt=mt[xt+2];ct.push(Tt,wt,wt,bt,bt,Tt)}}else{const mt=pt.array;gt=pt.version;for(let xt=0,_t=mt.length/3-1;xt<_t;xt+=3){const Tt=xt+0,wt=xt+1,bt=xt+2;ct.push(Tt,wt,wt,bt,bt,Tt)}}const vt=new(arrayNeedsUint32(ct)?Uint32BufferAttribute:Uint16BufferAttribute)(ct,1);vt.version=gt;const ft=rt.get(ut);ft&&j.remove(ft),rt.set(ut,vt)}function lt(ut){const ct=rt.get(ut);if(ct){const ht=ut.index;ht!==null&&ct.version<ht.version&&ot(ut)}else ot(ut);return rt.get(ut)}return{get:st,update:at,getWireframeAttribute:lt}}function WebGLIndexedBufferRenderer(_e,j,et,tt){const nt=tt.isWebGL2;let rt;function it(ct){rt=ct}let st,at;function ot(ct){st=ct.type,at=ct.bytesPerElement}function lt(ct,ht){_e.drawElements(rt,ht,st,ct*at),et.update(ht,rt,1)}function ut(ct,ht,pt){if(pt===0)return;let gt,vt;if(nt)gt=_e,vt="drawElementsInstanced";else if(gt=j.get("ANGLE_instanced_arrays"),vt="drawElementsInstancedANGLE",gt===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}gt[vt](rt,ht,st,ct*at,pt),et.update(ht,rt,pt)}this.setMode=it,this.setIndex=ot,this.render=lt,this.renderInstances=ut}function WebGLInfo(_e){const j={geometries:0,textures:0},et={frame:0,calls:0,triangles:0,points:0,lines:0};function tt(rt,it,st){switch(et.calls++,it){case 4:et.triangles+=st*(rt/3);break;case 1:et.lines+=st*(rt/2);break;case 3:et.lines+=st*(rt-1);break;case 2:et.lines+=st*rt;break;case 0:et.points+=st*rt;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",it);break}}function nt(){et.frame++,et.calls=0,et.triangles=0,et.points=0,et.lines=0}return{memory:j,render:et,programs:null,autoReset:!0,reset:nt,update:tt}}function numericalSort(_e,j){return _e[0]-j[0]}function absNumericalSort(_e,j){return Math.abs(j[1])-Math.abs(_e[1])}function denormalize(_e,j){let et=1;const tt=j.isInterleavedBufferAttribute?j.data.array:j.array;tt instanceof Int8Array?et=127:tt instanceof Int16Array?et=32767:tt instanceof Int32Array?et=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",tt),_e.divideScalar(et)}function WebGLMorphtargets(_e,j,et){const tt={},nt=new Float32Array(8),rt=new WeakMap,it=new Vector4,st=[];for(let ot=0;ot<8;ot++)st[ot]=[ot,0];function at(ot,lt,ut,ct){const ht=ot.morphTargetInfluences;if(j.isWebGL2===!0){const gt=lt.morphAttributes.position||lt.morphAttributes.normal||lt.morphAttributes.color,vt=gt!==void 0?gt.length:0;let ft=rt.get(lt);if(ft===void 0||ft.count!==vt){let It=function(){Ft.dispose(),rt.delete(lt),lt.removeEventListener("dispose",It)};var pt=It;ft!==void 0&&ft.texture.dispose();const _t=lt.morphAttributes.position!==void 0,Tt=lt.morphAttributes.normal!==void 0,wt=lt.morphAttributes.color!==void 0,bt=lt.morphAttributes.position||[],Ct=lt.morphAttributes.normal||[],Lt=lt.morphAttributes.color||[];let $t=0;_t===!0&&($t=1),Tt===!0&&($t=2),wt===!0&&($t=3);let Rt=lt.attributes.position.count*$t,Bt=1;Rt>j.maxTextureSize&&(Bt=Math.ceil(Rt/j.maxTextureSize),Rt=j.maxTextureSize);const Gt=new Float32Array(Rt*Bt*4*vt),Ft=new DataArrayTexture(Gt,Rt,Bt,vt);Ft.format=RGBAFormat,Ft.type=FloatType,Ft.needsUpdate=!0;const kt=$t*4;for(let Ot=0;Ot<vt;Ot++){const Ut=bt[Ot],zt=Ct[Ot],Ht=Lt[Ot],Vt=Rt*Bt*4*Ot;for(let qt=0;qt<Ut.count;qt++){const an=qt*kt;_t===!0&&(it.fromBufferAttribute(Ut,qt),Ut.normalized===!0&&denormalize(it,Ut),Gt[Vt+an+0]=it.x,Gt[Vt+an+1]=it.y,Gt[Vt+an+2]=it.z,Gt[Vt+an+3]=0),Tt===!0&&(it.fromBufferAttribute(zt,qt),zt.normalized===!0&&denormalize(it,zt),Gt[Vt+an+4]=it.x,Gt[Vt+an+5]=it.y,Gt[Vt+an+6]=it.z,Gt[Vt+an+7]=0),wt===!0&&(it.fromBufferAttribute(Ht,qt),Ht.normalized===!0&&denormalize(it,zt),Gt[Vt+an+8]=it.x,Gt[Vt+an+9]=it.y,Gt[Vt+an+10]=it.z,Gt[Vt+an+11]=Ht.itemSize===4?it.w:1)}}ft={count:vt,texture:Ft,size:new Vector2(Rt,Bt)},rt.set(lt,ft),lt.addEventListener("dispose",It)}let mt=0;for(let _t=0;_t<ht.length;_t++)mt+=ht[_t];const xt=lt.morphTargetsRelative?1:1-mt;ct.getUniforms().setValue(_e,"morphTargetBaseInfluence",xt),ct.getUniforms().setValue(_e,"morphTargetInfluences",ht),ct.getUniforms().setValue(_e,"morphTargetsTexture",ft.texture,et),ct.getUniforms().setValue(_e,"morphTargetsTextureSize",ft.size)}else{const gt=ht===void 0?0:ht.length;let vt=tt[lt.id];if(vt===void 0||vt.length!==gt){vt=[];for(let Tt=0;Tt<gt;Tt++)vt[Tt]=[Tt,0];tt[lt.id]=vt}for(let Tt=0;Tt<gt;Tt++){const wt=vt[Tt];wt[0]=Tt,wt[1]=ht[Tt]}vt.sort(absNumericalSort);for(let Tt=0;Tt<8;Tt++)Tt<gt&&vt[Tt][1]?(st[Tt][0]=vt[Tt][0],st[Tt][1]=vt[Tt][1]):(st[Tt][0]=Number.MAX_SAFE_INTEGER,st[Tt][1]=0);st.sort(numericalSort);const ft=lt.morphAttributes.position,mt=lt.morphAttributes.normal;let xt=0;for(let Tt=0;Tt<8;Tt++){const wt=st[Tt],bt=wt[0],Ct=wt[1];bt!==Number.MAX_SAFE_INTEGER&&Ct?(ft&&lt.getAttribute("morphTarget"+Tt)!==ft[bt]&&lt.setAttribute("morphTarget"+Tt,ft[bt]),mt&&lt.getAttribute("morphNormal"+Tt)!==mt[bt]&&lt.setAttribute("morphNormal"+Tt,mt[bt]),nt[Tt]=Ct,xt+=Ct):(ft&&lt.hasAttribute("morphTarget"+Tt)===!0&&lt.deleteAttribute("morphTarget"+Tt),mt&&lt.hasAttribute("morphNormal"+Tt)===!0&&lt.deleteAttribute("morphNormal"+Tt),nt[Tt]=0)}const _t=lt.morphTargetsRelative?1:1-xt;ct.getUniforms().setValue(_e,"morphTargetBaseInfluence",_t),ct.getUniforms().setValue(_e,"morphTargetInfluences",nt)}}return{update:at}}function WebGLObjects(_e,j,et,tt){let nt=new WeakMap;function rt(at){const ot=tt.render.frame,lt=at.geometry,ut=j.get(at,lt);return nt.get(ut)!==ot&&(j.update(ut),nt.set(ut,ot)),at.isInstancedMesh&&(at.hasEventListener("dispose",st)===!1&&at.addEventListener("dispose",st),et.update(at.instanceMatrix,34962),at.instanceColor!==null&&et.update(at.instanceColor,34962)),ut}function it(){nt=new WeakMap}function st(at){const ot=at.target;ot.removeEventListener("dispose",st),et.remove(ot.instanceMatrix),ot.instanceColor!==null&&et.remove(ot.instanceColor)}return{update:rt,dispose:it}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(_e,j,et){const tt=_e[0];if(tt<=0||tt>0)return _e;const nt=j*et;let rt=arrayCacheF32[nt];if(rt===void 0&&(rt=new Float32Array(nt),arrayCacheF32[nt]=rt),j!==0){tt.toArray(rt,0);for(let it=1,st=0;it!==j;++it)st+=et,_e[it].toArray(rt,st)}return rt}function arraysEqual(_e,j){if(_e.length!==j.length)return!1;for(let et=0,tt=_e.length;et<tt;et++)if(_e[et]!==j[et])return!1;return!0}function copyArray(_e,j){for(let et=0,tt=j.length;et<tt;et++)_e[et]=j[et]}function allocTexUnits(_e,j){let et=arrayCacheI32[j];et===void 0&&(et=new Int32Array(j),arrayCacheI32[j]=et);for(let tt=0;tt!==j;++tt)et[tt]=_e.allocateTextureUnit();return et}function setValueV1f(_e,j){const et=this.cache;et[0]!==j&&(_e.uniform1f(this.addr,j),et[0]=j)}function setValueV2f(_e,j){const et=this.cache;if(j.x!==void 0)(et[0]!==j.x||et[1]!==j.y)&&(_e.uniform2f(this.addr,j.x,j.y),et[0]=j.x,et[1]=j.y);else{if(arraysEqual(et,j))return;_e.uniform2fv(this.addr,j),copyArray(et,j)}}function setValueV3f(_e,j){const et=this.cache;if(j.x!==void 0)(et[0]!==j.x||et[1]!==j.y||et[2]!==j.z)&&(_e.uniform3f(this.addr,j.x,j.y,j.z),et[0]=j.x,et[1]=j.y,et[2]=j.z);else if(j.r!==void 0)(et[0]!==j.r||et[1]!==j.g||et[2]!==j.b)&&(_e.uniform3f(this.addr,j.r,j.g,j.b),et[0]=j.r,et[1]=j.g,et[2]=j.b);else{if(arraysEqual(et,j))return;_e.uniform3fv(this.addr,j),copyArray(et,j)}}function setValueV4f(_e,j){const et=this.cache;if(j.x!==void 0)(et[0]!==j.x||et[1]!==j.y||et[2]!==j.z||et[3]!==j.w)&&(_e.uniform4f(this.addr,j.x,j.y,j.z,j.w),et[0]=j.x,et[1]=j.y,et[2]=j.z,et[3]=j.w);else{if(arraysEqual(et,j))return;_e.uniform4fv(this.addr,j),copyArray(et,j)}}function setValueM2(_e,j){const et=this.cache,tt=j.elements;if(tt===void 0){if(arraysEqual(et,j))return;_e.uniformMatrix2fv(this.addr,!1,j),copyArray(et,j)}else{if(arraysEqual(et,tt))return;mat2array.set(tt),_e.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(et,tt)}}function setValueM3(_e,j){const et=this.cache,tt=j.elements;if(tt===void 0){if(arraysEqual(et,j))return;_e.uniformMatrix3fv(this.addr,!1,j),copyArray(et,j)}else{if(arraysEqual(et,tt))return;mat3array.set(tt),_e.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(et,tt)}}function setValueM4(_e,j){const et=this.cache,tt=j.elements;if(tt===void 0){if(arraysEqual(et,j))return;_e.uniformMatrix4fv(this.addr,!1,j),copyArray(et,j)}else{if(arraysEqual(et,tt))return;mat4array.set(tt),_e.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(et,tt)}}function setValueV1i(_e,j){const et=this.cache;et[0]!==j&&(_e.uniform1i(this.addr,j),et[0]=j)}function setValueV2i(_e,j){const et=this.cache;arraysEqual(et,j)||(_e.uniform2iv(this.addr,j),copyArray(et,j))}function setValueV3i(_e,j){const et=this.cache;arraysEqual(et,j)||(_e.uniform3iv(this.addr,j),copyArray(et,j))}function setValueV4i(_e,j){const et=this.cache;arraysEqual(et,j)||(_e.uniform4iv(this.addr,j),copyArray(et,j))}function setValueV1ui(_e,j){const et=this.cache;et[0]!==j&&(_e.uniform1ui(this.addr,j),et[0]=j)}function setValueV2ui(_e,j){const et=this.cache;arraysEqual(et,j)||(_e.uniform2uiv(this.addr,j),copyArray(et,j))}function setValueV3ui(_e,j){const et=this.cache;arraysEqual(et,j)||(_e.uniform3uiv(this.addr,j),copyArray(et,j))}function setValueV4ui(_e,j){const et=this.cache;arraysEqual(et,j)||(_e.uniform4uiv(this.addr,j),copyArray(et,j))}function setValueT1(_e,j,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(_e.uniform1i(this.addr,nt),tt[0]=nt),et.setTexture2D(j||emptyTexture,nt)}function setValueT3D1(_e,j,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(_e.uniform1i(this.addr,nt),tt[0]=nt),et.setTexture3D(j||empty3dTexture,nt)}function setValueT6(_e,j,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(_e.uniform1i(this.addr,nt),tt[0]=nt),et.setTextureCube(j||emptyCubeTexture,nt)}function setValueT2DArray1(_e,j,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(_e.uniform1i(this.addr,nt),tt[0]=nt),et.setTexture2DArray(j||emptyArrayTexture,nt)}function getSingularSetter(_e){switch(_e){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(_e,j){_e.uniform1fv(this.addr,j)}function setValueV2fArray(_e,j){const et=flatten(j,this.size,2);_e.uniform2fv(this.addr,et)}function setValueV3fArray(_e,j){const et=flatten(j,this.size,3);_e.uniform3fv(this.addr,et)}function setValueV4fArray(_e,j){const et=flatten(j,this.size,4);_e.uniform4fv(this.addr,et)}function setValueM2Array(_e,j){const et=flatten(j,this.size,4);_e.uniformMatrix2fv(this.addr,!1,et)}function setValueM3Array(_e,j){const et=flatten(j,this.size,9);_e.uniformMatrix3fv(this.addr,!1,et)}function setValueM4Array(_e,j){const et=flatten(j,this.size,16);_e.uniformMatrix4fv(this.addr,!1,et)}function setValueV1iArray(_e,j){_e.uniform1iv(this.addr,j)}function setValueV2iArray(_e,j){_e.uniform2iv(this.addr,j)}function setValueV3iArray(_e,j){_e.uniform3iv(this.addr,j)}function setValueV4iArray(_e,j){_e.uniform4iv(this.addr,j)}function setValueV1uiArray(_e,j){_e.uniform1uiv(this.addr,j)}function setValueV2uiArray(_e,j){_e.uniform2uiv(this.addr,j)}function setValueV3uiArray(_e,j){_e.uniform3uiv(this.addr,j)}function setValueV4uiArray(_e,j){_e.uniform4uiv(this.addr,j)}function setValueT1Array(_e,j,et){const tt=j.length,nt=allocTexUnits(et,tt);_e.uniform1iv(this.addr,nt);for(let rt=0;rt!==tt;++rt)et.setTexture2D(j[rt]||emptyTexture,nt[rt])}function setValueT3DArray(_e,j,et){const tt=j.length,nt=allocTexUnits(et,tt);_e.uniform1iv(this.addr,nt);for(let rt=0;rt!==tt;++rt)et.setTexture3D(j[rt]||empty3dTexture,nt[rt])}function setValueT6Array(_e,j,et){const tt=j.length,nt=allocTexUnits(et,tt);_e.uniform1iv(this.addr,nt);for(let rt=0;rt!==tt;++rt)et.setTextureCube(j[rt]||emptyCubeTexture,nt[rt])}function setValueT2DArrayArray(_e,j,et){const tt=j.length,nt=allocTexUnits(et,tt);_e.uniform1iv(this.addr,nt);for(let rt=0;rt!==tt;++rt)et.setTexture2DArray(j[rt]||emptyArrayTexture,nt[rt])}function getPureArraySetter(_e){switch(_e){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}function SingleUniform(_e,j,et){this.id=_e,this.addr=et,this.cache=[],this.setValue=getSingularSetter(j.type)}function PureArrayUniform(_e,j,et){this.id=_e,this.addr=et,this.cache=[],this.size=j.size,this.setValue=getPureArraySetter(j.type)}PureArrayUniform.prototype.updateCache=function(_e){const j=this.cache;_e instanceof Float32Array&&j.length!==_e.length&&(this.cache=new Float32Array(_e.length)),copyArray(j,_e)};function StructuredUniform(_e){this.id=_e,this.seq=[],this.map={}}StructuredUniform.prototype.setValue=function(_e,j,et){const tt=this.seq;for(let nt=0,rt=tt.length;nt!==rt;++nt){const it=tt[nt];it.setValue(_e,j[it.id],et)}};const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(_e,j){_e.seq.push(j),_e.map[j.id]=j}function parseUniform(_e,j,et){const tt=_e.name,nt=tt.length;for(RePathPart.lastIndex=0;;){const rt=RePathPart.exec(tt),it=RePathPart.lastIndex;let st=rt[1];const at=rt[2]==="]",ot=rt[3];if(at&&(st=st|0),ot===void 0||ot==="["&&it+2===nt){addUniform(et,ot===void 0?new SingleUniform(st,_e,j):new PureArrayUniform(st,_e,j));break}else{let ut=et.map[st];ut===void 0&&(ut=new StructuredUniform(st),addUniform(et,ut)),et=ut}}}function WebGLUniforms(_e,j){this.seq=[],this.map={};const et=_e.getProgramParameter(j,35718);for(let tt=0;tt<et;++tt){const nt=_e.getActiveUniform(j,tt),rt=_e.getUniformLocation(j,nt.name);parseUniform(nt,rt,this)}}WebGLUniforms.prototype.setValue=function(_e,j,et,tt){const nt=this.map[j];nt!==void 0&&nt.setValue(_e,et,tt)};WebGLUniforms.prototype.setOptional=function(_e,j,et){const tt=j[et];tt!==void 0&&this.setValue(_e,et,tt)};WebGLUniforms.upload=function(_e,j,et,tt){for(let nt=0,rt=j.length;nt!==rt;++nt){const it=j[nt],st=et[it.id];st.needsUpdate!==!1&&it.setValue(_e,st.value,tt)}};WebGLUniforms.seqWithValue=function(_e,j){const et=[];for(let tt=0,nt=_e.length;tt!==nt;++tt){const rt=_e[tt];rt.id in j&&et.push(rt)}return et};function WebGLShader(_e,j,et){const tt=_e.createShader(j);return _e.shaderSource(tt,et),_e.compileShader(tt),tt}let programIdCount=0;function addLineNumbers(_e){const j=_e.split(`
`);for(let et=0;et<j.length;et++)j[et]=et+1+": "+j[et];return j.join(`
`)}function getEncodingComponents(_e){switch(_e){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",_e),["Linear","( value )"]}}function getShaderErrors(_e,j,et){const tt=_e.getShaderParameter(j,35713),nt=_e.getShaderInfoLog(j).trim();return tt&&nt===""?"":et.toUpperCase()+`

`+nt+`

`+addLineNumbers(_e.getShaderSource(j))}function getTexelEncodingFunction(_e,j){const et=getEncodingComponents(j);return"vec4 "+_e+"( vec4 value ) { return LinearTo"+et[0]+et[1]+"; }"}function getToneMappingFunction(_e,j){let et;switch(j){case LinearToneMapping:et="Linear";break;case ReinhardToneMapping:et="Reinhard";break;case CineonToneMapping:et="OptimizedCineon";break;case ACESFilmicToneMapping:et="ACESFilmic";break;case CustomToneMapping:et="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",j),et="Linear"}return"vec3 "+_e+"( vec3 color ) { return "+et+"ToneMapping( color ); }"}function generateExtensions(_e){return[_e.extensionDerivatives||!!_e.envMapCubeUVHeight||_e.bumpMap||_e.tangentSpaceNormalMap||_e.clearcoatNormalMap||_e.flatShading||_e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(_e.extensionFragDepth||_e.logarithmicDepthBuffer)&&_e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",_e.extensionDrawBuffers&&_e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(_e.extensionShaderTextureLOD||_e.envMap||_e.transmission)&&_e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(_e){const j=[];for(const et in _e){const tt=_e[et];tt!==!1&&j.push("#define "+et+" "+tt)}return j.join(`
`)}function fetchAttributeLocations(_e,j){const et={},tt=_e.getProgramParameter(j,35721);for(let nt=0;nt<tt;nt++){const rt=_e.getActiveAttrib(j,nt),it=rt.name;let st=1;rt.type===35674&&(st=2),rt.type===35675&&(st=3),rt.type===35676&&(st=4),et[it]={type:rt.type,location:_e.getAttribLocation(j,it),locationSize:st}}return et}function filterEmptyLine(_e){return _e!==""}function replaceLightNums(_e,j){return _e.replace(/NUM_DIR_LIGHTS/g,j.numDirLights).replace(/NUM_SPOT_LIGHTS/g,j.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,j.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,j.numPointLights).replace(/NUM_HEMI_LIGHTS/g,j.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,j.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,j.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,j.numPointLightShadows)}function replaceClippingPlaneNums(_e,j){return _e.replace(/NUM_CLIPPING_PLANES/g,j.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,j.numClippingPlanes-j.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(_e){return _e.replace(includePattern,includeReplacer)}function includeReplacer(_e,j){const et=ShaderChunk[j];if(et===void 0)throw new Error("Can not resolve #include <"+j+">");return resolveIncludes(et)}const deprecatedUnrollLoopPattern=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(_e){return _e.replace(unrollLoopPattern,loopReplacer).replace(deprecatedUnrollLoopPattern,deprecatedLoopReplacer)}function deprecatedLoopReplacer(_e,j,et,tt){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),loopReplacer(_e,j,et,tt)}function loopReplacer(_e,j,et,tt){let nt="";for(let rt=parseInt(j);rt<parseInt(et);rt++)nt+=tt.replace(/\[\s*i\s*\]/g,"[ "+rt+" ]").replace(/UNROLLED_LOOP_INDEX/g,rt);return nt}function generatePrecision(_e){let j="precision "+_e.precision+` float;
precision `+_e.precision+" int;";return _e.precision==="highp"?j+=`
#define HIGH_PRECISION`:_e.precision==="mediump"?j+=`
#define MEDIUM_PRECISION`:_e.precision==="lowp"&&(j+=`
#define LOW_PRECISION`),j}function generateShadowMapTypeDefine(_e){let j="SHADOWMAP_TYPE_BASIC";return _e.shadowMapType===PCFShadowMap?j="SHADOWMAP_TYPE_PCF":_e.shadowMapType===PCFSoftShadowMap?j="SHADOWMAP_TYPE_PCF_SOFT":_e.shadowMapType===VSMShadowMap&&(j="SHADOWMAP_TYPE_VSM"),j}function generateEnvMapTypeDefine(_e){let j="ENVMAP_TYPE_CUBE";if(_e.envMap)switch(_e.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:j="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:case CubeUVRefractionMapping:j="ENVMAP_TYPE_CUBE_UV";break}return j}function generateEnvMapModeDefine(_e){let j="ENVMAP_MODE_REFLECTION";if(_e.envMap)switch(_e.envMapMode){case CubeRefractionMapping:case CubeUVRefractionMapping:j="ENVMAP_MODE_REFRACTION";break}return j}function generateEnvMapBlendingDefine(_e){let j="ENVMAP_BLENDING_NONE";if(_e.envMap)switch(_e.combine){case MultiplyOperation:j="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:j="ENVMAP_BLENDING_MIX";break;case AddOperation:j="ENVMAP_BLENDING_ADD";break}return j}function generateCubeUVSize(_e){const j=_e.envMapCubeUVHeight;if(j===null)return null;const et=Math.log2(j/32+1)+3,tt=1/j;return{texelWidth:1/(3*Math.max(Math.pow(2,et),7*16)),texelHeight:tt,maxMip:et}}function WebGLProgram(_e,j,et,tt){const nt=_e.getContext(),rt=et.defines;let it=et.vertexShader,st=et.fragmentShader;const at=generateShadowMapTypeDefine(et),ot=generateEnvMapTypeDefine(et),lt=generateEnvMapModeDefine(et),ut=generateEnvMapBlendingDefine(et),ct=generateCubeUVSize(et),ht=et.isWebGL2?"":generateExtensions(et),pt=generateDefines(rt),gt=nt.createProgram();let vt,ft,mt=et.glslVersion?"#version "+et.glslVersion+`
`:"";et.isRawShaderMaterial?(vt=[pt].filter(filterEmptyLine).join(`
`),vt.length>0&&(vt+=`
`),ft=[ht,pt].filter(filterEmptyLine).join(`
`),ft.length>0&&(ft+=`
`)):(vt=[generatePrecision(et),"#define SHADER_NAME "+et.shaderName,pt,et.instancing?"#define USE_INSTANCING":"",et.instancingColor?"#define USE_INSTANCING_COLOR":"",et.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+et.maxBones,et.useFog&&et.fog?"#define USE_FOG":"",et.useFog&&et.fogExp2?"#define FOG_EXP2":"",et.map?"#define USE_MAP":"",et.envMap?"#define USE_ENVMAP":"",et.envMap?"#define "+lt:"",et.lightMap?"#define USE_LIGHTMAP":"",et.aoMap?"#define USE_AOMAP":"",et.emissiveMap?"#define USE_EMISSIVEMAP":"",et.bumpMap?"#define USE_BUMPMAP":"",et.normalMap?"#define USE_NORMALMAP":"",et.normalMap&&et.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",et.normalMap&&et.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",et.clearcoatMap?"#define USE_CLEARCOATMAP":"",et.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",et.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",et.displacementMap&&et.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",et.specularMap?"#define USE_SPECULARMAP":"",et.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",et.specularColorMap?"#define USE_SPECULARCOLORMAP":"",et.roughnessMap?"#define USE_ROUGHNESSMAP":"",et.metalnessMap?"#define USE_METALNESSMAP":"",et.alphaMap?"#define USE_ALPHAMAP":"",et.transmission?"#define USE_TRANSMISSION":"",et.transmissionMap?"#define USE_TRANSMISSIONMAP":"",et.thicknessMap?"#define USE_THICKNESSMAP":"",et.sheenColorMap?"#define USE_SHEENCOLORMAP":"",et.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",et.vertexTangents?"#define USE_TANGENT":"",et.vertexColors?"#define USE_COLOR":"",et.vertexAlphas?"#define USE_COLOR_ALPHA":"",et.vertexUvs?"#define USE_UV":"",et.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",et.flatShading?"#define FLAT_SHADED":"",et.skinning?"#define USE_SKINNING":"",et.useVertexTexture?"#define BONE_TEXTURE":"",et.morphTargets?"#define USE_MORPHTARGETS":"",et.morphNormals&&et.flatShading===!1?"#define USE_MORPHNORMALS":"",et.morphColors&&et.isWebGL2?"#define USE_MORPHCOLORS":"",et.morphTargetsCount>0&&et.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",et.morphTargetsCount>0&&et.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+et.morphTextureStride:"",et.morphTargetsCount>0&&et.isWebGL2?"#define MORPHTARGETS_COUNT "+et.morphTargetsCount:"",et.doubleSided?"#define DOUBLE_SIDED":"",et.flipSided?"#define FLIP_SIDED":"",et.shadowMapEnabled?"#define USE_SHADOWMAP":"",et.shadowMapEnabled?"#define "+at:"",et.sizeAttenuation?"#define USE_SIZEATTENUATION":"",et.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",et.logarithmicDepthBuffer&&et.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),ft=[ht,generatePrecision(et),"#define SHADER_NAME "+et.shaderName,pt,et.useFog&&et.fog?"#define USE_FOG":"",et.useFog&&et.fogExp2?"#define FOG_EXP2":"",et.map?"#define USE_MAP":"",et.matcap?"#define USE_MATCAP":"",et.envMap?"#define USE_ENVMAP":"",et.envMap?"#define "+ot:"",et.envMap?"#define "+lt:"",et.envMap?"#define "+ut:"",ct?"#define CUBEUV_TEXEL_WIDTH "+ct.texelWidth:"",ct?"#define CUBEUV_TEXEL_HEIGHT "+ct.texelHeight:"",ct?"#define CUBEUV_MAX_MIP "+ct.maxMip+".0":"",et.lightMap?"#define USE_LIGHTMAP":"",et.aoMap?"#define USE_AOMAP":"",et.emissiveMap?"#define USE_EMISSIVEMAP":"",et.bumpMap?"#define USE_BUMPMAP":"",et.normalMap?"#define USE_NORMALMAP":"",et.normalMap&&et.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",et.normalMap&&et.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",et.clearcoat?"#define USE_CLEARCOAT":"",et.clearcoatMap?"#define USE_CLEARCOATMAP":"",et.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",et.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",et.specularMap?"#define USE_SPECULARMAP":"",et.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",et.specularColorMap?"#define USE_SPECULARCOLORMAP":"",et.roughnessMap?"#define USE_ROUGHNESSMAP":"",et.metalnessMap?"#define USE_METALNESSMAP":"",et.alphaMap?"#define USE_ALPHAMAP":"",et.alphaTest?"#define USE_ALPHATEST":"",et.sheen?"#define USE_SHEEN":"",et.sheenColorMap?"#define USE_SHEENCOLORMAP":"",et.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",et.transmission?"#define USE_TRANSMISSION":"",et.transmissionMap?"#define USE_TRANSMISSIONMAP":"",et.thicknessMap?"#define USE_THICKNESSMAP":"",et.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",et.vertexTangents?"#define USE_TANGENT":"",et.vertexColors||et.instancingColor?"#define USE_COLOR":"",et.vertexAlphas?"#define USE_COLOR_ALPHA":"",et.vertexUvs?"#define USE_UV":"",et.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",et.gradientMap?"#define USE_GRADIENTMAP":"",et.flatShading?"#define FLAT_SHADED":"",et.doubleSided?"#define DOUBLE_SIDED":"",et.flipSided?"#define FLIP_SIDED":"",et.shadowMapEnabled?"#define USE_SHADOWMAP":"",et.shadowMapEnabled?"#define "+at:"",et.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",et.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",et.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",et.logarithmicDepthBuffer&&et.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",et.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",et.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",et.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",et.toneMapping):"",et.dithering?"#define DITHERING":"",et.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",et.outputEncoding),et.depthPacking?"#define DEPTH_PACKING "+et.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),it=resolveIncludes(it),it=replaceLightNums(it,et),it=replaceClippingPlaneNums(it,et),st=resolveIncludes(st),st=replaceLightNums(st,et),st=replaceClippingPlaneNums(st,et),it=unrollLoops(it),st=unrollLoops(st),et.isWebGL2&&et.isRawShaderMaterial!==!0&&(mt=`#version 300 es
`,vt=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+vt,ft=["#define varying in",et.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",et.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+ft);const xt=mt+vt+it,_t=mt+ft+st,Tt=WebGLShader(nt,35633,xt),wt=WebGLShader(nt,35632,_t);if(nt.attachShader(gt,Tt),nt.attachShader(gt,wt),et.index0AttributeName!==void 0?nt.bindAttribLocation(gt,0,et.index0AttributeName):et.morphTargets===!0&&nt.bindAttribLocation(gt,0,"position"),nt.linkProgram(gt),_e.debug.checkShaderErrors){const Lt=nt.getProgramInfoLog(gt).trim(),$t=nt.getShaderInfoLog(Tt).trim(),Rt=nt.getShaderInfoLog(wt).trim();let Bt=!0,Gt=!0;if(nt.getProgramParameter(gt,35714)===!1){Bt=!1;const Ft=getShaderErrors(nt,Tt,"vertex"),kt=getShaderErrors(nt,wt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+nt.getError()+" - VALIDATE_STATUS "+nt.getProgramParameter(gt,35715)+`

Program Info Log: `+Lt+`
`+Ft+`
`+kt)}else Lt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Lt):($t===""||Rt==="")&&(Gt=!1);Gt&&(this.diagnostics={runnable:Bt,programLog:Lt,vertexShader:{log:$t,prefix:vt},fragmentShader:{log:Rt,prefix:ft}})}nt.deleteShader(Tt),nt.deleteShader(wt);let bt;this.getUniforms=function(){return bt===void 0&&(bt=new WebGLUniforms(nt,gt)),bt};let Ct;return this.getAttributes=function(){return Ct===void 0&&(Ct=fetchAttributeLocations(nt,gt)),Ct},this.destroy=function(){tt.releaseStatesOfProgram(this),nt.deleteProgram(gt),this.program=void 0},this.name=et.shaderName,this.id=programIdCount++,this.cacheKey=j,this.usedTimes=1,this.program=gt,this.vertexShader=Tt,this.fragmentShader=wt,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(j){const et=j.vertexShader,tt=j.fragmentShader,nt=this._getShaderStage(et),rt=this._getShaderStage(tt),it=this._getShaderCacheForMaterial(j);return it.has(nt)===!1&&(it.add(nt),nt.usedTimes++),it.has(rt)===!1&&(it.add(rt),rt.usedTimes++),this}remove(j){const et=this.materialCache.get(j);for(const tt of et)tt.usedTimes--,tt.usedTimes===0&&this.shaderCache.delete(tt);return this.materialCache.delete(j),this}getVertexShaderID(j){return this._getShaderStage(j.vertexShader).id}getFragmentShaderID(j){return this._getShaderStage(j.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(j){const et=this.materialCache;return et.has(j)===!1&&et.set(j,new Set),et.get(j)}_getShaderStage(j){const et=this.shaderCache;if(et.has(j)===!1){const tt=new WebGLShaderStage;et.set(j,tt)}return et.get(j)}}class WebGLShaderStage{constructor(){this.id=_id++,this.usedTimes=0}}function WebGLPrograms(_e,j,et,tt,nt,rt,it){const st=new Layers,at=new WebGLShaderCache,ot=[],lt=nt.isWebGL2,ut=nt.logarithmicDepthBuffer,ct=nt.floatVertexTextures,ht=nt.maxVertexUniforms,pt=nt.vertexTextures;let gt=nt.precision;const vt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function ft(Rt){const Gt=Rt.skeleton.bones;if(ct)return 1024;{const kt=Math.floor((ht-20)/4),It=Math.min(kt,Gt.length);return It<Gt.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+Gt.length+" bones. This GPU supports "+It+"."),0):It}}function mt(Rt,Bt,Gt,Ft,kt){const It=Ft.fog,Ot=kt.geometry,Ut=Rt.isMeshStandardMaterial?Ft.environment:null,zt=(Rt.isMeshStandardMaterial?et:j).get(Rt.envMap||Ut),Ht=!!zt&&(zt.mapping===CubeUVReflectionMapping||zt.mapping===CubeUVRefractionMapping)?zt.image.height:null,Vt=vt[Rt.type],qt=kt.isSkinnedMesh?ft(kt):0;Rt.precision!==null&&(gt=nt.getMaxPrecision(Rt.precision),gt!==Rt.precision&&console.warn("THREE.WebGLProgram.getParameters:",Rt.precision,"not supported, using",gt,"instead."));const an=Ot.morphAttributes.position||Ot.morphAttributes.normal||Ot.morphAttributes.color,gn=an!==void 0?an.length:0;let yn=0;Ot.morphAttributes.position!==void 0&&(yn=1),Ot.morphAttributes.normal!==void 0&&(yn=2),Ot.morphAttributes.color!==void 0&&(yn=3);let fn,In,Dn,Mn;if(Vt){const An=ShaderLib[Vt];fn=An.vertexShader,In=An.fragmentShader}else fn=Rt.vertexShader,In=Rt.fragmentShader,at.update(Rt),Dn=at.getVertexShaderID(Rt),Mn=at.getFragmentShaderID(Rt);const Fn=_e.getRenderTarget(),Vn=Rt.alphaTest>0,mn=Rt.clearcoat>0;return{isWebGL2:lt,shaderID:Vt,shaderName:Rt.type,vertexShader:fn,fragmentShader:In,defines:Rt.defines,customVertexShaderID:Dn,customFragmentShaderID:Mn,isRawShaderMaterial:Rt.isRawShaderMaterial===!0,glslVersion:Rt.glslVersion,precision:gt,instancing:kt.isInstancedMesh===!0,instancingColor:kt.isInstancedMesh===!0&&kt.instanceColor!==null,supportsVertexTextures:pt,outputEncoding:Fn===null?_e.outputEncoding:Fn.isXRRenderTarget===!0?Fn.texture.encoding:LinearEncoding,map:!!Rt.map,matcap:!!Rt.matcap,envMap:!!zt,envMapMode:zt&&zt.mapping,envMapCubeUVHeight:Ht,lightMap:!!Rt.lightMap,aoMap:!!Rt.aoMap,emissiveMap:!!Rt.emissiveMap,bumpMap:!!Rt.bumpMap,normalMap:!!Rt.normalMap,objectSpaceNormalMap:Rt.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:Rt.normalMapType===TangentSpaceNormalMap,decodeVideoTexture:!!Rt.map&&Rt.map.isVideoTexture===!0&&Rt.map.encoding===sRGBEncoding,clearcoat:mn,clearcoatMap:mn&&!!Rt.clearcoatMap,clearcoatRoughnessMap:mn&&!!Rt.clearcoatRoughnessMap,clearcoatNormalMap:mn&&!!Rt.clearcoatNormalMap,displacementMap:!!Rt.displacementMap,roughnessMap:!!Rt.roughnessMap,metalnessMap:!!Rt.metalnessMap,specularMap:!!Rt.specularMap,specularIntensityMap:!!Rt.specularIntensityMap,specularColorMap:!!Rt.specularColorMap,opaque:Rt.transparent===!1&&Rt.blending===NormalBlending,alphaMap:!!Rt.alphaMap,alphaTest:Vn,gradientMap:!!Rt.gradientMap,sheen:Rt.sheen>0,sheenColorMap:!!Rt.sheenColorMap,sheenRoughnessMap:!!Rt.sheenRoughnessMap,transmission:Rt.transmission>0,transmissionMap:!!Rt.transmissionMap,thicknessMap:!!Rt.thicknessMap,combine:Rt.combine,vertexTangents:!!Rt.normalMap&&!!Ot.attributes.tangent,vertexColors:Rt.vertexColors,vertexAlphas:Rt.vertexColors===!0&&!!Ot.attributes.color&&Ot.attributes.color.itemSize===4,vertexUvs:!!Rt.map||!!Rt.bumpMap||!!Rt.normalMap||!!Rt.specularMap||!!Rt.alphaMap||!!Rt.emissiveMap||!!Rt.roughnessMap||!!Rt.metalnessMap||!!Rt.clearcoatMap||!!Rt.clearcoatRoughnessMap||!!Rt.clearcoatNormalMap||!!Rt.displacementMap||!!Rt.transmissionMap||!!Rt.thicknessMap||!!Rt.specularIntensityMap||!!Rt.specularColorMap||!!Rt.sheenColorMap||!!Rt.sheenRoughnessMap,uvsVertexOnly:!(!!Rt.map||!!Rt.bumpMap||!!Rt.normalMap||!!Rt.specularMap||!!Rt.alphaMap||!!Rt.emissiveMap||!!Rt.roughnessMap||!!Rt.metalnessMap||!!Rt.clearcoatNormalMap||Rt.transmission>0||!!Rt.transmissionMap||!!Rt.thicknessMap||!!Rt.specularIntensityMap||!!Rt.specularColorMap||Rt.sheen>0||!!Rt.sheenColorMap||!!Rt.sheenRoughnessMap)&&!!Rt.displacementMap,fog:!!It,useFog:Rt.fog,fogExp2:It&&It.isFogExp2,flatShading:!!Rt.flatShading,sizeAttenuation:Rt.sizeAttenuation,logarithmicDepthBuffer:ut,skinning:kt.isSkinnedMesh===!0&&qt>0,maxBones:qt,useVertexTexture:ct,morphTargets:Ot.morphAttributes.position!==void 0,morphNormals:Ot.morphAttributes.normal!==void 0,morphColors:Ot.morphAttributes.color!==void 0,morphTargetsCount:gn,morphTextureStride:yn,numDirLights:Bt.directional.length,numPointLights:Bt.point.length,numSpotLights:Bt.spot.length,numRectAreaLights:Bt.rectArea.length,numHemiLights:Bt.hemi.length,numDirLightShadows:Bt.directionalShadowMap.length,numPointLightShadows:Bt.pointShadowMap.length,numSpotLightShadows:Bt.spotShadowMap.length,numClippingPlanes:it.numPlanes,numClipIntersection:it.numIntersection,dithering:Rt.dithering,shadowMapEnabled:_e.shadowMap.enabled&&Gt.length>0,shadowMapType:_e.shadowMap.type,toneMapping:Rt.toneMapped?_e.toneMapping:NoToneMapping,physicallyCorrectLights:_e.physicallyCorrectLights,premultipliedAlpha:Rt.premultipliedAlpha,doubleSided:Rt.side===DoubleSide,flipSided:Rt.side===BackSide,depthPacking:Rt.depthPacking!==void 0?Rt.depthPacking:!1,index0AttributeName:Rt.index0AttributeName,extensionDerivatives:Rt.extensions&&Rt.extensions.derivatives,extensionFragDepth:Rt.extensions&&Rt.extensions.fragDepth,extensionDrawBuffers:Rt.extensions&&Rt.extensions.drawBuffers,extensionShaderTextureLOD:Rt.extensions&&Rt.extensions.shaderTextureLOD,rendererExtensionFragDepth:lt||tt.has("EXT_frag_depth"),rendererExtensionDrawBuffers:lt||tt.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:lt||tt.has("EXT_shader_texture_lod"),customProgramCacheKey:Rt.customProgramCacheKey()}}function xt(Rt){const Bt=[];if(Rt.shaderID?Bt.push(Rt.shaderID):(Bt.push(Rt.customVertexShaderID),Bt.push(Rt.customFragmentShaderID)),Rt.defines!==void 0)for(const Gt in Rt.defines)Bt.push(Gt),Bt.push(Rt.defines[Gt]);return Rt.isRawShaderMaterial===!1&&(_t(Bt,Rt),Tt(Bt,Rt),Bt.push(_e.outputEncoding)),Bt.push(Rt.customProgramCacheKey),Bt.join()}function _t(Rt,Bt){Rt.push(Bt.precision),Rt.push(Bt.outputEncoding),Rt.push(Bt.envMapMode),Rt.push(Bt.envMapCubeUVHeight),Rt.push(Bt.combine),Rt.push(Bt.vertexUvs),Rt.push(Bt.fogExp2),Rt.push(Bt.sizeAttenuation),Rt.push(Bt.maxBones),Rt.push(Bt.morphTargetsCount),Rt.push(Bt.morphAttributeCount),Rt.push(Bt.numDirLights),Rt.push(Bt.numPointLights),Rt.push(Bt.numSpotLights),Rt.push(Bt.numHemiLights),Rt.push(Bt.numRectAreaLights),Rt.push(Bt.numDirLightShadows),Rt.push(Bt.numPointLightShadows),Rt.push(Bt.numSpotLightShadows),Rt.push(Bt.shadowMapType),Rt.push(Bt.toneMapping),Rt.push(Bt.numClippingPlanes),Rt.push(Bt.numClipIntersection)}function Tt(Rt,Bt){st.disableAll(),Bt.isWebGL2&&st.enable(0),Bt.supportsVertexTextures&&st.enable(1),Bt.instancing&&st.enable(2),Bt.instancingColor&&st.enable(3),Bt.map&&st.enable(4),Bt.matcap&&st.enable(5),Bt.envMap&&st.enable(6),Bt.lightMap&&st.enable(7),Bt.aoMap&&st.enable(8),Bt.emissiveMap&&st.enable(9),Bt.bumpMap&&st.enable(10),Bt.normalMap&&st.enable(11),Bt.objectSpaceNormalMap&&st.enable(12),Bt.tangentSpaceNormalMap&&st.enable(13),Bt.clearcoat&&st.enable(14),Bt.clearcoatMap&&st.enable(15),Bt.clearcoatRoughnessMap&&st.enable(16),Bt.clearcoatNormalMap&&st.enable(17),Bt.displacementMap&&st.enable(18),Bt.specularMap&&st.enable(19),Bt.roughnessMap&&st.enable(20),Bt.metalnessMap&&st.enable(21),Bt.gradientMap&&st.enable(22),Bt.alphaMap&&st.enable(23),Bt.alphaTest&&st.enable(24),Bt.vertexColors&&st.enable(25),Bt.vertexAlphas&&st.enable(26),Bt.vertexUvs&&st.enable(27),Bt.vertexTangents&&st.enable(28),Bt.uvsVertexOnly&&st.enable(29),Bt.fog&&st.enable(30),Rt.push(st.mask),st.disableAll(),Bt.useFog&&st.enable(0),Bt.flatShading&&st.enable(1),Bt.logarithmicDepthBuffer&&st.enable(2),Bt.skinning&&st.enable(3),Bt.useVertexTexture&&st.enable(4),Bt.morphTargets&&st.enable(5),Bt.morphNormals&&st.enable(6),Bt.morphColors&&st.enable(7),Bt.premultipliedAlpha&&st.enable(8),Bt.shadowMapEnabled&&st.enable(9),Bt.physicallyCorrectLights&&st.enable(10),Bt.doubleSided&&st.enable(11),Bt.flipSided&&st.enable(12),Bt.depthPacking&&st.enable(13),Bt.dithering&&st.enable(14),Bt.specularIntensityMap&&st.enable(15),Bt.specularColorMap&&st.enable(16),Bt.transmission&&st.enable(17),Bt.transmissionMap&&st.enable(18),Bt.thicknessMap&&st.enable(19),Bt.sheen&&st.enable(20),Bt.sheenColorMap&&st.enable(21),Bt.sheenRoughnessMap&&st.enable(22),Bt.decodeVideoTexture&&st.enable(23),Bt.opaque&&st.enable(24),Rt.push(st.mask)}function wt(Rt){const Bt=vt[Rt.type];let Gt;if(Bt){const Ft=ShaderLib[Bt];Gt=UniformsUtils.clone(Ft.uniforms)}else Gt=Rt.uniforms;return Gt}function bt(Rt,Bt){let Gt;for(let Ft=0,kt=ot.length;Ft<kt;Ft++){const It=ot[Ft];if(It.cacheKey===Bt){Gt=It,++Gt.usedTimes;break}}return Gt===void 0&&(Gt=new WebGLProgram(_e,Bt,Rt,rt),ot.push(Gt)),Gt}function Ct(Rt){if(--Rt.usedTimes===0){const Bt=ot.indexOf(Rt);ot[Bt]=ot[ot.length-1],ot.pop(),Rt.destroy()}}function Lt(Rt){at.remove(Rt)}function $t(){at.dispose()}return{getParameters:mt,getProgramCacheKey:xt,getUniforms:wt,acquireProgram:bt,releaseProgram:Ct,releaseShaderCache:Lt,programs:ot,dispose:$t}}function WebGLProperties(){let _e=new WeakMap;function j(rt){let it=_e.get(rt);return it===void 0&&(it={},_e.set(rt,it)),it}function et(rt){_e.delete(rt)}function tt(rt,it,st){_e.get(rt)[it]=st}function nt(){_e=new WeakMap}return{get:j,remove:et,update:tt,dispose:nt}}function painterSortStable(_e,j){return _e.groupOrder!==j.groupOrder?_e.groupOrder-j.groupOrder:_e.renderOrder!==j.renderOrder?_e.renderOrder-j.renderOrder:_e.material.id!==j.material.id?_e.material.id-j.material.id:_e.z!==j.z?_e.z-j.z:_e.id-j.id}function reversePainterSortStable(_e,j){return _e.groupOrder!==j.groupOrder?_e.groupOrder-j.groupOrder:_e.renderOrder!==j.renderOrder?_e.renderOrder-j.renderOrder:_e.z!==j.z?j.z-_e.z:_e.id-j.id}function WebGLRenderList(){const _e=[];let j=0;const et=[],tt=[],nt=[];function rt(){j=0,et.length=0,tt.length=0,nt.length=0}function it(ut,ct,ht,pt,gt,vt){let ft=_e[j];return ft===void 0?(ft={id:ut.id,object:ut,geometry:ct,material:ht,groupOrder:pt,renderOrder:ut.renderOrder,z:gt,group:vt},_e[j]=ft):(ft.id=ut.id,ft.object=ut,ft.geometry=ct,ft.material=ht,ft.groupOrder=pt,ft.renderOrder=ut.renderOrder,ft.z=gt,ft.group=vt),j++,ft}function st(ut,ct,ht,pt,gt,vt){const ft=it(ut,ct,ht,pt,gt,vt);ht.transmission>0?tt.push(ft):ht.transparent===!0?nt.push(ft):et.push(ft)}function at(ut,ct,ht,pt,gt,vt){const ft=it(ut,ct,ht,pt,gt,vt);ht.transmission>0?tt.unshift(ft):ht.transparent===!0?nt.unshift(ft):et.unshift(ft)}function ot(ut,ct){et.length>1&&et.sort(ut||painterSortStable),tt.length>1&&tt.sort(ct||reversePainterSortStable),nt.length>1&&nt.sort(ct||reversePainterSortStable)}function lt(){for(let ut=j,ct=_e.length;ut<ct;ut++){const ht=_e[ut];if(ht.id===null)break;ht.id=null,ht.object=null,ht.geometry=null,ht.material=null,ht.group=null}}return{opaque:et,transmissive:tt,transparent:nt,init:rt,push:st,unshift:at,finish:lt,sort:ot}}function WebGLRenderLists(){let _e=new WeakMap;function j(tt,nt){let rt;return _e.has(tt)===!1?(rt=new WebGLRenderList,_e.set(tt,[rt])):nt>=_e.get(tt).length?(rt=new WebGLRenderList,_e.get(tt).push(rt)):rt=_e.get(tt)[nt],rt}function et(){_e=new WeakMap}return{get:j,dispose:et}}function UniformsCache(){const _e={};return{get:function(j){if(_e[j.id]!==void 0)return _e[j.id];let et;switch(j.type){case"DirectionalLight":et={direction:new Vector3,color:new Color};break;case"SpotLight":et={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":et={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":et={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":et={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return _e[j.id]=et,et}}}function ShadowUniformsCache(){const _e={};return{get:function(j){if(_e[j.id]!==void 0)return _e[j.id];let et;switch(j.type){case"DirectionalLight":et={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":et={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":et={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return _e[j.id]=et,et}}}let nextVersion=0;function shadowCastingLightsFirst(_e,j){return(j.castShadow?1:0)-(_e.castShadow?1:0)}function WebGLLights(_e,j){const et=new UniformsCache,tt=ShadowUniformsCache(),nt={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let lt=0;lt<9;lt++)nt.probe.push(new Vector3);const rt=new Vector3,it=new Matrix4,st=new Matrix4;function at(lt,ut){let ct=0,ht=0,pt=0;for(let Lt=0;Lt<9;Lt++)nt.probe[Lt].set(0,0,0);let gt=0,vt=0,ft=0,mt=0,xt=0,_t=0,Tt=0,wt=0;lt.sort(shadowCastingLightsFirst);const bt=ut!==!0?Math.PI:1;for(let Lt=0,$t=lt.length;Lt<$t;Lt++){const Rt=lt[Lt],Bt=Rt.color,Gt=Rt.intensity,Ft=Rt.distance,kt=Rt.shadow&&Rt.shadow.map?Rt.shadow.map.texture:null;if(Rt.isAmbientLight)ct+=Bt.r*Gt*bt,ht+=Bt.g*Gt*bt,pt+=Bt.b*Gt*bt;else if(Rt.isLightProbe)for(let It=0;It<9;It++)nt.probe[It].addScaledVector(Rt.sh.coefficients[It],Gt);else if(Rt.isDirectionalLight){const It=et.get(Rt);if(It.color.copy(Rt.color).multiplyScalar(Rt.intensity*bt),Rt.castShadow){const Ot=Rt.shadow,Ut=tt.get(Rt);Ut.shadowBias=Ot.bias,Ut.shadowNormalBias=Ot.normalBias,Ut.shadowRadius=Ot.radius,Ut.shadowMapSize=Ot.mapSize,nt.directionalShadow[gt]=Ut,nt.directionalShadowMap[gt]=kt,nt.directionalShadowMatrix[gt]=Rt.shadow.matrix,_t++}nt.directional[gt]=It,gt++}else if(Rt.isSpotLight){const It=et.get(Rt);if(It.position.setFromMatrixPosition(Rt.matrixWorld),It.color.copy(Bt).multiplyScalar(Gt*bt),It.distance=Ft,It.coneCos=Math.cos(Rt.angle),It.penumbraCos=Math.cos(Rt.angle*(1-Rt.penumbra)),It.decay=Rt.decay,Rt.castShadow){const Ot=Rt.shadow,Ut=tt.get(Rt);Ut.shadowBias=Ot.bias,Ut.shadowNormalBias=Ot.normalBias,Ut.shadowRadius=Ot.radius,Ut.shadowMapSize=Ot.mapSize,nt.spotShadow[ft]=Ut,nt.spotShadowMap[ft]=kt,nt.spotShadowMatrix[ft]=Rt.shadow.matrix,wt++}nt.spot[ft]=It,ft++}else if(Rt.isRectAreaLight){const It=et.get(Rt);It.color.copy(Bt).multiplyScalar(Gt),It.halfWidth.set(Rt.width*.5,0,0),It.halfHeight.set(0,Rt.height*.5,0),nt.rectArea[mt]=It,mt++}else if(Rt.isPointLight){const It=et.get(Rt);if(It.color.copy(Rt.color).multiplyScalar(Rt.intensity*bt),It.distance=Rt.distance,It.decay=Rt.decay,Rt.castShadow){const Ot=Rt.shadow,Ut=tt.get(Rt);Ut.shadowBias=Ot.bias,Ut.shadowNormalBias=Ot.normalBias,Ut.shadowRadius=Ot.radius,Ut.shadowMapSize=Ot.mapSize,Ut.shadowCameraNear=Ot.camera.near,Ut.shadowCameraFar=Ot.camera.far,nt.pointShadow[vt]=Ut,nt.pointShadowMap[vt]=kt,nt.pointShadowMatrix[vt]=Rt.shadow.matrix,Tt++}nt.point[vt]=It,vt++}else if(Rt.isHemisphereLight){const It=et.get(Rt);It.skyColor.copy(Rt.color).multiplyScalar(Gt*bt),It.groundColor.copy(Rt.groundColor).multiplyScalar(Gt*bt),nt.hemi[xt]=It,xt++}}mt>0&&(j.isWebGL2||_e.has("OES_texture_float_linear")===!0?(nt.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,nt.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):_e.has("OES_texture_half_float_linear")===!0?(nt.rectAreaLTC1=UniformsLib.LTC_HALF_1,nt.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),nt.ambient[0]=ct,nt.ambient[1]=ht,nt.ambient[2]=pt;const Ct=nt.hash;(Ct.directionalLength!==gt||Ct.pointLength!==vt||Ct.spotLength!==ft||Ct.rectAreaLength!==mt||Ct.hemiLength!==xt||Ct.numDirectionalShadows!==_t||Ct.numPointShadows!==Tt||Ct.numSpotShadows!==wt)&&(nt.directional.length=gt,nt.spot.length=ft,nt.rectArea.length=mt,nt.point.length=vt,nt.hemi.length=xt,nt.directionalShadow.length=_t,nt.directionalShadowMap.length=_t,nt.pointShadow.length=Tt,nt.pointShadowMap.length=Tt,nt.spotShadow.length=wt,nt.spotShadowMap.length=wt,nt.directionalShadowMatrix.length=_t,nt.pointShadowMatrix.length=Tt,nt.spotShadowMatrix.length=wt,Ct.directionalLength=gt,Ct.pointLength=vt,Ct.spotLength=ft,Ct.rectAreaLength=mt,Ct.hemiLength=xt,Ct.numDirectionalShadows=_t,Ct.numPointShadows=Tt,Ct.numSpotShadows=wt,nt.version=nextVersion++)}function ot(lt,ut){let ct=0,ht=0,pt=0,gt=0,vt=0;const ft=ut.matrixWorldInverse;for(let mt=0,xt=lt.length;mt<xt;mt++){const _t=lt[mt];if(_t.isDirectionalLight){const Tt=nt.directional[ct];Tt.direction.setFromMatrixPosition(_t.matrixWorld),rt.setFromMatrixPosition(_t.target.matrixWorld),Tt.direction.sub(rt),Tt.direction.transformDirection(ft),ct++}else if(_t.isSpotLight){const Tt=nt.spot[pt];Tt.position.setFromMatrixPosition(_t.matrixWorld),Tt.position.applyMatrix4(ft),Tt.direction.setFromMatrixPosition(_t.matrixWorld),rt.setFromMatrixPosition(_t.target.matrixWorld),Tt.direction.sub(rt),Tt.direction.transformDirection(ft),pt++}else if(_t.isRectAreaLight){const Tt=nt.rectArea[gt];Tt.position.setFromMatrixPosition(_t.matrixWorld),Tt.position.applyMatrix4(ft),st.identity(),it.copy(_t.matrixWorld),it.premultiply(ft),st.extractRotation(it),Tt.halfWidth.set(_t.width*.5,0,0),Tt.halfHeight.set(0,_t.height*.5,0),Tt.halfWidth.applyMatrix4(st),Tt.halfHeight.applyMatrix4(st),gt++}else if(_t.isPointLight){const Tt=nt.point[ht];Tt.position.setFromMatrixPosition(_t.matrixWorld),Tt.position.applyMatrix4(ft),ht++}else if(_t.isHemisphereLight){const Tt=nt.hemi[vt];Tt.direction.setFromMatrixPosition(_t.matrixWorld),Tt.direction.transformDirection(ft),Tt.direction.normalize(),vt++}}}return{setup:at,setupView:ot,state:nt}}function WebGLRenderState(_e,j){const et=new WebGLLights(_e,j),tt=[],nt=[];function rt(){tt.length=0,nt.length=0}function it(ut){tt.push(ut)}function st(ut){nt.push(ut)}function at(ut){et.setup(tt,ut)}function ot(ut){et.setupView(tt,ut)}return{init:rt,state:{lightsArray:tt,shadowsArray:nt,lights:et},setupLights:at,setupLightsView:ot,pushLight:it,pushShadow:st}}function WebGLRenderStates(_e,j){let et=new WeakMap;function tt(rt,it=0){let st;return et.has(rt)===!1?(st=new WebGLRenderState(_e,j),et.set(rt,[st])):it>=et.get(rt).length?(st=new WebGLRenderState(_e,j),et.get(rt).push(st)):st=et.get(rt)[it],st}function nt(){et=new WeakMap}return{get:tt,dispose:nt}}class MeshDepthMaterial extends Material{constructor(j){super(),this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(j)}copy(j){return super.copy(j),this.depthPacking=j.depthPacking,this.map=j.map,this.alphaMap=j.alphaMap,this.displacementMap=j.displacementMap,this.displacementScale=j.displacementScale,this.displacementBias=j.displacementBias,this.wireframe=j.wireframe,this.wireframeLinewidth=j.wireframeLinewidth,this}}MeshDepthMaterial.prototype.isMeshDepthMaterial=!0;class MeshDistanceMaterial extends Material{constructor(j){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(j)}copy(j){return super.copy(j),this.referencePosition.copy(j.referencePosition),this.nearDistance=j.nearDistance,this.farDistance=j.farDistance,this.map=j.map,this.alphaMap=j.alphaMap,this.displacementMap=j.displacementMap,this.displacementScale=j.displacementScale,this.displacementBias=j.displacementBias,this}}MeshDistanceMaterial.prototype.isMeshDistanceMaterial=!0;const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(_e,j,et){let tt=new Frustum;const nt=new Vector2,rt=new Vector2,it=new Vector4,st=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),at=new MeshDistanceMaterial,ot={},lt=et.maxTextureSize,ut={0:BackSide,1:FrontSide,2:DoubleSide},ct=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),ht=ct.clone();ht.defines.HORIZONTAL_PASS=1;const pt=new BufferGeometry;pt.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const gt=new Mesh(pt,ct),vt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(_t,Tt,wt){if(vt.enabled===!1||vt.autoUpdate===!1&&vt.needsUpdate===!1||_t.length===0)return;const bt=_e.getRenderTarget(),Ct=_e.getActiveCubeFace(),Lt=_e.getActiveMipmapLevel(),$t=_e.state;$t.setBlending(NoBlending),$t.buffers.color.setClear(1,1,1,1),$t.buffers.depth.setTest(!0),$t.setScissorTest(!1);for(let Rt=0,Bt=_t.length;Rt<Bt;Rt++){const Gt=_t[Rt],Ft=Gt.shadow;if(Ft===void 0){console.warn("THREE.WebGLShadowMap:",Gt,"has no shadow.");continue}if(Ft.autoUpdate===!1&&Ft.needsUpdate===!1)continue;nt.copy(Ft.mapSize);const kt=Ft.getFrameExtents();if(nt.multiply(kt),rt.copy(Ft.mapSize),(nt.x>lt||nt.y>lt)&&(nt.x>lt&&(rt.x=Math.floor(lt/kt.x),nt.x=rt.x*kt.x,Ft.mapSize.x=rt.x),nt.y>lt&&(rt.y=Math.floor(lt/kt.y),nt.y=rt.y*kt.y,Ft.mapSize.y=rt.y)),Ft.map===null&&!Ft.isPointLightShadow&&this.type===VSMShadowMap){const Ot={minFilter:LinearFilter,magFilter:LinearFilter,format:RGBAFormat};Ft.map=new WebGLRenderTarget(nt.x,nt.y,Ot),Ft.map.texture.name=Gt.name+".shadowMap",Ft.mapPass=new WebGLRenderTarget(nt.x,nt.y,Ot),Ft.camera.updateProjectionMatrix()}if(Ft.map===null){const Ot={minFilter:NearestFilter,magFilter:NearestFilter,format:RGBAFormat};Ft.map=new WebGLRenderTarget(nt.x,nt.y,Ot),Ft.map.texture.name=Gt.name+".shadowMap",Ft.camera.updateProjectionMatrix()}_e.setRenderTarget(Ft.map),_e.clear();const It=Ft.getViewportCount();for(let Ot=0;Ot<It;Ot++){const Ut=Ft.getViewport(Ot);it.set(rt.x*Ut.x,rt.y*Ut.y,rt.x*Ut.z,rt.y*Ut.w),$t.viewport(it),Ft.updateMatrices(Gt,Ot),tt=Ft.getFrustum(),xt(Tt,wt,Ft.camera,Gt,this.type)}!Ft.isPointLightShadow&&this.type===VSMShadowMap&&ft(Ft,wt),Ft.needsUpdate=!1}vt.needsUpdate=!1,_e.setRenderTarget(bt,Ct,Lt)};function ft(_t,Tt){const wt=j.update(gt);ct.defines.VSM_SAMPLES!==_t.blurSamples&&(ct.defines.VSM_SAMPLES=_t.blurSamples,ht.defines.VSM_SAMPLES=_t.blurSamples,ct.needsUpdate=!0,ht.needsUpdate=!0),ct.uniforms.shadow_pass.value=_t.map.texture,ct.uniforms.resolution.value=_t.mapSize,ct.uniforms.radius.value=_t.radius,_e.setRenderTarget(_t.mapPass),_e.clear(),_e.renderBufferDirect(Tt,null,wt,ct,gt,null),ht.uniforms.shadow_pass.value=_t.mapPass.texture,ht.uniforms.resolution.value=_t.mapSize,ht.uniforms.radius.value=_t.radius,_e.setRenderTarget(_t.map),_e.clear(),_e.renderBufferDirect(Tt,null,wt,ht,gt,null)}function mt(_t,Tt,wt,bt,Ct,Lt){let $t=null;const Rt=wt.isPointLight===!0?_t.customDistanceMaterial:_t.customDepthMaterial;if(Rt!==void 0?$t=Rt:$t=wt.isPointLight===!0?at:st,_e.localClippingEnabled&&Tt.clipShadows===!0&&Tt.clippingPlanes.length!==0||Tt.displacementMap&&Tt.displacementScale!==0||Tt.alphaMap&&Tt.alphaTest>0){const Bt=$t.uuid,Gt=Tt.uuid;let Ft=ot[Bt];Ft===void 0&&(Ft={},ot[Bt]=Ft);let kt=Ft[Gt];kt===void 0&&(kt=$t.clone(),Ft[Gt]=kt),$t=kt}return $t.visible=Tt.visible,$t.wireframe=Tt.wireframe,Lt===VSMShadowMap?$t.side=Tt.shadowSide!==null?Tt.shadowSide:Tt.side:$t.side=Tt.shadowSide!==null?Tt.shadowSide:ut[Tt.side],$t.alphaMap=Tt.alphaMap,$t.alphaTest=Tt.alphaTest,$t.clipShadows=Tt.clipShadows,$t.clippingPlanes=Tt.clippingPlanes,$t.clipIntersection=Tt.clipIntersection,$t.displacementMap=Tt.displacementMap,$t.displacementScale=Tt.displacementScale,$t.displacementBias=Tt.displacementBias,$t.wireframeLinewidth=Tt.wireframeLinewidth,$t.linewidth=Tt.linewidth,wt.isPointLight===!0&&$t.isMeshDistanceMaterial===!0&&($t.referencePosition.setFromMatrixPosition(wt.matrixWorld),$t.nearDistance=bt,$t.farDistance=Ct),$t}function xt(_t,Tt,wt,bt,Ct){if(_t.visible===!1)return;if(_t.layers.test(Tt.layers)&&(_t.isMesh||_t.isLine||_t.isPoints)&&(_t.castShadow||_t.receiveShadow&&Ct===VSMShadowMap)&&(!_t.frustumCulled||tt.intersectsObject(_t))){_t.modelViewMatrix.multiplyMatrices(wt.matrixWorldInverse,_t.matrixWorld);const Rt=j.update(_t),Bt=_t.material;if(Array.isArray(Bt)){const Gt=Rt.groups;for(let Ft=0,kt=Gt.length;Ft<kt;Ft++){const It=Gt[Ft],Ot=Bt[It.materialIndex];if(Ot&&Ot.visible){const Ut=mt(_t,Ot,bt,wt.near,wt.far,Ct);_e.renderBufferDirect(wt,null,Rt,Ut,_t,It)}}}else if(Bt.visible){const Gt=mt(_t,Bt,bt,wt.near,wt.far,Ct);_e.renderBufferDirect(wt,null,Rt,Gt,_t,null)}}const $t=_t.children;for(let Rt=0,Bt=$t.length;Rt<Bt;Rt++)xt($t[Rt],Tt,wt,bt,Ct)}}function WebGLState(_e,j,et){const tt=et.isWebGL2;function nt(){let _n=!1;const ur=new Vector4;let sr=null;const Er=new Vector4(0,0,0,0);return{setMask:function(ar){sr!==ar&&!_n&&(_e.colorMask(ar,ar,ar,ar),sr=ar)},setLocked:function(ar){_n=ar},setClear:function(ar,Jn,Pr,Hr,ds){ds===!0&&(ar*=Hr,Jn*=Hr,Pr*=Hr),ur.set(ar,Jn,Pr,Hr),Er.equals(ur)===!1&&(_e.clearColor(ar,Jn,Pr,Hr),Er.copy(ur))},reset:function(){_n=!1,sr=null,Er.set(-1,0,0,0)}}}function rt(){let _n=!1,ur=null,sr=null,Er=null;return{setTest:function(ar){ar?yn(2929):fn(2929)},setMask:function(ar){ur!==ar&&!_n&&(_e.depthMask(ar),ur=ar)},setFunc:function(ar){if(sr!==ar){if(ar)switch(ar){case NeverDepth:_e.depthFunc(512);break;case AlwaysDepth:_e.depthFunc(519);break;case LessDepth:_e.depthFunc(513);break;case LessEqualDepth:_e.depthFunc(515);break;case EqualDepth:_e.depthFunc(514);break;case GreaterEqualDepth:_e.depthFunc(518);break;case GreaterDepth:_e.depthFunc(516);break;case NotEqualDepth:_e.depthFunc(517);break;default:_e.depthFunc(515)}else _e.depthFunc(515);sr=ar}},setLocked:function(ar){_n=ar},setClear:function(ar){Er!==ar&&(_e.clearDepth(ar),Er=ar)},reset:function(){_n=!1,ur=null,sr=null,Er=null}}}function it(){let _n=!1,ur=null,sr=null,Er=null,ar=null,Jn=null,Pr=null,Hr=null,ds=null;return{setTest:function(Br){_n||(Br?yn(2960):fn(2960))},setMask:function(Br){ur!==Br&&!_n&&(_e.stencilMask(Br),ur=Br)},setFunc:function(Br,Hs,zs){(sr!==Br||Er!==Hs||ar!==zs)&&(_e.stencilFunc(Br,Hs,zs),sr=Br,Er=Hs,ar=zs)},setOp:function(Br,Hs,zs){(Jn!==Br||Pr!==Hs||Hr!==zs)&&(_e.stencilOp(Br,Hs,zs),Jn=Br,Pr=Hs,Hr=zs)},setLocked:function(Br){_n=Br},setClear:function(Br){ds!==Br&&(_e.clearStencil(Br),ds=Br)},reset:function(){_n=!1,ur=null,sr=null,Er=null,ar=null,Jn=null,Pr=null,Hr=null,ds=null}}}const st=new nt,at=new rt,ot=new it;let lt={},ut={},ct=new WeakMap,ht=[],pt=null,gt=!1,vt=null,ft=null,mt=null,xt=null,_t=null,Tt=null,wt=null,bt=!1,Ct=null,Lt=null,$t=null,Rt=null,Bt=null;const Gt=_e.getParameter(35661);let Ft=!1,kt=0;const It=_e.getParameter(7938);It.indexOf("WebGL")!==-1?(kt=parseFloat(/^WebGL (\d)/.exec(It)[1]),Ft=kt>=1):It.indexOf("OpenGL ES")!==-1&&(kt=parseFloat(/^OpenGL ES (\d)/.exec(It)[1]),Ft=kt>=2);let Ot=null,Ut={};const zt=_e.getParameter(3088),Ht=_e.getParameter(2978),Vt=new Vector4().fromArray(zt),qt=new Vector4().fromArray(Ht);function an(_n,ur,sr){const Er=new Uint8Array(4),ar=_e.createTexture();_e.bindTexture(_n,ar),_e.texParameteri(_n,10241,9728),_e.texParameteri(_n,10240,9728);for(let Jn=0;Jn<sr;Jn++)_e.texImage2D(ur+Jn,0,6408,1,1,0,6408,5121,Er);return ar}const gn={};gn[3553]=an(3553,3553,1),gn[34067]=an(34067,34069,6),st.setClear(0,0,0,1),at.setClear(1),ot.setClear(0),yn(2929),at.setFunc(LessEqualDepth),An(!1),Yn(CullFaceBack),yn(2884),mn(NoBlending);function yn(_n){lt[_n]!==!0&&(_e.enable(_n),lt[_n]=!0)}function fn(_n){lt[_n]!==!1&&(_e.disable(_n),lt[_n]=!1)}function In(_n,ur){return ut[_n]!==ur?(_e.bindFramebuffer(_n,ur),ut[_n]=ur,tt&&(_n===36009&&(ut[36160]=ur),_n===36160&&(ut[36009]=ur)),!0):!1}function Dn(_n,ur){let sr=ht,Er=!1;if(_n)if(sr=ct.get(ur),sr===void 0&&(sr=[],ct.set(ur,sr)),_n.isWebGLMultipleRenderTargets){const ar=_n.texture;if(sr.length!==ar.length||sr[0]!==36064){for(let Jn=0,Pr=ar.length;Jn<Pr;Jn++)sr[Jn]=36064+Jn;sr.length=ar.length,Er=!0}}else sr[0]!==36064&&(sr[0]=36064,Er=!0);else sr[0]!==1029&&(sr[0]=1029,Er=!0);Er&&(et.isWebGL2?_e.drawBuffers(sr):j.get("WEBGL_draw_buffers").drawBuffersWEBGL(sr))}function Mn(_n){return pt!==_n?(_e.useProgram(_n),pt=_n,!0):!1}const Fn={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if(tt)Fn[MinEquation]=32775,Fn[MaxEquation]=32776;else{const _n=j.get("EXT_blend_minmax");_n!==null&&(Fn[MinEquation]=_n.MIN_EXT,Fn[MaxEquation]=_n.MAX_EXT)}const Vn={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function mn(_n,ur,sr,Er,ar,Jn,Pr,Hr){if(_n===NoBlending){gt===!0&&(fn(3042),gt=!1);return}if(gt===!1&&(yn(3042),gt=!0),_n!==CustomBlending){if(_n!==vt||Hr!==bt){if((ft!==AddEquation||_t!==AddEquation)&&(_e.blendEquation(32774),ft=AddEquation,_t=AddEquation),Hr)switch(_n){case NormalBlending:_e.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:_e.blendFunc(1,1);break;case SubtractiveBlending:_e.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:_e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",_n);break}else switch(_n){case NormalBlending:_e.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:_e.blendFunc(770,1);break;case SubtractiveBlending:_e.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:_e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",_n);break}mt=null,xt=null,Tt=null,wt=null,vt=_n,bt=Hr}return}ar=ar||ur,Jn=Jn||sr,Pr=Pr||Er,(ur!==ft||ar!==_t)&&(_e.blendEquationSeparate(Fn[ur],Fn[ar]),ft=ur,_t=ar),(sr!==mt||Er!==xt||Jn!==Tt||Pr!==wt)&&(_e.blendFuncSeparate(Vn[sr],Vn[Er],Vn[Jn],Vn[Pr]),mt=sr,xt=Er,Tt=Jn,wt=Pr),vt=_n,bt=null}function dn(_n,ur){_n.side===DoubleSide?fn(2884):yn(2884);let sr=_n.side===BackSide;ur&&(sr=!sr),An(sr),_n.blending===NormalBlending&&_n.transparent===!1?mn(NoBlending):mn(_n.blending,_n.blendEquation,_n.blendSrc,_n.blendDst,_n.blendEquationAlpha,_n.blendSrcAlpha,_n.blendDstAlpha,_n.premultipliedAlpha),at.setFunc(_n.depthFunc),at.setTest(_n.depthTest),at.setMask(_n.depthWrite),st.setMask(_n.colorWrite);const Er=_n.stencilWrite;ot.setTest(Er),Er&&(ot.setMask(_n.stencilWriteMask),ot.setFunc(_n.stencilFunc,_n.stencilRef,_n.stencilFuncMask),ot.setOp(_n.stencilFail,_n.stencilZFail,_n.stencilZPass)),tr(_n.polygonOffset,_n.polygonOffsetFactor,_n.polygonOffsetUnits),_n.alphaToCoverage===!0?yn(32926):fn(32926)}function An(_n){Ct!==_n&&(_n?_e.frontFace(2304):_e.frontFace(2305),Ct=_n)}function Yn(_n){_n!==CullFaceNone?(yn(2884),_n!==Lt&&(_n===CullFaceBack?_e.cullFace(1029):_n===CullFaceFront?_e.cullFace(1028):_e.cullFace(1032))):fn(2884),Lt=_n}function Bn(_n){_n!==$t&&(Ft&&_e.lineWidth(_n),$t=_n)}function tr(_n,ur,sr){_n?(yn(32823),(Rt!==ur||Bt!==sr)&&(_e.polygonOffset(ur,sr),Rt=ur,Bt=sr)):fn(32823)}function rr(_n){_n?yn(3089):fn(3089)}function hr(_n){_n===void 0&&(_n=33984+Gt-1),Ot!==_n&&(_e.activeTexture(_n),Ot=_n)}function fr(_n,ur){Ot===null&&hr();let sr=Ut[Ot];sr===void 0&&(sr={type:void 0,texture:void 0},Ut[Ot]=sr),(sr.type!==_n||sr.texture!==ur)&&(_e.bindTexture(_n,ur||gn[_n]),sr.type=_n,sr.texture=ur)}function sn(){const _n=Ut[Ot];_n!==void 0&&_n.type!==void 0&&(_e.bindTexture(_n.type,null),_n.type=void 0,_n.texture=void 0)}function nn(){try{_e.compressedTexImage2D.apply(_e,arguments)}catch(_n){console.error("THREE.WebGLState:",_n)}}function Cn(){try{_e.texSubImage2D.apply(_e,arguments)}catch(_n){console.error("THREE.WebGLState:",_n)}}function Hn(){try{_e.texSubImage3D.apply(_e,arguments)}catch(_n){console.error("THREE.WebGLState:",_n)}}function Kn(){try{_e.compressedTexSubImage2D.apply(_e,arguments)}catch(_n){console.error("THREE.WebGLState:",_n)}}function Qn(){try{_e.texStorage2D.apply(_e,arguments)}catch(_n){console.error("THREE.WebGLState:",_n)}}function pr(){try{_e.texStorage3D.apply(_e,arguments)}catch(_n){console.error("THREE.WebGLState:",_n)}}function kn(){try{_e.texImage2D.apply(_e,arguments)}catch(_n){console.error("THREE.WebGLState:",_n)}}function _r(){try{_e.texImage3D.apply(_e,arguments)}catch(_n){console.error("THREE.WebGLState:",_n)}}function Mr(_n){Vt.equals(_n)===!1&&(_e.scissor(_n.x,_n.y,_n.z,_n.w),Vt.copy(_n))}function yr(_n){qt.equals(_n)===!1&&(_e.viewport(_n.x,_n.y,_n.z,_n.w),qt.copy(_n))}function mr(){_e.disable(3042),_e.disable(2884),_e.disable(2929),_e.disable(32823),_e.disable(3089),_e.disable(2960),_e.disable(32926),_e.blendEquation(32774),_e.blendFunc(1,0),_e.blendFuncSeparate(1,0,1,0),_e.colorMask(!0,!0,!0,!0),_e.clearColor(0,0,0,0),_e.depthMask(!0),_e.depthFunc(513),_e.clearDepth(1),_e.stencilMask(4294967295),_e.stencilFunc(519,0,4294967295),_e.stencilOp(7680,7680,7680),_e.clearStencil(0),_e.cullFace(1029),_e.frontFace(2305),_e.polygonOffset(0,0),_e.activeTexture(33984),_e.bindFramebuffer(36160,null),tt===!0&&(_e.bindFramebuffer(36009,null),_e.bindFramebuffer(36008,null)),_e.useProgram(null),_e.lineWidth(1),_e.scissor(0,0,_e.canvas.width,_e.canvas.height),_e.viewport(0,0,_e.canvas.width,_e.canvas.height),lt={},Ot=null,Ut={},ut={},ct=new WeakMap,ht=[],pt=null,gt=!1,vt=null,ft=null,mt=null,xt=null,_t=null,Tt=null,wt=null,bt=!1,Ct=null,Lt=null,$t=null,Rt=null,Bt=null,Vt.set(0,0,_e.canvas.width,_e.canvas.height),qt.set(0,0,_e.canvas.width,_e.canvas.height),st.reset(),at.reset(),ot.reset()}return{buffers:{color:st,depth:at,stencil:ot},enable:yn,disable:fn,bindFramebuffer:In,drawBuffers:Dn,useProgram:Mn,setBlending:mn,setMaterial:dn,setFlipSided:An,setCullFace:Yn,setLineWidth:Bn,setPolygonOffset:tr,setScissorTest:rr,activeTexture:hr,bindTexture:fr,unbindTexture:sn,compressedTexImage2D:nn,texImage2D:kn,texImage3D:_r,texStorage2D:Qn,texStorage3D:pr,texSubImage2D:Cn,texSubImage3D:Hn,compressedTexSubImage2D:Kn,scissor:Mr,viewport:yr,reset:mr}}function WebGLTextures(_e,j,et,tt,nt,rt,it){const st=nt.isWebGL2,at=nt.maxTextures,ot=nt.maxCubemapSize,lt=nt.maxTextureSize,ut=nt.maxSamples,ct=j.has("WEBGL_multisampled_render_to_texture")?j.get("WEBGL_multisampled_render_to_texture"):null,ht=new WeakMap;let pt;const gt=new WeakMap;let vt=!1;try{vt=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ft(sn,nn){return vt?new OffscreenCanvas(sn,nn):createElementNS("canvas")}function mt(sn,nn,Cn,Hn){let Kn=1;if((sn.width>Hn||sn.height>Hn)&&(Kn=Hn/Math.max(sn.width,sn.height)),Kn<1||nn===!0)if(typeof HTMLImageElement!="undefined"&&sn instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&sn instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&sn instanceof ImageBitmap){const Qn=nn?floorPowerOfTwo:Math.floor,pr=Qn(Kn*sn.width),kn=Qn(Kn*sn.height);pt===void 0&&(pt=ft(pr,kn));const _r=Cn?ft(pr,kn):pt;return _r.width=pr,_r.height=kn,_r.getContext("2d").drawImage(sn,0,0,pr,kn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+sn.width+"x"+sn.height+") to ("+pr+"x"+kn+")."),_r}else return"data"in sn&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+sn.width+"x"+sn.height+")."),sn;return sn}function xt(sn){return isPowerOfTwo(sn.width)&&isPowerOfTwo(sn.height)}function _t(sn){return st?!1:sn.wrapS!==ClampToEdgeWrapping||sn.wrapT!==ClampToEdgeWrapping||sn.minFilter!==NearestFilter&&sn.minFilter!==LinearFilter}function Tt(sn,nn){return sn.generateMipmaps&&nn&&sn.minFilter!==NearestFilter&&sn.minFilter!==LinearFilter}function wt(sn){_e.generateMipmap(sn)}function bt(sn,nn,Cn,Hn,Kn=!1){if(st===!1)return nn;if(sn!==null){if(_e[sn]!==void 0)return _e[sn];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+sn+"'")}let Qn=nn;return nn===6403&&(Cn===5126&&(Qn=33326),Cn===5131&&(Qn=33325),Cn===5121&&(Qn=33321)),nn===33319&&(Cn===5126&&(Qn=33328),Cn===5131&&(Qn=33327),Cn===5121&&(Qn=33323)),nn===6408&&(Cn===5126&&(Qn=34836),Cn===5131&&(Qn=34842),Cn===5121&&(Qn=Hn===sRGBEncoding&&Kn===!1?35907:32856),Cn===32819&&(Qn=32854),Cn===32820&&(Qn=32855)),(Qn===33325||Qn===33326||Qn===33327||Qn===33328||Qn===34842||Qn===34836)&&j.get("EXT_color_buffer_float"),Qn}function Ct(sn,nn,Cn){return Tt(sn,Cn)===!0||sn.isFramebufferTexture&&sn.minFilter!==NearestFilter&&sn.minFilter!==LinearFilter?Math.log2(Math.max(nn.width,nn.height))+1:sn.mipmaps!==void 0&&sn.mipmaps.length>0?sn.mipmaps.length:sn.isCompressedTexture&&Array.isArray(sn.image)?nn.mipmaps.length:1}function Lt(sn){return sn===NearestFilter||sn===NearestMipmapNearestFilter||sn===NearestMipmapLinearFilter?9728:9729}function $t(sn){const nn=sn.target;nn.removeEventListener("dispose",$t),Bt(nn),nn.isVideoTexture&&ht.delete(nn)}function Rt(sn){const nn=sn.target;nn.removeEventListener("dispose",Rt),Ft(nn)}function Bt(sn){const nn=tt.get(sn);if(nn.__webglInit===void 0)return;const Cn=sn.source,Hn=gt.get(Cn);if(Hn){const Kn=Hn[nn.__cacheKey];Kn.usedTimes--,Kn.usedTimes===0&&Gt(sn),Object.keys(Hn).length===0&&gt.delete(Cn)}tt.remove(sn)}function Gt(sn){const nn=tt.get(sn);_e.deleteTexture(nn.__webglTexture);const Cn=sn.source,Hn=gt.get(Cn);delete Hn[nn.__cacheKey],it.memory.textures--}function Ft(sn){const nn=sn.texture,Cn=tt.get(sn),Hn=tt.get(nn);if(Hn.__webglTexture!==void 0&&(_e.deleteTexture(Hn.__webglTexture),it.memory.textures--),sn.depthTexture&&sn.depthTexture.dispose(),sn.isWebGLCubeRenderTarget)for(let Kn=0;Kn<6;Kn++)_e.deleteFramebuffer(Cn.__webglFramebuffer[Kn]),Cn.__webglDepthbuffer&&_e.deleteRenderbuffer(Cn.__webglDepthbuffer[Kn]);else _e.deleteFramebuffer(Cn.__webglFramebuffer),Cn.__webglDepthbuffer&&_e.deleteRenderbuffer(Cn.__webglDepthbuffer),Cn.__webglMultisampledFramebuffer&&_e.deleteFramebuffer(Cn.__webglMultisampledFramebuffer),Cn.__webglColorRenderbuffer&&_e.deleteRenderbuffer(Cn.__webglColorRenderbuffer),Cn.__webglDepthRenderbuffer&&_e.deleteRenderbuffer(Cn.__webglDepthRenderbuffer);if(sn.isWebGLMultipleRenderTargets)for(let Kn=0,Qn=nn.length;Kn<Qn;Kn++){const pr=tt.get(nn[Kn]);pr.__webglTexture&&(_e.deleteTexture(pr.__webglTexture),it.memory.textures--),tt.remove(nn[Kn])}tt.remove(nn),tt.remove(sn)}let kt=0;function It(){kt=0}function Ot(){const sn=kt;return sn>=at&&console.warn("THREE.WebGLTextures: Trying to use "+sn+" texture units while this GPU supports only "+at),kt+=1,sn}function Ut(sn){const nn=[];return nn.push(sn.wrapS),nn.push(sn.wrapT),nn.push(sn.magFilter),nn.push(sn.minFilter),nn.push(sn.anisotropy),nn.push(sn.internalFormat),nn.push(sn.format),nn.push(sn.type),nn.push(sn.generateMipmaps),nn.push(sn.premultiplyAlpha),nn.push(sn.flipY),nn.push(sn.unpackAlignment),nn.push(sn.encoding),nn.join()}function zt(sn,nn){const Cn=tt.get(sn);if(sn.isVideoTexture&&hr(sn),sn.isRenderTargetTexture===!1&&sn.version>0&&Cn.__version!==sn.version){const Hn=sn.image;if(Hn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Hn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{In(Cn,sn,nn);return}}et.activeTexture(33984+nn),et.bindTexture(3553,Cn.__webglTexture)}function Ht(sn,nn){const Cn=tt.get(sn);if(sn.version>0&&Cn.__version!==sn.version){In(Cn,sn,nn);return}et.activeTexture(33984+nn),et.bindTexture(35866,Cn.__webglTexture)}function Vt(sn,nn){const Cn=tt.get(sn);if(sn.version>0&&Cn.__version!==sn.version){In(Cn,sn,nn);return}et.activeTexture(33984+nn),et.bindTexture(32879,Cn.__webglTexture)}function qt(sn,nn){const Cn=tt.get(sn);if(sn.version>0&&Cn.__version!==sn.version){Dn(Cn,sn,nn);return}et.activeTexture(33984+nn),et.bindTexture(34067,Cn.__webglTexture)}const an={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},gn={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function yn(sn,nn,Cn){if(Cn?(_e.texParameteri(sn,10242,an[nn.wrapS]),_e.texParameteri(sn,10243,an[nn.wrapT]),(sn===32879||sn===35866)&&_e.texParameteri(sn,32882,an[nn.wrapR]),_e.texParameteri(sn,10240,gn[nn.magFilter]),_e.texParameteri(sn,10241,gn[nn.minFilter])):(_e.texParameteri(sn,10242,33071),_e.texParameteri(sn,10243,33071),(sn===32879||sn===35866)&&_e.texParameteri(sn,32882,33071),(nn.wrapS!==ClampToEdgeWrapping||nn.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),_e.texParameteri(sn,10240,Lt(nn.magFilter)),_e.texParameteri(sn,10241,Lt(nn.minFilter)),nn.minFilter!==NearestFilter&&nn.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),j.has("EXT_texture_filter_anisotropic")===!0){const Hn=j.get("EXT_texture_filter_anisotropic");if(nn.type===FloatType&&j.has("OES_texture_float_linear")===!1||st===!1&&nn.type===HalfFloatType&&j.has("OES_texture_half_float_linear")===!1)return;(nn.anisotropy>1||tt.get(nn).__currentAnisotropy)&&(_e.texParameterf(sn,Hn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(nn.anisotropy,nt.getMaxAnisotropy())),tt.get(nn).__currentAnisotropy=nn.anisotropy)}}function fn(sn,nn){let Cn=!1;sn.__webglInit===void 0&&(sn.__webglInit=!0,nn.addEventListener("dispose",$t));const Hn=nn.source;let Kn=gt.get(Hn);Kn===void 0&&(Kn={},gt.set(Hn,Kn));const Qn=Ut(nn);if(Qn!==sn.__cacheKey){Kn[Qn]===void 0&&(Kn[Qn]={texture:_e.createTexture(),usedTimes:0},it.memory.textures++,Cn=!0),Kn[Qn].usedTimes++;const pr=Kn[sn.__cacheKey];pr!==void 0&&(Kn[sn.__cacheKey].usedTimes--,pr.usedTimes===0&&Gt(nn)),sn.__cacheKey=Qn,sn.__webglTexture=Kn[Qn].texture}return Cn}function In(sn,nn,Cn){let Hn=3553;nn.isDataArrayTexture&&(Hn=35866),nn.isData3DTexture&&(Hn=32879);const Kn=fn(sn,nn),Qn=nn.source;if(et.activeTexture(33984+Cn),et.bindTexture(Hn,sn.__webglTexture),Qn.version!==Qn.__currentVersion||Kn===!0){_e.pixelStorei(37440,nn.flipY),_e.pixelStorei(37441,nn.premultiplyAlpha),_e.pixelStorei(3317,nn.unpackAlignment),_e.pixelStorei(37443,0);const pr=_t(nn)&&xt(nn.image)===!1;let kn=mt(nn.image,pr,!1,lt);kn=fr(nn,kn);const _r=xt(kn)||st,Mr=rt.convert(nn.format,nn.encoding);let yr=rt.convert(nn.type),mr=bt(nn.internalFormat,Mr,yr,nn.encoding,nn.isVideoTexture);yn(Hn,nn,_r);let _n;const ur=nn.mipmaps,sr=st&&nn.isVideoTexture!==!0,Er=sn.__version===void 0,ar=Ct(nn,kn,_r);if(nn.isDepthTexture)mr=6402,st?nn.type===FloatType?mr=36012:nn.type===UnsignedIntType?mr=33190:nn.type===UnsignedInt248Type?mr=35056:mr=33189:nn.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),nn.format===DepthFormat&&mr===6402&&nn.type!==UnsignedShortType&&nn.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),nn.type=UnsignedShortType,yr=rt.convert(nn.type)),nn.format===DepthStencilFormat&&mr===6402&&(mr=34041,nn.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),nn.type=UnsignedInt248Type,yr=rt.convert(nn.type))),sr&&Er?et.texStorage2D(3553,1,mr,kn.width,kn.height):et.texImage2D(3553,0,mr,kn.width,kn.height,0,Mr,yr,null);else if(nn.isDataTexture)if(ur.length>0&&_r){sr&&Er&&et.texStorage2D(3553,ar,mr,ur[0].width,ur[0].height);for(let Jn=0,Pr=ur.length;Jn<Pr;Jn++)_n=ur[Jn],sr?et.texSubImage2D(3553,Jn,0,0,_n.width,_n.height,Mr,yr,_n.data):et.texImage2D(3553,Jn,mr,_n.width,_n.height,0,Mr,yr,_n.data);nn.generateMipmaps=!1}else sr?(Er&&et.texStorage2D(3553,ar,mr,kn.width,kn.height),et.texSubImage2D(3553,0,0,0,kn.width,kn.height,Mr,yr,kn.data)):et.texImage2D(3553,0,mr,kn.width,kn.height,0,Mr,yr,kn.data);else if(nn.isCompressedTexture){sr&&Er&&et.texStorage2D(3553,ar,mr,ur[0].width,ur[0].height);for(let Jn=0,Pr=ur.length;Jn<Pr;Jn++)_n=ur[Jn],nn.format!==RGBAFormat?Mr!==null?sr?et.compressedTexSubImage2D(3553,Jn,0,0,_n.width,_n.height,Mr,_n.data):et.compressedTexImage2D(3553,Jn,mr,_n.width,_n.height,0,_n.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):sr?et.texSubImage2D(3553,Jn,0,0,_n.width,_n.height,Mr,yr,_n.data):et.texImage2D(3553,Jn,mr,_n.width,_n.height,0,Mr,yr,_n.data)}else if(nn.isDataArrayTexture)sr?(Er&&et.texStorage3D(35866,ar,mr,kn.width,kn.height,kn.depth),et.texSubImage3D(35866,0,0,0,0,kn.width,kn.height,kn.depth,Mr,yr,kn.data)):et.texImage3D(35866,0,mr,kn.width,kn.height,kn.depth,0,Mr,yr,kn.data);else if(nn.isData3DTexture)sr?(Er&&et.texStorage3D(32879,ar,mr,kn.width,kn.height,kn.depth),et.texSubImage3D(32879,0,0,0,0,kn.width,kn.height,kn.depth,Mr,yr,kn.data)):et.texImage3D(32879,0,mr,kn.width,kn.height,kn.depth,0,Mr,yr,kn.data);else if(nn.isFramebufferTexture)sr&&Er?et.texStorage2D(3553,ar,mr,kn.width,kn.height):et.texImage2D(3553,0,mr,kn.width,kn.height,0,Mr,yr,null);else if(ur.length>0&&_r){sr&&Er&&et.texStorage2D(3553,ar,mr,ur[0].width,ur[0].height);for(let Jn=0,Pr=ur.length;Jn<Pr;Jn++)_n=ur[Jn],sr?et.texSubImage2D(3553,Jn,0,0,Mr,yr,_n):et.texImage2D(3553,Jn,mr,Mr,yr,_n);nn.generateMipmaps=!1}else sr?(Er&&et.texStorage2D(3553,ar,mr,kn.width,kn.height),et.texSubImage2D(3553,0,0,0,Mr,yr,kn)):et.texImage2D(3553,0,mr,Mr,yr,kn);Tt(nn,_r)&&wt(Hn),Qn.__currentVersion=Qn.version,nn.onUpdate&&nn.onUpdate(nn)}sn.__version=nn.version}function Dn(sn,nn,Cn){if(nn.image.length!==6)return;const Hn=fn(sn,nn),Kn=nn.source;if(et.activeTexture(33984+Cn),et.bindTexture(34067,sn.__webglTexture),Kn.version!==Kn.__currentVersion||Hn===!0){_e.pixelStorei(37440,nn.flipY),_e.pixelStorei(37441,nn.premultiplyAlpha),_e.pixelStorei(3317,nn.unpackAlignment),_e.pixelStorei(37443,0);const Qn=nn.isCompressedTexture||nn.image[0].isCompressedTexture,pr=nn.image[0]&&nn.image[0].isDataTexture,kn=[];for(let Jn=0;Jn<6;Jn++)!Qn&&!pr?kn[Jn]=mt(nn.image[Jn],!1,!0,ot):kn[Jn]=pr?nn.image[Jn].image:nn.image[Jn],kn[Jn]=fr(nn,kn[Jn]);const _r=kn[0],Mr=xt(_r)||st,yr=rt.convert(nn.format,nn.encoding),mr=rt.convert(nn.type),_n=bt(nn.internalFormat,yr,mr,nn.encoding),ur=st&&nn.isVideoTexture!==!0,sr=sn.__version===void 0;let Er=Ct(nn,_r,Mr);yn(34067,nn,Mr);let ar;if(Qn){ur&&sr&&et.texStorage2D(34067,Er,_n,_r.width,_r.height);for(let Jn=0;Jn<6;Jn++){ar=kn[Jn].mipmaps;for(let Pr=0;Pr<ar.length;Pr++){const Hr=ar[Pr];nn.format!==RGBAFormat?yr!==null?ur?et.compressedTexSubImage2D(34069+Jn,Pr,0,0,Hr.width,Hr.height,yr,Hr.data):et.compressedTexImage2D(34069+Jn,Pr,_n,Hr.width,Hr.height,0,Hr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ur?et.texSubImage2D(34069+Jn,Pr,0,0,Hr.width,Hr.height,yr,mr,Hr.data):et.texImage2D(34069+Jn,Pr,_n,Hr.width,Hr.height,0,yr,mr,Hr.data)}}}else{ar=nn.mipmaps,ur&&sr&&(ar.length>0&&Er++,et.texStorage2D(34067,Er,_n,kn[0].width,kn[0].height));for(let Jn=0;Jn<6;Jn++)if(pr){ur?et.texSubImage2D(34069+Jn,0,0,0,kn[Jn].width,kn[Jn].height,yr,mr,kn[Jn].data):et.texImage2D(34069+Jn,0,_n,kn[Jn].width,kn[Jn].height,0,yr,mr,kn[Jn].data);for(let Pr=0;Pr<ar.length;Pr++){const ds=ar[Pr].image[Jn].image;ur?et.texSubImage2D(34069+Jn,Pr+1,0,0,ds.width,ds.height,yr,mr,ds.data):et.texImage2D(34069+Jn,Pr+1,_n,ds.width,ds.height,0,yr,mr,ds.data)}}else{ur?et.texSubImage2D(34069+Jn,0,0,0,yr,mr,kn[Jn]):et.texImage2D(34069+Jn,0,_n,yr,mr,kn[Jn]);for(let Pr=0;Pr<ar.length;Pr++){const Hr=ar[Pr];ur?et.texSubImage2D(34069+Jn,Pr+1,0,0,yr,mr,Hr.image[Jn]):et.texImage2D(34069+Jn,Pr+1,_n,yr,mr,Hr.image[Jn])}}}Tt(nn,Mr)&&wt(34067),Kn.__currentVersion=Kn.version,nn.onUpdate&&nn.onUpdate(nn)}sn.__version=nn.version}function Mn(sn,nn,Cn,Hn,Kn){const Qn=rt.convert(Cn.format,Cn.encoding),pr=rt.convert(Cn.type),kn=bt(Cn.internalFormat,Qn,pr,Cn.encoding);tt.get(nn).__hasExternalTextures||(Kn===32879||Kn===35866?et.texImage3D(Kn,0,kn,nn.width,nn.height,nn.depth,0,Qn,pr,null):et.texImage2D(Kn,0,kn,nn.width,nn.height,0,Qn,pr,null)),et.bindFramebuffer(36160,sn),rr(nn)?ct.framebufferTexture2DMultisampleEXT(36160,Hn,Kn,tt.get(Cn).__webglTexture,0,tr(nn)):_e.framebufferTexture2D(36160,Hn,Kn,tt.get(Cn).__webglTexture,0),et.bindFramebuffer(36160,null)}function Fn(sn,nn,Cn){if(_e.bindRenderbuffer(36161,sn),nn.depthBuffer&&!nn.stencilBuffer){let Hn=33189;if(Cn||rr(nn)){const Kn=nn.depthTexture;Kn&&Kn.isDepthTexture&&(Kn.type===FloatType?Hn=36012:Kn.type===UnsignedIntType&&(Hn=33190));const Qn=tr(nn);rr(nn)?ct.renderbufferStorageMultisampleEXT(36161,Qn,Hn,nn.width,nn.height):_e.renderbufferStorageMultisample(36161,Qn,Hn,nn.width,nn.height)}else _e.renderbufferStorage(36161,Hn,nn.width,nn.height);_e.framebufferRenderbuffer(36160,36096,36161,sn)}else if(nn.depthBuffer&&nn.stencilBuffer){const Hn=tr(nn);Cn&&rr(nn)===!1?_e.renderbufferStorageMultisample(36161,Hn,35056,nn.width,nn.height):rr(nn)?ct.renderbufferStorageMultisampleEXT(36161,Hn,35056,nn.width,nn.height):_e.renderbufferStorage(36161,34041,nn.width,nn.height),_e.framebufferRenderbuffer(36160,33306,36161,sn)}else{const Hn=nn.isWebGLMultipleRenderTargets===!0?nn.texture[0]:nn.texture,Kn=rt.convert(Hn.format,Hn.encoding),Qn=rt.convert(Hn.type),pr=bt(Hn.internalFormat,Kn,Qn,Hn.encoding),kn=tr(nn);Cn&&rr(nn)===!1?_e.renderbufferStorageMultisample(36161,kn,pr,nn.width,nn.height):rr(nn)?ct.renderbufferStorageMultisampleEXT(36161,kn,pr,nn.width,nn.height):_e.renderbufferStorage(36161,pr,nn.width,nn.height)}_e.bindRenderbuffer(36161,null)}function Vn(sn,nn){if(nn&&nn.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(et.bindFramebuffer(36160,sn),!(nn.depthTexture&&nn.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!tt.get(nn.depthTexture).__webglTexture||nn.depthTexture.image.width!==nn.width||nn.depthTexture.image.height!==nn.height)&&(nn.depthTexture.image.width=nn.width,nn.depthTexture.image.height=nn.height,nn.depthTexture.needsUpdate=!0),zt(nn.depthTexture,0);const Hn=tt.get(nn.depthTexture).__webglTexture,Kn=tr(nn);if(nn.depthTexture.format===DepthFormat)rr(nn)?ct.framebufferTexture2DMultisampleEXT(36160,36096,3553,Hn,0,Kn):_e.framebufferTexture2D(36160,36096,3553,Hn,0);else if(nn.depthTexture.format===DepthStencilFormat)rr(nn)?ct.framebufferTexture2DMultisampleEXT(36160,33306,3553,Hn,0,Kn):_e.framebufferTexture2D(36160,33306,3553,Hn,0);else throw new Error("Unknown depthTexture format")}function mn(sn){const nn=tt.get(sn),Cn=sn.isWebGLCubeRenderTarget===!0;if(sn.depthTexture&&!nn.__autoAllocateDepthBuffer){if(Cn)throw new Error("target.depthTexture not supported in Cube render targets");Vn(nn.__webglFramebuffer,sn)}else if(Cn){nn.__webglDepthbuffer=[];for(let Hn=0;Hn<6;Hn++)et.bindFramebuffer(36160,nn.__webglFramebuffer[Hn]),nn.__webglDepthbuffer[Hn]=_e.createRenderbuffer(),Fn(nn.__webglDepthbuffer[Hn],sn,!1)}else et.bindFramebuffer(36160,nn.__webglFramebuffer),nn.__webglDepthbuffer=_e.createRenderbuffer(),Fn(nn.__webglDepthbuffer,sn,!1);et.bindFramebuffer(36160,null)}function dn(sn,nn,Cn){const Hn=tt.get(sn);nn!==void 0&&Mn(Hn.__webglFramebuffer,sn,sn.texture,36064,3553),Cn!==void 0&&mn(sn)}function An(sn){const nn=sn.texture,Cn=tt.get(sn),Hn=tt.get(nn);sn.addEventListener("dispose",Rt),sn.isWebGLMultipleRenderTargets!==!0&&(Hn.__webglTexture===void 0&&(Hn.__webglTexture=_e.createTexture()),Hn.__version=nn.version,it.memory.textures++);const Kn=sn.isWebGLCubeRenderTarget===!0,Qn=sn.isWebGLMultipleRenderTargets===!0,pr=xt(sn)||st;if(Kn){Cn.__webglFramebuffer=[];for(let kn=0;kn<6;kn++)Cn.__webglFramebuffer[kn]=_e.createFramebuffer()}else if(Cn.__webglFramebuffer=_e.createFramebuffer(),Qn)if(nt.drawBuffers){const kn=sn.texture;for(let _r=0,Mr=kn.length;_r<Mr;_r++){const yr=tt.get(kn[_r]);yr.__webglTexture===void 0&&(yr.__webglTexture=_e.createTexture(),it.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(st&&sn.samples>0&&rr(sn)===!1){Cn.__webglMultisampledFramebuffer=_e.createFramebuffer(),Cn.__webglColorRenderbuffer=_e.createRenderbuffer(),_e.bindRenderbuffer(36161,Cn.__webglColorRenderbuffer);const kn=rt.convert(nn.format,nn.encoding),_r=rt.convert(nn.type),Mr=bt(nn.internalFormat,kn,_r,nn.encoding),yr=tr(sn);_e.renderbufferStorageMultisample(36161,yr,Mr,sn.width,sn.height),et.bindFramebuffer(36160,Cn.__webglMultisampledFramebuffer),_e.framebufferRenderbuffer(36160,36064,36161,Cn.__webglColorRenderbuffer),_e.bindRenderbuffer(36161,null),sn.depthBuffer&&(Cn.__webglDepthRenderbuffer=_e.createRenderbuffer(),Fn(Cn.__webglDepthRenderbuffer,sn,!0)),et.bindFramebuffer(36160,null)}if(Kn){et.bindTexture(34067,Hn.__webglTexture),yn(34067,nn,pr);for(let kn=0;kn<6;kn++)Mn(Cn.__webglFramebuffer[kn],sn,nn,36064,34069+kn);Tt(nn,pr)&&wt(34067),et.unbindTexture()}else if(Qn){const kn=sn.texture;for(let _r=0,Mr=kn.length;_r<Mr;_r++){const yr=kn[_r],mr=tt.get(yr);et.bindTexture(3553,mr.__webglTexture),yn(3553,yr,pr),Mn(Cn.__webglFramebuffer,sn,yr,36064+_r,3553),Tt(yr,pr)&&wt(3553)}et.unbindTexture()}else{let kn=3553;(sn.isWebGL3DRenderTarget||sn.isWebGLArrayRenderTarget)&&(st?kn=sn.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),et.bindTexture(kn,Hn.__webglTexture),yn(kn,nn,pr),Mn(Cn.__webglFramebuffer,sn,nn,36064,kn),Tt(nn,pr)&&wt(kn),et.unbindTexture()}sn.depthBuffer&&mn(sn)}function Yn(sn){const nn=xt(sn)||st,Cn=sn.isWebGLMultipleRenderTargets===!0?sn.texture:[sn.texture];for(let Hn=0,Kn=Cn.length;Hn<Kn;Hn++){const Qn=Cn[Hn];if(Tt(Qn,nn)){const pr=sn.isWebGLCubeRenderTarget?34067:3553,kn=tt.get(Qn).__webglTexture;et.bindTexture(pr,kn),wt(pr),et.unbindTexture()}}}function Bn(sn){if(st&&sn.samples>0&&rr(sn)===!1){const nn=sn.width,Cn=sn.height;let Hn=16384;const Kn=[36064],Qn=sn.stencilBuffer?33306:36096;sn.depthBuffer&&Kn.push(Qn);const pr=tt.get(sn),kn=pr.__ignoreDepthValues!==void 0?pr.__ignoreDepthValues:!1;kn===!1&&(sn.depthBuffer&&(Hn|=256),sn.stencilBuffer&&(Hn|=1024)),et.bindFramebuffer(36008,pr.__webglMultisampledFramebuffer),et.bindFramebuffer(36009,pr.__webglFramebuffer),kn===!0&&(_e.invalidateFramebuffer(36008,[Qn]),_e.invalidateFramebuffer(36009,[Qn])),_e.blitFramebuffer(0,0,nn,Cn,0,0,nn,Cn,Hn,9728),_e.invalidateFramebuffer(36008,Kn),et.bindFramebuffer(36008,null),et.bindFramebuffer(36009,pr.__webglMultisampledFramebuffer)}}function tr(sn){return Math.min(ut,sn.samples)}function rr(sn){const nn=tt.get(sn);return st&&sn.samples>0&&j.has("WEBGL_multisampled_render_to_texture")===!0&&nn.__useRenderToTexture!==!1}function hr(sn){const nn=it.render.frame;ht.get(sn)!==nn&&(ht.set(sn,nn),sn.update())}function fr(sn,nn){const Cn=sn.encoding,Hn=sn.format,Kn=sn.type;return sn.isCompressedTexture===!0||sn.isVideoTexture===!0||sn.format===_SRGBAFormat||Cn!==LinearEncoding&&(Cn===sRGBEncoding?st===!1?j.has("EXT_sRGB")===!0&&Hn===RGBAFormat?(sn.format=_SRGBAFormat,sn.minFilter=LinearFilter,sn.generateMipmaps=!1):nn=ImageUtils.sRGBToLinear(nn):(Hn!==RGBAFormat||Kn!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Cn)),nn}this.allocateTextureUnit=Ot,this.resetTextureUnits=It,this.setTexture2D=zt,this.setTexture2DArray=Ht,this.setTexture3D=Vt,this.setTextureCube=qt,this.rebindTextures=dn,this.setupRenderTarget=An,this.updateRenderTargetMipmap=Yn,this.updateMultisampleRenderTarget=Bn,this.setupDepthRenderbuffer=mn,this.setupFrameBufferTexture=Mn,this.useMultisampledRTT=rr}function WebGLUtils(_e,j,et){const tt=et.isWebGL2;function nt(rt,it=null){let st;if(rt===UnsignedByteType)return 5121;if(rt===UnsignedShort4444Type)return 32819;if(rt===UnsignedShort5551Type)return 32820;if(rt===ByteType)return 5120;if(rt===ShortType)return 5122;if(rt===UnsignedShortType)return 5123;if(rt===IntType)return 5124;if(rt===UnsignedIntType)return 5125;if(rt===FloatType)return 5126;if(rt===HalfFloatType)return tt?5131:(st=j.get("OES_texture_half_float"),st!==null?st.HALF_FLOAT_OES:null);if(rt===AlphaFormat)return 6406;if(rt===RGBAFormat)return 6408;if(rt===LuminanceFormat)return 6409;if(rt===LuminanceAlphaFormat)return 6410;if(rt===DepthFormat)return 6402;if(rt===DepthStencilFormat)return 34041;if(rt===RedFormat)return 6403;if(rt===RGBFormat)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(rt===_SRGBAFormat)return st=j.get("EXT_sRGB"),st!==null?st.SRGB_ALPHA_EXT:null;if(rt===RedIntegerFormat)return 36244;if(rt===RGFormat)return 33319;if(rt===RGIntegerFormat)return 33320;if(rt===RGBAIntegerFormat)return 36249;if(rt===RGB_S3TC_DXT1_Format||rt===RGBA_S3TC_DXT1_Format||rt===RGBA_S3TC_DXT3_Format||rt===RGBA_S3TC_DXT5_Format)if(it===sRGBEncoding)if(st=j.get("WEBGL_compressed_texture_s3tc_srgb"),st!==null){if(rt===RGB_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(rt===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(st=j.get("WEBGL_compressed_texture_s3tc"),st!==null){if(rt===RGB_S3TC_DXT1_Format)return st.COMPRESSED_RGB_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(rt===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(rt===RGB_PVRTC_4BPPV1_Format||rt===RGB_PVRTC_2BPPV1_Format||rt===RGBA_PVRTC_4BPPV1_Format||rt===RGBA_PVRTC_2BPPV1_Format)if(st=j.get("WEBGL_compressed_texture_pvrtc"),st!==null){if(rt===RGB_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(rt===RGB_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(rt===RGBA_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(rt===RGBA_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(rt===RGB_ETC1_Format)return st=j.get("WEBGL_compressed_texture_etc1"),st!==null?st.COMPRESSED_RGB_ETC1_WEBGL:null;if(rt===RGB_ETC2_Format||rt===RGBA_ETC2_EAC_Format)if(st=j.get("WEBGL_compressed_texture_etc"),st!==null){if(rt===RGB_ETC2_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ETC2:st.COMPRESSED_RGB8_ETC2;if(rt===RGBA_ETC2_EAC_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:st.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(rt===RGBA_ASTC_4x4_Format||rt===RGBA_ASTC_5x4_Format||rt===RGBA_ASTC_5x5_Format||rt===RGBA_ASTC_6x5_Format||rt===RGBA_ASTC_6x6_Format||rt===RGBA_ASTC_8x5_Format||rt===RGBA_ASTC_8x6_Format||rt===RGBA_ASTC_8x8_Format||rt===RGBA_ASTC_10x5_Format||rt===RGBA_ASTC_10x6_Format||rt===RGBA_ASTC_10x8_Format||rt===RGBA_ASTC_10x10_Format||rt===RGBA_ASTC_12x10_Format||rt===RGBA_ASTC_12x12_Format)if(st=j.get("WEBGL_compressed_texture_astc"),st!==null){if(rt===RGBA_ASTC_4x4_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:st.COMPRESSED_RGBA_ASTC_4x4_KHR;if(rt===RGBA_ASTC_5x4_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:st.COMPRESSED_RGBA_ASTC_5x4_KHR;if(rt===RGBA_ASTC_5x5_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:st.COMPRESSED_RGBA_ASTC_5x5_KHR;if(rt===RGBA_ASTC_6x5_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:st.COMPRESSED_RGBA_ASTC_6x5_KHR;if(rt===RGBA_ASTC_6x6_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:st.COMPRESSED_RGBA_ASTC_6x6_KHR;if(rt===RGBA_ASTC_8x5_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:st.COMPRESSED_RGBA_ASTC_8x5_KHR;if(rt===RGBA_ASTC_8x6_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:st.COMPRESSED_RGBA_ASTC_8x6_KHR;if(rt===RGBA_ASTC_8x8_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:st.COMPRESSED_RGBA_ASTC_8x8_KHR;if(rt===RGBA_ASTC_10x5_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:st.COMPRESSED_RGBA_ASTC_10x5_KHR;if(rt===RGBA_ASTC_10x6_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:st.COMPRESSED_RGBA_ASTC_10x6_KHR;if(rt===RGBA_ASTC_10x8_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:st.COMPRESSED_RGBA_ASTC_10x8_KHR;if(rt===RGBA_ASTC_10x10_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:st.COMPRESSED_RGBA_ASTC_10x10_KHR;if(rt===RGBA_ASTC_12x10_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:st.COMPRESSED_RGBA_ASTC_12x10_KHR;if(rt===RGBA_ASTC_12x12_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:st.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(rt===RGBA_BPTC_Format)if(st=j.get("EXT_texture_compression_bptc"),st!==null){if(rt===RGBA_BPTC_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:st.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(rt===UnsignedInt248Type)return tt?34042:(st=j.get("WEBGL_depth_texture"),st!==null?st.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:nt}}class ArrayCamera extends PerspectiveCamera{constructor(j=[]){super(),this.cameras=j}}ArrayCamera.prototype.isArrayCamera=!0;class Group extends Object3D{constructor(){super(),this.type="Group"}}Group.prototype.isGroup=!0;const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(j){return this._targetRay!==null&&this._targetRay.dispatchEvent(j),this._grip!==null&&this._grip.dispatchEvent(j),this._hand!==null&&this._hand.dispatchEvent(j),this}disconnect(j){return this.dispatchEvent({type:"disconnected",data:j}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(j,et,tt){let nt=null,rt=null,it=null;const st=this._targetRay,at=this._grip,ot=this._hand;if(j&&et.session.visibilityState!=="visible-blurred")if(st!==null&&(nt=et.getPose(j.targetRaySpace,tt),nt!==null&&(st.matrix.fromArray(nt.transform.matrix),st.matrix.decompose(st.position,st.rotation,st.scale),nt.linearVelocity?(st.hasLinearVelocity=!0,st.linearVelocity.copy(nt.linearVelocity)):st.hasLinearVelocity=!1,nt.angularVelocity?(st.hasAngularVelocity=!0,st.angularVelocity.copy(nt.angularVelocity)):st.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent))),ot&&j.hand){it=!0;for(const gt of j.hand.values()){const vt=et.getJointPose(gt,tt);if(ot.joints[gt.jointName]===void 0){const mt=new Group;mt.matrixAutoUpdate=!1,mt.visible=!1,ot.joints[gt.jointName]=mt,ot.add(mt)}const ft=ot.joints[gt.jointName];vt!==null&&(ft.matrix.fromArray(vt.transform.matrix),ft.matrix.decompose(ft.position,ft.rotation,ft.scale),ft.jointRadius=vt.radius),ft.visible=vt!==null}const lt=ot.joints["index-finger-tip"],ut=ot.joints["thumb-tip"],ct=lt.position.distanceTo(ut.position),ht=.02,pt=.005;ot.inputState.pinching&&ct>ht+pt?(ot.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:j.handedness,target:this})):!ot.inputState.pinching&&ct<=ht-pt&&(ot.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:j.handedness,target:this}))}else at!==null&&j.gripSpace&&(rt=et.getPose(j.gripSpace,tt),rt!==null&&(at.matrix.fromArray(rt.transform.matrix),at.matrix.decompose(at.position,at.rotation,at.scale),rt.linearVelocity?(at.hasLinearVelocity=!0,at.linearVelocity.copy(rt.linearVelocity)):at.hasLinearVelocity=!1,rt.angularVelocity?(at.hasAngularVelocity=!0,at.angularVelocity.copy(rt.angularVelocity)):at.hasAngularVelocity=!1));return st!==null&&(st.visible=nt!==null),at!==null&&(at.visible=rt!==null),ot!==null&&(ot.visible=it!==null),this}}class DepthTexture extends Texture{constructor(j,et,tt,nt,rt,it,st,at,ot,lt){if(lt=lt!==void 0?lt:DepthFormat,lt!==DepthFormat&&lt!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");tt===void 0&&lt===DepthFormat&&(tt=UnsignedShortType),tt===void 0&&lt===DepthStencilFormat&&(tt=UnsignedInt248Type),super(null,nt,rt,it,st,at,lt,tt,ot),this.image={width:j,height:et},this.magFilter=st!==void 0?st:NearestFilter,this.minFilter=at!==void 0?at:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}DepthTexture.prototype.isDepthTexture=!0;class WebXRManager extends EventDispatcher{constructor(j,et){super();const tt=this;let nt=null,rt=1,it=null,st="local-floor",at=null,ot=null,lt=null,ut=null,ct=null;const ht=et.getContextAttributes();let pt=null,gt=null;const vt=[],ft=new Map,mt=new PerspectiveCamera;mt.layers.enable(1),mt.viewport=new Vector4;const xt=new PerspectiveCamera;xt.layers.enable(2),xt.viewport=new Vector4;const _t=[mt,xt],Tt=new ArrayCamera;Tt.layers.enable(1),Tt.layers.enable(2);let wt=null,bt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ut){let zt=vt[Ut];return zt===void 0&&(zt=new WebXRController,vt[Ut]=zt),zt.getTargetRaySpace()},this.getControllerGrip=function(Ut){let zt=vt[Ut];return zt===void 0&&(zt=new WebXRController,vt[Ut]=zt),zt.getGripSpace()},this.getHand=function(Ut){let zt=vt[Ut];return zt===void 0&&(zt=new WebXRController,vt[Ut]=zt),zt.getHandSpace()};function Ct(Ut){const zt=ft.get(Ut.inputSource);zt&&zt.dispatchEvent({type:Ut.type,data:Ut.inputSource})}function Lt(){ft.forEach(function(Ut,zt){Ut.disconnect(zt)}),ft.clear(),wt=null,bt=null,j.setRenderTarget(pt),ut=null,lt=null,ot=null,nt=null,gt=null,Ot.stop(),tt.isPresenting=!1,tt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Ut){rt=Ut,tt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ut){st=Ut,tt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return it},this.getBaseLayer=function(){return lt!==null?lt:ut},this.getBinding=function(){return ot},this.getFrame=function(){return ct},this.getSession=function(){return nt},this.setSession=async function(Ut){if(nt=Ut,nt!==null){if(pt=j.getRenderTarget(),nt.addEventListener("select",Ct),nt.addEventListener("selectstart",Ct),nt.addEventListener("selectend",Ct),nt.addEventListener("squeeze",Ct),nt.addEventListener("squeezestart",Ct),nt.addEventListener("squeezeend",Ct),nt.addEventListener("end",Lt),nt.addEventListener("inputsourceschange",$t),ht.xrCompatible!==!0&&await et.makeXRCompatible(),nt.renderState.layers===void 0||j.capabilities.isWebGL2===!1){const zt={antialias:nt.renderState.layers===void 0?ht.antialias:!0,alpha:ht.alpha,depth:ht.depth,stencil:ht.stencil,framebufferScaleFactor:rt};ut=new XRWebGLLayer(nt,et,zt),nt.updateRenderState({baseLayer:ut}),gt=new WebGLRenderTarget(ut.framebufferWidth,ut.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,encoding:j.outputEncoding})}else{let zt=null,Ht=null,Vt=null;ht.depth&&(Vt=ht.stencil?35056:33190,zt=ht.stencil?DepthStencilFormat:DepthFormat,Ht=ht.stencil?UnsignedInt248Type:UnsignedShortType);const qt={colorFormat:j.outputEncoding===sRGBEncoding?35907:32856,depthFormat:Vt,scaleFactor:rt};ot=new XRWebGLBinding(nt,et),lt=ot.createProjectionLayer(qt),nt.updateRenderState({layers:[lt]}),gt=new WebGLRenderTarget(lt.textureWidth,lt.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(lt.textureWidth,lt.textureHeight,Ht,void 0,void 0,void 0,void 0,void 0,void 0,zt),stencilBuffer:ht.stencil,encoding:j.outputEncoding,samples:ht.antialias?4:0});const an=j.properties.get(gt);an.__ignoreDepthValues=lt.ignoreDepthValues}gt.isXRRenderTarget=!0,this.setFoveation(1),it=await nt.requestReferenceSpace(st),Ot.setContext(nt),Ot.start(),tt.isPresenting=!0,tt.dispatchEvent({type:"sessionstart"})}};function $t(Ut){const zt=nt.inputSources;for(let Ht=0;Ht<vt.length;Ht++)ft.set(zt[Ht],vt[Ht]);for(let Ht=0;Ht<Ut.removed.length;Ht++){const Vt=Ut.removed[Ht],qt=ft.get(Vt);qt&&(qt.dispatchEvent({type:"disconnected",data:Vt}),ft.delete(Vt))}for(let Ht=0;Ht<Ut.added.length;Ht++){const Vt=Ut.added[Ht],qt=ft.get(Vt);qt&&qt.dispatchEvent({type:"connected",data:Vt})}}const Rt=new Vector3,Bt=new Vector3;function Gt(Ut,zt,Ht){Rt.setFromMatrixPosition(zt.matrixWorld),Bt.setFromMatrixPosition(Ht.matrixWorld);const Vt=Rt.distanceTo(Bt),qt=zt.projectionMatrix.elements,an=Ht.projectionMatrix.elements,gn=qt[14]/(qt[10]-1),yn=qt[14]/(qt[10]+1),fn=(qt[9]+1)/qt[5],In=(qt[9]-1)/qt[5],Dn=(qt[8]-1)/qt[0],Mn=(an[8]+1)/an[0],Fn=gn*Dn,Vn=gn*Mn,mn=Vt/(-Dn+Mn),dn=mn*-Dn;zt.matrixWorld.decompose(Ut.position,Ut.quaternion,Ut.scale),Ut.translateX(dn),Ut.translateZ(mn),Ut.matrixWorld.compose(Ut.position,Ut.quaternion,Ut.scale),Ut.matrixWorldInverse.copy(Ut.matrixWorld).invert();const An=gn+mn,Yn=yn+mn,Bn=Fn-dn,tr=Vn+(Vt-dn),rr=fn*yn/Yn*An,hr=In*yn/Yn*An;Ut.projectionMatrix.makePerspective(Bn,tr,rr,hr,An,Yn)}function Ft(Ut,zt){zt===null?Ut.matrixWorld.copy(Ut.matrix):Ut.matrixWorld.multiplyMatrices(zt.matrixWorld,Ut.matrix),Ut.matrixWorldInverse.copy(Ut.matrixWorld).invert()}this.updateCamera=function(Ut){if(nt===null)return;Tt.near=xt.near=mt.near=Ut.near,Tt.far=xt.far=mt.far=Ut.far,(wt!==Tt.near||bt!==Tt.far)&&(nt.updateRenderState({depthNear:Tt.near,depthFar:Tt.far}),wt=Tt.near,bt=Tt.far);const zt=Ut.parent,Ht=Tt.cameras;Ft(Tt,zt);for(let qt=0;qt<Ht.length;qt++)Ft(Ht[qt],zt);Tt.matrixWorld.decompose(Tt.position,Tt.quaternion,Tt.scale),Ut.position.copy(Tt.position),Ut.quaternion.copy(Tt.quaternion),Ut.scale.copy(Tt.scale),Ut.matrix.copy(Tt.matrix),Ut.matrixWorld.copy(Tt.matrixWorld);const Vt=Ut.children;for(let qt=0,an=Vt.length;qt<an;qt++)Vt[qt].updateMatrixWorld(!0);Ht.length===2?Gt(Tt,mt,xt):Tt.projectionMatrix.copy(mt.projectionMatrix)},this.getCamera=function(){return Tt},this.getFoveation=function(){if(lt!==null)return lt.fixedFoveation;if(ut!==null)return ut.fixedFoveation},this.setFoveation=function(Ut){lt!==null&&(lt.fixedFoveation=Ut),ut!==null&&ut.fixedFoveation!==void 0&&(ut.fixedFoveation=Ut)};let kt=null;function It(Ut,zt){if(at=zt.getViewerPose(it),ct=zt,at!==null){const Vt=at.views;ut!==null&&(j.setRenderTargetFramebuffer(gt,ut.framebuffer),j.setRenderTarget(gt));let qt=!1;Vt.length!==Tt.cameras.length&&(Tt.cameras.length=0,qt=!0);for(let an=0;an<Vt.length;an++){const gn=Vt[an];let yn=null;if(ut!==null)yn=ut.getViewport(gn);else{const In=ot.getViewSubImage(lt,gn);yn=In.viewport,an===0&&(j.setRenderTargetTextures(gt,In.colorTexture,lt.ignoreDepthValues?void 0:In.depthStencilTexture),j.setRenderTarget(gt))}const fn=_t[an];fn.matrix.fromArray(gn.transform.matrix),fn.projectionMatrix.fromArray(gn.projectionMatrix),fn.viewport.set(yn.x,yn.y,yn.width,yn.height),an===0&&Tt.matrix.copy(fn.matrix),qt===!0&&Tt.cameras.push(fn)}}const Ht=nt.inputSources;for(let Vt=0;Vt<vt.length;Vt++){const qt=vt[Vt],an=Ht[Vt];qt.update(an,zt,it)}kt&&kt(Ut,zt),ct=null}const Ot=new WebGLAnimation;Ot.setAnimationLoop(It),this.setAnimationLoop=function(Ut){kt=Ut},this.dispose=function(){}}}function WebGLMaterials(_e){function j(ft,mt){ft.fogColor.value.copy(mt.color),mt.isFog?(ft.fogNear.value=mt.near,ft.fogFar.value=mt.far):mt.isFogExp2&&(ft.fogDensity.value=mt.density)}function et(ft,mt,xt,_t,Tt){mt.isMeshBasicMaterial?tt(ft,mt):mt.isMeshLambertMaterial?(tt(ft,mt),at(ft,mt)):mt.isMeshToonMaterial?(tt(ft,mt),lt(ft,mt)):mt.isMeshPhongMaterial?(tt(ft,mt),ot(ft,mt)):mt.isMeshStandardMaterial?(tt(ft,mt),mt.isMeshPhysicalMaterial?ct(ft,mt,Tt):ut(ft,mt)):mt.isMeshMatcapMaterial?(tt(ft,mt),ht(ft,mt)):mt.isMeshDepthMaterial?(tt(ft,mt),pt(ft,mt)):mt.isMeshDistanceMaterial?(tt(ft,mt),gt(ft,mt)):mt.isMeshNormalMaterial?(tt(ft,mt),vt(ft,mt)):mt.isLineBasicMaterial?(nt(ft,mt),mt.isLineDashedMaterial&&rt(ft,mt)):mt.isPointsMaterial?it(ft,mt,xt,_t):mt.isSpriteMaterial?st(ft,mt):mt.isShadowMaterial?(ft.color.value.copy(mt.color),ft.opacity.value=mt.opacity):mt.isShaderMaterial&&(mt.uniformsNeedUpdate=!1)}function tt(ft,mt){ft.opacity.value=mt.opacity,mt.color&&ft.diffuse.value.copy(mt.color),mt.emissive&&ft.emissive.value.copy(mt.emissive).multiplyScalar(mt.emissiveIntensity),mt.map&&(ft.map.value=mt.map),mt.alphaMap&&(ft.alphaMap.value=mt.alphaMap),mt.specularMap&&(ft.specularMap.value=mt.specularMap),mt.alphaTest>0&&(ft.alphaTest.value=mt.alphaTest);const xt=_e.get(mt).envMap;xt&&(ft.envMap.value=xt,ft.flipEnvMap.value=xt.isCubeTexture&&xt.isRenderTargetTexture===!1?-1:1,ft.reflectivity.value=mt.reflectivity,ft.ior.value=mt.ior,ft.refractionRatio.value=mt.refractionRatio),mt.lightMap&&(ft.lightMap.value=mt.lightMap,ft.lightMapIntensity.value=mt.lightMapIntensity),mt.aoMap&&(ft.aoMap.value=mt.aoMap,ft.aoMapIntensity.value=mt.aoMapIntensity);let _t;mt.map?_t=mt.map:mt.specularMap?_t=mt.specularMap:mt.displacementMap?_t=mt.displacementMap:mt.normalMap?_t=mt.normalMap:mt.bumpMap?_t=mt.bumpMap:mt.roughnessMap?_t=mt.roughnessMap:mt.metalnessMap?_t=mt.metalnessMap:mt.alphaMap?_t=mt.alphaMap:mt.emissiveMap?_t=mt.emissiveMap:mt.clearcoatMap?_t=mt.clearcoatMap:mt.clearcoatNormalMap?_t=mt.clearcoatNormalMap:mt.clearcoatRoughnessMap?_t=mt.clearcoatRoughnessMap:mt.specularIntensityMap?_t=mt.specularIntensityMap:mt.specularColorMap?_t=mt.specularColorMap:mt.transmissionMap?_t=mt.transmissionMap:mt.thicknessMap?_t=mt.thicknessMap:mt.sheenColorMap?_t=mt.sheenColorMap:mt.sheenRoughnessMap&&(_t=mt.sheenRoughnessMap),_t!==void 0&&(_t.isWebGLRenderTarget&&(_t=_t.texture),_t.matrixAutoUpdate===!0&&_t.updateMatrix(),ft.uvTransform.value.copy(_t.matrix));let Tt;mt.aoMap?Tt=mt.aoMap:mt.lightMap&&(Tt=mt.lightMap),Tt!==void 0&&(Tt.isWebGLRenderTarget&&(Tt=Tt.texture),Tt.matrixAutoUpdate===!0&&Tt.updateMatrix(),ft.uv2Transform.value.copy(Tt.matrix))}function nt(ft,mt){ft.diffuse.value.copy(mt.color),ft.opacity.value=mt.opacity}function rt(ft,mt){ft.dashSize.value=mt.dashSize,ft.totalSize.value=mt.dashSize+mt.gapSize,ft.scale.value=mt.scale}function it(ft,mt,xt,_t){ft.diffuse.value.copy(mt.color),ft.opacity.value=mt.opacity,ft.size.value=mt.size*xt,ft.scale.value=_t*.5,mt.map&&(ft.map.value=mt.map),mt.alphaMap&&(ft.alphaMap.value=mt.alphaMap),mt.alphaTest>0&&(ft.alphaTest.value=mt.alphaTest);let Tt;mt.map?Tt=mt.map:mt.alphaMap&&(Tt=mt.alphaMap),Tt!==void 0&&(Tt.matrixAutoUpdate===!0&&Tt.updateMatrix(),ft.uvTransform.value.copy(Tt.matrix))}function st(ft,mt){ft.diffuse.value.copy(mt.color),ft.opacity.value=mt.opacity,ft.rotation.value=mt.rotation,mt.map&&(ft.map.value=mt.map),mt.alphaMap&&(ft.alphaMap.value=mt.alphaMap),mt.alphaTest>0&&(ft.alphaTest.value=mt.alphaTest);let xt;mt.map?xt=mt.map:mt.alphaMap&&(xt=mt.alphaMap),xt!==void 0&&(xt.matrixAutoUpdate===!0&&xt.updateMatrix(),ft.uvTransform.value.copy(xt.matrix))}function at(ft,mt){mt.emissiveMap&&(ft.emissiveMap.value=mt.emissiveMap)}function ot(ft,mt){ft.specular.value.copy(mt.specular),ft.shininess.value=Math.max(mt.shininess,1e-4),mt.emissiveMap&&(ft.emissiveMap.value=mt.emissiveMap),mt.bumpMap&&(ft.bumpMap.value=mt.bumpMap,ft.bumpScale.value=mt.bumpScale,mt.side===BackSide&&(ft.bumpScale.value*=-1)),mt.normalMap&&(ft.normalMap.value=mt.normalMap,ft.normalScale.value.copy(mt.normalScale),mt.side===BackSide&&ft.normalScale.value.negate()),mt.displacementMap&&(ft.displacementMap.value=mt.displacementMap,ft.displacementScale.value=mt.displacementScale,ft.displacementBias.value=mt.displacementBias)}function lt(ft,mt){mt.gradientMap&&(ft.gradientMap.value=mt.gradientMap),mt.emissiveMap&&(ft.emissiveMap.value=mt.emissiveMap),mt.bumpMap&&(ft.bumpMap.value=mt.bumpMap,ft.bumpScale.value=mt.bumpScale,mt.side===BackSide&&(ft.bumpScale.value*=-1)),mt.normalMap&&(ft.normalMap.value=mt.normalMap,ft.normalScale.value.copy(mt.normalScale),mt.side===BackSide&&ft.normalScale.value.negate()),mt.displacementMap&&(ft.displacementMap.value=mt.displacementMap,ft.displacementScale.value=mt.displacementScale,ft.displacementBias.value=mt.displacementBias)}function ut(ft,mt){ft.roughness.value=mt.roughness,ft.metalness.value=mt.metalness,mt.roughnessMap&&(ft.roughnessMap.value=mt.roughnessMap),mt.metalnessMap&&(ft.metalnessMap.value=mt.metalnessMap),mt.emissiveMap&&(ft.emissiveMap.value=mt.emissiveMap),mt.bumpMap&&(ft.bumpMap.value=mt.bumpMap,ft.bumpScale.value=mt.bumpScale,mt.side===BackSide&&(ft.bumpScale.value*=-1)),mt.normalMap&&(ft.normalMap.value=mt.normalMap,ft.normalScale.value.copy(mt.normalScale),mt.side===BackSide&&ft.normalScale.value.negate()),mt.displacementMap&&(ft.displacementMap.value=mt.displacementMap,ft.displacementScale.value=mt.displacementScale,ft.displacementBias.value=mt.displacementBias),_e.get(mt).envMap&&(ft.envMapIntensity.value=mt.envMapIntensity)}function ct(ft,mt,xt){ut(ft,mt),ft.ior.value=mt.ior,mt.sheen>0&&(ft.sheenColor.value.copy(mt.sheenColor).multiplyScalar(mt.sheen),ft.sheenRoughness.value=mt.sheenRoughness,mt.sheenColorMap&&(ft.sheenColorMap.value=mt.sheenColorMap),mt.sheenRoughnessMap&&(ft.sheenRoughnessMap.value=mt.sheenRoughnessMap)),mt.clearcoat>0&&(ft.clearcoat.value=mt.clearcoat,ft.clearcoatRoughness.value=mt.clearcoatRoughness,mt.clearcoatMap&&(ft.clearcoatMap.value=mt.clearcoatMap),mt.clearcoatRoughnessMap&&(ft.clearcoatRoughnessMap.value=mt.clearcoatRoughnessMap),mt.clearcoatNormalMap&&(ft.clearcoatNormalScale.value.copy(mt.clearcoatNormalScale),ft.clearcoatNormalMap.value=mt.clearcoatNormalMap,mt.side===BackSide&&ft.clearcoatNormalScale.value.negate())),mt.transmission>0&&(ft.transmission.value=mt.transmission,ft.transmissionSamplerMap.value=xt.texture,ft.transmissionSamplerSize.value.set(xt.width,xt.height),mt.transmissionMap&&(ft.transmissionMap.value=mt.transmissionMap),ft.thickness.value=mt.thickness,mt.thicknessMap&&(ft.thicknessMap.value=mt.thicknessMap),ft.attenuationDistance.value=mt.attenuationDistance,ft.attenuationColor.value.copy(mt.attenuationColor)),ft.specularIntensity.value=mt.specularIntensity,ft.specularColor.value.copy(mt.specularColor),mt.specularIntensityMap&&(ft.specularIntensityMap.value=mt.specularIntensityMap),mt.specularColorMap&&(ft.specularColorMap.value=mt.specularColorMap)}function ht(ft,mt){mt.matcap&&(ft.matcap.value=mt.matcap),mt.bumpMap&&(ft.bumpMap.value=mt.bumpMap,ft.bumpScale.value=mt.bumpScale,mt.side===BackSide&&(ft.bumpScale.value*=-1)),mt.normalMap&&(ft.normalMap.value=mt.normalMap,ft.normalScale.value.copy(mt.normalScale),mt.side===BackSide&&ft.normalScale.value.negate()),mt.displacementMap&&(ft.displacementMap.value=mt.displacementMap,ft.displacementScale.value=mt.displacementScale,ft.displacementBias.value=mt.displacementBias)}function pt(ft,mt){mt.displacementMap&&(ft.displacementMap.value=mt.displacementMap,ft.displacementScale.value=mt.displacementScale,ft.displacementBias.value=mt.displacementBias)}function gt(ft,mt){mt.displacementMap&&(ft.displacementMap.value=mt.displacementMap,ft.displacementScale.value=mt.displacementScale,ft.displacementBias.value=mt.displacementBias),ft.referencePosition.value.copy(mt.referencePosition),ft.nearDistance.value=mt.nearDistance,ft.farDistance.value=mt.farDistance}function vt(ft,mt){mt.bumpMap&&(ft.bumpMap.value=mt.bumpMap,ft.bumpScale.value=mt.bumpScale,mt.side===BackSide&&(ft.bumpScale.value*=-1)),mt.normalMap&&(ft.normalMap.value=mt.normalMap,ft.normalScale.value.copy(mt.normalScale),mt.side===BackSide&&ft.normalScale.value.negate()),mt.displacementMap&&(ft.displacementMap.value=mt.displacementMap,ft.displacementScale.value=mt.displacementScale,ft.displacementBias.value=mt.displacementBias)}return{refreshFogUniforms:j,refreshMaterialUniforms:et}}function createCanvasElement(){const _e=createElementNS("canvas");return _e.style.display="block",_e}function WebGLRenderer(_e={}){const j=_e.canvas!==void 0?_e.canvas:createCanvasElement(),et=_e.context!==void 0?_e.context:null,tt=_e.depth!==void 0?_e.depth:!0,nt=_e.stencil!==void 0?_e.stencil:!0,rt=_e.antialias!==void 0?_e.antialias:!1,it=_e.premultipliedAlpha!==void 0?_e.premultipliedAlpha:!0,st=_e.preserveDrawingBuffer!==void 0?_e.preserveDrawingBuffer:!1,at=_e.powerPreference!==void 0?_e.powerPreference:"default",ot=_e.failIfMajorPerformanceCaveat!==void 0?_e.failIfMajorPerformanceCaveat:!1;let lt;_e.context!==void 0?lt=et.getContextAttributes().alpha:lt=_e.alpha!==void 0?_e.alpha:!1;let ut=null,ct=null;const ht=[],pt=[];this.domElement=j,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding,this.physicallyCorrectLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const gt=this;let vt=!1,ft=0,mt=0,xt=null,_t=-1,Tt=null;const wt=new Vector4,bt=new Vector4;let Ct=null,Lt=j.width,$t=j.height,Rt=1,Bt=null,Gt=null;const Ft=new Vector4(0,0,Lt,$t),kt=new Vector4(0,0,Lt,$t);let It=!1;const Ot=new Frustum;let Ut=!1,zt=!1,Ht=null;const Vt=new Matrix4,qt=new Vector2,an=new Vector3,gn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function yn(){return xt===null?Rt:1}let fn=et;function In(un,bn){for(let Nn=0;Nn<un.length;Nn++){const Ln=un[Nn],Xn=j.getContext(Ln,bn);if(Xn!==null)return Xn}return null}try{const un={alpha:!0,depth:tt,stencil:nt,antialias:rt,premultipliedAlpha:it,preserveDrawingBuffer:st,powerPreference:at,failIfMajorPerformanceCaveat:ot};if("setAttribute"in j&&j.setAttribute("data-engine",`three.js r${REVISION}`),j.addEventListener("webglcontextlost",_n,!1),j.addEventListener("webglcontextrestored",ur,!1),fn===null){const bn=["webgl2","webgl","experimental-webgl"];if(gt.isWebGL1Renderer===!0&&bn.shift(),fn=In(bn,un),fn===null)throw In(bn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}fn.getShaderPrecisionFormat===void 0&&(fn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(un){throw console.error("THREE.WebGLRenderer: "+un.message),un}let Dn,Mn,Fn,Vn,mn,dn,An,Yn,Bn,tr,rr,hr,fr,sn,nn,Cn,Hn,Kn,Qn,pr,kn,_r,Mr;function yr(){Dn=new WebGLExtensions(fn),Mn=new WebGLCapabilities(fn,Dn,_e),Dn.init(Mn),_r=new WebGLUtils(fn,Dn,Mn),Fn=new WebGLState(fn,Dn,Mn),Vn=new WebGLInfo,mn=new WebGLProperties,dn=new WebGLTextures(fn,Dn,Fn,mn,Mn,_r,Vn),An=new WebGLCubeMaps(gt),Yn=new WebGLCubeUVMaps(gt),Bn=new WebGLAttributes(fn,Mn),Mr=new WebGLBindingStates(fn,Dn,Bn,Mn),tr=new WebGLGeometries(fn,Bn,Vn,Mr),rr=new WebGLObjects(fn,tr,Bn,Vn),Qn=new WebGLMorphtargets(fn,Mn,dn),Cn=new WebGLClipping(mn),hr=new WebGLPrograms(gt,An,Yn,Dn,Mn,Mr,Cn),fr=new WebGLMaterials(mn),sn=new WebGLRenderLists,nn=new WebGLRenderStates(Dn,Mn),Kn=new WebGLBackground(gt,An,Fn,rr,lt,it),Hn=new WebGLShadowMap(gt,rr,Mn),pr=new WebGLBufferRenderer(fn,Dn,Vn,Mn),kn=new WebGLIndexedBufferRenderer(fn,Dn,Vn,Mn),Vn.programs=hr.programs,gt.capabilities=Mn,gt.extensions=Dn,gt.properties=mn,gt.renderLists=sn,gt.shadowMap=Hn,gt.state=Fn,gt.info=Vn}yr();const mr=new WebXRManager(gt,fn);this.xr=mr,this.getContext=function(){return fn},this.getContextAttributes=function(){return fn.getContextAttributes()},this.forceContextLoss=function(){const un=Dn.get("WEBGL_lose_context");un&&un.loseContext()},this.forceContextRestore=function(){const un=Dn.get("WEBGL_lose_context");un&&un.restoreContext()},this.getPixelRatio=function(){return Rt},this.setPixelRatio=function(un){un!==void 0&&(Rt=un,this.setSize(Lt,$t,!1))},this.getSize=function(un){return un.set(Lt,$t)},this.setSize=function(un,bn,Nn){if(mr.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Lt=un,$t=bn,j.width=Math.floor(un*Rt),j.height=Math.floor(bn*Rt),Nn!==!1&&(j.style.width=un+"px",j.style.height=bn+"px"),this.setViewport(0,0,un,bn)},this.getDrawingBufferSize=function(un){return un.set(Lt*Rt,$t*Rt).floor()},this.setDrawingBufferSize=function(un,bn,Nn){Lt=un,$t=bn,Rt=Nn,j.width=Math.floor(un*Nn),j.height=Math.floor(bn*Nn),this.setViewport(0,0,un,bn)},this.getCurrentViewport=function(un){return un.copy(wt)},this.getViewport=function(un){return un.copy(Ft)},this.setViewport=function(un,bn,Nn,Ln){un.isVector4?Ft.set(un.x,un.y,un.z,un.w):Ft.set(un,bn,Nn,Ln),Fn.viewport(wt.copy(Ft).multiplyScalar(Rt).floor())},this.getScissor=function(un){return un.copy(kt)},this.setScissor=function(un,bn,Nn,Ln){un.isVector4?kt.set(un.x,un.y,un.z,un.w):kt.set(un,bn,Nn,Ln),Fn.scissor(bt.copy(kt).multiplyScalar(Rt).floor())},this.getScissorTest=function(){return It},this.setScissorTest=function(un){Fn.setScissorTest(It=un)},this.setOpaqueSort=function(un){Bt=un},this.setTransparentSort=function(un){Gt=un},this.getClearColor=function(un){return un.copy(Kn.getClearColor())},this.setClearColor=function(){Kn.setClearColor.apply(Kn,arguments)},this.getClearAlpha=function(){return Kn.getClearAlpha()},this.setClearAlpha=function(){Kn.setClearAlpha.apply(Kn,arguments)},this.clear=function(un=!0,bn=!0,Nn=!0){let Ln=0;un&&(Ln|=16384),bn&&(Ln|=256),Nn&&(Ln|=1024),fn.clear(Ln)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){j.removeEventListener("webglcontextlost",_n,!1),j.removeEventListener("webglcontextrestored",ur,!1),sn.dispose(),nn.dispose(),mn.dispose(),An.dispose(),Yn.dispose(),rr.dispose(),Mr.dispose(),hr.dispose(),mr.dispose(),mr.removeEventListener("sessionstart",Hr),mr.removeEventListener("sessionend",ds),Ht&&(Ht.dispose(),Ht=null),Br.stop()};function _n(un){un.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),vt=!0}function ur(){console.log("THREE.WebGLRenderer: Context Restored."),vt=!1;const un=Vn.autoReset,bn=Hn.enabled,Nn=Hn.autoUpdate,Ln=Hn.needsUpdate,Xn=Hn.type;yr(),Vn.autoReset=un,Hn.enabled=bn,Hn.autoUpdate=Nn,Hn.needsUpdate=Ln,Hn.type=Xn}function sr(un){const bn=un.target;bn.removeEventListener("dispose",sr),Er(bn)}function Er(un){ar(un),mn.remove(un)}function ar(un){const bn=mn.get(un).programs;bn!==void 0&&(bn.forEach(function(Nn){hr.releaseProgram(Nn)}),un.isShaderMaterial&&hr.releaseShaderCache(un))}this.renderBufferDirect=function(un,bn,Nn,Ln,Xn,wr){bn===null&&(bn=gn);const Ir=Xn.isMesh&&Xn.matrixWorld.determinant()<0,Nr=zl(un,bn,Nn,Ln,Xn);Fn.setMaterial(Ln,Ir);let Or=Nn.index;const qr=Nn.attributes.position;if(Or===null){if(qr===void 0||qr.count===0)return}else if(Or.count===0)return;let zr=1;Ln.wireframe===!0&&(Or=tr.getWireframeAttribute(Nn),zr=2),Mr.setup(Xn,Ln,Nr,Nn,Or);let Xr,ss=pr;Or!==null&&(Xr=Bn.get(Or),ss=kn,ss.setIndex(Xr));const oo=Or!==null?Or.count:qr.count,Go=Nn.drawRange.start*zr,Vo=Nn.drawRange.count*zr,vs=wr!==null?wr.start*zr:0,Vr=wr!==null?wr.count*zr:1/0,lo=Math.max(Go,vs),ls=Math.min(oo,Go+Vo,vs+Vr)-1,Ns=Math.max(0,ls-lo+1);if(Ns!==0){if(Xn.isMesh)Ln.wireframe===!0?(Fn.setLineWidth(Ln.wireframeLinewidth*yn()),ss.setMode(1)):ss.setMode(4);else if(Xn.isLine){let vo=Ln.linewidth;vo===void 0&&(vo=1),Fn.setLineWidth(vo*yn()),Xn.isLineSegments?ss.setMode(1):Xn.isLineLoop?ss.setMode(2):ss.setMode(3)}else Xn.isPoints?ss.setMode(0):Xn.isSprite&&ss.setMode(4);if(Xn.isInstancedMesh)ss.renderInstances(lo,Ns,Xn.count);else if(Nn.isInstancedBufferGeometry){const vo=Math.min(Nn.instanceCount,Nn._maxInstanceCount);ss.renderInstances(lo,Ns,vo)}else ss.render(lo,Ns)}},this.compile=function(un,bn){ct=nn.get(un),ct.init(),pt.push(ct),un.traverseVisible(function(Nn){Nn.isLight&&Nn.layers.test(bn.layers)&&(ct.pushLight(Nn),Nn.castShadow&&ct.pushShadow(Nn))}),ct.setupLights(gt.physicallyCorrectLights),un.traverse(function(Nn){const Ln=Nn.material;if(Ln)if(Array.isArray(Ln))for(let Xn=0;Xn<Ln.length;Xn++){const wr=Ln[Xn];_l(wr,un,Nn)}else _l(Ln,un,Nn)}),pt.pop(),ct=null};let Jn=null;function Pr(un){Jn&&Jn(un)}function Hr(){Br.stop()}function ds(){Br.start()}const Br=new WebGLAnimation;Br.setAnimationLoop(Pr),typeof window!="undefined"&&Br.setContext(window),this.setAnimationLoop=function(un){Jn=un,mr.setAnimationLoop(un),un===null?Br.stop():Br.start()},mr.addEventListener("sessionstart",Hr),mr.addEventListener("sessionend",ds),this.render=function(un,bn){if(bn!==void 0&&bn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(vt===!0)return;un.autoUpdate===!0&&un.updateMatrixWorld(),bn.parent===null&&bn.updateMatrixWorld(),mr.enabled===!0&&mr.isPresenting===!0&&(mr.cameraAutoUpdate===!0&&mr.updateCamera(bn),bn=mr.getCamera()),un.isScene===!0&&un.onBeforeRender(gt,un,bn,xt),ct=nn.get(un,pt.length),ct.init(),pt.push(ct),Vt.multiplyMatrices(bn.projectionMatrix,bn.matrixWorldInverse),Ot.setFromProjectionMatrix(Vt),zt=this.localClippingEnabled,Ut=Cn.init(this.clippingPlanes,zt,bn),ut=sn.get(un,ht.length),ut.init(),ht.push(ut),Hs(un,bn,0,gt.sortObjects),ut.finish(),gt.sortObjects===!0&&ut.sort(Bt,Gt),Ut===!0&&Cn.beginShadows();const Nn=ct.state.shadowsArray;if(Hn.render(Nn,un,bn),Ut===!0&&Cn.endShadows(),this.info.autoReset===!0&&this.info.reset(),Kn.render(ut,un),ct.setupLights(gt.physicallyCorrectLights),bn.isArrayCamera){const Ln=bn.cameras;for(let Xn=0,wr=Ln.length;Xn<wr;Xn++){const Ir=Ln[Xn];zs(ut,un,Ir,Ir.viewport)}}else zs(ut,un,bn);xt!==null&&(dn.updateMultisampleRenderTarget(xt),dn.updateRenderTargetMipmap(xt)),un.isScene===!0&&un.onAfterRender(gt,un,bn),Mr.resetDefaultState(),_t=-1,Tt=null,pt.pop(),pt.length>0?ct=pt[pt.length-1]:ct=null,ht.pop(),ht.length>0?ut=ht[ht.length-1]:ut=null};function Hs(un,bn,Nn,Ln){if(un.visible===!1)return;if(un.layers.test(bn.layers)){if(un.isGroup)Nn=un.renderOrder;else if(un.isLOD)un.autoUpdate===!0&&un.update(bn);else if(un.isLight)ct.pushLight(un),un.castShadow&&ct.pushShadow(un);else if(un.isSprite){if(!un.frustumCulled||Ot.intersectsSprite(un)){Ln&&an.setFromMatrixPosition(un.matrixWorld).applyMatrix4(Vt);const Ir=rr.update(un),Nr=un.material;Nr.visible&&ut.push(un,Ir,Nr,Nn,an.z,null)}}else if((un.isMesh||un.isLine||un.isPoints)&&(un.isSkinnedMesh&&un.skeleton.frame!==Vn.render.frame&&(un.skeleton.update(),un.skeleton.frame=Vn.render.frame),!un.frustumCulled||Ot.intersectsObject(un))){Ln&&an.setFromMatrixPosition(un.matrixWorld).applyMatrix4(Vt);const Ir=rr.update(un),Nr=un.material;if(Array.isArray(Nr)){const Or=Ir.groups;for(let qr=0,zr=Or.length;qr<zr;qr++){const Xr=Or[qr],ss=Nr[Xr.materialIndex];ss&&ss.visible&&ut.push(un,Ir,ss,Nn,an.z,Xr)}}else Nr.visible&&ut.push(un,Ir,Nr,Nn,an.z,null)}}const wr=un.children;for(let Ir=0,Nr=wr.length;Ir<Nr;Ir++)Hs(wr[Ir],bn,Nn,Ln)}function zs(un,bn,Nn,Ln){const Xn=un.opaque,wr=un.transmissive,Ir=un.transparent;ct.setupLightsView(Nn),wr.length>0&&sl(Xn,bn,Nn),Ln&&Fn.viewport(wt.copy(Ln)),Xn.length>0&&al(Xn,bn,Nn),wr.length>0&&al(wr,bn,Nn),Ir.length>0&&al(Ir,bn,Nn),Fn.buffers.depth.setTest(!0),Fn.buffers.depth.setMask(!0),Fn.buffers.color.setMask(!0),Fn.setPolygonOffset(!1)}function sl(un,bn,Nn){const Ln=Mn.isWebGL2;Ht===null&&(Ht=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:_r.convert(HalfFloatType)!==null?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:Ln&&rt===!0?4:0})),gt.getDrawingBufferSize(qt),Ln?Ht.setSize(qt.x,qt.y):Ht.setSize(floorPowerOfTwo(qt.x),floorPowerOfTwo(qt.y));const Xn=gt.getRenderTarget();gt.setRenderTarget(Ht),gt.clear();const wr=gt.toneMapping;gt.toneMapping=NoToneMapping,al(un,bn,Nn),gt.toneMapping=wr,dn.updateMultisampleRenderTarget(Ht),dn.updateRenderTargetMipmap(Ht),gt.setRenderTarget(Xn)}function al(un,bn,Nn){const Ln=bn.isScene===!0?bn.overrideMaterial:null;for(let Xn=0,wr=un.length;Xn<wr;Xn++){const Ir=un[Xn],Nr=Ir.object,Or=Ir.geometry,qr=Ln===null?Ir.material:Ln,zr=Ir.group;Nr.layers.test(Nn.layers)&&Hl(Nr,bn,Nn,Or,qr,zr)}}function Hl(un,bn,Nn,Ln,Xn,wr){un.onBeforeRender(gt,bn,Nn,Ln,Xn,wr),un.modelViewMatrix.multiplyMatrices(Nn.matrixWorldInverse,un.matrixWorld),un.normalMatrix.getNormalMatrix(un.modelViewMatrix),Xn.onBeforeRender(gt,bn,Nn,Ln,un,wr),Xn.transparent===!0&&Xn.side===DoubleSide?(Xn.side=BackSide,Xn.needsUpdate=!0,gt.renderBufferDirect(Nn,bn,Ln,Xn,un,wr),Xn.side=FrontSide,Xn.needsUpdate=!0,gt.renderBufferDirect(Nn,bn,Ln,Xn,un,wr),Xn.side=DoubleSide):gt.renderBufferDirect(Nn,bn,Ln,Xn,un,wr),un.onAfterRender(gt,bn,Nn,Ln,Xn,wr)}function _l(un,bn,Nn){bn.isScene!==!0&&(bn=gn);const Ln=mn.get(un),Xn=ct.state.lights,wr=ct.state.shadowsArray,Ir=Xn.state.version,Nr=hr.getParameters(un,Xn.state,wr,bn,Nn),Or=hr.getProgramCacheKey(Nr);let qr=Ln.programs;Ln.environment=un.isMeshStandardMaterial?bn.environment:null,Ln.fog=bn.fog,Ln.envMap=(un.isMeshStandardMaterial?Yn:An).get(un.envMap||Ln.environment),qr===void 0&&(un.addEventListener("dispose",sr),qr=new Map,Ln.programs=qr);let zr=qr.get(Or);if(zr!==void 0){if(Ln.currentProgram===zr&&Ln.lightsStateVersion===Ir)return ao(un,Nr),zr}else Nr.uniforms=hr.getUniforms(un),un.onBuild(Nn,Nr,gt),un.onBeforeCompile(Nr,gt),zr=hr.acquireProgram(Nr,Or),qr.set(Or,zr),Ln.uniforms=Nr.uniforms;const Xr=Ln.uniforms;(!un.isShaderMaterial&&!un.isRawShaderMaterial||un.clipping===!0)&&(Xr.clippingPlanes=Cn.uniform),ao(un,Nr),Ln.needsLights=fu(un),Ln.lightsStateVersion=Ir,Ln.needsLights&&(Xr.ambientLightColor.value=Xn.state.ambient,Xr.lightProbe.value=Xn.state.probe,Xr.directionalLights.value=Xn.state.directional,Xr.directionalLightShadows.value=Xn.state.directionalShadow,Xr.spotLights.value=Xn.state.spot,Xr.spotLightShadows.value=Xn.state.spotShadow,Xr.rectAreaLights.value=Xn.state.rectArea,Xr.ltc_1.value=Xn.state.rectAreaLTC1,Xr.ltc_2.value=Xn.state.rectAreaLTC2,Xr.pointLights.value=Xn.state.point,Xr.pointLightShadows.value=Xn.state.pointShadow,Xr.hemisphereLights.value=Xn.state.hemi,Xr.directionalShadowMap.value=Xn.state.directionalShadowMap,Xr.directionalShadowMatrix.value=Xn.state.directionalShadowMatrix,Xr.spotShadowMap.value=Xn.state.spotShadowMap,Xr.spotShadowMatrix.value=Xn.state.spotShadowMatrix,Xr.pointShadowMap.value=Xn.state.pointShadowMap,Xr.pointShadowMatrix.value=Xn.state.pointShadowMatrix);const ss=zr.getUniforms(),oo=WebGLUniforms.seqWithValue(ss.seq,Xr);return Ln.currentProgram=zr,Ln.uniformsList=oo,zr}function ao(un,bn){const Nn=mn.get(un);Nn.outputEncoding=bn.outputEncoding,Nn.instancing=bn.instancing,Nn.skinning=bn.skinning,Nn.morphTargets=bn.morphTargets,Nn.morphNormals=bn.morphNormals,Nn.morphColors=bn.morphColors,Nn.morphTargetsCount=bn.morphTargetsCount,Nn.numClippingPlanes=bn.numClippingPlanes,Nn.numIntersection=bn.numClipIntersection,Nn.vertexAlphas=bn.vertexAlphas,Nn.vertexTangents=bn.vertexTangents,Nn.toneMapping=bn.toneMapping}function zl(un,bn,Nn,Ln,Xn){bn.isScene!==!0&&(bn=gn),dn.resetTextureUnits();const wr=bn.fog,Ir=Ln.isMeshStandardMaterial?bn.environment:null,Nr=xt===null?gt.outputEncoding:xt.isXRRenderTarget===!0?xt.texture.encoding:LinearEncoding,Or=(Ln.isMeshStandardMaterial?Yn:An).get(Ln.envMap||Ir),qr=Ln.vertexColors===!0&&!!Nn.attributes.color&&Nn.attributes.color.itemSize===4,zr=!!Ln.normalMap&&!!Nn.attributes.tangent,Xr=!!Nn.morphAttributes.position,ss=!!Nn.morphAttributes.normal,oo=!!Nn.morphAttributes.color,Go=Ln.toneMapped?gt.toneMapping:NoToneMapping,Vo=Nn.morphAttributes.position||Nn.morphAttributes.normal||Nn.morphAttributes.color,vs=Vo!==void 0?Vo.length:0,Vr=mn.get(Ln),lo=ct.state.lights;if(Ut===!0&&(zt===!0||un!==Tt)){const Fs=un===Tt&&Ln.id===_t;Cn.setState(Ln,un,Fs)}let ls=!1;Ln.version===Vr.__version?(Vr.needsLights&&Vr.lightsStateVersion!==lo.state.version||Vr.outputEncoding!==Nr||Xn.isInstancedMesh&&Vr.instancing===!1||!Xn.isInstancedMesh&&Vr.instancing===!0||Xn.isSkinnedMesh&&Vr.skinning===!1||!Xn.isSkinnedMesh&&Vr.skinning===!0||Vr.envMap!==Or||Ln.fog&&Vr.fog!==wr||Vr.numClippingPlanes!==void 0&&(Vr.numClippingPlanes!==Cn.numPlanes||Vr.numIntersection!==Cn.numIntersection)||Vr.vertexAlphas!==qr||Vr.vertexTangents!==zr||Vr.morphTargets!==Xr||Vr.morphNormals!==ss||Vr.morphColors!==oo||Vr.toneMapping!==Go||Mn.isWebGL2===!0&&Vr.morphTargetsCount!==vs)&&(ls=!0):(ls=!0,Vr.__version=Ln.version);let Ns=Vr.currentProgram;ls===!0&&(Ns=_l(Ln,bn,Xn));let vo=!1,Ho=!1,yl=!1;const ps=Ns.getUniforms(),ll=Vr.uniforms;if(Fn.useProgram(Ns.program)&&(vo=!0,Ho=!0,yl=!0),Ln.id!==_t&&(_t=Ln.id,Ho=!0),vo||Tt!==un){if(ps.setValue(fn,"projectionMatrix",un.projectionMatrix),Mn.logarithmicDepthBuffer&&ps.setValue(fn,"logDepthBufFC",2/(Math.log(un.far+1)/Math.LN2)),Tt!==un&&(Tt=un,Ho=!0,yl=!0),Ln.isShaderMaterial||Ln.isMeshPhongMaterial||Ln.isMeshToonMaterial||Ln.isMeshStandardMaterial||Ln.envMap){const Fs=ps.map.cameraPosition;Fs!==void 0&&Fs.setValue(fn,an.setFromMatrixPosition(un.matrixWorld))}(Ln.isMeshPhongMaterial||Ln.isMeshToonMaterial||Ln.isMeshLambertMaterial||Ln.isMeshBasicMaterial||Ln.isMeshStandardMaterial||Ln.isShaderMaterial)&&ps.setValue(fn,"isOrthographic",un.isOrthographicCamera===!0),(Ln.isMeshPhongMaterial||Ln.isMeshToonMaterial||Ln.isMeshLambertMaterial||Ln.isMeshBasicMaterial||Ln.isMeshStandardMaterial||Ln.isShaderMaterial||Ln.isShadowMaterial||Xn.isSkinnedMesh)&&ps.setValue(fn,"viewMatrix",un.matrixWorldInverse)}if(Xn.isSkinnedMesh){ps.setOptional(fn,Xn,"bindMatrix"),ps.setOptional(fn,Xn,"bindMatrixInverse");const Fs=Xn.skeleton;Fs&&(Mn.floatVertexTextures?(Fs.boneTexture===null&&Fs.computeBoneTexture(),ps.setValue(fn,"boneTexture",Fs.boneTexture,dn),ps.setValue(fn,"boneTextureSize",Fs.boneTextureSize)):ps.setOptional(fn,Fs,"boneMatrices"))}const Wl=Nn.morphAttributes;return(Wl.position!==void 0||Wl.normal!==void 0||Wl.color!==void 0&&Mn.isWebGL2===!0)&&Qn.update(Xn,Nn,Ln,Ns),(Ho||Vr.receiveShadow!==Xn.receiveShadow)&&(Vr.receiveShadow=Xn.receiveShadow,ps.setValue(fn,"receiveShadow",Xn.receiveShadow)),Ho&&(ps.setValue(fn,"toneMappingExposure",gt.toneMappingExposure),Vr.needsLights&&ol(ll,yl),wr&&Ln.fog&&fr.refreshFogUniforms(ll,wr),fr.refreshMaterialUniforms(ll,Ln,Rt,$t,Ht),WebGLUniforms.upload(fn,Vr.uniformsList,ll,dn)),Ln.isShaderMaterial&&Ln.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(fn,Vr.uniformsList,ll,dn),Ln.uniformsNeedUpdate=!1),Ln.isSpriteMaterial&&ps.setValue(fn,"center",Xn.center),ps.setValue(fn,"modelViewMatrix",Xn.modelViewMatrix),ps.setValue(fn,"normalMatrix",Xn.normalMatrix),ps.setValue(fn,"modelMatrix",Xn.matrixWorld),Ns}function ol(un,bn){un.ambientLightColor.needsUpdate=bn,un.lightProbe.needsUpdate=bn,un.directionalLights.needsUpdate=bn,un.directionalLightShadows.needsUpdate=bn,un.pointLights.needsUpdate=bn,un.pointLightShadows.needsUpdate=bn,un.spotLights.needsUpdate=bn,un.spotLightShadows.needsUpdate=bn,un.rectAreaLights.needsUpdate=bn,un.hemisphereLights.needsUpdate=bn}function fu(un){return un.isMeshLambertMaterial||un.isMeshToonMaterial||un.isMeshPhongMaterial||un.isMeshStandardMaterial||un.isShadowMaterial||un.isShaderMaterial&&un.lights===!0}this.getActiveCubeFace=function(){return ft},this.getActiveMipmapLevel=function(){return mt},this.getRenderTarget=function(){return xt},this.setRenderTargetTextures=function(un,bn,Nn){mn.get(un.texture).__webglTexture=bn,mn.get(un.depthTexture).__webglTexture=Nn;const Ln=mn.get(un);Ln.__hasExternalTextures=!0,Ln.__hasExternalTextures&&(Ln.__autoAllocateDepthBuffer=Nn===void 0,Ln.__autoAllocateDepthBuffer||Dn.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ln.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(un,bn){const Nn=mn.get(un);Nn.__webglFramebuffer=bn,Nn.__useDefaultFramebuffer=bn===void 0},this.setRenderTarget=function(un,bn=0,Nn=0){xt=un,ft=bn,mt=Nn;let Ln=!0;if(un){const Or=mn.get(un);Or.__useDefaultFramebuffer!==void 0?(Fn.bindFramebuffer(36160,null),Ln=!1):Or.__webglFramebuffer===void 0?dn.setupRenderTarget(un):Or.__hasExternalTextures&&dn.rebindTextures(un,mn.get(un.texture).__webglTexture,mn.get(un.depthTexture).__webglTexture)}let Xn=null,wr=!1,Ir=!1;if(un){const Or=un.texture;(Or.isData3DTexture||Or.isDataArrayTexture)&&(Ir=!0);const qr=mn.get(un).__webglFramebuffer;un.isWebGLCubeRenderTarget?(Xn=qr[bn],wr=!0):Mn.isWebGL2&&un.samples>0&&dn.useMultisampledRTT(un)===!1?Xn=mn.get(un).__webglMultisampledFramebuffer:Xn=qr,wt.copy(un.viewport),bt.copy(un.scissor),Ct=un.scissorTest}else wt.copy(Ft).multiplyScalar(Rt).floor(),bt.copy(kt).multiplyScalar(Rt).floor(),Ct=It;if(Fn.bindFramebuffer(36160,Xn)&&Mn.drawBuffers&&Ln&&Fn.drawBuffers(un,Xn),Fn.viewport(wt),Fn.scissor(bt),Fn.setScissorTest(Ct),wr){const Or=mn.get(un.texture);fn.framebufferTexture2D(36160,36064,34069+bn,Or.__webglTexture,Nn)}else if(Ir){const Or=mn.get(un.texture),qr=bn||0;fn.framebufferTextureLayer(36160,36064,Or.__webglTexture,Nn||0,qr)}_t=-1},this.readRenderTargetPixels=function(un,bn,Nn,Ln,Xn,wr,Ir){if(!(un&&un.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Nr=mn.get(un).__webglFramebuffer;if(un.isWebGLCubeRenderTarget&&Ir!==void 0&&(Nr=Nr[Ir]),Nr){Fn.bindFramebuffer(36160,Nr);try{const Or=un.texture,qr=Or.format,zr=Or.type;if(qr!==RGBAFormat&&_r.convert(qr)!==fn.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Xr=zr===HalfFloatType&&(Dn.has("EXT_color_buffer_half_float")||Mn.isWebGL2&&Dn.has("EXT_color_buffer_float"));if(zr!==UnsignedByteType&&_r.convert(zr)!==fn.getParameter(35738)&&!(zr===FloatType&&(Mn.isWebGL2||Dn.has("OES_texture_float")||Dn.has("WEBGL_color_buffer_float")))&&!Xr){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}fn.checkFramebufferStatus(36160)===36053?bn>=0&&bn<=un.width-Ln&&Nn>=0&&Nn<=un.height-Xn&&fn.readPixels(bn,Nn,Ln,Xn,_r.convert(qr),_r.convert(zr),wr):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const Or=xt!==null?mn.get(xt).__webglFramebuffer:null;Fn.bindFramebuffer(36160,Or)}}},this.copyFramebufferToTexture=function(un,bn,Nn=0){if(bn.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const Ln=Math.pow(2,-Nn),Xn=Math.floor(bn.image.width*Ln),wr=Math.floor(bn.image.height*Ln);dn.setTexture2D(bn,0),fn.copyTexSubImage2D(3553,Nn,0,0,un.x,un.y,Xn,wr),Fn.unbindTexture()},this.copyTextureToTexture=function(un,bn,Nn,Ln=0){const Xn=bn.image.width,wr=bn.image.height,Ir=_r.convert(Nn.format),Nr=_r.convert(Nn.type);dn.setTexture2D(Nn,0),fn.pixelStorei(37440,Nn.flipY),fn.pixelStorei(37441,Nn.premultiplyAlpha),fn.pixelStorei(3317,Nn.unpackAlignment),bn.isDataTexture?fn.texSubImage2D(3553,Ln,un.x,un.y,Xn,wr,Ir,Nr,bn.image.data):bn.isCompressedTexture?fn.compressedTexSubImage2D(3553,Ln,un.x,un.y,bn.mipmaps[0].width,bn.mipmaps[0].height,Ir,bn.mipmaps[0].data):fn.texSubImage2D(3553,Ln,un.x,un.y,Ir,Nr,bn.image),Ln===0&&Nn.generateMipmaps&&fn.generateMipmap(3553),Fn.unbindTexture()},this.copyTextureToTexture3D=function(un,bn,Nn,Ln,Xn=0){if(gt.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const wr=un.max.x-un.min.x+1,Ir=un.max.y-un.min.y+1,Nr=un.max.z-un.min.z+1,Or=_r.convert(Ln.format),qr=_r.convert(Ln.type);let zr;if(Ln.isData3DTexture)dn.setTexture3D(Ln,0),zr=32879;else if(Ln.isDataArrayTexture)dn.setTexture2DArray(Ln,0),zr=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}fn.pixelStorei(37440,Ln.flipY),fn.pixelStorei(37441,Ln.premultiplyAlpha),fn.pixelStorei(3317,Ln.unpackAlignment);const Xr=fn.getParameter(3314),ss=fn.getParameter(32878),oo=fn.getParameter(3316),Go=fn.getParameter(3315),Vo=fn.getParameter(32877),vs=Nn.isCompressedTexture?Nn.mipmaps[0]:Nn.image;fn.pixelStorei(3314,vs.width),fn.pixelStorei(32878,vs.height),fn.pixelStorei(3316,un.min.x),fn.pixelStorei(3315,un.min.y),fn.pixelStorei(32877,un.min.z),Nn.isDataTexture||Nn.isData3DTexture?fn.texSubImage3D(zr,Xn,bn.x,bn.y,bn.z,wr,Ir,Nr,Or,qr,vs.data):Nn.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),fn.compressedTexSubImage3D(zr,Xn,bn.x,bn.y,bn.z,wr,Ir,Nr,Or,vs.data)):fn.texSubImage3D(zr,Xn,bn.x,bn.y,bn.z,wr,Ir,Nr,Or,qr,vs),fn.pixelStorei(3314,Xr),fn.pixelStorei(32878,ss),fn.pixelStorei(3316,oo),fn.pixelStorei(3315,Go),fn.pixelStorei(32877,Vo),Xn===0&&Ln.generateMipmaps&&fn.generateMipmap(zr),Fn.unbindTexture()},this.initTexture=function(un){dn.setTexture2D(un,0),Fn.unbindTexture()},this.resetState=function(){ft=0,mt=0,xt=null,Fn.reset(),Mr.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}WebGLRenderer.prototype.isWebGLRenderer=!0;class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class Scene extends Object3D{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(j,et){return super.copy(j,et),j.background!==null&&(this.background=j.background.clone()),j.environment!==null&&(this.environment=j.environment.clone()),j.fog!==null&&(this.fog=j.fog.clone()),j.overrideMaterial!==null&&(this.overrideMaterial=j.overrideMaterial.clone()),this.autoUpdate=j.autoUpdate,this.matrixAutoUpdate=j.matrixAutoUpdate,this}toJSON(j){const et=super.toJSON(j);return this.fog!==null&&(et.object.fog=this.fog.toJSON()),et}}Scene.prototype.isScene=!0;class InterleavedBuffer{constructor(j,et){this.array=j,this.stride=et,this.count=j!==void 0?j.length/et:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(j){j===!0&&this.version++}setUsage(j){return this.usage=j,this}copy(j){return this.array=new j.array.constructor(j.array),this.count=j.count,this.stride=j.stride,this.usage=j.usage,this}copyAt(j,et,tt){j*=this.stride,tt*=et.stride;for(let nt=0,rt=this.stride;nt<rt;nt++)this.array[j+nt]=et.array[tt+nt];return this}set(j,et=0){return this.array.set(j,et),this}clone(j){j.arrayBuffers===void 0&&(j.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),j.arrayBuffers[this.array.buffer._uuid]===void 0&&(j.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const et=new this.array.constructor(j.arrayBuffers[this.array.buffer._uuid]),tt=new this.constructor(et,this.stride);return tt.setUsage(this.usage),tt}onUpload(j){return this.onUploadCallback=j,this}toJSON(j){return j.arrayBuffers===void 0&&(j.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),j.arrayBuffers[this.array.buffer._uuid]===void 0&&(j.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}InterleavedBuffer.prototype.isInterleavedBuffer=!0;const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(j,et,tt,nt=!1){this.name="",this.data=j,this.itemSize=et,this.offset=tt,this.normalized=nt===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(j){this.data.needsUpdate=j}applyMatrix4(j){for(let et=0,tt=this.data.count;et<tt;et++)_vector$6.x=this.getX(et),_vector$6.y=this.getY(et),_vector$6.z=this.getZ(et),_vector$6.applyMatrix4(j),this.setXYZ(et,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(j){for(let et=0,tt=this.count;et<tt;et++)_vector$6.x=this.getX(et),_vector$6.y=this.getY(et),_vector$6.z=this.getZ(et),_vector$6.applyNormalMatrix(j),this.setXYZ(et,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(j){for(let et=0,tt=this.count;et<tt;et++)_vector$6.x=this.getX(et),_vector$6.y=this.getY(et),_vector$6.z=this.getZ(et),_vector$6.transformDirection(j),this.setXYZ(et,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX(j,et){return this.data.array[j*this.data.stride+this.offset]=et,this}setY(j,et){return this.data.array[j*this.data.stride+this.offset+1]=et,this}setZ(j,et){return this.data.array[j*this.data.stride+this.offset+2]=et,this}setW(j,et){return this.data.array[j*this.data.stride+this.offset+3]=et,this}getX(j){return this.data.array[j*this.data.stride+this.offset]}getY(j){return this.data.array[j*this.data.stride+this.offset+1]}getZ(j){return this.data.array[j*this.data.stride+this.offset+2]}getW(j){return this.data.array[j*this.data.stride+this.offset+3]}setXY(j,et,tt){return j=j*this.data.stride+this.offset,this.data.array[j+0]=et,this.data.array[j+1]=tt,this}setXYZ(j,et,tt,nt){return j=j*this.data.stride+this.offset,this.data.array[j+0]=et,this.data.array[j+1]=tt,this.data.array[j+2]=nt,this}setXYZW(j,et,tt,nt,rt){return j=j*this.data.stride+this.offset,this.data.array[j+0]=et,this.data.array[j+1]=tt,this.data.array[j+2]=nt,this.data.array[j+3]=rt,this}clone(j){if(j===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const et=[];for(let tt=0;tt<this.count;tt++){const nt=tt*this.data.stride+this.offset;for(let rt=0;rt<this.itemSize;rt++)et.push(this.data.array[nt+rt])}return new BufferAttribute(new this.array.constructor(et),this.itemSize,this.normalized)}else return j.interleavedBuffers===void 0&&(j.interleavedBuffers={}),j.interleavedBuffers[this.data.uuid]===void 0&&(j.interleavedBuffers[this.data.uuid]=this.data.clone(j)),new InterleavedBufferAttribute(j.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(j){if(j===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const et=[];for(let tt=0;tt<this.count;tt++){const nt=tt*this.data.stride+this.offset;for(let rt=0;rt<this.itemSize;rt++)et.push(this.data.array[nt+rt])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:et,normalized:this.normalized}}else return j.interleavedBuffers===void 0&&(j.interleavedBuffers={}),j.interleavedBuffers[this.data.uuid]===void 0&&(j.interleavedBuffers[this.data.uuid]=this.data.toJSON(j)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}InterleavedBufferAttribute.prototype.isInterleavedBufferAttribute=!0;class SpriteMaterial extends Material{constructor(j){super(),this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(j)}copy(j){return super.copy(j),this.color.copy(j.color),this.map=j.map,this.alphaMap=j.alphaMap,this.rotation=j.rotation,this.sizeAttenuation=j.sizeAttenuation,this}}SpriteMaterial.prototype.isSpriteMaterial=!0;let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(j){if(super(),this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const et=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),tt=new InterleavedBuffer(et,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(tt,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(tt,2,3,!1))}this.geometry=_geometry,this.material=j!==void 0?j:new SpriteMaterial,this.center=new Vector2(.5,.5)}raycast(j,et){j.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(j.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(j.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),j.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const tt=this.material.rotation;let nt,rt;tt!==0&&(rt=Math.cos(tt),nt=Math.sin(tt));const it=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,it,_worldScale,nt,rt),transformVertex(_vB.set(.5,-.5,0),_mvPosition,it,_worldScale,nt,rt),transformVertex(_vC.set(.5,.5,0),_mvPosition,it,_worldScale,nt,rt),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let st=j.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(st===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,it,_worldScale,nt,rt),_uvB.set(0,1),st=j.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),st===null))return;const at=j.ray.origin.distanceTo(_intersectPoint);at<j.near||at>j.far||et.push({distance:at,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(j){return super.copy(j),j.center!==void 0&&this.center.copy(j.center),this.material=j.material,this}}Sprite.prototype.isSprite=!0;function transformVertex(_e,j,et,tt,nt,rt){_alignedPosition.subVectors(_e,et).addScalar(.5).multiply(tt),nt!==void 0?(_rotatedPosition.x=rt*_alignedPosition.x-nt*_alignedPosition.y,_rotatedPosition.y=nt*_alignedPosition.x+rt*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),_e.copy(j),_e.x+=_rotatedPosition.x,_e.y+=_rotatedPosition.y,_e.applyMatrix4(_viewWorldMatrix)}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector$5=new Vector3,_matrix=new Matrix4;class SkinnedMesh extends Mesh{constructor(j,et){super(j,et),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}copy(j){return super.copy(j),this.bindMode=j.bindMode,this.bindMatrix.copy(j.bindMatrix),this.bindMatrixInverse.copy(j.bindMatrixInverse),this.skeleton=j.skeleton,this}bind(j,et){this.skeleton=j,et===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),et=this.matrixWorld),this.bindMatrix.copy(et),this.bindMatrixInverse.copy(et).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const j=new Vector4,et=this.geometry.attributes.skinWeight;for(let tt=0,nt=et.count;tt<nt;tt++){j.x=et.getX(tt),j.y=et.getY(tt),j.z=et.getZ(tt),j.w=et.getW(tt);const rt=1/j.manhattanLength();rt!==1/0?j.multiplyScalar(rt):j.set(1,0,0,0),et.setXYZW(tt,j.x,j.y,j.z,j.w)}}updateMatrixWorld(j){super.updateMatrixWorld(j),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(j,et){const tt=this.skeleton,nt=this.geometry;_skinIndex.fromBufferAttribute(nt.attributes.skinIndex,j),_skinWeight.fromBufferAttribute(nt.attributes.skinWeight,j),_basePosition.copy(et).applyMatrix4(this.bindMatrix),et.set(0,0,0);for(let rt=0;rt<4;rt++){const it=_skinWeight.getComponent(rt);if(it!==0){const st=_skinIndex.getComponent(rt);_matrix.multiplyMatrices(tt.bones[st].matrixWorld,tt.boneInverses[st]),et.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),it)}}return et.applyMatrix4(this.bindMatrixInverse)}}SkinnedMesh.prototype.isSkinnedMesh=!0;class Bone extends Object3D{constructor(){super(),this.type="Bone"}}Bone.prototype.isBone=!0;class DataTexture extends Texture{constructor(j=null,et=1,tt=1,nt,rt,it,st,at,ot=NearestFilter,lt=NearestFilter,ut,ct){super(null,it,st,at,ot,lt,nt,rt,ut,ct),this.image={data:j,width:et,height:tt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}DataTexture.prototype.isDataTexture=!0;class InstancedBufferAttribute extends BufferAttribute{constructor(j,et,tt,nt=1){typeof tt=="number"&&(nt=tt,tt=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(j,et,tt),this.meshPerAttribute=nt}copy(j){return super.copy(j),this.meshPerAttribute=j.meshPerAttribute,this}toJSON(){const j=super.toJSON();return j.meshPerAttribute=this.meshPerAttribute,j.isInstancedBufferAttribute=!0,j}}InstancedBufferAttribute.prototype.isInstancedBufferAttribute=!0;const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_mesh=new Mesh;class InstancedMesh extends Mesh{constructor(j,et,tt){super(j,et),this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(tt*16),16),this.instanceColor=null,this.count=tt,this.frustumCulled=!1}copy(j){return super.copy(j),this.instanceMatrix.copy(j.instanceMatrix),j.instanceColor!==null&&(this.instanceColor=j.instanceColor.clone()),this.count=j.count,this}getColorAt(j,et){et.fromArray(this.instanceColor.array,j*3)}getMatrixAt(j,et){et.fromArray(this.instanceMatrix.array,j*16)}raycast(j,et){const tt=this.matrixWorld,nt=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0)for(let rt=0;rt<nt;rt++){this.getMatrixAt(rt,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(tt,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(j,_instanceIntersects);for(let it=0,st=_instanceIntersects.length;it<st;it++){const at=_instanceIntersects[it];at.instanceId=rt,at.object=this,et.push(at)}_instanceIntersects.length=0}}setColorAt(j,et){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),et.toArray(this.instanceColor.array,j*3)}setMatrixAt(j,et){et.toArray(this.instanceMatrix.array,j*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}InstancedMesh.prototype.isInstancedMesh=!0;class LineBasicMaterial extends Material{constructor(j){super(),this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(j)}copy(j){return super.copy(j),this.color.copy(j.color),this.linewidth=j.linewidth,this.linecap=j.linecap,this.linejoin=j.linejoin,this}}LineBasicMaterial.prototype.isLineBasicMaterial=!0;const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(j=new BufferGeometry,et=new LineBasicMaterial){super(),this.type="Line",this.geometry=j,this.material=et,this.updateMorphTargets()}copy(j){return super.copy(j),this.material=j.material,this.geometry=j.geometry,this}computeLineDistances(){const j=this.geometry;if(j.isBufferGeometry)if(j.index===null){const et=j.attributes.position,tt=[0];for(let nt=1,rt=et.count;nt<rt;nt++)_start$1.fromBufferAttribute(et,nt-1),_end$1.fromBufferAttribute(et,nt),tt[nt]=tt[nt-1],tt[nt]+=_start$1.distanceTo(_end$1);j.setAttribute("lineDistance",new Float32BufferAttribute(tt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else j.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(j,et){const tt=this.geometry,nt=this.matrixWorld,rt=j.params.Line.threshold,it=tt.drawRange;if(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$1.copy(tt.boundingSphere),_sphere$1.applyMatrix4(nt),_sphere$1.radius+=rt,j.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(nt).invert(),_ray$1.copy(j.ray).applyMatrix4(_inverseMatrix$1);const st=rt/((this.scale.x+this.scale.y+this.scale.z)/3),at=st*st,ot=new Vector3,lt=new Vector3,ut=new Vector3,ct=new Vector3,ht=this.isLineSegments?2:1;if(tt.isBufferGeometry){const pt=tt.index,vt=tt.attributes.position;if(pt!==null){const ft=Math.max(0,it.start),mt=Math.min(pt.count,it.start+it.count);for(let xt=ft,_t=mt-1;xt<_t;xt+=ht){const Tt=pt.getX(xt),wt=pt.getX(xt+1);if(ot.fromBufferAttribute(vt,Tt),lt.fromBufferAttribute(vt,wt),_ray$1.distanceSqToSegment(ot,lt,ct,ut)>at)continue;ct.applyMatrix4(this.matrixWorld);const Ct=j.ray.origin.distanceTo(ct);Ct<j.near||Ct>j.far||et.push({distance:Ct,point:ut.clone().applyMatrix4(this.matrixWorld),index:xt,face:null,faceIndex:null,object:this})}}else{const ft=Math.max(0,it.start),mt=Math.min(vt.count,it.start+it.count);for(let xt=ft,_t=mt-1;xt<_t;xt+=ht){if(ot.fromBufferAttribute(vt,xt),lt.fromBufferAttribute(vt,xt+1),_ray$1.distanceSqToSegment(ot,lt,ct,ut)>at)continue;ct.applyMatrix4(this.matrixWorld);const wt=j.ray.origin.distanceTo(ct);wt<j.near||wt>j.far||et.push({distance:wt,point:ut.clone().applyMatrix4(this.matrixWorld),index:xt,face:null,faceIndex:null,object:this})}}}else tt.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const j=this.geometry;if(j.isBufferGeometry){const et=j.morphAttributes,tt=Object.keys(et);if(tt.length>0){const nt=et[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=rt}}}}else{const et=j.morphTargets;et!==void 0&&et.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Line.prototype.isLine=!0;const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(j,et){super(j,et),this.type="LineSegments"}computeLineDistances(){const j=this.geometry;if(j.isBufferGeometry)if(j.index===null){const et=j.attributes.position,tt=[];for(let nt=0,rt=et.count;nt<rt;nt+=2)_start.fromBufferAttribute(et,nt),_end.fromBufferAttribute(et,nt+1),tt[nt]=nt===0?0:tt[nt-1],tt[nt+1]=tt[nt]+_start.distanceTo(_end);j.setAttribute("lineDistance",new Float32BufferAttribute(tt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else j.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}LineSegments.prototype.isLineSegments=!0;class LineLoop extends Line{constructor(j,et){super(j,et),this.type="LineLoop"}}LineLoop.prototype.isLineLoop=!0;class PointsMaterial extends Material{constructor(j){super(),this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(j)}copy(j){return super.copy(j),this.color.copy(j.color),this.map=j.map,this.alphaMap=j.alphaMap,this.size=j.size,this.sizeAttenuation=j.sizeAttenuation,this}}PointsMaterial.prototype.isPointsMaterial=!0;const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(j=new BufferGeometry,et=new PointsMaterial){super(),this.type="Points",this.geometry=j,this.material=et,this.updateMorphTargets()}copy(j){return super.copy(j),this.material=j.material,this.geometry=j.geometry,this}raycast(j,et){const tt=this.geometry,nt=this.matrixWorld,rt=j.params.Points.threshold,it=tt.drawRange;if(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere.copy(tt.boundingSphere),_sphere.applyMatrix4(nt),_sphere.radius+=rt,j.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(nt).invert(),_ray.copy(j.ray).applyMatrix4(_inverseMatrix);const st=rt/((this.scale.x+this.scale.y+this.scale.z)/3),at=st*st;if(tt.isBufferGeometry){const ot=tt.index,ut=tt.attributes.position;if(ot!==null){const ct=Math.max(0,it.start),ht=Math.min(ot.count,it.start+it.count);for(let pt=ct,gt=ht;pt<gt;pt++){const vt=ot.getX(pt);_position$2.fromBufferAttribute(ut,vt),testPoint(_position$2,vt,at,nt,j,et,this)}}else{const ct=Math.max(0,it.start),ht=Math.min(ut.count,it.start+it.count);for(let pt=ct,gt=ht;pt<gt;pt++)_position$2.fromBufferAttribute(ut,pt),testPoint(_position$2,pt,at,nt,j,et,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const j=this.geometry;if(j.isBufferGeometry){const et=j.morphAttributes,tt=Object.keys(et);if(tt.length>0){const nt=et[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=rt}}}}else{const et=j.morphTargets;et!==void 0&&et.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Points.prototype.isPoints=!0;function testPoint(_e,j,et,tt,nt,rt,it){const st=_ray.distanceSqToPoint(_e);if(st<et){const at=new Vector3;_ray.closestPointToPoint(_e,at),at.applyMatrix4(tt);const ot=nt.ray.origin.distanceTo(at);if(ot<nt.near||ot>nt.far)return;rt.push({distance:ot,distanceToRay:Math.sqrt(st),point:at,index:j,face:null,object:it})}}class VideoTexture extends Texture{constructor(j,et,tt,nt,rt,it,st,at,ot){super(j,et,tt,nt,rt,it,st,at,ot),this.minFilter=it!==void 0?it:LinearFilter,this.magFilter=rt!==void 0?rt:LinearFilter,this.generateMipmaps=!1;const lt=this;function ut(){lt.needsUpdate=!0,j.requestVideoFrameCallback(ut)}"requestVideoFrameCallback"in j&&j.requestVideoFrameCallback(ut)}clone(){return new this.constructor(this.image).copy(this)}update(){const j=this.image;"requestVideoFrameCallback"in j===!1&&j.readyState>=j.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}VideoTexture.prototype.isVideoTexture=!0;class FramebufferTexture extends Texture{constructor(j,et,tt){super({width:j,height:et}),this.format=tt,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}FramebufferTexture.prototype.isFramebufferTexture=!0;class CompressedTexture extends Texture{constructor(j,et,tt,nt,rt,it,st,at,ot,lt,ut,ct){super(null,it,st,at,ot,lt,nt,rt,ut,ct),this.image={width:et,height:tt},this.mipmaps=j,this.flipY=!1,this.generateMipmaps=!1}}CompressedTexture.prototype.isCompressedTexture=!0;class CanvasTexture extends Texture{constructor(j,et,tt,nt,rt,it,st,at,ot){super(j,et,tt,nt,rt,it,st,at,ot),this.needsUpdate=!0}}CanvasTexture.prototype.isCanvasTexture=!0;new Vector3;new Vector3;new Vector3;new Triangle;class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(j,et){const tt=this.getUtoTmapping(j);return this.getPoint(tt,et)}getPoints(j=5){const et=[];for(let tt=0;tt<=j;tt++)et.push(this.getPoint(tt/j));return et}getSpacedPoints(j=5){const et=[];for(let tt=0;tt<=j;tt++)et.push(this.getPointAt(tt/j));return et}getLength(){const j=this.getLengths();return j[j.length-1]}getLengths(j=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===j+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const et=[];let tt,nt=this.getPoint(0),rt=0;et.push(0);for(let it=1;it<=j;it++)tt=this.getPoint(it/j),rt+=tt.distanceTo(nt),et.push(rt),nt=tt;return this.cacheArcLengths=et,et}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(j,et){const tt=this.getLengths();let nt=0;const rt=tt.length;let it;et?it=et:it=j*tt[rt-1];let st=0,at=rt-1,ot;for(;st<=at;)if(nt=Math.floor(st+(at-st)/2),ot=tt[nt]-it,ot<0)st=nt+1;else if(ot>0)at=nt-1;else{at=nt;break}if(nt=at,tt[nt]===it)return nt/(rt-1);const lt=tt[nt],ct=tt[nt+1]-lt,ht=(it-lt)/ct;return(nt+ht)/(rt-1)}getTangent(j,et){let nt=j-1e-4,rt=j+1e-4;nt<0&&(nt=0),rt>1&&(rt=1);const it=this.getPoint(nt),st=this.getPoint(rt),at=et||(it.isVector2?new Vector2:new Vector3);return at.copy(st).sub(it).normalize(),at}getTangentAt(j,et){const tt=this.getUtoTmapping(j);return this.getTangent(tt,et)}computeFrenetFrames(j,et){const tt=new Vector3,nt=[],rt=[],it=[],st=new Vector3,at=new Matrix4;for(let ht=0;ht<=j;ht++){const pt=ht/j;nt[ht]=this.getTangentAt(pt,new Vector3)}rt[0]=new Vector3,it[0]=new Vector3;let ot=Number.MAX_VALUE;const lt=Math.abs(nt[0].x),ut=Math.abs(nt[0].y),ct=Math.abs(nt[0].z);lt<=ot&&(ot=lt,tt.set(1,0,0)),ut<=ot&&(ot=ut,tt.set(0,1,0)),ct<=ot&&tt.set(0,0,1),st.crossVectors(nt[0],tt).normalize(),rt[0].crossVectors(nt[0],st),it[0].crossVectors(nt[0],rt[0]);for(let ht=1;ht<=j;ht++){if(rt[ht]=rt[ht-1].clone(),it[ht]=it[ht-1].clone(),st.crossVectors(nt[ht-1],nt[ht]),st.length()>Number.EPSILON){st.normalize();const pt=Math.acos(clamp(nt[ht-1].dot(nt[ht]),-1,1));rt[ht].applyMatrix4(at.makeRotationAxis(st,pt))}it[ht].crossVectors(nt[ht],rt[ht])}if(et===!0){let ht=Math.acos(clamp(rt[0].dot(rt[j]),-1,1));ht/=j,nt[0].dot(st.crossVectors(rt[0],rt[j]))>0&&(ht=-ht);for(let pt=1;pt<=j;pt++)rt[pt].applyMatrix4(at.makeRotationAxis(nt[pt],ht*pt)),it[pt].crossVectors(nt[pt],rt[pt])}return{tangents:nt,normals:rt,binormals:it}}clone(){return new this.constructor().copy(this)}copy(j){return this.arcLengthDivisions=j.arcLengthDivisions,this}toJSON(){const j={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return j.arcLengthDivisions=this.arcLengthDivisions,j.type=this.type,j}fromJSON(j){return this.arcLengthDivisions=j.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(j=0,et=0,tt=1,nt=1,rt=0,it=Math.PI*2,st=!1,at=0){super(),this.type="EllipseCurve",this.aX=j,this.aY=et,this.xRadius=tt,this.yRadius=nt,this.aStartAngle=rt,this.aEndAngle=it,this.aClockwise=st,this.aRotation=at}getPoint(j,et){const tt=et||new Vector2,nt=Math.PI*2;let rt=this.aEndAngle-this.aStartAngle;const it=Math.abs(rt)<Number.EPSILON;for(;rt<0;)rt+=nt;for(;rt>nt;)rt-=nt;rt<Number.EPSILON&&(it?rt=0:rt=nt),this.aClockwise===!0&&!it&&(rt===nt?rt=-nt:rt=rt-nt);const st=this.aStartAngle+j*rt;let at=this.aX+this.xRadius*Math.cos(st),ot=this.aY+this.yRadius*Math.sin(st);if(this.aRotation!==0){const lt=Math.cos(this.aRotation),ut=Math.sin(this.aRotation),ct=at-this.aX,ht=ot-this.aY;at=ct*lt-ht*ut+this.aX,ot=ct*ut+ht*lt+this.aY}return tt.set(at,ot)}copy(j){return super.copy(j),this.aX=j.aX,this.aY=j.aY,this.xRadius=j.xRadius,this.yRadius=j.yRadius,this.aStartAngle=j.aStartAngle,this.aEndAngle=j.aEndAngle,this.aClockwise=j.aClockwise,this.aRotation=j.aRotation,this}toJSON(){const j=super.toJSON();return j.aX=this.aX,j.aY=this.aY,j.xRadius=this.xRadius,j.yRadius=this.yRadius,j.aStartAngle=this.aStartAngle,j.aEndAngle=this.aEndAngle,j.aClockwise=this.aClockwise,j.aRotation=this.aRotation,j}fromJSON(j){return super.fromJSON(j),this.aX=j.aX,this.aY=j.aY,this.xRadius=j.xRadius,this.yRadius=j.yRadius,this.aStartAngle=j.aStartAngle,this.aEndAngle=j.aEndAngle,this.aClockwise=j.aClockwise,this.aRotation=j.aRotation,this}}EllipseCurve.prototype.isEllipseCurve=!0;class ArcCurve extends EllipseCurve{constructor(j,et,tt,nt,rt,it){super(j,et,tt,tt,nt,rt,it),this.type="ArcCurve"}}ArcCurve.prototype.isArcCurve=!0;function CubicPoly(){let _e=0,j=0,et=0,tt=0;function nt(rt,it,st,at){_e=rt,j=st,et=-3*rt+3*it-2*st-at,tt=2*rt-2*it+st+at}return{initCatmullRom:function(rt,it,st,at,ot){nt(it,st,ot*(st-rt),ot*(at-it))},initNonuniformCatmullRom:function(rt,it,st,at,ot,lt,ut){let ct=(it-rt)/ot-(st-rt)/(ot+lt)+(st-it)/lt,ht=(st-it)/lt-(at-it)/(lt+ut)+(at-st)/ut;ct*=lt,ht*=lt,nt(it,st,ct,ht)},calc:function(rt){const it=rt*rt,st=it*rt;return _e+j*rt+et*it+tt*st}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(j=[],et=!1,tt="centripetal",nt=.5){super(),this.type="CatmullRomCurve3",this.points=j,this.closed=et,this.curveType=tt,this.tension=nt}getPoint(j,et=new Vector3){const tt=et,nt=this.points,rt=nt.length,it=(rt-(this.closed?0:1))*j;let st=Math.floor(it),at=it-st;this.closed?st+=st>0?0:(Math.floor(Math.abs(st)/rt)+1)*rt:at===0&&st===rt-1&&(st=rt-2,at=1);let ot,lt;this.closed||st>0?ot=nt[(st-1)%rt]:(tmp.subVectors(nt[0],nt[1]).add(nt[0]),ot=tmp);const ut=nt[st%rt],ct=nt[(st+1)%rt];if(this.closed||st+2<rt?lt=nt[(st+2)%rt]:(tmp.subVectors(nt[rt-1],nt[rt-2]).add(nt[rt-1]),lt=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const ht=this.curveType==="chordal"?.5:.25;let pt=Math.pow(ot.distanceToSquared(ut),ht),gt=Math.pow(ut.distanceToSquared(ct),ht),vt=Math.pow(ct.distanceToSquared(lt),ht);gt<1e-4&&(gt=1),pt<1e-4&&(pt=gt),vt<1e-4&&(vt=gt),px.initNonuniformCatmullRom(ot.x,ut.x,ct.x,lt.x,pt,gt,vt),py.initNonuniformCatmullRom(ot.y,ut.y,ct.y,lt.y,pt,gt,vt),pz.initNonuniformCatmullRom(ot.z,ut.z,ct.z,lt.z,pt,gt,vt)}else this.curveType==="catmullrom"&&(px.initCatmullRom(ot.x,ut.x,ct.x,lt.x,this.tension),py.initCatmullRom(ot.y,ut.y,ct.y,lt.y,this.tension),pz.initCatmullRom(ot.z,ut.z,ct.z,lt.z,this.tension));return tt.set(px.calc(at),py.calc(at),pz.calc(at)),tt}copy(j){super.copy(j),this.points=[];for(let et=0,tt=j.points.length;et<tt;et++){const nt=j.points[et];this.points.push(nt.clone())}return this.closed=j.closed,this.curveType=j.curveType,this.tension=j.tension,this}toJSON(){const j=super.toJSON();j.points=[];for(let et=0,tt=this.points.length;et<tt;et++){const nt=this.points[et];j.points.push(nt.toArray())}return j.closed=this.closed,j.curveType=this.curveType,j.tension=this.tension,j}fromJSON(j){super.fromJSON(j),this.points=[];for(let et=0,tt=j.points.length;et<tt;et++){const nt=j.points[et];this.points.push(new Vector3().fromArray(nt))}return this.closed=j.closed,this.curveType=j.curveType,this.tension=j.tension,this}}CatmullRomCurve3.prototype.isCatmullRomCurve3=!0;function CatmullRom(_e,j,et,tt,nt){const rt=(tt-j)*.5,it=(nt-et)*.5,st=_e*_e,at=_e*st;return(2*et-2*tt+rt+it)*at+(-3*et+3*tt-2*rt-it)*st+rt*_e+et}function QuadraticBezierP0(_e,j){const et=1-_e;return et*et*j}function QuadraticBezierP1(_e,j){return 2*(1-_e)*_e*j}function QuadraticBezierP2(_e,j){return _e*_e*j}function QuadraticBezier(_e,j,et,tt){return QuadraticBezierP0(_e,j)+QuadraticBezierP1(_e,et)+QuadraticBezierP2(_e,tt)}function CubicBezierP0(_e,j){const et=1-_e;return et*et*et*j}function CubicBezierP1(_e,j){const et=1-_e;return 3*et*et*_e*j}function CubicBezierP2(_e,j){return 3*(1-_e)*_e*_e*j}function CubicBezierP3(_e,j){return _e*_e*_e*j}function CubicBezier(_e,j,et,tt,nt){return CubicBezierP0(_e,j)+CubicBezierP1(_e,et)+CubicBezierP2(_e,tt)+CubicBezierP3(_e,nt)}class CubicBezierCurve extends Curve{constructor(j=new Vector2,et=new Vector2,tt=new Vector2,nt=new Vector2){super(),this.type="CubicBezierCurve",this.v0=j,this.v1=et,this.v2=tt,this.v3=nt}getPoint(j,et=new Vector2){const tt=et,nt=this.v0,rt=this.v1,it=this.v2,st=this.v3;return tt.set(CubicBezier(j,nt.x,rt.x,it.x,st.x),CubicBezier(j,nt.y,rt.y,it.y,st.y)),tt}copy(j){return super.copy(j),this.v0.copy(j.v0),this.v1.copy(j.v1),this.v2.copy(j.v2),this.v3.copy(j.v3),this}toJSON(){const j=super.toJSON();return j.v0=this.v0.toArray(),j.v1=this.v1.toArray(),j.v2=this.v2.toArray(),j.v3=this.v3.toArray(),j}fromJSON(j){return super.fromJSON(j),this.v0.fromArray(j.v0),this.v1.fromArray(j.v1),this.v2.fromArray(j.v2),this.v3.fromArray(j.v3),this}}CubicBezierCurve.prototype.isCubicBezierCurve=!0;class CubicBezierCurve3 extends Curve{constructor(j=new Vector3,et=new Vector3,tt=new Vector3,nt=new Vector3){super(),this.type="CubicBezierCurve3",this.v0=j,this.v1=et,this.v2=tt,this.v3=nt}getPoint(j,et=new Vector3){const tt=et,nt=this.v0,rt=this.v1,it=this.v2,st=this.v3;return tt.set(CubicBezier(j,nt.x,rt.x,it.x,st.x),CubicBezier(j,nt.y,rt.y,it.y,st.y),CubicBezier(j,nt.z,rt.z,it.z,st.z)),tt}copy(j){return super.copy(j),this.v0.copy(j.v0),this.v1.copy(j.v1),this.v2.copy(j.v2),this.v3.copy(j.v3),this}toJSON(){const j=super.toJSON();return j.v0=this.v0.toArray(),j.v1=this.v1.toArray(),j.v2=this.v2.toArray(),j.v3=this.v3.toArray(),j}fromJSON(j){return super.fromJSON(j),this.v0.fromArray(j.v0),this.v1.fromArray(j.v1),this.v2.fromArray(j.v2),this.v3.fromArray(j.v3),this}}CubicBezierCurve3.prototype.isCubicBezierCurve3=!0;class LineCurve extends Curve{constructor(j=new Vector2,et=new Vector2){super(),this.type="LineCurve",this.v1=j,this.v2=et}getPoint(j,et=new Vector2){const tt=et;return j===1?tt.copy(this.v2):(tt.copy(this.v2).sub(this.v1),tt.multiplyScalar(j).add(this.v1)),tt}getPointAt(j,et){return this.getPoint(j,et)}getTangent(j,et){const tt=et||new Vector2;return tt.copy(this.v2).sub(this.v1).normalize(),tt}copy(j){return super.copy(j),this.v1.copy(j.v1),this.v2.copy(j.v2),this}toJSON(){const j=super.toJSON();return j.v1=this.v1.toArray(),j.v2=this.v2.toArray(),j}fromJSON(j){return super.fromJSON(j),this.v1.fromArray(j.v1),this.v2.fromArray(j.v2),this}}LineCurve.prototype.isLineCurve=!0;class LineCurve3 extends Curve{constructor(j=new Vector3,et=new Vector3){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=j,this.v2=et}getPoint(j,et=new Vector3){const tt=et;return j===1?tt.copy(this.v2):(tt.copy(this.v2).sub(this.v1),tt.multiplyScalar(j).add(this.v1)),tt}getPointAt(j,et){return this.getPoint(j,et)}copy(j){return super.copy(j),this.v1.copy(j.v1),this.v2.copy(j.v2),this}toJSON(){const j=super.toJSON();return j.v1=this.v1.toArray(),j.v2=this.v2.toArray(),j}fromJSON(j){return super.fromJSON(j),this.v1.fromArray(j.v1),this.v2.fromArray(j.v2),this}}class QuadraticBezierCurve extends Curve{constructor(j=new Vector2,et=new Vector2,tt=new Vector2){super(),this.type="QuadraticBezierCurve",this.v0=j,this.v1=et,this.v2=tt}getPoint(j,et=new Vector2){const tt=et,nt=this.v0,rt=this.v1,it=this.v2;return tt.set(QuadraticBezier(j,nt.x,rt.x,it.x),QuadraticBezier(j,nt.y,rt.y,it.y)),tt}copy(j){return super.copy(j),this.v0.copy(j.v0),this.v1.copy(j.v1),this.v2.copy(j.v2),this}toJSON(){const j=super.toJSON();return j.v0=this.v0.toArray(),j.v1=this.v1.toArray(),j.v2=this.v2.toArray(),j}fromJSON(j){return super.fromJSON(j),this.v0.fromArray(j.v0),this.v1.fromArray(j.v1),this.v2.fromArray(j.v2),this}}QuadraticBezierCurve.prototype.isQuadraticBezierCurve=!0;class QuadraticBezierCurve3 extends Curve{constructor(j=new Vector3,et=new Vector3,tt=new Vector3){super(),this.type="QuadraticBezierCurve3",this.v0=j,this.v1=et,this.v2=tt}getPoint(j,et=new Vector3){const tt=et,nt=this.v0,rt=this.v1,it=this.v2;return tt.set(QuadraticBezier(j,nt.x,rt.x,it.x),QuadraticBezier(j,nt.y,rt.y,it.y),QuadraticBezier(j,nt.z,rt.z,it.z)),tt}copy(j){return super.copy(j),this.v0.copy(j.v0),this.v1.copy(j.v1),this.v2.copy(j.v2),this}toJSON(){const j=super.toJSON();return j.v0=this.v0.toArray(),j.v1=this.v1.toArray(),j.v2=this.v2.toArray(),j}fromJSON(j){return super.fromJSON(j),this.v0.fromArray(j.v0),this.v1.fromArray(j.v1),this.v2.fromArray(j.v2),this}}QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3=!0;class SplineCurve extends Curve{constructor(j=[]){super(),this.type="SplineCurve",this.points=j}getPoint(j,et=new Vector2){const tt=et,nt=this.points,rt=(nt.length-1)*j,it=Math.floor(rt),st=rt-it,at=nt[it===0?it:it-1],ot=nt[it],lt=nt[it>nt.length-2?nt.length-1:it+1],ut=nt[it>nt.length-3?nt.length-1:it+2];return tt.set(CatmullRom(st,at.x,ot.x,lt.x,ut.x),CatmullRom(st,at.y,ot.y,lt.y,ut.y)),tt}copy(j){super.copy(j),this.points=[];for(let et=0,tt=j.points.length;et<tt;et++){const nt=j.points[et];this.points.push(nt.clone())}return this}toJSON(){const j=super.toJSON();j.points=[];for(let et=0,tt=this.points.length;et<tt;et++){const nt=this.points[et];j.points.push(nt.toArray())}return j}fromJSON(j){super.fromJSON(j),this.points=[];for(let et=0,tt=j.points.length;et<tt;et++){const nt=j.points[et];this.points.push(new Vector2().fromArray(nt))}return this}}SplineCurve.prototype.isSplineCurve=!0;var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(j){this.curves.push(j)}closePath(){const j=this.curves[0].getPoint(0),et=this.curves[this.curves.length-1].getPoint(1);j.equals(et)||this.curves.push(new LineCurve(et,j))}getPoint(j,et){const tt=j*this.getLength(),nt=this.getCurveLengths();let rt=0;for(;rt<nt.length;){if(nt[rt]>=tt){const it=nt[rt]-tt,st=this.curves[rt],at=st.getLength(),ot=at===0?0:1-it/at;return st.getPointAt(ot,et)}rt++}return null}getLength(){const j=this.getCurveLengths();return j[j.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const j=[];let et=0;for(let tt=0,nt=this.curves.length;tt<nt;tt++)et+=this.curves[tt].getLength(),j.push(et);return this.cacheLengths=j,j}getSpacedPoints(j=40){const et=[];for(let tt=0;tt<=j;tt++)et.push(this.getPoint(tt/j));return this.autoClose&&et.push(et[0]),et}getPoints(j=12){const et=[];let tt;for(let nt=0,rt=this.curves;nt<rt.length;nt++){const it=rt[nt],st=it.isEllipseCurve?j*2:it.isLineCurve||it.isLineCurve3?1:it.isSplineCurve?j*it.points.length:j,at=it.getPoints(st);for(let ot=0;ot<at.length;ot++){const lt=at[ot];tt&&tt.equals(lt)||(et.push(lt),tt=lt)}}return this.autoClose&&et.length>1&&!et[et.length-1].equals(et[0])&&et.push(et[0]),et}copy(j){super.copy(j),this.curves=[];for(let et=0,tt=j.curves.length;et<tt;et++){const nt=j.curves[et];this.curves.push(nt.clone())}return this.autoClose=j.autoClose,this}toJSON(){const j=super.toJSON();j.autoClose=this.autoClose,j.curves=[];for(let et=0,tt=this.curves.length;et<tt;et++){const nt=this.curves[et];j.curves.push(nt.toJSON())}return j}fromJSON(j){super.fromJSON(j),this.autoClose=j.autoClose,this.curves=[];for(let et=0,tt=j.curves.length;et<tt;et++){const nt=j.curves[et];this.curves.push(new Curves[nt.type]().fromJSON(nt))}return this}}class Path extends CurvePath{constructor(j){super(),this.type="Path",this.currentPoint=new Vector2,j&&this.setFromPoints(j)}setFromPoints(j){this.moveTo(j[0].x,j[0].y);for(let et=1,tt=j.length;et<tt;et++)this.lineTo(j[et].x,j[et].y);return this}moveTo(j,et){return this.currentPoint.set(j,et),this}lineTo(j,et){const tt=new LineCurve(this.currentPoint.clone(),new Vector2(j,et));return this.curves.push(tt),this.currentPoint.set(j,et),this}quadraticCurveTo(j,et,tt,nt){const rt=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(j,et),new Vector2(tt,nt));return this.curves.push(rt),this.currentPoint.set(tt,nt),this}bezierCurveTo(j,et,tt,nt,rt,it){const st=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(j,et),new Vector2(tt,nt),new Vector2(rt,it));return this.curves.push(st),this.currentPoint.set(rt,it),this}splineThru(j){const et=[this.currentPoint.clone()].concat(j),tt=new SplineCurve(et);return this.curves.push(tt),this.currentPoint.copy(j[j.length-1]),this}arc(j,et,tt,nt,rt,it){const st=this.currentPoint.x,at=this.currentPoint.y;return this.absarc(j+st,et+at,tt,nt,rt,it),this}absarc(j,et,tt,nt,rt,it){return this.absellipse(j,et,tt,tt,nt,rt,it),this}ellipse(j,et,tt,nt,rt,it,st,at){const ot=this.currentPoint.x,lt=this.currentPoint.y;return this.absellipse(j+ot,et+lt,tt,nt,rt,it,st,at),this}absellipse(j,et,tt,nt,rt,it,st,at){const ot=new EllipseCurve(j,et,tt,nt,rt,it,st,at);if(this.curves.length>0){const ut=ot.getPoint(0);ut.equals(this.currentPoint)||this.lineTo(ut.x,ut.y)}this.curves.push(ot);const lt=ot.getPoint(1);return this.currentPoint.copy(lt),this}copy(j){return super.copy(j),this.currentPoint.copy(j.currentPoint),this}toJSON(){const j=super.toJSON();return j.currentPoint=this.currentPoint.toArray(),j}fromJSON(j){return super.fromJSON(j),this.currentPoint.fromArray(j.currentPoint),this}}class Shape extends Path{constructor(j){super(j),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(j){const et=[];for(let tt=0,nt=this.holes.length;tt<nt;tt++)et[tt]=this.holes[tt].getPoints(j);return et}extractPoints(j){return{shape:this.getPoints(j),holes:this.getPointsHoles(j)}}copy(j){super.copy(j),this.holes=[];for(let et=0,tt=j.holes.length;et<tt;et++){const nt=j.holes[et];this.holes.push(nt.clone())}return this}toJSON(){const j=super.toJSON();j.uuid=this.uuid,j.holes=[];for(let et=0,tt=this.holes.length;et<tt;et++){const nt=this.holes[et];j.holes.push(nt.toJSON())}return j}fromJSON(j){super.fromJSON(j),this.uuid=j.uuid,this.holes=[];for(let et=0,tt=j.holes.length;et<tt;et++){const nt=j.holes[et];this.holes.push(new Path().fromJSON(nt))}return this}}const Earcut={triangulate:function(_e,j,et=2){const tt=j&&j.length,nt=tt?j[0]*et:_e.length;let rt=linkedList(_e,0,nt,et,!0);const it=[];if(!rt||rt.next===rt.prev)return it;let st,at,ot,lt,ut,ct,ht;if(tt&&(rt=eliminateHoles(_e,j,rt,et)),_e.length>80*et){st=ot=_e[0],at=lt=_e[1];for(let pt=et;pt<nt;pt+=et)ut=_e[pt],ct=_e[pt+1],ut<st&&(st=ut),ct<at&&(at=ct),ut>ot&&(ot=ut),ct>lt&&(lt=ct);ht=Math.max(ot-st,lt-at),ht=ht!==0?1/ht:0}return earcutLinked(rt,it,et,st,at,ht),it}};function linkedList(_e,j,et,tt,nt){let rt,it;if(nt===signedArea(_e,j,et,tt)>0)for(rt=j;rt<et;rt+=tt)it=insertNode(rt,_e[rt],_e[rt+1],it);else for(rt=et-tt;rt>=j;rt-=tt)it=insertNode(rt,_e[rt],_e[rt+1],it);return it&&equals(it,it.next)&&(removeNode(it),it=it.next),it}function filterPoints(_e,j){if(!_e)return _e;j||(j=_e);let et=_e,tt;do if(tt=!1,!et.steiner&&(equals(et,et.next)||area(et.prev,et,et.next)===0)){if(removeNode(et),et=j=et.prev,et===et.next)break;tt=!0}else et=et.next;while(tt||et!==j);return j}function earcutLinked(_e,j,et,tt,nt,rt,it){if(!_e)return;!it&&rt&&indexCurve(_e,tt,nt,rt);let st=_e,at,ot;for(;_e.prev!==_e.next;){if(at=_e.prev,ot=_e.next,rt?isEarHashed(_e,tt,nt,rt):isEar(_e)){j.push(at.i/et),j.push(_e.i/et),j.push(ot.i/et),removeNode(_e),_e=ot.next,st=ot.next;continue}if(_e=ot,_e===st){it?it===1?(_e=cureLocalIntersections(filterPoints(_e),j,et),earcutLinked(_e,j,et,tt,nt,rt,2)):it===2&&splitEarcut(_e,j,et,tt,nt,rt):earcutLinked(filterPoints(_e),j,et,tt,nt,rt,1);break}}}function isEar(_e){const j=_e.prev,et=_e,tt=_e.next;if(area(j,et,tt)>=0)return!1;let nt=_e.next.next;for(;nt!==_e.prev;){if(pointInTriangle(j.x,j.y,et.x,et.y,tt.x,tt.y,nt.x,nt.y)&&area(nt.prev,nt,nt.next)>=0)return!1;nt=nt.next}return!0}function isEarHashed(_e,j,et,tt){const nt=_e.prev,rt=_e,it=_e.next;if(area(nt,rt,it)>=0)return!1;const st=nt.x<rt.x?nt.x<it.x?nt.x:it.x:rt.x<it.x?rt.x:it.x,at=nt.y<rt.y?nt.y<it.y?nt.y:it.y:rt.y<it.y?rt.y:it.y,ot=nt.x>rt.x?nt.x>it.x?nt.x:it.x:rt.x>it.x?rt.x:it.x,lt=nt.y>rt.y?nt.y>it.y?nt.y:it.y:rt.y>it.y?rt.y:it.y,ut=zOrder(st,at,j,et,tt),ct=zOrder(ot,lt,j,et,tt);let ht=_e.prevZ,pt=_e.nextZ;for(;ht&&ht.z>=ut&&pt&&pt.z<=ct;){if(ht!==_e.prev&&ht!==_e.next&&pointInTriangle(nt.x,nt.y,rt.x,rt.y,it.x,it.y,ht.x,ht.y)&&area(ht.prev,ht,ht.next)>=0||(ht=ht.prevZ,pt!==_e.prev&&pt!==_e.next&&pointInTriangle(nt.x,nt.y,rt.x,rt.y,it.x,it.y,pt.x,pt.y)&&area(pt.prev,pt,pt.next)>=0))return!1;pt=pt.nextZ}for(;ht&&ht.z>=ut;){if(ht!==_e.prev&&ht!==_e.next&&pointInTriangle(nt.x,nt.y,rt.x,rt.y,it.x,it.y,ht.x,ht.y)&&area(ht.prev,ht,ht.next)>=0)return!1;ht=ht.prevZ}for(;pt&&pt.z<=ct;){if(pt!==_e.prev&&pt!==_e.next&&pointInTriangle(nt.x,nt.y,rt.x,rt.y,it.x,it.y,pt.x,pt.y)&&area(pt.prev,pt,pt.next)>=0)return!1;pt=pt.nextZ}return!0}function cureLocalIntersections(_e,j,et){let tt=_e;do{const nt=tt.prev,rt=tt.next.next;!equals(nt,rt)&&intersects(nt,tt,tt.next,rt)&&locallyInside(nt,rt)&&locallyInside(rt,nt)&&(j.push(nt.i/et),j.push(tt.i/et),j.push(rt.i/et),removeNode(tt),removeNode(tt.next),tt=_e=rt),tt=tt.next}while(tt!==_e);return filterPoints(tt)}function splitEarcut(_e,j,et,tt,nt,rt){let it=_e;do{let st=it.next.next;for(;st!==it.prev;){if(it.i!==st.i&&isValidDiagonal(it,st)){let at=splitPolygon(it,st);it=filterPoints(it,it.next),at=filterPoints(at,at.next),earcutLinked(it,j,et,tt,nt,rt),earcutLinked(at,j,et,tt,nt,rt);return}st=st.next}it=it.next}while(it!==_e)}function eliminateHoles(_e,j,et,tt){const nt=[];let rt,it,st,at,ot;for(rt=0,it=j.length;rt<it;rt++)st=j[rt]*tt,at=rt<it-1?j[rt+1]*tt:_e.length,ot=linkedList(_e,st,at,tt,!1),ot===ot.next&&(ot.steiner=!0),nt.push(getLeftmost(ot));for(nt.sort(compareX),rt=0;rt<nt.length;rt++)eliminateHole(nt[rt],et),et=filterPoints(et,et.next);return et}function compareX(_e,j){return _e.x-j.x}function eliminateHole(_e,j){if(j=findHoleBridge(_e,j),j){const et=splitPolygon(j,_e);filterPoints(j,j.next),filterPoints(et,et.next)}}function findHoleBridge(_e,j){let et=j;const tt=_e.x,nt=_e.y;let rt=-1/0,it;do{if(nt<=et.y&&nt>=et.next.y&&et.next.y!==et.y){const ct=et.x+(nt-et.y)*(et.next.x-et.x)/(et.next.y-et.y);if(ct<=tt&&ct>rt){if(rt=ct,ct===tt){if(nt===et.y)return et;if(nt===et.next.y)return et.next}it=et.x<et.next.x?et:et.next}}et=et.next}while(et!==j);if(!it)return null;if(tt===rt)return it;const st=it,at=it.x,ot=it.y;let lt=1/0,ut;et=it;do tt>=et.x&&et.x>=at&&tt!==et.x&&pointInTriangle(nt<ot?tt:rt,nt,at,ot,nt<ot?rt:tt,nt,et.x,et.y)&&(ut=Math.abs(nt-et.y)/(tt-et.x),locallyInside(et,_e)&&(ut<lt||ut===lt&&(et.x>it.x||et.x===it.x&&sectorContainsSector(it,et)))&&(it=et,lt=ut)),et=et.next;while(et!==st);return it}function sectorContainsSector(_e,j){return area(_e.prev,_e,j.prev)<0&&area(j.next,_e,_e.next)<0}function indexCurve(_e,j,et,tt){let nt=_e;do nt.z===null&&(nt.z=zOrder(nt.x,nt.y,j,et,tt)),nt.prevZ=nt.prev,nt.nextZ=nt.next,nt=nt.next;while(nt!==_e);nt.prevZ.nextZ=null,nt.prevZ=null,sortLinked(nt)}function sortLinked(_e){let j,et,tt,nt,rt,it,st,at,ot=1;do{for(et=_e,_e=null,rt=null,it=0;et;){for(it++,tt=et,st=0,j=0;j<ot&&(st++,tt=tt.nextZ,!!tt);j++);for(at=ot;st>0||at>0&&tt;)st!==0&&(at===0||!tt||et.z<=tt.z)?(nt=et,et=et.nextZ,st--):(nt=tt,tt=tt.nextZ,at--),rt?rt.nextZ=nt:_e=nt,nt.prevZ=rt,rt=nt;et=tt}rt.nextZ=null,ot*=2}while(it>1);return _e}function zOrder(_e,j,et,tt,nt){return _e=32767*(_e-et)*nt,j=32767*(j-tt)*nt,_e=(_e|_e<<8)&16711935,_e=(_e|_e<<4)&252645135,_e=(_e|_e<<2)&858993459,_e=(_e|_e<<1)&1431655765,j=(j|j<<8)&16711935,j=(j|j<<4)&252645135,j=(j|j<<2)&858993459,j=(j|j<<1)&1431655765,_e|j<<1}function getLeftmost(_e){let j=_e,et=_e;do(j.x<et.x||j.x===et.x&&j.y<et.y)&&(et=j),j=j.next;while(j!==_e);return et}function pointInTriangle(_e,j,et,tt,nt,rt,it,st){return(nt-it)*(j-st)-(_e-it)*(rt-st)>=0&&(_e-it)*(tt-st)-(et-it)*(j-st)>=0&&(et-it)*(rt-st)-(nt-it)*(tt-st)>=0}function isValidDiagonal(_e,j){return _e.next.i!==j.i&&_e.prev.i!==j.i&&!intersectsPolygon(_e,j)&&(locallyInside(_e,j)&&locallyInside(j,_e)&&middleInside(_e,j)&&(area(_e.prev,_e,j.prev)||area(_e,j.prev,j))||equals(_e,j)&&area(_e.prev,_e,_e.next)>0&&area(j.prev,j,j.next)>0)}function area(_e,j,et){return(j.y-_e.y)*(et.x-j.x)-(j.x-_e.x)*(et.y-j.y)}function equals(_e,j){return _e.x===j.x&&_e.y===j.y}function intersects(_e,j,et,tt){const nt=sign(area(_e,j,et)),rt=sign(area(_e,j,tt)),it=sign(area(et,tt,_e)),st=sign(area(et,tt,j));return!!(nt!==rt&&it!==st||nt===0&&onSegment(_e,et,j)||rt===0&&onSegment(_e,tt,j)||it===0&&onSegment(et,_e,tt)||st===0&&onSegment(et,j,tt))}function onSegment(_e,j,et){return j.x<=Math.max(_e.x,et.x)&&j.x>=Math.min(_e.x,et.x)&&j.y<=Math.max(_e.y,et.y)&&j.y>=Math.min(_e.y,et.y)}function sign(_e){return _e>0?1:_e<0?-1:0}function intersectsPolygon(_e,j){let et=_e;do{if(et.i!==_e.i&&et.next.i!==_e.i&&et.i!==j.i&&et.next.i!==j.i&&intersects(et,et.next,_e,j))return!0;et=et.next}while(et!==_e);return!1}function locallyInside(_e,j){return area(_e.prev,_e,_e.next)<0?area(_e,j,_e.next)>=0&&area(_e,_e.prev,j)>=0:area(_e,j,_e.prev)<0||area(_e,_e.next,j)<0}function middleInside(_e,j){let et=_e,tt=!1;const nt=(_e.x+j.x)/2,rt=(_e.y+j.y)/2;do et.y>rt!=et.next.y>rt&&et.next.y!==et.y&&nt<(et.next.x-et.x)*(rt-et.y)/(et.next.y-et.y)+et.x&&(tt=!tt),et=et.next;while(et!==_e);return tt}function splitPolygon(_e,j){const et=new Node$1(_e.i,_e.x,_e.y),tt=new Node$1(j.i,j.x,j.y),nt=_e.next,rt=j.prev;return _e.next=j,j.prev=_e,et.next=nt,nt.prev=et,tt.next=et,et.prev=tt,rt.next=tt,tt.prev=rt,tt}function insertNode(_e,j,et,tt){const nt=new Node$1(_e,j,et);return tt?(nt.next=tt.next,nt.prev=tt,tt.next.prev=nt,tt.next=nt):(nt.prev=nt,nt.next=nt),nt}function removeNode(_e){_e.next.prev=_e.prev,_e.prev.next=_e.next,_e.prevZ&&(_e.prevZ.nextZ=_e.nextZ),_e.nextZ&&(_e.nextZ.prevZ=_e.prevZ)}function Node$1(_e,j,et){this.i=_e,this.x=j,this.y=et,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(_e,j,et,tt){let nt=0;for(let rt=j,it=et-tt;rt<et;rt+=tt)nt+=(_e[it]-_e[rt])*(_e[rt+1]+_e[it+1]),it=rt;return nt}class ShapeUtils{static area(j){const et=j.length;let tt=0;for(let nt=et-1,rt=0;rt<et;nt=rt++)tt+=j[nt].x*j[rt].y-j[rt].x*j[nt].y;return tt*.5}static isClockWise(j){return ShapeUtils.area(j)<0}static triangulateShape(j,et){const tt=[],nt=[],rt=[];removeDupEndPts(j),addContour(tt,j);let it=j.length;et.forEach(removeDupEndPts);for(let at=0;at<et.length;at++)nt.push(it),it+=et[at].length,addContour(tt,et[at]);const st=Earcut.triangulate(tt,nt);for(let at=0;at<st.length;at+=3)rt.push(st.slice(at,at+3));return rt}}function removeDupEndPts(_e){const j=_e.length;j>2&&_e[j-1].equals(_e[0])&&_e.pop()}function addContour(_e,j){for(let et=0;et<j.length;et++)_e.push(j[et].x),_e.push(j[et].y)}class ExtrudeGeometry extends BufferGeometry{constructor(j=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),et={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:j,options:et},j=Array.isArray(j)?j:[j];const tt=this,nt=[],rt=[];for(let st=0,at=j.length;st<at;st++){const ot=j[st];it(ot)}this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("uv",new Float32BufferAttribute(rt,2)),this.computeVertexNormals();function it(st){const at=[],ot=et.curveSegments!==void 0?et.curveSegments:12,lt=et.steps!==void 0?et.steps:1;let ut=et.depth!==void 0?et.depth:1,ct=et.bevelEnabled!==void 0?et.bevelEnabled:!0,ht=et.bevelThickness!==void 0?et.bevelThickness:.2,pt=et.bevelSize!==void 0?et.bevelSize:ht-.1,gt=et.bevelOffset!==void 0?et.bevelOffset:0,vt=et.bevelSegments!==void 0?et.bevelSegments:3;const ft=et.extrudePath,mt=et.UVGenerator!==void 0?et.UVGenerator:WorldUVGenerator;et.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),ut=et.amount);let xt,_t=!1,Tt,wt,bt,Ct;ft&&(xt=ft.getSpacedPoints(lt),_t=!0,ct=!1,Tt=ft.computeFrenetFrames(lt,!1),wt=new Vector3,bt=new Vector3,Ct=new Vector3),ct||(vt=0,ht=0,pt=0,gt=0);const Lt=st.extractPoints(ot);let $t=Lt.shape;const Rt=Lt.holes;if(!ShapeUtils.isClockWise($t)){$t=$t.reverse();for(let mn=0,dn=Rt.length;mn<dn;mn++){const An=Rt[mn];ShapeUtils.isClockWise(An)&&(Rt[mn]=An.reverse())}}const Gt=ShapeUtils.triangulateShape($t,Rt),Ft=$t;for(let mn=0,dn=Rt.length;mn<dn;mn++){const An=Rt[mn];$t=$t.concat(An)}function kt(mn,dn,An){return dn||console.error("THREE.ExtrudeGeometry: vec does not exist"),dn.clone().multiplyScalar(An).add(mn)}const It=$t.length,Ot=Gt.length;function Ut(mn,dn,An){let Yn,Bn,tr;const rr=mn.x-dn.x,hr=mn.y-dn.y,fr=An.x-mn.x,sn=An.y-mn.y,nn=rr*rr+hr*hr,Cn=rr*sn-hr*fr;if(Math.abs(Cn)>Number.EPSILON){const Hn=Math.sqrt(nn),Kn=Math.sqrt(fr*fr+sn*sn),Qn=dn.x-hr/Hn,pr=dn.y+rr/Hn,kn=An.x-sn/Kn,_r=An.y+fr/Kn,Mr=((kn-Qn)*sn-(_r-pr)*fr)/(rr*sn-hr*fr);Yn=Qn+rr*Mr-mn.x,Bn=pr+hr*Mr-mn.y;const yr=Yn*Yn+Bn*Bn;if(yr<=2)return new Vector2(Yn,Bn);tr=Math.sqrt(yr/2)}else{let Hn=!1;rr>Number.EPSILON?fr>Number.EPSILON&&(Hn=!0):rr<-Number.EPSILON?fr<-Number.EPSILON&&(Hn=!0):Math.sign(hr)===Math.sign(sn)&&(Hn=!0),Hn?(Yn=-hr,Bn=rr,tr=Math.sqrt(nn)):(Yn=rr,Bn=hr,tr=Math.sqrt(nn/2))}return new Vector2(Yn/tr,Bn/tr)}const zt=[];for(let mn=0,dn=Ft.length,An=dn-1,Yn=mn+1;mn<dn;mn++,An++,Yn++)An===dn&&(An=0),Yn===dn&&(Yn=0),zt[mn]=Ut(Ft[mn],Ft[An],Ft[Yn]);const Ht=[];let Vt,qt=zt.concat();for(let mn=0,dn=Rt.length;mn<dn;mn++){const An=Rt[mn];Vt=[];for(let Yn=0,Bn=An.length,tr=Bn-1,rr=Yn+1;Yn<Bn;Yn++,tr++,rr++)tr===Bn&&(tr=0),rr===Bn&&(rr=0),Vt[Yn]=Ut(An[Yn],An[tr],An[rr]);Ht.push(Vt),qt=qt.concat(Vt)}for(let mn=0;mn<vt;mn++){const dn=mn/vt,An=ht*Math.cos(dn*Math.PI/2),Yn=pt*Math.sin(dn*Math.PI/2)+gt;for(let Bn=0,tr=Ft.length;Bn<tr;Bn++){const rr=kt(Ft[Bn],zt[Bn],Yn);In(rr.x,rr.y,-An)}for(let Bn=0,tr=Rt.length;Bn<tr;Bn++){const rr=Rt[Bn];Vt=Ht[Bn];for(let hr=0,fr=rr.length;hr<fr;hr++){const sn=kt(rr[hr],Vt[hr],Yn);In(sn.x,sn.y,-An)}}}const an=pt+gt;for(let mn=0;mn<It;mn++){const dn=ct?kt($t[mn],qt[mn],an):$t[mn];_t?(bt.copy(Tt.normals[0]).multiplyScalar(dn.x),wt.copy(Tt.binormals[0]).multiplyScalar(dn.y),Ct.copy(xt[0]).add(bt).add(wt),In(Ct.x,Ct.y,Ct.z)):In(dn.x,dn.y,0)}for(let mn=1;mn<=lt;mn++)for(let dn=0;dn<It;dn++){const An=ct?kt($t[dn],qt[dn],an):$t[dn];_t?(bt.copy(Tt.normals[mn]).multiplyScalar(An.x),wt.copy(Tt.binormals[mn]).multiplyScalar(An.y),Ct.copy(xt[mn]).add(bt).add(wt),In(Ct.x,Ct.y,Ct.z)):In(An.x,An.y,ut/lt*mn)}for(let mn=vt-1;mn>=0;mn--){const dn=mn/vt,An=ht*Math.cos(dn*Math.PI/2),Yn=pt*Math.sin(dn*Math.PI/2)+gt;for(let Bn=0,tr=Ft.length;Bn<tr;Bn++){const rr=kt(Ft[Bn],zt[Bn],Yn);In(rr.x,rr.y,ut+An)}for(let Bn=0,tr=Rt.length;Bn<tr;Bn++){const rr=Rt[Bn];Vt=Ht[Bn];for(let hr=0,fr=rr.length;hr<fr;hr++){const sn=kt(rr[hr],Vt[hr],Yn);_t?In(sn.x,sn.y+xt[lt-1].y,xt[lt-1].x+An):In(sn.x,sn.y,ut+An)}}}gn(),yn();function gn(){const mn=nt.length/3;if(ct){let dn=0,An=It*dn;for(let Yn=0;Yn<Ot;Yn++){const Bn=Gt[Yn];Dn(Bn[2]+An,Bn[1]+An,Bn[0]+An)}dn=lt+vt*2,An=It*dn;for(let Yn=0;Yn<Ot;Yn++){const Bn=Gt[Yn];Dn(Bn[0]+An,Bn[1]+An,Bn[2]+An)}}else{for(let dn=0;dn<Ot;dn++){const An=Gt[dn];Dn(An[2],An[1],An[0])}for(let dn=0;dn<Ot;dn++){const An=Gt[dn];Dn(An[0]+It*lt,An[1]+It*lt,An[2]+It*lt)}}tt.addGroup(mn,nt.length/3-mn,0)}function yn(){const mn=nt.length/3;let dn=0;fn(Ft,dn),dn+=Ft.length;for(let An=0,Yn=Rt.length;An<Yn;An++){const Bn=Rt[An];fn(Bn,dn),dn+=Bn.length}tt.addGroup(mn,nt.length/3-mn,1)}function fn(mn,dn){let An=mn.length;for(;--An>=0;){const Yn=An;let Bn=An-1;Bn<0&&(Bn=mn.length-1);for(let tr=0,rr=lt+vt*2;tr<rr;tr++){const hr=It*tr,fr=It*(tr+1),sn=dn+Yn+hr,nn=dn+Bn+hr,Cn=dn+Bn+fr,Hn=dn+Yn+fr;Mn(sn,nn,Cn,Hn)}}}function In(mn,dn,An){at.push(mn),at.push(dn),at.push(An)}function Dn(mn,dn,An){Fn(mn),Fn(dn),Fn(An);const Yn=nt.length/3,Bn=mt.generateTopUV(tt,nt,Yn-3,Yn-2,Yn-1);Vn(Bn[0]),Vn(Bn[1]),Vn(Bn[2])}function Mn(mn,dn,An,Yn){Fn(mn),Fn(dn),Fn(Yn),Fn(dn),Fn(An),Fn(Yn);const Bn=nt.length/3,tr=mt.generateSideWallUV(tt,nt,Bn-6,Bn-3,Bn-2,Bn-1);Vn(tr[0]),Vn(tr[1]),Vn(tr[3]),Vn(tr[1]),Vn(tr[2]),Vn(tr[3])}function Fn(mn){nt.push(at[mn*3+0]),nt.push(at[mn*3+1]),nt.push(at[mn*3+2])}function Vn(mn){rt.push(mn.x),rt.push(mn.y)}}}toJSON(){const j=super.toJSON(),et=this.parameters.shapes,tt=this.parameters.options;return toJSON$1(et,tt,j)}static fromJSON(j,et){const tt=[];for(let rt=0,it=j.shapes.length;rt<it;rt++){const st=et[j.shapes[rt]];tt.push(st)}const nt=j.options.extrudePath;return nt!==void 0&&(j.options.extrudePath=new Curves[nt.type]().fromJSON(nt)),new ExtrudeGeometry(tt,j.options)}}const WorldUVGenerator={generateTopUV:function(_e,j,et,tt,nt){const rt=j[et*3],it=j[et*3+1],st=j[tt*3],at=j[tt*3+1],ot=j[nt*3],lt=j[nt*3+1];return[new Vector2(rt,it),new Vector2(st,at),new Vector2(ot,lt)]},generateSideWallUV:function(_e,j,et,tt,nt,rt){const it=j[et*3],st=j[et*3+1],at=j[et*3+2],ot=j[tt*3],lt=j[tt*3+1],ut=j[tt*3+2],ct=j[nt*3],ht=j[nt*3+1],pt=j[nt*3+2],gt=j[rt*3],vt=j[rt*3+1],ft=j[rt*3+2];return Math.abs(st-lt)<Math.abs(it-ot)?[new Vector2(it,1-at),new Vector2(ot,1-ut),new Vector2(ct,1-pt),new Vector2(gt,1-ft)]:[new Vector2(st,1-at),new Vector2(lt,1-ut),new Vector2(ht,1-pt),new Vector2(vt,1-ft)]}};function toJSON$1(_e,j,et){if(et.shapes=[],Array.isArray(_e))for(let tt=0,nt=_e.length;tt<nt;tt++){const rt=_e[tt];et.shapes.push(rt.uuid)}else et.shapes.push(_e.uuid);return j.extrudePath!==void 0&&(et.options.extrudePath=j.extrudePath.toJSON()),et}class ShapeGeometry extends BufferGeometry{constructor(j=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),et=12){super(),this.type="ShapeGeometry",this.parameters={shapes:j,curveSegments:et};const tt=[],nt=[],rt=[],it=[];let st=0,at=0;if(Array.isArray(j)===!1)ot(j);else for(let lt=0;lt<j.length;lt++)ot(j[lt]),this.addGroup(st,at,lt),st+=at,at=0;this.setIndex(tt),this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("normal",new Float32BufferAttribute(rt,3)),this.setAttribute("uv",new Float32BufferAttribute(it,2));function ot(lt){const ut=nt.length/3,ct=lt.extractPoints(et);let ht=ct.shape;const pt=ct.holes;ShapeUtils.isClockWise(ht)===!1&&(ht=ht.reverse());for(let vt=0,ft=pt.length;vt<ft;vt++){const mt=pt[vt];ShapeUtils.isClockWise(mt)===!0&&(pt[vt]=mt.reverse())}const gt=ShapeUtils.triangulateShape(ht,pt);for(let vt=0,ft=pt.length;vt<ft;vt++){const mt=pt[vt];ht=ht.concat(mt)}for(let vt=0,ft=ht.length;vt<ft;vt++){const mt=ht[vt];nt.push(mt.x,mt.y,0),rt.push(0,0,1),it.push(mt.x,mt.y)}for(let vt=0,ft=gt.length;vt<ft;vt++){const mt=gt[vt],xt=mt[0]+ut,_t=mt[1]+ut,Tt=mt[2]+ut;tt.push(xt,_t,Tt),at+=3}}}toJSON(){const j=super.toJSON(),et=this.parameters.shapes;return toJSON(et,j)}static fromJSON(j,et){const tt=[];for(let nt=0,rt=j.shapes.length;nt<rt;nt++){const it=et[j.shapes[nt]];tt.push(it)}return new ShapeGeometry(tt,j.curveSegments)}}function toJSON(_e,j){if(j.shapes=[],Array.isArray(_e))for(let et=0,tt=_e.length;et<tt;et++){const nt=_e[et];j.shapes.push(nt.uuid)}else j.shapes.push(_e.uuid);return j}class ShadowMaterial extends Material{constructor(j){super(),this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.setValues(j)}copy(j){return super.copy(j),this.color.copy(j.color),this}}ShadowMaterial.prototype.isShadowMaterial=!0;class RawShaderMaterial extends ShaderMaterial{constructor(j){super(j),this.type="RawShaderMaterial"}}RawShaderMaterial.prototype.isRawShaderMaterial=!0;class MeshStandardMaterial extends Material{constructor(j){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(j)}copy(j){return super.copy(j),this.defines={STANDARD:""},this.color.copy(j.color),this.roughness=j.roughness,this.metalness=j.metalness,this.map=j.map,this.lightMap=j.lightMap,this.lightMapIntensity=j.lightMapIntensity,this.aoMap=j.aoMap,this.aoMapIntensity=j.aoMapIntensity,this.emissive.copy(j.emissive),this.emissiveMap=j.emissiveMap,this.emissiveIntensity=j.emissiveIntensity,this.bumpMap=j.bumpMap,this.bumpScale=j.bumpScale,this.normalMap=j.normalMap,this.normalMapType=j.normalMapType,this.normalScale.copy(j.normalScale),this.displacementMap=j.displacementMap,this.displacementScale=j.displacementScale,this.displacementBias=j.displacementBias,this.roughnessMap=j.roughnessMap,this.metalnessMap=j.metalnessMap,this.alphaMap=j.alphaMap,this.envMap=j.envMap,this.envMapIntensity=j.envMapIntensity,this.refractionRatio=j.refractionRatio,this.wireframe=j.wireframe,this.wireframeLinewidth=j.wireframeLinewidth,this.wireframeLinecap=j.wireframeLinecap,this.wireframeLinejoin=j.wireframeLinejoin,this.flatShading=j.flatShading,this}}MeshStandardMaterial.prototype.isMeshStandardMaterial=!0;class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(j){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(et){this.ior=(1+.4*et)/(1-.4*et)}}),this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(j)}get sheen(){return this._sheen}set sheen(j){this._sheen>0!=j>0&&this.version++,this._sheen=j}get clearcoat(){return this._clearcoat}set clearcoat(j){this._clearcoat>0!=j>0&&this.version++,this._clearcoat=j}get transmission(){return this._transmission}set transmission(j){this._transmission>0!=j>0&&this.version++,this._transmission=j}copy(j){return super.copy(j),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=j.clearcoat,this.clearcoatMap=j.clearcoatMap,this.clearcoatRoughness=j.clearcoatRoughness,this.clearcoatRoughnessMap=j.clearcoatRoughnessMap,this.clearcoatNormalMap=j.clearcoatNormalMap,this.clearcoatNormalScale.copy(j.clearcoatNormalScale),this.ior=j.ior,this.sheen=j.sheen,this.sheenColor.copy(j.sheenColor),this.sheenColorMap=j.sheenColorMap,this.sheenRoughness=j.sheenRoughness,this.sheenRoughnessMap=j.sheenRoughnessMap,this.transmission=j.transmission,this.transmissionMap=j.transmissionMap,this.thickness=j.thickness,this.thicknessMap=j.thicknessMap,this.attenuationDistance=j.attenuationDistance,this.attenuationColor.copy(j.attenuationColor),this.specularIntensity=j.specularIntensity,this.specularIntensityMap=j.specularIntensityMap,this.specularColor.copy(j.specularColor),this.specularColorMap=j.specularColorMap,this}}MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial=!0;class MeshPhongMaterial extends Material{constructor(j){super(),this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(j)}copy(j){return super.copy(j),this.color.copy(j.color),this.specular.copy(j.specular),this.shininess=j.shininess,this.map=j.map,this.lightMap=j.lightMap,this.lightMapIntensity=j.lightMapIntensity,this.aoMap=j.aoMap,this.aoMapIntensity=j.aoMapIntensity,this.emissive.copy(j.emissive),this.emissiveMap=j.emissiveMap,this.emissiveIntensity=j.emissiveIntensity,this.bumpMap=j.bumpMap,this.bumpScale=j.bumpScale,this.normalMap=j.normalMap,this.normalMapType=j.normalMapType,this.normalScale.copy(j.normalScale),this.displacementMap=j.displacementMap,this.displacementScale=j.displacementScale,this.displacementBias=j.displacementBias,this.specularMap=j.specularMap,this.alphaMap=j.alphaMap,this.envMap=j.envMap,this.combine=j.combine,this.reflectivity=j.reflectivity,this.refractionRatio=j.refractionRatio,this.wireframe=j.wireframe,this.wireframeLinewidth=j.wireframeLinewidth,this.wireframeLinecap=j.wireframeLinecap,this.wireframeLinejoin=j.wireframeLinejoin,this.flatShading=j.flatShading,this}}MeshPhongMaterial.prototype.isMeshPhongMaterial=!0;class MeshToonMaterial extends Material{constructor(j){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(j)}copy(j){return super.copy(j),this.color.copy(j.color),this.map=j.map,this.gradientMap=j.gradientMap,this.lightMap=j.lightMap,this.lightMapIntensity=j.lightMapIntensity,this.aoMap=j.aoMap,this.aoMapIntensity=j.aoMapIntensity,this.emissive.copy(j.emissive),this.emissiveMap=j.emissiveMap,this.emissiveIntensity=j.emissiveIntensity,this.bumpMap=j.bumpMap,this.bumpScale=j.bumpScale,this.normalMap=j.normalMap,this.normalMapType=j.normalMapType,this.normalScale.copy(j.normalScale),this.displacementMap=j.displacementMap,this.displacementScale=j.displacementScale,this.displacementBias=j.displacementBias,this.alphaMap=j.alphaMap,this.wireframe=j.wireframe,this.wireframeLinewidth=j.wireframeLinewidth,this.wireframeLinecap=j.wireframeLinecap,this.wireframeLinejoin=j.wireframeLinejoin,this}}MeshToonMaterial.prototype.isMeshToonMaterial=!0;class MeshNormalMaterial extends Material{constructor(j){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(j)}copy(j){return super.copy(j),this.bumpMap=j.bumpMap,this.bumpScale=j.bumpScale,this.normalMap=j.normalMap,this.normalMapType=j.normalMapType,this.normalScale.copy(j.normalScale),this.displacementMap=j.displacementMap,this.displacementScale=j.displacementScale,this.displacementBias=j.displacementBias,this.wireframe=j.wireframe,this.wireframeLinewidth=j.wireframeLinewidth,this.flatShading=j.flatShading,this}}MeshNormalMaterial.prototype.isMeshNormalMaterial=!0;class MeshLambertMaterial extends Material{constructor(j){super(),this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(j)}copy(j){return super.copy(j),this.color.copy(j.color),this.map=j.map,this.lightMap=j.lightMap,this.lightMapIntensity=j.lightMapIntensity,this.aoMap=j.aoMap,this.aoMapIntensity=j.aoMapIntensity,this.emissive.copy(j.emissive),this.emissiveMap=j.emissiveMap,this.emissiveIntensity=j.emissiveIntensity,this.specularMap=j.specularMap,this.alphaMap=j.alphaMap,this.envMap=j.envMap,this.combine=j.combine,this.reflectivity=j.reflectivity,this.refractionRatio=j.refractionRatio,this.wireframe=j.wireframe,this.wireframeLinewidth=j.wireframeLinewidth,this.wireframeLinecap=j.wireframeLinecap,this.wireframeLinejoin=j.wireframeLinejoin,this}}MeshLambertMaterial.prototype.isMeshLambertMaterial=!0;class MeshMatcapMaterial extends Material{constructor(j){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(j)}copy(j){return super.copy(j),this.defines={MATCAP:""},this.color.copy(j.color),this.matcap=j.matcap,this.map=j.map,this.bumpMap=j.bumpMap,this.bumpScale=j.bumpScale,this.normalMap=j.normalMap,this.normalMapType=j.normalMapType,this.normalScale.copy(j.normalScale),this.displacementMap=j.displacementMap,this.displacementScale=j.displacementScale,this.displacementBias=j.displacementBias,this.alphaMap=j.alphaMap,this.flatShading=j.flatShading,this}}MeshMatcapMaterial.prototype.isMeshMatcapMaterial=!0;class LineDashedMaterial extends LineBasicMaterial{constructor(j){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(j)}copy(j){return super.copy(j),this.scale=j.scale,this.dashSize=j.dashSize,this.gapSize=j.gapSize,this}}LineDashedMaterial.prototype.isLineDashedMaterial=!0;const materialLib={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};Material.fromType=function(_e){return new materialLib[_e]};const AnimationUtils={arraySlice:function(_e,j,et){return AnimationUtils.isTypedArray(_e)?new _e.constructor(_e.subarray(j,et!==void 0?et:_e.length)):_e.slice(j,et)},convertArray:function(_e,j,et){return!_e||!et&&_e.constructor===j?_e:typeof j.BYTES_PER_ELEMENT=="number"?new j(_e):Array.prototype.slice.call(_e)},isTypedArray:function(_e){return ArrayBuffer.isView(_e)&&!(_e instanceof DataView)},getKeyframeOrder:function(_e){function j(nt,rt){return _e[nt]-_e[rt]}const et=_e.length,tt=new Array(et);for(let nt=0;nt!==et;++nt)tt[nt]=nt;return tt.sort(j),tt},sortedArray:function(_e,j,et){const tt=_e.length,nt=new _e.constructor(tt);for(let rt=0,it=0;it!==tt;++rt){const st=et[rt]*j;for(let at=0;at!==j;++at)nt[it++]=_e[st+at]}return nt},flattenJSON:function(_e,j,et,tt){let nt=1,rt=_e[0];for(;rt!==void 0&&rt[tt]===void 0;)rt=_e[nt++];if(rt===void 0)return;let it=rt[tt];if(it!==void 0)if(Array.isArray(it))do it=rt[tt],it!==void 0&&(j.push(rt.time),et.push.apply(et,it)),rt=_e[nt++];while(rt!==void 0);else if(it.toArray!==void 0)do it=rt[tt],it!==void 0&&(j.push(rt.time),it.toArray(et,et.length)),rt=_e[nt++];while(rt!==void 0);else do it=rt[tt],it!==void 0&&(j.push(rt.time),et.push(it)),rt=_e[nt++];while(rt!==void 0)},subclip:function(_e,j,et,tt,nt=30){const rt=_e.clone();rt.name=j;const it=[];for(let at=0;at<rt.tracks.length;++at){const ot=rt.tracks[at],lt=ot.getValueSize(),ut=[],ct=[];for(let ht=0;ht<ot.times.length;++ht){const pt=ot.times[ht]*nt;if(!(pt<et||pt>=tt)){ut.push(ot.times[ht]);for(let gt=0;gt<lt;++gt)ct.push(ot.values[ht*lt+gt])}}ut.length!==0&&(ot.times=AnimationUtils.convertArray(ut,ot.times.constructor),ot.values=AnimationUtils.convertArray(ct,ot.values.constructor),it.push(ot))}rt.tracks=it;let st=1/0;for(let at=0;at<rt.tracks.length;++at)st>rt.tracks[at].times[0]&&(st=rt.tracks[at].times[0]);for(let at=0;at<rt.tracks.length;++at)rt.tracks[at].shift(-1*st);return rt.resetDuration(),rt},makeClipAdditive:function(_e,j=0,et=_e,tt=30){tt<=0&&(tt=30);const nt=et.tracks.length,rt=j/tt;for(let it=0;it<nt;++it){const st=et.tracks[it],at=st.ValueTypeName;if(at==="bool"||at==="string")continue;const ot=_e.tracks.find(function(ft){return ft.name===st.name&&ft.ValueTypeName===at});if(ot===void 0)continue;let lt=0;const ut=st.getValueSize();st.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(lt=ut/3);let ct=0;const ht=ot.getValueSize();ot.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ct=ht/3);const pt=st.times.length-1;let gt;if(rt<=st.times[0]){const ft=lt,mt=ut-lt;gt=AnimationUtils.arraySlice(st.values,ft,mt)}else if(rt>=st.times[pt]){const ft=pt*ut+lt,mt=ft+ut-lt;gt=AnimationUtils.arraySlice(st.values,ft,mt)}else{const ft=st.createInterpolant(),mt=lt,xt=ut-lt;ft.evaluate(rt),gt=AnimationUtils.arraySlice(ft.resultBuffer,mt,xt)}at==="quaternion"&&new Quaternion().fromArray(gt).normalize().conjugate().toArray(gt);const vt=ot.times.length;for(let ft=0;ft<vt;++ft){const mt=ft*ht+ct;if(at==="quaternion")Quaternion.multiplyQuaternionsFlat(ot.values,mt,gt,0,ot.values,mt);else{const xt=ht-ct*2;for(let _t=0;_t<xt;++_t)ot.values[mt+_t]-=gt[_t]}}}return _e.blendMode=AdditiveAnimationBlendMode,_e}};class Interpolant{constructor(j,et,tt,nt){this.parameterPositions=j,this._cachedIndex=0,this.resultBuffer=nt!==void 0?nt:new et.constructor(tt),this.sampleValues=et,this.valueSize=tt,this.settings=null,this.DefaultSettings_={}}evaluate(j){const et=this.parameterPositions;let tt=this._cachedIndex,nt=et[tt],rt=et[tt-1];e:{t:{let it;n:{r:if(!(j<nt)){for(let st=tt+2;;){if(nt===void 0){if(j<rt)break r;return tt=et.length,this._cachedIndex=tt,this.afterEnd_(tt-1,j,rt)}if(tt===st)break;if(rt=nt,nt=et[++tt],j<nt)break t}it=et.length;break n}if(!(j>=rt)){const st=et[1];j<st&&(tt=2,rt=st);for(let at=tt-2;;){if(rt===void 0)return this._cachedIndex=0,this.beforeStart_(0,j,nt);if(tt===at)break;if(nt=rt,rt=et[--tt-1],j>=rt)break t}it=tt,tt=0;break n}break e}for(;tt<it;){const st=tt+it>>>1;j<et[st]?it=st:tt=st+1}if(nt=et[tt],rt=et[tt-1],rt===void 0)return this._cachedIndex=0,this.beforeStart_(0,j,nt);if(nt===void 0)return tt=et.length,this._cachedIndex=tt,this.afterEnd_(tt-1,rt,j)}this._cachedIndex=tt,this.intervalChanged_(tt,rt,nt)}return this.interpolate_(tt,rt,j,nt)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(j){const et=this.resultBuffer,tt=this.sampleValues,nt=this.valueSize,rt=j*nt;for(let it=0;it!==nt;++it)et[it]=tt[rt+it];return et}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Interpolant.prototype.beforeStart_=Interpolant.prototype.copySampleValue_;Interpolant.prototype.afterEnd_=Interpolant.prototype.copySampleValue_;class CubicInterpolant extends Interpolant{constructor(j,et,tt,nt){super(j,et,tt,nt),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(j,et,tt){const nt=this.parameterPositions;let rt=j-2,it=j+1,st=nt[rt],at=nt[it];if(st===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:rt=j,st=2*et-tt;break;case WrapAroundEnding:rt=nt.length-2,st=et+nt[rt]-nt[rt+1];break;default:rt=j,st=tt}if(at===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:it=j,at=2*tt-et;break;case WrapAroundEnding:it=1,at=tt+nt[1]-nt[0];break;default:it=j-1,at=et}const ot=(tt-et)*.5,lt=this.valueSize;this._weightPrev=ot/(et-st),this._weightNext=ot/(at-tt),this._offsetPrev=rt*lt,this._offsetNext=it*lt}interpolate_(j,et,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,st=this.valueSize,at=j*st,ot=at-st,lt=this._offsetPrev,ut=this._offsetNext,ct=this._weightPrev,ht=this._weightNext,pt=(tt-et)/(nt-et),gt=pt*pt,vt=gt*pt,ft=-ct*vt+2*ct*gt-ct*pt,mt=(1+ct)*vt+(-1.5-2*ct)*gt+(-.5+ct)*pt+1,xt=(-1-ht)*vt+(1.5+ht)*gt+.5*pt,_t=ht*vt-ht*gt;for(let Tt=0;Tt!==st;++Tt)rt[Tt]=ft*it[lt+Tt]+mt*it[ot+Tt]+xt*it[at+Tt]+_t*it[ut+Tt];return rt}}class LinearInterpolant extends Interpolant{constructor(j,et,tt,nt){super(j,et,tt,nt)}interpolate_(j,et,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,st=this.valueSize,at=j*st,ot=at-st,lt=(tt-et)/(nt-et),ut=1-lt;for(let ct=0;ct!==st;++ct)rt[ct]=it[ot+ct]*ut+it[at+ct]*lt;return rt}}class DiscreteInterpolant extends Interpolant{constructor(j,et,tt,nt){super(j,et,tt,nt)}interpolate_(j){return this.copySampleValue_(j-1)}}class KeyframeTrack{constructor(j,et,tt,nt){if(j===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(et===void 0||et.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+j);this.name=j,this.times=AnimationUtils.convertArray(et,this.TimeBufferType),this.values=AnimationUtils.convertArray(tt,this.ValueBufferType),this.setInterpolation(nt||this.DefaultInterpolation)}static toJSON(j){const et=j.constructor;let tt;if(et.toJSON!==this.toJSON)tt=et.toJSON(j);else{tt={name:j.name,times:AnimationUtils.convertArray(j.times,Array),values:AnimationUtils.convertArray(j.values,Array)};const nt=j.getInterpolation();nt!==j.DefaultInterpolation&&(tt.interpolation=nt)}return tt.type=j.ValueTypeName,tt}InterpolantFactoryMethodDiscrete(j){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),j)}InterpolantFactoryMethodLinear(j){return new LinearInterpolant(this.times,this.values,this.getValueSize(),j)}InterpolantFactoryMethodSmooth(j){return new CubicInterpolant(this.times,this.values,this.getValueSize(),j)}setInterpolation(j){let et;switch(j){case InterpolateDiscrete:et=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:et=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:et=this.InterpolantFactoryMethodSmooth;break}if(et===void 0){const tt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(j!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(tt);return console.warn("THREE.KeyframeTrack:",tt),this}return this.createInterpolant=et,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(j){if(j!==0){const et=this.times;for(let tt=0,nt=et.length;tt!==nt;++tt)et[tt]+=j}return this}scale(j){if(j!==1){const et=this.times;for(let tt=0,nt=et.length;tt!==nt;++tt)et[tt]*=j}return this}trim(j,et){const tt=this.times,nt=tt.length;let rt=0,it=nt-1;for(;rt!==nt&&tt[rt]<j;)++rt;for(;it!==-1&&tt[it]>et;)--it;if(++it,rt!==0||it!==nt){rt>=it&&(it=Math.max(it,1),rt=it-1);const st=this.getValueSize();this.times=AnimationUtils.arraySlice(tt,rt,it),this.values=AnimationUtils.arraySlice(this.values,rt*st,it*st)}return this}validate(){let j=!0;const et=this.getValueSize();et-Math.floor(et)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),j=!1);const tt=this.times,nt=this.values,rt=tt.length;rt===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),j=!1);let it=null;for(let st=0;st!==rt;st++){const at=tt[st];if(typeof at=="number"&&isNaN(at)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,st,at),j=!1;break}if(it!==null&&it>at){console.error("THREE.KeyframeTrack: Out of order keys.",this,st,at,it),j=!1;break}it=at}if(nt!==void 0&&AnimationUtils.isTypedArray(nt))for(let st=0,at=nt.length;st!==at;++st){const ot=nt[st];if(isNaN(ot)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,st,ot),j=!1;break}}return j}optimize(){const j=AnimationUtils.arraySlice(this.times),et=AnimationUtils.arraySlice(this.values),tt=this.getValueSize(),nt=this.getInterpolation()===InterpolateSmooth,rt=j.length-1;let it=1;for(let st=1;st<rt;++st){let at=!1;const ot=j[st],lt=j[st+1];if(ot!==lt&&(st!==1||ot!==j[0]))if(nt)at=!0;else{const ut=st*tt,ct=ut-tt,ht=ut+tt;for(let pt=0;pt!==tt;++pt){const gt=et[ut+pt];if(gt!==et[ct+pt]||gt!==et[ht+pt]){at=!0;break}}}if(at){if(st!==it){j[it]=j[st];const ut=st*tt,ct=it*tt;for(let ht=0;ht!==tt;++ht)et[ct+ht]=et[ut+ht]}++it}}if(rt>0){j[it]=j[rt];for(let st=rt*tt,at=it*tt,ot=0;ot!==tt;++ot)et[at+ot]=et[st+ot];++it}return it!==j.length?(this.times=AnimationUtils.arraySlice(j,0,it),this.values=AnimationUtils.arraySlice(et,0,it*tt)):(this.times=j,this.values=et),this}clone(){const j=AnimationUtils.arraySlice(this.times,0),et=AnimationUtils.arraySlice(this.values,0),tt=this.constructor,nt=new tt(this.name,j,et);return nt.createInterpolant=this.createInterpolant,nt}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(j,et,tt,nt){super(j,et,tt,nt)}interpolate_(j,et,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,st=this.valueSize,at=(tt-et)/(nt-et);let ot=j*st;for(let lt=ot+st;ot!==lt;ot+=4)Quaternion.slerpFlat(rt,0,it,ot-st,it,ot,at);return rt}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(j){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),j)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(j,et=-1,tt,nt=NormalAnimationBlendMode){this.name=j,this.tracks=tt,this.duration=et,this.blendMode=nt,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(j){const et=[],tt=j.tracks,nt=1/(j.fps||1);for(let it=0,st=tt.length;it!==st;++it)et.push(parseKeyframeTrack(tt[it]).scale(nt));const rt=new this(j.name,j.duration,et,j.blendMode);return rt.uuid=j.uuid,rt}static toJSON(j){const et=[],tt=j.tracks,nt={name:j.name,duration:j.duration,tracks:et,uuid:j.uuid,blendMode:j.blendMode};for(let rt=0,it=tt.length;rt!==it;++rt)et.push(KeyframeTrack.toJSON(tt[rt]));return nt}static CreateFromMorphTargetSequence(j,et,tt,nt){const rt=et.length,it=[];for(let st=0;st<rt;st++){let at=[],ot=[];at.push((st+rt-1)%rt,st,(st+1)%rt),ot.push(0,1,0);const lt=AnimationUtils.getKeyframeOrder(at);at=AnimationUtils.sortedArray(at,1,lt),ot=AnimationUtils.sortedArray(ot,1,lt),!nt&&at[0]===0&&(at.push(rt),ot.push(ot[0])),it.push(new NumberKeyframeTrack(".morphTargetInfluences["+et[st].name+"]",at,ot).scale(1/tt))}return new this(j,-1,it)}static findByName(j,et){let tt=j;if(!Array.isArray(j)){const nt=j;tt=nt.geometry&&nt.geometry.animations||nt.animations}for(let nt=0;nt<tt.length;nt++)if(tt[nt].name===et)return tt[nt];return null}static CreateClipsFromMorphTargetSequences(j,et,tt){const nt={},rt=/^([\w-]*?)([\d]+)$/;for(let st=0,at=j.length;st<at;st++){const ot=j[st],lt=ot.name.match(rt);if(lt&&lt.length>1){const ut=lt[1];let ct=nt[ut];ct||(nt[ut]=ct=[]),ct.push(ot)}}const it=[];for(const st in nt)it.push(this.CreateFromMorphTargetSequence(st,nt[st],et,tt));return it}static parseAnimation(j,et){if(!j)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const tt=function(ut,ct,ht,pt,gt){if(ht.length!==0){const vt=[],ft=[];AnimationUtils.flattenJSON(ht,vt,ft,pt),vt.length!==0&&gt.push(new ut(ct,vt,ft))}},nt=[],rt=j.name||"default",it=j.fps||30,st=j.blendMode;let at=j.length||-1;const ot=j.hierarchy||[];for(let ut=0;ut<ot.length;ut++){const ct=ot[ut].keys;if(!(!ct||ct.length===0))if(ct[0].morphTargets){const ht={};let pt;for(pt=0;pt<ct.length;pt++)if(ct[pt].morphTargets)for(let gt=0;gt<ct[pt].morphTargets.length;gt++)ht[ct[pt].morphTargets[gt]]=-1;for(const gt in ht){const vt=[],ft=[];for(let mt=0;mt!==ct[pt].morphTargets.length;++mt){const xt=ct[pt];vt.push(xt.time),ft.push(xt.morphTarget===gt?1:0)}nt.push(new NumberKeyframeTrack(".morphTargetInfluence["+gt+"]",vt,ft))}at=ht.length*it}else{const ht=".bones["+et[ut].name+"]";tt(VectorKeyframeTrack,ht+".position",ct,"pos",nt),tt(QuaternionKeyframeTrack,ht+".quaternion",ct,"rot",nt),tt(VectorKeyframeTrack,ht+".scale",ct,"scl",nt)}}return nt.length===0?null:new this(rt,at,nt,st)}resetDuration(){const j=this.tracks;let et=0;for(let tt=0,nt=j.length;tt!==nt;++tt){const rt=this.tracks[tt];et=Math.max(et,rt.times[rt.times.length-1])}return this.duration=et,this}trim(){for(let j=0;j<this.tracks.length;j++)this.tracks[j].trim(0,this.duration);return this}validate(){let j=!0;for(let et=0;et<this.tracks.length;et++)j=j&&this.tracks[et].validate();return j}optimize(){for(let j=0;j<this.tracks.length;j++)this.tracks[j].optimize();return this}clone(){const j=[];for(let et=0;et<this.tracks.length;et++)j.push(this.tracks[et].clone());return new this.constructor(this.name,this.duration,j,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(_e){switch(_e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+_e)}function parseKeyframeTrack(_e){if(_e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const j=getTrackTypeForValueTypeName(_e.type);if(_e.times===void 0){const et=[],tt=[];AnimationUtils.flattenJSON(_e.keys,et,tt,"value"),_e.times=et,_e.values=tt}return j.parse!==void 0?j.parse(_e):new j(_e.name,_e.times,_e.values,_e.interpolation)}const Cache={enabled:!1,files:{},add:function(_e,j){this.enabled!==!1&&(this.files[_e]=j)},get:function(_e){if(this.enabled!==!1)return this.files[_e]},remove:function(_e){delete this.files[_e]},clear:function(){this.files={}}};class LoadingManager{constructor(j,et,tt){const nt=this;let rt=!1,it=0,st=0,at;const ot=[];this.onStart=void 0,this.onLoad=j,this.onProgress=et,this.onError=tt,this.itemStart=function(lt){st++,rt===!1&&nt.onStart!==void 0&&nt.onStart(lt,it,st),rt=!0},this.itemEnd=function(lt){it++,nt.onProgress!==void 0&&nt.onProgress(lt,it,st),it===st&&(rt=!1,nt.onLoad!==void 0&&nt.onLoad())},this.itemError=function(lt){nt.onError!==void 0&&nt.onError(lt)},this.resolveURL=function(lt){return at?at(lt):lt},this.setURLModifier=function(lt){return at=lt,this},this.addHandler=function(lt,ut){return ot.push(lt,ut),this},this.removeHandler=function(lt){const ut=ot.indexOf(lt);return ut!==-1&&ot.splice(ut,2),this},this.getHandler=function(lt){for(let ut=0,ct=ot.length;ut<ct;ut+=2){const ht=ot[ut],pt=ot[ut+1];if(ht.global&&(ht.lastIndex=0),ht.test(lt))return pt}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(j){this.manager=j!==void 0?j:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(j,et){const tt=this;return new Promise(function(nt,rt){tt.load(j,nt,et,rt)})}parse(){}setCrossOrigin(j){return this.crossOrigin=j,this}setWithCredentials(j){return this.withCredentials=j,this}setPath(j){return this.path=j,this}setResourcePath(j){return this.resourcePath=j,this}setRequestHeader(j){return this.requestHeader=j,this}}const loading={};class FileLoader extends Loader{constructor(j){super(j)}load(j,et,tt,nt){j===void 0&&(j=""),this.path!==void 0&&(j=this.path+j),j=this.manager.resolveURL(j);const rt=Cache.get(j);if(rt!==void 0)return this.manager.itemStart(j),setTimeout(()=>{et&&et(rt),this.manager.itemEnd(j)},0),rt;if(loading[j]!==void 0){loading[j].push({onLoad:et,onProgress:tt,onError:nt});return}loading[j]=[],loading[j].push({onLoad:et,onProgress:tt,onError:nt});const it=new Request(j,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),st=this.mimeType,at=this.responseType;fetch(it).then(ot=>{if(ot.status===200||ot.status===0){if(ot.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||ot.body===void 0||ot.body.getReader===void 0)return ot;const lt=loading[j],ut=ot.body.getReader(),ct=ot.headers.get("Content-Length"),ht=ct?parseInt(ct):0,pt=ht!==0;let gt=0;const vt=new ReadableStream({start(ft){mt();function mt(){ut.read().then(({done:xt,value:_t})=>{if(xt)ft.close();else{gt+=_t.byteLength;const Tt=new ProgressEvent("progress",{lengthComputable:pt,loaded:gt,total:ht});for(let wt=0,bt=lt.length;wt<bt;wt++){const Ct=lt[wt];Ct.onProgress&&Ct.onProgress(Tt)}ft.enqueue(_t),mt()}})}}});return new Response(vt)}else throw Error(`fetch for "${ot.url}" responded with ${ot.status}: ${ot.statusText}`)}).then(ot=>{switch(at){case"arraybuffer":return ot.arrayBuffer();case"blob":return ot.blob();case"document":return ot.text().then(lt=>new DOMParser().parseFromString(lt,st));case"json":return ot.json();default:if(st===void 0)return ot.text();{const ut=/charset="?([^;"\s]*)"?/i.exec(st),ct=ut&&ut[1]?ut[1].toLowerCase():void 0,ht=new TextDecoder(ct);return ot.arrayBuffer().then(pt=>ht.decode(pt))}}}).then(ot=>{Cache.add(j,ot);const lt=loading[j];delete loading[j];for(let ut=0,ct=lt.length;ut<ct;ut++){const ht=lt[ut];ht.onLoad&&ht.onLoad(ot)}}).catch(ot=>{const lt=loading[j];if(lt===void 0)throw this.manager.itemError(j),ot;delete loading[j];for(let ut=0,ct=lt.length;ut<ct;ut++){const ht=lt[ut];ht.onError&&ht.onError(ot)}this.manager.itemError(j)}).finally(()=>{this.manager.itemEnd(j)}),this.manager.itemStart(j)}setResponseType(j){return this.responseType=j,this}setMimeType(j){return this.mimeType=j,this}}class ImageLoader extends Loader{constructor(j){super(j)}load(j,et,tt,nt){this.path!==void 0&&(j=this.path+j),j=this.manager.resolveURL(j);const rt=this,it=Cache.get(j);if(it!==void 0)return rt.manager.itemStart(j),setTimeout(function(){et&&et(it),rt.manager.itemEnd(j)},0),it;const st=createElementNS("img");function at(){lt(),Cache.add(j,this),et&&et(this),rt.manager.itemEnd(j)}function ot(ut){lt(),nt&&nt(ut),rt.manager.itemError(j),rt.manager.itemEnd(j)}function lt(){st.removeEventListener("load",at,!1),st.removeEventListener("error",ot,!1)}return st.addEventListener("load",at,!1),st.addEventListener("error",ot,!1),j.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(st.crossOrigin=this.crossOrigin),rt.manager.itemStart(j),st.src=j,st}}class CubeTextureLoader extends Loader{constructor(j){super(j)}load(j,et,tt,nt){const rt=new CubeTexture,it=new ImageLoader(this.manager);it.setCrossOrigin(this.crossOrigin),it.setPath(this.path);let st=0;function at(ot){it.load(j[ot],function(lt){rt.images[ot]=lt,st++,st===6&&(rt.needsUpdate=!0,et&&et(rt))},void 0,nt)}for(let ot=0;ot<j.length;++ot)at(ot);return rt}}class TextureLoader extends Loader{constructor(j){super(j)}load(j,et,tt,nt){const rt=new Texture,it=new ImageLoader(this.manager);return it.setCrossOrigin(this.crossOrigin),it.setPath(this.path),it.load(j,function(st){rt.image=st,rt.needsUpdate=!0,et!==void 0&&et(rt)},tt,nt),rt}}class Light extends Object3D{constructor(j,et=1){super(),this.type="Light",this.color=new Color(j),this.intensity=et}dispose(){}copy(j){return super.copy(j),this.color.copy(j.color),this.intensity=j.intensity,this}toJSON(j){const et=super.toJSON(j);return et.object.color=this.color.getHex(),et.object.intensity=this.intensity,this.groundColor!==void 0&&(et.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(et.object.distance=this.distance),this.angle!==void 0&&(et.object.angle=this.angle),this.decay!==void 0&&(et.object.decay=this.decay),this.penumbra!==void 0&&(et.object.penumbra=this.penumbra),this.shadow!==void 0&&(et.object.shadow=this.shadow.toJSON()),et}}Light.prototype.isLight=!0;class HemisphereLight extends Light{constructor(j,et,tt){super(j,tt),this.type="HemisphereLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.groundColor=new Color(et)}copy(j){return Light.prototype.copy.call(this,j),this.groundColor.copy(j.groundColor),this}}HemisphereLight.prototype.isHemisphereLight=!0;const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(j){this.camera=j,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(j){const et=this.camera,tt=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(j.matrixWorld),et.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(j.target.matrixWorld),et.lookAt(_lookTarget$1),et.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(et.projectionMatrix,et.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),tt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),tt.multiply(et.projectionMatrix),tt.multiply(et.matrixWorldInverse)}getViewport(j){return this._viewports[j]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(j){return this.camera=j.camera.clone(),this.bias=j.bias,this.radius=j.radius,this.mapSize.copy(j.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const j={};return this.bias!==0&&(j.bias=this.bias),this.normalBias!==0&&(j.normalBias=this.normalBias),this.radius!==1&&(j.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(j.mapSize=this.mapSize.toArray()),j.camera=this.camera.toJSON(!1).object,delete j.camera.matrix,j}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.focus=1}updateMatrices(j){const et=this.camera,tt=RAD2DEG*2*j.angle*this.focus,nt=this.mapSize.width/this.mapSize.height,rt=j.distance||et.far;(tt!==et.fov||nt!==et.aspect||rt!==et.far)&&(et.fov=tt,et.aspect=nt,et.far=rt,et.updateProjectionMatrix()),super.updateMatrices(j)}copy(j){return super.copy(j),this.focus=j.focus,this}}SpotLightShadow.prototype.isSpotLightShadow=!0;class SpotLight extends Light{constructor(j,et,tt=0,nt=Math.PI/3,rt=0,it=1){super(j,et),this.type="SpotLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.distance=tt,this.angle=nt,this.penumbra=rt,this.decay=it,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(j){this.intensity=j/Math.PI}dispose(){this.shadow.dispose()}copy(j){return super.copy(j),this.distance=j.distance,this.angle=j.angle,this.penumbra=j.penumbra,this.decay=j.decay,this.target=j.target.clone(),this.shadow=j.shadow.clone(),this}}SpotLight.prototype.isSpotLight=!0;const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(j,et=0){const tt=this.camera,nt=this.matrix,rt=j.distance||tt.far;rt!==tt.far&&(tt.far=rt,tt.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(j.matrixWorld),tt.position.copy(_lightPositionWorld),_lookTarget.copy(tt.position),_lookTarget.add(this._cubeDirections[et]),tt.up.copy(this._cubeUps[et]),tt.lookAt(_lookTarget),tt.updateMatrixWorld(),nt.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(tt.projectionMatrix,tt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}PointLightShadow.prototype.isPointLightShadow=!0;class PointLight extends Light{constructor(j,et,tt=0,nt=1){super(j,et),this.type="PointLight",this.distance=tt,this.decay=nt,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(j){this.intensity=j/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(j){return super.copy(j),this.distance=j.distance,this.decay=j.decay,this.shadow=j.shadow.clone(),this}}PointLight.prototype.isPointLight=!0;class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500))}}DirectionalLightShadow.prototype.isDirectionalLightShadow=!0;class DirectionalLight extends Light{constructor(j,et){super(j,et),this.type="DirectionalLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(j){return super.copy(j),this.target=j.target.clone(),this.shadow=j.shadow.clone(),this}}DirectionalLight.prototype.isDirectionalLight=!0;class AmbientLight extends Light{constructor(j,et){super(j,et),this.type="AmbientLight"}}AmbientLight.prototype.isAmbientLight=!0;class RectAreaLight extends Light{constructor(j,et,tt=10,nt=10){super(j,et),this.type="RectAreaLight",this.width=tt,this.height=nt}get power(){return this.intensity*this.width*this.height*Math.PI}set power(j){this.intensity=j/(this.width*this.height*Math.PI)}copy(j){return super.copy(j),this.width=j.width,this.height=j.height,this}toJSON(j){const et=super.toJSON(j);return et.object.width=this.width,et.object.height=this.height,et}}RectAreaLight.prototype.isRectAreaLight=!0;class SphericalHarmonics3{constructor(){this.coefficients=[];for(let j=0;j<9;j++)this.coefficients.push(new Vector3)}set(j){for(let et=0;et<9;et++)this.coefficients[et].copy(j[et]);return this}zero(){for(let j=0;j<9;j++)this.coefficients[j].set(0,0,0);return this}getAt(j,et){const tt=j.x,nt=j.y,rt=j.z,it=this.coefficients;return et.copy(it[0]).multiplyScalar(.282095),et.addScaledVector(it[1],.488603*nt),et.addScaledVector(it[2],.488603*rt),et.addScaledVector(it[3],.488603*tt),et.addScaledVector(it[4],1.092548*(tt*nt)),et.addScaledVector(it[5],1.092548*(nt*rt)),et.addScaledVector(it[6],.315392*(3*rt*rt-1)),et.addScaledVector(it[7],1.092548*(tt*rt)),et.addScaledVector(it[8],.546274*(tt*tt-nt*nt)),et}getIrradianceAt(j,et){const tt=j.x,nt=j.y,rt=j.z,it=this.coefficients;return et.copy(it[0]).multiplyScalar(.886227),et.addScaledVector(it[1],2*.511664*nt),et.addScaledVector(it[2],2*.511664*rt),et.addScaledVector(it[3],2*.511664*tt),et.addScaledVector(it[4],2*.429043*tt*nt),et.addScaledVector(it[5],2*.429043*nt*rt),et.addScaledVector(it[6],.743125*rt*rt-.247708),et.addScaledVector(it[7],2*.429043*tt*rt),et.addScaledVector(it[8],.429043*(tt*tt-nt*nt)),et}add(j){for(let et=0;et<9;et++)this.coefficients[et].add(j.coefficients[et]);return this}addScaledSH(j,et){for(let tt=0;tt<9;tt++)this.coefficients[tt].addScaledVector(j.coefficients[tt],et);return this}scale(j){for(let et=0;et<9;et++)this.coefficients[et].multiplyScalar(j);return this}lerp(j,et){for(let tt=0;tt<9;tt++)this.coefficients[tt].lerp(j.coefficients[tt],et);return this}equals(j){for(let et=0;et<9;et++)if(!this.coefficients[et].equals(j.coefficients[et]))return!1;return!0}copy(j){return this.set(j.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(j,et=0){const tt=this.coefficients;for(let nt=0;nt<9;nt++)tt[nt].fromArray(j,et+nt*3);return this}toArray(j=[],et=0){const tt=this.coefficients;for(let nt=0;nt<9;nt++)tt[nt].toArray(j,et+nt*3);return j}static getBasisAt(j,et){const tt=j.x,nt=j.y,rt=j.z;et[0]=.282095,et[1]=.488603*nt,et[2]=.488603*rt,et[3]=.488603*tt,et[4]=1.092548*tt*nt,et[5]=1.092548*nt*rt,et[6]=.315392*(3*rt*rt-1),et[7]=1.092548*tt*rt,et[8]=.546274*(tt*tt-nt*nt)}}SphericalHarmonics3.prototype.isSphericalHarmonics3=!0;class LightProbe extends Light{constructor(j=new SphericalHarmonics3,et=1){super(void 0,et),this.sh=j}copy(j){return super.copy(j),this.sh.copy(j.sh),this}fromJSON(j){return this.intensity=j.intensity,this.sh.fromArray(j.sh),this}toJSON(j){const et=super.toJSON(j);return et.object.sh=this.sh.toArray(),et}}LightProbe.prototype.isLightProbe=!0;class LoaderUtils{static decodeText(j){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(j);let et="";for(let tt=0,nt=j.length;tt<nt;tt++)et+=String.fromCharCode(j[tt]);try{return decodeURIComponent(escape(et))}catch{return et}}static extractUrlBase(j){const et=j.lastIndexOf("/");return et===-1?"./":j.slice(0,et+1)}static resolveURL(j,et){return typeof j!="string"||j===""?"":(/^https?:\/\//i.test(et)&&/^\//.test(j)&&(et=et.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(j)||/^data:.*,.*$/i.test(j)||/^blob:.*$/i.test(j)?j:et+j)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(j){return super.copy(j),this.instanceCount=j.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const j=super.toJSON(this);return j.instanceCount=this.instanceCount,j.isInstancedBufferGeometry=!0,j}}InstancedBufferGeometry.prototype.isInstancedBufferGeometry=!0;class ImageBitmapLoader extends Loader{constructor(j){super(j),typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(j){return this.options=j,this}load(j,et,tt,nt){j===void 0&&(j=""),this.path!==void 0&&(j=this.path+j),j=this.manager.resolveURL(j);const rt=this,it=Cache.get(j);if(it!==void 0)return rt.manager.itemStart(j),setTimeout(function(){et&&et(it),rt.manager.itemEnd(j)},0),it;const st={};st.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",st.headers=this.requestHeader,fetch(j,st).then(function(at){return at.blob()}).then(function(at){return createImageBitmap(at,Object.assign(rt.options,{colorSpaceConversion:"none"}))}).then(function(at){Cache.add(j,at),et&&et(at),rt.manager.itemEnd(j)}).catch(function(at){nt&&nt(at),rt.manager.itemError(j),rt.manager.itemEnd(j)}),rt.manager.itemStart(j)}}ImageBitmapLoader.prototype.isImageBitmapLoader=!0;let _context;const AudioContext={getContext:function(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context},setContext:function(_e){_context=_e}};class AudioLoader extends Loader{constructor(j){super(j)}load(j,et,tt,nt){const rt=this,it=new FileLoader(this.manager);it.setResponseType("arraybuffer"),it.setPath(this.path),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials),it.load(j,function(st){try{const at=st.slice(0);AudioContext.getContext().decodeAudioData(at,function(lt){et(lt)})}catch(at){nt?nt(at):console.error(at),rt.manager.itemError(j)}},tt,nt)}}class HemisphereLightProbe extends LightProbe{constructor(j,et,tt=1){super(void 0,tt);const nt=new Color().set(j),rt=new Color().set(et),it=new Vector3(nt.r,nt.g,nt.b),st=new Vector3(rt.r,rt.g,rt.b),at=Math.sqrt(Math.PI),ot=at*Math.sqrt(.75);this.sh.coefficients[0].copy(it).add(st).multiplyScalar(at),this.sh.coefficients[1].copy(it).sub(st).multiplyScalar(ot)}}HemisphereLightProbe.prototype.isHemisphereLightProbe=!0;class AmbientLightProbe extends LightProbe{constructor(j,et=1){super(void 0,et);const tt=new Color().set(j);this.sh.coefficients[0].set(tt.r,tt.g,tt.b).multiplyScalar(2*Math.sqrt(Math.PI))}}AmbientLightProbe.prototype.isAmbientLightProbe=!0;class Clock{constructor(j=!0){this.autoStart=j,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let j=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const et=now();j=(et-this.oldTime)/1e3,this.oldTime=et,this.elapsedTime+=j}return j}}function now(){return(typeof performance=="undefined"?Date:performance).now()}class Audio$1 extends Object3D{constructor(j){super(),this.type="Audio",this.listener=j,this.context=j.context,this.gain=this.context.createGain(),this.gain.connect(j.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(j){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=j,this.connect(),this}setMediaElementSource(j){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(j),this.connect(),this}setMediaStreamSource(j){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(j),this.connect(),this}setBuffer(j){return this.buffer=j,this.sourceType="buffer",this.autoplay&&this.play(),this}play(j=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+j;const et=this.context.createBufferSource();return et.buffer=this.buffer,et.loop=this.loop,et.loopStart=this.loopStart,et.loopEnd=this.loopEnd,et.onended=this.onEnded.bind(this),et.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=et,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let j=1,et=this.filters.length;j<et;j++)this.filters[j-1].connect(this.filters[j]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let j=1,et=this.filters.length;j<et;j++)this.filters[j-1].disconnect(this.filters[j]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(j){return j||(j=[]),this._connected===!0?(this.disconnect(),this.filters=j.slice(),this.connect()):this.filters=j.slice(),this}setDetune(j){if(this.detune=j,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(j){return this.setFilters(j?[j]:[])}setPlaybackRate(j){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=j,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(j){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=j,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(j){return this.loopStart=j,this}setLoopEnd(j){return this.loopEnd=j,this}getVolume(){return this.gain.gain.value}setVolume(j){return this.gain.gain.setTargetAtTime(j,this.context.currentTime,.01),this}}class PropertyMixer{constructor(j,et,tt){this.binding=j,this.valueSize=tt;let nt,rt,it;switch(et){case"quaternion":nt=this._slerp,rt=this._slerpAdditive,it=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(tt*6),this._workIndex=5;break;case"string":case"bool":nt=this._select,rt=this._select,it=this._setAdditiveIdentityOther,this.buffer=new Array(tt*5);break;default:nt=this._lerp,rt=this._lerpAdditive,it=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(tt*5)}this._mixBufferRegion=nt,this._mixBufferRegionAdditive=rt,this._setIdentity=it,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(j,et){const tt=this.buffer,nt=this.valueSize,rt=j*nt+nt;let it=this.cumulativeWeight;if(it===0){for(let st=0;st!==nt;++st)tt[rt+st]=tt[st];it=et}else{it+=et;const st=et/it;this._mixBufferRegion(tt,rt,0,st,nt)}this.cumulativeWeight=it}accumulateAdditive(j){const et=this.buffer,tt=this.valueSize,nt=tt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(et,nt,0,j,tt),this.cumulativeWeightAdditive+=j}apply(j){const et=this.valueSize,tt=this.buffer,nt=j*et+et,rt=this.cumulativeWeight,it=this.cumulativeWeightAdditive,st=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,rt<1){const at=et*this._origIndex;this._mixBufferRegion(tt,nt,at,1-rt,et)}it>0&&this._mixBufferRegionAdditive(tt,nt,this._addIndex*et,1,et);for(let at=et,ot=et+et;at!==ot;++at)if(tt[at]!==tt[at+et]){st.setValue(tt,nt);break}}saveOriginalState(){const j=this.binding,et=this.buffer,tt=this.valueSize,nt=tt*this._origIndex;j.getValue(et,nt);for(let rt=tt,it=nt;rt!==it;++rt)et[rt]=et[nt+rt%tt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const j=this.valueSize*3;this.binding.setValue(this.buffer,j)}_setAdditiveIdentityNumeric(){const j=this._addIndex*this.valueSize,et=j+this.valueSize;for(let tt=j;tt<et;tt++)this.buffer[tt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const j=this._origIndex*this.valueSize,et=this._addIndex*this.valueSize;for(let tt=0;tt<this.valueSize;tt++)this.buffer[et+tt]=this.buffer[j+tt]}_select(j,et,tt,nt,rt){if(nt>=.5)for(let it=0;it!==rt;++it)j[et+it]=j[tt+it]}_slerp(j,et,tt,nt){Quaternion.slerpFlat(j,et,j,et,j,tt,nt)}_slerpAdditive(j,et,tt,nt,rt){const it=this._workIndex*rt;Quaternion.multiplyQuaternionsFlat(j,it,j,et,j,tt),Quaternion.slerpFlat(j,et,j,et,j,it,nt)}_lerp(j,et,tt,nt,rt){const it=1-nt;for(let st=0;st!==rt;++st){const at=et+st;j[at]=j[at]*it+j[tt+st]*nt}}_lerpAdditive(j,et,tt,nt,rt){for(let it=0;it!==rt;++it){const st=et+it;j[st]=j[st]+j[tt+it]*nt}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones"];class Composite{constructor(j,et,tt){const nt=tt||PropertyBinding.parseTrackName(et);this._targetGroup=j,this._bindings=j.subscribe_(et,nt)}getValue(j,et){this.bind();const tt=this._targetGroup.nCachedObjects_,nt=this._bindings[tt];nt!==void 0&&nt.getValue(j,et)}setValue(j,et){const tt=this._bindings;for(let nt=this._targetGroup.nCachedObjects_,rt=tt.length;nt!==rt;++nt)tt[nt].setValue(j,et)}bind(){const j=this._bindings;for(let et=this._targetGroup.nCachedObjects_,tt=j.length;et!==tt;++et)j[et].bind()}unbind(){const j=this._bindings;for(let et=this._targetGroup.nCachedObjects_,tt=j.length;et!==tt;++et)j[et].unbind()}}class PropertyBinding{constructor(j,et,tt){this.path=et,this.parsedPath=tt||PropertyBinding.parseTrackName(et),this.node=PropertyBinding.findNode(j,this.parsedPath.nodeName)||j,this.rootNode=j,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(j,et,tt){return j&&j.isAnimationObjectGroup?new PropertyBinding.Composite(j,et,tt):new PropertyBinding(j,et,tt)}static sanitizeNodeName(j){return j.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(j){const et=_trackRe.exec(j);if(et===null)throw new Error("PropertyBinding: Cannot parse trackName: "+j);const tt={nodeName:et[2],objectName:et[3],objectIndex:et[4],propertyName:et[5],propertyIndex:et[6]},nt=tt.nodeName&&tt.nodeName.lastIndexOf(".");if(nt!==void 0&&nt!==-1){const rt=tt.nodeName.substring(nt+1);_supportedObjectNames.indexOf(rt)!==-1&&(tt.nodeName=tt.nodeName.substring(0,nt),tt.objectName=rt)}if(tt.propertyName===null||tt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+j);return tt}static findNode(j,et){if(et===void 0||et===""||et==="."||et===-1||et===j.name||et===j.uuid)return j;if(j.skeleton){const tt=j.skeleton.getBoneByName(et);if(tt!==void 0)return tt}if(j.children){const tt=function(rt){for(let it=0;it<rt.length;it++){const st=rt[it];if(st.name===et||st.uuid===et)return st;const at=tt(st.children);if(at)return at}return null},nt=tt(j.children);if(nt)return nt}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(j,et){j[et]=this.targetObject[this.propertyName]}_getValue_array(j,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)j[et++]=tt[nt]}_getValue_arrayElement(j,et){j[et]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(j,et){this.resolvedProperty.toArray(j,et)}_setValue_direct(j,et){this.targetObject[this.propertyName]=j[et]}_setValue_direct_setNeedsUpdate(j,et){this.targetObject[this.propertyName]=j[et],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(j,et){this.targetObject[this.propertyName]=j[et],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(j,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=j[et++]}_setValue_array_setNeedsUpdate(j,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=j[et++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(j,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=j[et++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(j,et){this.resolvedProperty[this.propertyIndex]=j[et]}_setValue_arrayElement_setNeedsUpdate(j,et){this.resolvedProperty[this.propertyIndex]=j[et],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(j,et){this.resolvedProperty[this.propertyIndex]=j[et],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(j,et){this.resolvedProperty.fromArray(j,et)}_setValue_fromArray_setNeedsUpdate(j,et){this.resolvedProperty.fromArray(j,et),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(j,et){this.resolvedProperty.fromArray(j,et),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(j,et){this.bind(),this.getValue(j,et)}_setValue_unbound(j,et){this.bind(),this.setValue(j,et)}bind(){let j=this.node;const et=this.parsedPath,tt=et.objectName,nt=et.propertyName;let rt=et.propertyIndex;if(j||(j=PropertyBinding.findNode(this.rootNode,et.nodeName)||this.rootNode,this.node=j),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!j){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(tt){let ot=et.objectIndex;switch(tt){case"materials":if(!j.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!j.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}j=j.material.materials;break;case"bones":if(!j.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}j=j.skeleton.bones;for(let lt=0;lt<j.length;lt++)if(j[lt].name===ot){ot=lt;break}break;default:if(j[tt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}j=j[tt]}if(ot!==void 0){if(j[ot]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,j);return}j=j[ot]}}const it=j[nt];if(it===void 0){const ot=et.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+ot+"."+nt+" but it wasn't found.",j);return}let st=this.Versioning.None;this.targetObject=j,j.needsUpdate!==void 0?st=this.Versioning.NeedsUpdate:j.matrixWorldNeedsUpdate!==void 0&&(st=this.Versioning.MatrixWorldNeedsUpdate);let at=this.BindingType.Direct;if(rt!==void 0){if(nt==="morphTargetInfluences"){if(!j.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(j.geometry.isBufferGeometry){if(!j.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}j.morphTargetDictionary[rt]!==void 0&&(rt=j.morphTargetDictionary[rt])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}at=this.BindingType.ArrayElement,this.resolvedProperty=it,this.propertyIndex=rt}else it.fromArray!==void 0&&it.toArray!==void 0?(at=this.BindingType.HasFromToArray,this.resolvedProperty=it):Array.isArray(it)?(at=this.BindingType.EntireArray,this.resolvedProperty=it):this.propertyName=nt;this.getValue=this.GetterByBindingType[at],this.setValue=this.SetterByBindingTypeAndVersioning[at][st]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationAction{constructor(j,et,tt=null,nt=et.blendMode){this._mixer=j,this._clip=et,this._localRoot=tt,this.blendMode=nt;const rt=et.tracks,it=rt.length,st=new Array(it),at={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let ot=0;ot!==it;++ot){const lt=rt[ot].createInterpolant(null);st[ot]=lt,lt.settings=at}this._interpolantSettings=at,this._interpolants=st,this._propertyBindings=new Array(it),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(j){return this._startTime=j,this}setLoop(j,et){return this.loop=j,this.repetitions=et,this}setEffectiveWeight(j){return this.weight=j,this._effectiveWeight=this.enabled?j:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(j){return this._scheduleFading(j,0,1)}fadeOut(j){return this._scheduleFading(j,1,0)}crossFadeFrom(j,et,tt){if(j.fadeOut(et),this.fadeIn(et),tt){const nt=this._clip.duration,rt=j._clip.duration,it=rt/nt,st=nt/rt;j.warp(1,it,et),this.warp(st,1,et)}return this}crossFadeTo(j,et,tt){return j.crossFadeFrom(this,et,tt)}stopFading(){const j=this._weightInterpolant;return j!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(j)),this}setEffectiveTimeScale(j){return this.timeScale=j,this._effectiveTimeScale=this.paused?0:j,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(j){return this.timeScale=this._clip.duration/j,this.stopWarping()}syncWith(j){return this.time=j.time,this.timeScale=j.timeScale,this.stopWarping()}halt(j){return this.warp(this._effectiveTimeScale,0,j)}warp(j,et,tt){const nt=this._mixer,rt=nt.time,it=this.timeScale;let st=this._timeScaleInterpolant;st===null&&(st=nt._lendControlInterpolant(),this._timeScaleInterpolant=st);const at=st.parameterPositions,ot=st.sampleValues;return at[0]=rt,at[1]=rt+tt,ot[0]=j/it,ot[1]=et/it,this}stopWarping(){const j=this._timeScaleInterpolant;return j!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(j)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(j,et,tt,nt){if(!this.enabled){this._updateWeight(j);return}const rt=this._startTime;if(rt!==null){const at=(j-rt)*tt;if(at<0||tt===0)return;this._startTime=null,et=tt*at}et*=this._updateTimeScale(j);const it=this._updateTime(et),st=this._updateWeight(j);if(st>0){const at=this._interpolants,ot=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let lt=0,ut=at.length;lt!==ut;++lt)at[lt].evaluate(it),ot[lt].accumulateAdditive(st);break;case NormalAnimationBlendMode:default:for(let lt=0,ut=at.length;lt!==ut;++lt)at[lt].evaluate(it),ot[lt].accumulate(nt,st)}}}_updateWeight(j){let et=0;if(this.enabled){et=this.weight;const tt=this._weightInterpolant;if(tt!==null){const nt=tt.evaluate(j)[0];et*=nt,j>tt.parameterPositions[1]&&(this.stopFading(),nt===0&&(this.enabled=!1))}}return this._effectiveWeight=et,et}_updateTimeScale(j){let et=0;if(!this.paused){et=this.timeScale;const tt=this._timeScaleInterpolant;tt!==null&&(et*=tt.evaluate(j)[0],j>tt.parameterPositions[1]&&(this.stopWarping(),et===0?this.paused=!0:this.timeScale=et))}return this._effectiveTimeScale=et,et}_updateTime(j){const et=this._clip.duration,tt=this.loop;let nt=this.time+j,rt=this._loopCount;const it=tt===LoopPingPong;if(j===0)return rt===-1?nt:it&&(rt&1)===1?et-nt:nt;if(tt===LoopOnce){rt===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(nt>=et)nt=et;else if(nt<0)nt=0;else{this.time=nt;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:j<0?-1:1})}}else{if(rt===-1&&(j>=0?(rt=0,this._setEndings(!0,this.repetitions===0,it)):this._setEndings(this.repetitions===0,!0,it)),nt>=et||nt<0){const st=Math.floor(nt/et);nt-=et*st,rt+=Math.abs(st);const at=this.repetitions-rt;if(at<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,nt=j>0?et:0,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:j>0?1:-1});else{if(at===1){const ot=j<0;this._setEndings(ot,!ot,it)}else this._setEndings(!1,!1,it);this._loopCount=rt,this.time=nt,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:st})}}else this.time=nt;if(it&&(rt&1)===1)return et-nt}return nt}_setEndings(j,et,tt){const nt=this._interpolantSettings;tt?(nt.endingStart=ZeroSlopeEnding,nt.endingEnd=ZeroSlopeEnding):(j?nt.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingStart=WrapAroundEnding,et?nt.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingEnd=WrapAroundEnding)}_scheduleFading(j,et,tt){const nt=this._mixer,rt=nt.time;let it=this._weightInterpolant;it===null&&(it=nt._lendControlInterpolant(),this._weightInterpolant=it);const st=it.parameterPositions,at=it.sampleValues;return st[0]=rt,at[0]=et,st[1]=rt+j,at[1]=tt,this}}class AnimationMixer extends EventDispatcher{constructor(j){super(),this._root=j,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(j,et){const tt=j._localRoot||this._root,nt=j._clip.tracks,rt=nt.length,it=j._propertyBindings,st=j._interpolants,at=tt.uuid,ot=this._bindingsByRootAndName;let lt=ot[at];lt===void 0&&(lt={},ot[at]=lt);for(let ut=0;ut!==rt;++ut){const ct=nt[ut],ht=ct.name;let pt=lt[ht];if(pt!==void 0)++pt.referenceCount,it[ut]=pt;else{if(pt=it[ut],pt!==void 0){pt._cacheIndex===null&&(++pt.referenceCount,this._addInactiveBinding(pt,at,ht));continue}const gt=et&&et._propertyBindings[ut].binding.parsedPath;pt=new PropertyMixer(PropertyBinding.create(tt,ht,gt),ct.ValueTypeName,ct.getValueSize()),++pt.referenceCount,this._addInactiveBinding(pt,at,ht),it[ut]=pt}st[ut].resultBuffer=pt.buffer}}_activateAction(j){if(!this._isActiveAction(j)){if(j._cacheIndex===null){const tt=(j._localRoot||this._root).uuid,nt=j._clip.uuid,rt=this._actionsByClip[nt];this._bindAction(j,rt&&rt.knownActions[0]),this._addInactiveAction(j,nt,tt)}const et=j._propertyBindings;for(let tt=0,nt=et.length;tt!==nt;++tt){const rt=et[tt];rt.useCount++===0&&(this._lendBinding(rt),rt.saveOriginalState())}this._lendAction(j)}}_deactivateAction(j){if(this._isActiveAction(j)){const et=j._propertyBindings;for(let tt=0,nt=et.length;tt!==nt;++tt){const rt=et[tt];--rt.useCount===0&&(rt.restoreOriginalState(),this._takeBackBinding(rt))}this._takeBackAction(j)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const j=this;this.stats={actions:{get total(){return j._actions.length},get inUse(){return j._nActiveActions}},bindings:{get total(){return j._bindings.length},get inUse(){return j._nActiveBindings}},controlInterpolants:{get total(){return j._controlInterpolants.length},get inUse(){return j._nActiveControlInterpolants}}}}_isActiveAction(j){const et=j._cacheIndex;return et!==null&&et<this._nActiveActions}_addInactiveAction(j,et,tt){const nt=this._actions,rt=this._actionsByClip;let it=rt[et];if(it===void 0)it={knownActions:[j],actionByRoot:{}},j._byClipCacheIndex=0,rt[et]=it;else{const st=it.knownActions;j._byClipCacheIndex=st.length,st.push(j)}j._cacheIndex=nt.length,nt.push(j),it.actionByRoot[tt]=j}_removeInactiveAction(j){const et=this._actions,tt=et[et.length-1],nt=j._cacheIndex;tt._cacheIndex=nt,et[nt]=tt,et.pop(),j._cacheIndex=null;const rt=j._clip.uuid,it=this._actionsByClip,st=it[rt],at=st.knownActions,ot=at[at.length-1],lt=j._byClipCacheIndex;ot._byClipCacheIndex=lt,at[lt]=ot,at.pop(),j._byClipCacheIndex=null;const ut=st.actionByRoot,ct=(j._localRoot||this._root).uuid;delete ut[ct],at.length===0&&delete it[rt],this._removeInactiveBindingsForAction(j)}_removeInactiveBindingsForAction(j){const et=j._propertyBindings;for(let tt=0,nt=et.length;tt!==nt;++tt){const rt=et[tt];--rt.referenceCount===0&&this._removeInactiveBinding(rt)}}_lendAction(j){const et=this._actions,tt=j._cacheIndex,nt=this._nActiveActions++,rt=et[nt];j._cacheIndex=nt,et[nt]=j,rt._cacheIndex=tt,et[tt]=rt}_takeBackAction(j){const et=this._actions,tt=j._cacheIndex,nt=--this._nActiveActions,rt=et[nt];j._cacheIndex=nt,et[nt]=j,rt._cacheIndex=tt,et[tt]=rt}_addInactiveBinding(j,et,tt){const nt=this._bindingsByRootAndName,rt=this._bindings;let it=nt[et];it===void 0&&(it={},nt[et]=it),it[tt]=j,j._cacheIndex=rt.length,rt.push(j)}_removeInactiveBinding(j){const et=this._bindings,tt=j.binding,nt=tt.rootNode.uuid,rt=tt.path,it=this._bindingsByRootAndName,st=it[nt],at=et[et.length-1],ot=j._cacheIndex;at._cacheIndex=ot,et[ot]=at,et.pop(),delete st[rt],Object.keys(st).length===0&&delete it[nt]}_lendBinding(j){const et=this._bindings,tt=j._cacheIndex,nt=this._nActiveBindings++,rt=et[nt];j._cacheIndex=nt,et[nt]=j,rt._cacheIndex=tt,et[tt]=rt}_takeBackBinding(j){const et=this._bindings,tt=j._cacheIndex,nt=--this._nActiveBindings,rt=et[nt];j._cacheIndex=nt,et[nt]=j,rt._cacheIndex=tt,et[tt]=rt}_lendControlInterpolant(){const j=this._controlInterpolants,et=this._nActiveControlInterpolants++;let tt=j[et];return tt===void 0&&(tt=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),tt.__cacheIndex=et,j[et]=tt),tt}_takeBackControlInterpolant(j){const et=this._controlInterpolants,tt=j.__cacheIndex,nt=--this._nActiveControlInterpolants,rt=et[nt];j.__cacheIndex=nt,et[nt]=j,rt.__cacheIndex=tt,et[tt]=rt}clipAction(j,et,tt){const nt=et||this._root,rt=nt.uuid;let it=typeof j=="string"?AnimationClip.findByName(nt,j):j;const st=it!==null?it.uuid:j,at=this._actionsByClip[st];let ot=null;if(tt===void 0&&(it!==null?tt=it.blendMode:tt=NormalAnimationBlendMode),at!==void 0){const ut=at.actionByRoot[rt];if(ut!==void 0&&ut.blendMode===tt)return ut;ot=at.knownActions[0],it===null&&(it=ot._clip)}if(it===null)return null;const lt=new AnimationAction(this,it,et,tt);return this._bindAction(lt,ot),this._addInactiveAction(lt,st,rt),lt}existingAction(j,et){const tt=et||this._root,nt=tt.uuid,rt=typeof j=="string"?AnimationClip.findByName(tt,j):j,it=rt?rt.uuid:j,st=this._actionsByClip[it];return st!==void 0&&st.actionByRoot[nt]||null}stopAllAction(){const j=this._actions,et=this._nActiveActions;for(let tt=et-1;tt>=0;--tt)j[tt].stop();return this}update(j){j*=this.timeScale;const et=this._actions,tt=this._nActiveActions,nt=this.time+=j,rt=Math.sign(j),it=this._accuIndex^=1;for(let ot=0;ot!==tt;++ot)et[ot]._update(nt,j,rt,it);const st=this._bindings,at=this._nActiveBindings;for(let ot=0;ot!==at;++ot)st[ot].apply(it);return this}setTime(j){this.time=0;for(let et=0;et<this._actions.length;et++)this._actions[et].time=0;return this.update(j)}getRoot(){return this._root}uncacheClip(j){const et=this._actions,tt=j.uuid,nt=this._actionsByClip,rt=nt[tt];if(rt!==void 0){const it=rt.knownActions;for(let st=0,at=it.length;st!==at;++st){const ot=it[st];this._deactivateAction(ot);const lt=ot._cacheIndex,ut=et[et.length-1];ot._cacheIndex=null,ot._byClipCacheIndex=null,ut._cacheIndex=lt,et[lt]=ut,et.pop(),this._removeInactiveBindingsForAction(ot)}delete nt[tt]}}uncacheRoot(j){const et=j.uuid,tt=this._actionsByClip;for(const it in tt){const st=tt[it].actionByRoot,at=st[et];at!==void 0&&(this._deactivateAction(at),this._removeInactiveAction(at))}const nt=this._bindingsByRootAndName,rt=nt[et];if(rt!==void 0)for(const it in rt){const st=rt[it];st.restoreOriginalState(),this._removeInactiveBinding(st)}}uncacheAction(j,et){const tt=this.existingAction(j,et);tt!==null&&(this._deactivateAction(tt),this._removeInactiveAction(tt))}}AnimationMixer.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(j,et,tt=1){super(j,et),this.meshPerAttribute=tt}copy(j){return super.copy(j),this.meshPerAttribute=j.meshPerAttribute,this}clone(j){const et=super.clone(j);return et.meshPerAttribute=this.meshPerAttribute,et}toJSON(j){const et=super.toJSON(j);return et.isInstancedInterleavedBuffer=!0,et.meshPerAttribute=this.meshPerAttribute,et}}InstancedInterleavedBuffer.prototype.isInstancedInterleavedBuffer=!0;const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(j){const et=getBoneList(j),tt=new BufferGeometry,nt=[],rt=[],it=new Color(0,0,1),st=new Color(0,1,0);for(let ot=0;ot<et.length;ot++){const lt=et[ot];lt.parent&&lt.parent.isBone&&(nt.push(0,0,0),nt.push(0,0,0),rt.push(it.r,it.g,it.b),rt.push(st.r,st.g,st.b))}tt.setAttribute("position",new Float32BufferAttribute(nt,3)),tt.setAttribute("color",new Float32BufferAttribute(rt,3));const at=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(tt,at),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=j,this.bones=et,this.matrix=j.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(j){const et=this.bones,tt=this.geometry,nt=tt.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let rt=0,it=0;rt<et.length;rt++){const st=et[rt];st.parent&&st.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,st.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(it,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,st.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(it+1,_vector$2.x,_vector$2.y,_vector$2.z),it+=2)}tt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(j)}}function getBoneList(_e){const j=[];_e.isBone===!0&&j.push(_e);for(let et=0;et<_e.children.length;et++)j.push.apply(j,getBoneList(_e.children[et]));return j}class GridHelper extends LineSegments{constructor(j=10,et=10,tt=4473924,nt=8947848){tt=new Color(tt),nt=new Color(nt);const rt=et/2,it=j/et,st=j/2,at=[],ot=[];for(let ct=0,ht=0,pt=-st;ct<=et;ct++,pt+=it){at.push(-st,0,pt,st,0,pt),at.push(pt,0,-st,pt,0,st);const gt=ct===rt?tt:nt;gt.toArray(ot,ht),ht+=3,gt.toArray(ot,ht),ht+=3,gt.toArray(ot,ht),ht+=3,gt.toArray(ot,ht),ht+=3}const lt=new BufferGeometry;lt.setAttribute("position",new Float32BufferAttribute(at,3)),lt.setAttribute("color",new Float32BufferAttribute(ot,3));const ut=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(lt,ut),this.type="GridHelper"}}class AxesHelper extends LineSegments{constructor(j=1){const et=[0,0,0,j,0,0,0,0,0,0,j,0,0,0,0,0,0,j],tt=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute(et,3)),nt.setAttribute("color",new Float32BufferAttribute(tt,3));const rt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(nt,rt),this.type="AxesHelper"}setColors(j,et,tt){const nt=new Color,rt=this.geometry.attributes.color.array;return nt.set(j),nt.toArray(rt,0),nt.toArray(rt,3),nt.set(et),nt.toArray(rt,6),nt.toArray(rt,9),nt.set(tt),nt.toArray(rt,12),nt.toArray(rt,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const _floatView=new Float32Array(1);new Int32Array(_floatView.buffer);Curve.create=function(_e,j){return console.log("THREE.Curve.create() has been deprecated"),_e.prototype=Object.create(Curve.prototype),_e.prototype.constructor=_e,_e.prototype.getPoint=j,_e};Path.prototype.fromPoints=function(_e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(_e)};GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};SkeletonHelper.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Loader.prototype.extractUrlBase=function(_e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),LoaderUtils.extractUrlBase(_e)};Loader.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Box3.prototype.center=function(_e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(_e)};Box3.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Box3.prototype.isIntersectionBox=function(_e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(_e)};Box3.prototype.isIntersectionSphere=function(_e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(_e)};Box3.prototype.size=function(_e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(_e)};Euler.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Sphere.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Frustum.prototype.setFromMatrix=function(_e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(_e)};Matrix3.prototype.flattenToArrayOffset=function(_e,j){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(_e,j)};Matrix3.prototype.multiplyVector3=function(_e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),_e.applyMatrix3(this)};Matrix3.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Matrix3.prototype.applyToBufferAttribute=function(_e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),_e.applyMatrix3(this)};Matrix3.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Matrix3.prototype.getInverse=function(_e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(_e).invert()};Matrix4.prototype.extractPosition=function(_e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(_e)};Matrix4.prototype.flattenToArrayOffset=function(_e,j){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(_e,j)};Matrix4.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Vector3().setFromMatrixColumn(this,3)};Matrix4.prototype.setRotationFromQuaternion=function(_e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(_e)};Matrix4.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Matrix4.prototype.multiplyVector3=function(_e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),_e.applyMatrix4(this)};Matrix4.prototype.multiplyVector4=function(_e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),_e.applyMatrix4(this)};Matrix4.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Matrix4.prototype.rotateAxis=function(_e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),_e.transformDirection(this)};Matrix4.prototype.crossVector=function(_e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),_e.applyMatrix4(this)};Matrix4.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Matrix4.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Matrix4.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Matrix4.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Matrix4.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Matrix4.prototype.applyToBufferAttribute=function(_e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),_e.applyMatrix4(this)};Matrix4.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Matrix4.prototype.makeFrustum=function(_e,j,et,tt,nt,rt){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(_e,j,tt,et,nt,rt)};Matrix4.prototype.getInverse=function(_e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(_e).invert()};Plane.prototype.isIntersectionLine=function(_e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(_e)};Quaternion.prototype.multiplyVector3=function(_e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),_e.applyQuaternion(this)};Quaternion.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Ray.prototype.isIntersectionBox=function(_e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(_e)};Ray.prototype.isIntersectionPlane=function(_e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(_e)};Ray.prototype.isIntersectionSphere=function(_e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(_e)};Triangle.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Triangle.prototype.barycoordFromPoint=function(_e,j){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(_e,j)};Triangle.prototype.midpoint=function(_e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(_e)};Triangle.prototypenormal=function(_e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(_e)};Triangle.prototype.plane=function(_e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(_e)};Triangle.barycoordFromPoint=function(_e,j,et,tt,nt){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Triangle.getBarycoord(_e,j,et,tt,nt)};Triangle.normal=function(_e,j,et,tt){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Triangle.getNormal(_e,j,et,tt)};Shape.prototype.extractAllPoints=function(_e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(_e)};Shape.prototype.extrude=function(_e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ExtrudeGeometry(this,_e)};Shape.prototype.makeGeometry=function(_e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ShapeGeometry(this,_e)};Vector2.prototype.fromAttribute=function(_e,j,et){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(_e,j,et)};Vector2.prototype.distanceToManhattan=function(_e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(_e)};Vector2.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Vector3.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};Vector3.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};Vector3.prototype.getPositionFromMatrix=function(_e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(_e)};Vector3.prototype.getScaleFromMatrix=function(_e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(_e)};Vector3.prototype.getColumnFromMatrix=function(_e,j){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(j,_e)};Vector3.prototype.applyProjection=function(_e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(_e)};Vector3.prototype.fromAttribute=function(_e,j,et){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(_e,j,et)};Vector3.prototype.distanceToManhattan=function(_e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(_e)};Vector3.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Vector4.prototype.fromAttribute=function(_e,j,et){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(_e,j,et)};Vector4.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Object3D.prototype.getChildByName=function(_e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(_e)};Object3D.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Object3D.prototype.translate=function(_e,j){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(j,_e)};Object3D.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Object3D.prototype.applyMatrix=function(_e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(_e)};Object.defineProperties(Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(_e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=_e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Mesh.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Mesh.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),TrianglesDrawMode},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});SkinnedMesh.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};PerspectiveCamera.prototype.setLens=function(_e,j){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),j!==void 0&&(this.filmGauge=j),this.setFocalLength(_e)};Object.defineProperties(Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(_e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=_e}},shadowCameraLeft:{set:function(_e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=_e}},shadowCameraRight:{set:function(_e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=_e}},shadowCameraTop:{set:function(_e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=_e}},shadowCameraBottom:{set:function(_e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=_e}},shadowCameraNear:{set:function(_e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=_e}},shadowCameraFar:{set:function(_e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=_e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(_e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=_e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(_e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=_e}},shadowMapHeight:{set:function(_e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=_e}}});Object.defineProperties(BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===DynamicDrawUsage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(DynamicDrawUsage)}}});BufferAttribute.prototype.setDynamic=function(_e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(_e===!0?DynamicDrawUsage:StaticDrawUsage),this};BufferAttribute.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},BufferAttribute.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};BufferGeometry.prototype.addIndex=function(_e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(_e)};BufferGeometry.prototype.addAttribute=function(_e,j){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(j&&j.isBufferAttribute)&&!(j&&j.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(_e,new BufferAttribute(arguments[1],arguments[2]))):_e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(j),this):this.setAttribute(_e,j)};BufferGeometry.prototype.addDrawCall=function(_e,j,et){et!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(_e,j)};BufferGeometry.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};BufferGeometry.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};BufferGeometry.prototype.removeAttribute=function(_e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(_e)};BufferGeometry.prototype.applyMatrix=function(_e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(_e)};Object.defineProperties(BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});InterleavedBuffer.prototype.setDynamic=function(_e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(_e===!0?DynamicDrawUsage:StaticDrawUsage),this};InterleavedBuffer.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};ExtrudeGeometry.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};ExtrudeGeometry.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};ExtrudeGeometry.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Scene.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(Material.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Color}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(_e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=_e===FlatShading}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(_e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=_e}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(_e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=_e}}});WebGLRenderer.prototype.clearTarget=function(_e,j,et,tt){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(_e),this.clear(j,et,tt)};WebGLRenderer.prototype.animate=function(_e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(_e)};WebGLRenderer.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};WebGLRenderer.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};WebGLRenderer.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};WebGLRenderer.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};WebGLRenderer.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};WebGLRenderer.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};WebGLRenderer.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};WebGLRenderer.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};WebGLRenderer.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};WebGLRenderer.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};WebGLRenderer.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};WebGLRenderer.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};WebGLRenderer.prototype.enableScissorTest=function(_e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(_e)};WebGLRenderer.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};WebGLRenderer.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};WebGLRenderer.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};WebGLRenderer.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};WebGLRenderer.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};WebGLRenderer.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};WebGLRenderer.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};WebGLRenderer.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};WebGLRenderer.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};WebGLRenderer.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(_e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=_e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(_e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=_e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(_e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=_e===!0?sRGBEncoding:LinearEncoding}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(WebGLShadowMap.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(_e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=_e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(_e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=_e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(_e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=_e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(_e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=_e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(_e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=_e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(_e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=_e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(_e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=_e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(_e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=_e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(_e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=_e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(_e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=_e}}});Audio$1.prototype.load=function(_e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const j=this;return new AudioLoader().load(_e,function(tt){j.setBuffer(tt)}),this};CubeCamera.prototype.updateCubeMap=function(_e,j){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(_e,j)};CubeCamera.prototype.clear=function(_e,j,et,tt){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(_e,j,et,tt)};ImageUtils.crossOrigin=void 0;ImageUtils.loadTexture=function(_e,j,et,tt){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const nt=new TextureLoader;nt.setCrossOrigin(this.crossOrigin);const rt=nt.load(_e,et,void 0,tt);return j&&(rt.mapping=j),rt};ImageUtils.loadTextureCube=function(_e,j,et,tt){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const nt=new CubeTextureLoader;nt.setCrossOrigin(this.crossOrigin);const rt=nt.load(_e,et,void 0,tt);return j&&(rt.mapping=j),rt};ImageUtils.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ImageUtils.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const initThree=_e=>{const j=new Scene,et=new PerspectiveCamera(75,_e.parentElement.clientWidth/_e.parentElement.clientHeight,.1,1e3),tt=new WebGLRenderer({canvas:_e});return tt.setSize(_e.parentElement.clientWidth,_e.parentElement.clientHeight),{scene:j,camera:et,renderer:tt}},ExampleScene=()=>{react.exports.useEffect(()=>{let nt=document.querySelector("#canvas-content");const{scene:rt,camera:it,renderer:st}=initThree(nt);_e(rt,it,st)},[]);const _e=(nt,rt,it)=>{const st=new AxesHelper(100);nt.add(st);const at=tt();nt.add(at),rt.position.set(0,0,10),rt.lookAt(new Vector3(0,0,0)),et(nt,rt,it,at)},j=new Clock,et=(nt,rt,it,st)=>{const at=j.getElapsedTime()%(Math.PI*2),[ot,lt,ut]=st.children;ot.rotation.x=at*Math.PI*2,lt.rotation.y=at*Math.PI*2,ut.rotation.z=at*Math.PI*2,window.requestAnimationFrame(()=>et(nt,rt,it,st)),it.render(nt,rt)},tt=nt=>{const rt=new Group,it=new Mesh(new BoxGeometry(2,2,2),new MeshBasicMaterial({color:16711680}));it.position.set(-4,0,0);const st=new Mesh(new BoxGeometry(2,2,2),new MeshBasicMaterial({color:65280})),at=new Mesh(new BoxGeometry(2,2,2),new MeshBasicMaterial({color:255}));return at.position.set(4,0,0),rt.add(it,st,at),rt};return jsx("div",{id:"canvas-container",style:{height:"100%"},children:jsx("canvas",{id:"canvas-content"})})};var index$3=react.exports.memo(ExampleScene),__glob_1_15=Object.freeze(Object.defineProperty({__proto__:null,default:index$3},Symbol.toStringTag,{value:"Module"}));const LineScene=()=>{react.exports.useEffect(()=>{let j=document.querySelector("#canvas-content");const{scene:et,camera:tt,renderer:nt}=initThree(j);_e(et,tt,nt)},[]);const _e=(j,et,tt)=>{et.position.set(5,5,20),et.lookAt(0,0,0);const nt=new AxesHelper(100);j.add(nt);const rt=new LineBasicMaterial({color:"bisque"}),it=[];it.push(new Vector3(0,0,10)),it.push(new Vector3(0,10,0)),it.push(new Vector3(10,0,0)),it.push(new Vector3(0,0,10));const st=new BufferGeometry().setFromPoints(it),at=new Line(st,rt);j.add(at);const ot=()=>{requestAnimationFrame(ot),tt.render(j,et)};ot()};return jsx("div",{id:"canvas-container",style:{height:"100%"},children:jsx("canvas",{id:"canvas-content"})})};var index$2=react.exports.memo(LineScene),__glob_1_16=Object.freeze(Object.defineProperty({__proto__:null,default:index$2},Symbol.toStringTag,{value:"Module"})),dist$1={exports:{}};(function(_e,j){var et=Object.defineProperty,tt=Object.defineProperties,nt=Object.getOwnPropertyDescriptors,rt=Object.getOwnPropertySymbols,it=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,at=(gt,vt,ft)=>vt in gt?et(gt,vt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):gt[vt]=ft,ot=(gt,vt)=>{for(var ft in vt||(vt={}))it.call(vt,ft)&&at(gt,ft,vt[ft]);if(rt)for(var ft of rt(vt))st.call(vt,ft)&&at(gt,ft,vt[ft]);return gt},lt=(gt,vt)=>tt(gt,nt(vt)),ut=(gt,vt,ft)=>{if(!vt.has(gt))throw TypeError("Cannot "+ft)},ct=(gt,vt,ft)=>(ut(gt,vt,"read from private field"),ft?ft.call(gt):vt.get(gt)),ht=(gt,vt,ft)=>{if(vt.has(gt))throw TypeError("Cannot add the same private member more than once");vt instanceof WeakSet?vt.add(gt):vt.set(gt,ft)},pt=(gt,vt,ft,mt)=>(ut(gt,vt,"write to private field"),mt?mt.call(gt,ft):vt.set(gt,ft),ft);(function(gt,vt){_e.exports=vt(react.exports)})(commonjsGlobal$2,function(gt){var vt;function ft(Et){return Et&&typeof Et=="object"&&"default"in Et?Et:{default:Et}}var mt=ft(gt);/**
* @license
* Copyright 2019 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const xt=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,_t=Symbol(),Tt=new Map;class wt{constructor(St,At){if(this._$cssResult$=!0,At!==_t)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=St}get styleSheet(){let St=Tt.get(this.cssText);return xt&&St===void 0&&(Tt.set(this.cssText,St=new CSSStyleSheet),St.replaceSync(this.cssText)),St}toString(){return this.cssText}}const bt=Et=>new wt(typeof Et=="string"?Et:Et+"",_t),Ct=(Et,...St)=>{const At=Et.length===1?Et[0]:St.reduce((Pt,Nt,Wt)=>Pt+(jt=>{if(jt._$cssResult$===!0)return jt.cssText;if(typeof jt=="number")return jt;throw Error("Value passed to 'css' function must be a 'css' function result: "+jt+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(Nt)+Et[Wt+1],Et[0]);return new wt(At,_t)},Lt=(Et,St)=>{xt?Et.adoptedStyleSheets=St.map(At=>At instanceof CSSStyleSheet?At:At.styleSheet):St.forEach(At=>{const Pt=document.createElement("style"),Nt=window.litNonce;Nt!==void 0&&Pt.setAttribute("nonce",Nt),Pt.textContent=At.cssText,Et.appendChild(Pt)})},$t=xt?Et=>Et:Et=>Et instanceof CSSStyleSheet?(St=>{let At="";for(const Pt of St.cssRules)At+=Pt.cssText;return bt(At)})(Et):Et;/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/var Rt;const Bt=window.trustedTypes,Gt=Bt?Bt.emptyScript:"",Ft=window.reactiveElementPolyfillSupport,kt={toAttribute(Et,St){switch(St){case Boolean:Et=Et?Gt:null;break;case Object:case Array:Et=Et==null?Et:JSON.stringify(Et)}return Et},fromAttribute(Et,St){let At=Et;switch(St){case Boolean:At=Et!==null;break;case Number:At=Et===null?null:Number(Et);break;case Object:case Array:try{At=JSON.parse(Et)}catch{At=null}}return At}},It=(Et,St)=>St!==Et&&(St==St||Et==Et),Ot={attribute:!0,type:String,converter:kt,reflect:!1,hasChanged:It};class Ut extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(St){var At;(At=this.l)!==null&&At!==void 0||(this.l=[]),this.l.push(St)}static get observedAttributes(){this.finalize();const St=[];return this.elementProperties.forEach((At,Pt)=>{const Nt=this._$Eh(Pt,At);Nt!==void 0&&(this._$Eu.set(Nt,Pt),St.push(Nt))}),St}static createProperty(St,At=Ot){if(At.state&&(At.attribute=!1),this.finalize(),this.elementProperties.set(St,At),!At.noAccessor&&!this.prototype.hasOwnProperty(St)){const Pt=typeof St=="symbol"?Symbol():"__"+St,Nt=this.getPropertyDescriptor(St,Pt,At);Nt!==void 0&&Object.defineProperty(this.prototype,St,Nt)}}static getPropertyDescriptor(St,At,Pt){return{get(){return this[At]},set(Nt){const Wt=this[St];this[At]=Nt,this.requestUpdate(St,Wt,Pt)},configurable:!0,enumerable:!0}}static getPropertyOptions(St){return this.elementProperties.get(St)||Ot}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const St=Object.getPrototypeOf(this);if(St.finalize(),this.elementProperties=new Map(St.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const At=this.properties,Pt=[...Object.getOwnPropertyNames(At),...Object.getOwnPropertySymbols(At)];for(const Nt of Pt)this.createProperty(Nt,At[Nt])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(St){const At=[];if(Array.isArray(St)){const Pt=new Set(St.flat(1/0).reverse());for(const Nt of Pt)At.unshift($t(Nt))}else St!==void 0&&At.push($t(St));return At}static _$Eh(St,At){const Pt=At.attribute;return Pt===!1?void 0:typeof Pt=="string"?Pt:typeof St=="string"?St.toLowerCase():void 0}o(){var St;this._$Ep=new Promise(At=>this.enableUpdating=At),this._$AL=new Map,this._$Em(),this.requestUpdate(),(St=this.constructor.l)===null||St===void 0||St.forEach(At=>At(this))}addController(St){var At,Pt;((At=this._$Eg)!==null&&At!==void 0?At:this._$Eg=[]).push(St),this.renderRoot!==void 0&&this.isConnected&&((Pt=St.hostConnected)===null||Pt===void 0||Pt.call(St))}removeController(St){var At;(At=this._$Eg)===null||At===void 0||At.splice(this._$Eg.indexOf(St)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((St,At)=>{this.hasOwnProperty(At)&&(this._$Et.set(At,this[At]),delete this[At])})}createRenderRoot(){var St;const At=(St=this.shadowRoot)!==null&&St!==void 0?St:this.attachShadow(this.constructor.shadowRootOptions);return Lt(At,this.constructor.elementStyles),At}connectedCallback(){var St;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(St=this._$Eg)===null||St===void 0||St.forEach(At=>{var Pt;return(Pt=At.hostConnected)===null||Pt===void 0?void 0:Pt.call(At)})}enableUpdating(St){}disconnectedCallback(){var St;(St=this._$Eg)===null||St===void 0||St.forEach(At=>{var Pt;return(Pt=At.hostDisconnected)===null||Pt===void 0?void 0:Pt.call(At)})}attributeChangedCallback(St,At,Pt){this._$AK(St,Pt)}_$ES(St,At,Pt=Ot){var Nt,Wt;const jt=this.constructor._$Eh(St,Pt);if(jt!==void 0&&Pt.reflect===!0){const rn=((Wt=(Nt=Pt.converter)===null||Nt===void 0?void 0:Nt.toAttribute)!==null&&Wt!==void 0?Wt:kt.toAttribute)(At,Pt.type);this._$Ei=St,rn==null?this.removeAttribute(jt):this.setAttribute(jt,rn),this._$Ei=null}}_$AK(St,At){var Pt,Nt,Wt;const jt=this.constructor,rn=jt._$Eu.get(St);if(rn!==void 0&&this._$Ei!==rn){const ln=jt.getPropertyOptions(rn),hn=ln.converter,vn=(Wt=(Nt=(Pt=hn)===null||Pt===void 0?void 0:Pt.fromAttribute)!==null&&Nt!==void 0?Nt:typeof hn=="function"?hn:null)!==null&&Wt!==void 0?Wt:kt.fromAttribute;this._$Ei=rn,this[rn]=vn(At,ln.type),this._$Ei=null}}requestUpdate(St,At,Pt){let Nt=!0;St!==void 0&&(((Pt=Pt||this.constructor.getPropertyOptions(St)).hasChanged||It)(this[St],At)?(this._$AL.has(St)||this._$AL.set(St,At),Pt.reflect===!0&&this._$Ei!==St&&(this._$E_===void 0&&(this._$E_=new Map),this._$E_.set(St,Pt))):Nt=!1),!this.isUpdatePending&&Nt&&(this._$Ep=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ep}catch(At){Promise.reject(At)}const St=this.scheduleUpdate();return St!=null&&await St,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var St;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach((Nt,Wt)=>this[Wt]=Nt),this._$Et=void 0);let At=!1;const Pt=this._$AL;try{At=this.shouldUpdate(Pt),At?(this.willUpdate(Pt),(St=this._$Eg)===null||St===void 0||St.forEach(Nt=>{var Wt;return(Wt=Nt.hostUpdate)===null||Wt===void 0?void 0:Wt.call(Nt)}),this.update(Pt)):this._$EU()}catch(Nt){throw At=!1,this._$EU(),Nt}At&&this._$AE(Pt)}willUpdate(St){}_$AE(St){var At;(At=this._$Eg)===null||At===void 0||At.forEach(Pt=>{var Nt;return(Nt=Pt.hostUpdated)===null||Nt===void 0?void 0:Nt.call(Pt)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(St)),this.updated(St)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(St){return!0}update(St){this._$E_!==void 0&&(this._$E_.forEach((At,Pt)=>this._$ES(Pt,this[Pt],At)),this._$E_=void 0),this._$EU()}updated(St){}firstUpdated(St){}}Ut.finalized=!0,Ut.elementProperties=new Map,Ut.elementStyles=[],Ut.shadowRootOptions={mode:"open"},Ft==null||Ft({ReactiveElement:Ut}),((Rt=globalThis.reactiveElementVersions)!==null&&Rt!==void 0?Rt:globalThis.reactiveElementVersions=[]).push("1.2.0");/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/var zt;const Ht=globalThis.trustedTypes,Vt=Ht?Ht.createPolicy("lit-html",{createHTML:Et=>Et}):void 0,qt=`lit$${(Math.random()+"").slice(9)}$`,an="?"+qt,gn=`<${an}>`,yn=document,fn=(Et="")=>yn.createComment(Et),In=Et=>Et===null||typeof Et!="object"&&typeof Et!="function",Dn=Array.isArray,Mn=Et=>{var St;return Dn(Et)||typeof((St=Et)===null||St===void 0?void 0:St[Symbol.iterator])=="function"},Fn=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Vn=/-->/g,mn=/>/g,dn=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,An=/'/g,Yn=/"/g,Bn=/^(?:script|style|textarea)$/i,tr=Et=>(St,...At)=>({_$litType$:Et,strings:St,values:At}),rr=tr(1),hr=Symbol.for("lit-noChange"),fr=Symbol.for("lit-nothing"),sn=new WeakMap,nn=(Et,St,At)=>{var Pt,Nt;const Wt=(Pt=At==null?void 0:At.renderBefore)!==null&&Pt!==void 0?Pt:St;let jt=Wt._$litPart$;if(jt===void 0){const rn=(Nt=At==null?void 0:At.renderBefore)!==null&&Nt!==void 0?Nt:null;Wt._$litPart$=jt=new kn(St.insertBefore(fn(),rn),rn,void 0,At!=null?At:{})}return jt._$AI(Et),jt},Cn=yn.createTreeWalker(yn,129,null,!1),Hn=(Et,St)=>{const At=Et.length-1,Pt=[];let Nt,Wt=St===2?"<svg>":"",jt=Fn;for(let ln=0;ln<At;ln++){const hn=Et[ln];let vn,xn,Sn=-1,wn=0;for(;wn<hn.length&&(jt.lastIndex=wn,xn=jt.exec(hn),xn!==null);)wn=jt.lastIndex,jt===Fn?xn[1]==="!--"?jt=Vn:xn[1]!==void 0?jt=mn:xn[2]!==void 0?(Bn.test(xn[2])&&(Nt=RegExp("</"+xn[2],"g")),jt=dn):xn[3]!==void 0&&(jt=dn):jt===dn?xn[0]===">"?(jt=Nt!=null?Nt:Fn,Sn=-1):xn[1]===void 0?Sn=-2:(Sn=jt.lastIndex-xn[2].length,vn=xn[1],jt=xn[3]===void 0?dn:xn[3]==='"'?Yn:An):jt===Yn||jt===An?jt=dn:jt===Vn||jt===mn?jt=Fn:(jt=dn,Nt=void 0);const er=jt===dn&&Et[ln+1].startsWith("/>")?" ":"";Wt+=jt===Fn?hn+gn:Sn>=0?(Pt.push(vn),hn.slice(0,Sn)+"$lit$"+hn.slice(Sn)+qt+er):hn+qt+(Sn===-2?(Pt.push(void 0),ln):er)}const rn=Wt+(Et[At]||"<?>")+(St===2?"</svg>":"");if(!Array.isArray(Et)||!Et.hasOwnProperty("raw"))throw Error("invalid template strings array");return[Vt!==void 0?Vt.createHTML(rn):rn,Pt]};class Kn{constructor({strings:St,_$litType$:At},Pt){let Nt;this.parts=[];let Wt=0,jt=0;const rn=St.length-1,ln=this.parts,[hn,vn]=Hn(St,At);if(this.el=Kn.createElement(hn,Pt),Cn.currentNode=this.el.content,At===2){const xn=this.el.content,Sn=xn.firstChild;Sn.remove(),xn.append(...Sn.childNodes)}for(;(Nt=Cn.nextNode())!==null&&ln.length<rn;){if(Nt.nodeType===1){if(Nt.hasAttributes()){const xn=[];for(const Sn of Nt.getAttributeNames())if(Sn.endsWith("$lit$")||Sn.startsWith(qt)){const wn=vn[jt++];if(xn.push(Sn),wn!==void 0){const er=Nt.getAttribute(wn.toLowerCase()+"$lit$").split(qt),Gn=/([.?@])?(.*)/.exec(wn);ln.push({type:1,index:Wt,name:Gn[2],strings:er,ctor:Gn[1]==="."?Mr:Gn[1]==="?"?mr:Gn[1]==="@"?_n:_r})}else ln.push({type:6,index:Wt})}for(const Sn of xn)Nt.removeAttribute(Sn)}if(Bn.test(Nt.tagName)){const xn=Nt.textContent.split(qt),Sn=xn.length-1;if(Sn>0){Nt.textContent=Ht?Ht.emptyScript:"";for(let wn=0;wn<Sn;wn++)Nt.append(xn[wn],fn()),Cn.nextNode(),ln.push({type:2,index:++Wt});Nt.append(xn[Sn],fn())}}}else if(Nt.nodeType===8)if(Nt.data===an)ln.push({type:2,index:Wt});else{let xn=-1;for(;(xn=Nt.data.indexOf(qt,xn+1))!==-1;)ln.push({type:7,index:Wt}),xn+=qt.length-1}Wt++}}static createElement(St,At){const Pt=yn.createElement("template");return Pt.innerHTML=St,Pt}}function Qn(Et,St,At=Et,Pt){var Nt,Wt,jt,rn;if(St===hr)return St;let ln=Pt!==void 0?(Nt=At._$Cl)===null||Nt===void 0?void 0:Nt[Pt]:At._$Cu;const hn=In(St)?void 0:St._$litDirective$;return(ln==null?void 0:ln.constructor)!==hn&&((Wt=ln==null?void 0:ln._$AO)===null||Wt===void 0||Wt.call(ln,!1),hn===void 0?ln=void 0:(ln=new hn(Et),ln._$AT(Et,At,Pt)),Pt!==void 0?((jt=(rn=At)._$Cl)!==null&&jt!==void 0?jt:rn._$Cl=[])[Pt]=ln:At._$Cu=ln),ln!==void 0&&(St=Qn(Et,ln._$AS(Et,St.values),ln,Pt)),St}class pr{constructor(St,At){this.v=[],this._$AN=void 0,this._$AD=St,this._$AM=At}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(St){var At;const{el:{content:Pt},parts:Nt}=this._$AD,Wt=((At=St==null?void 0:St.creationScope)!==null&&At!==void 0?At:yn).importNode(Pt,!0);Cn.currentNode=Wt;let jt=Cn.nextNode(),rn=0,ln=0,hn=Nt[0];for(;hn!==void 0;){if(rn===hn.index){let vn;hn.type===2?vn=new kn(jt,jt.nextSibling,this,St):hn.type===1?vn=new hn.ctor(jt,hn.name,hn.strings,this,St):hn.type===6&&(vn=new ur(jt,this,St)),this.v.push(vn),hn=Nt[++ln]}rn!==(hn==null?void 0:hn.index)&&(jt=Cn.nextNode(),rn++)}return Wt}m(St){let At=0;for(const Pt of this.v)Pt!==void 0&&(Pt.strings!==void 0?(Pt._$AI(St,Pt,At),At+=Pt.strings.length-2):Pt._$AI(St[At])),At++}}class kn{constructor(St,At,Pt,Nt){var Wt;this.type=2,this._$AH=fr,this._$AN=void 0,this._$AA=St,this._$AB=At,this._$AM=Pt,this.options=Nt,this._$Cg=(Wt=Nt==null?void 0:Nt.isConnected)===null||Wt===void 0||Wt}get _$AU(){var St,At;return(At=(St=this._$AM)===null||St===void 0?void 0:St._$AU)!==null&&At!==void 0?At:this._$Cg}get parentNode(){let St=this._$AA.parentNode;const At=this._$AM;return At!==void 0&&St.nodeType===11&&(St=At.parentNode),St}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(St,At=this){St=Qn(this,St,At),In(St)?St===fr||St==null||St===""?(this._$AH!==fr&&this._$AR(),this._$AH=fr):St!==this._$AH&&St!==hr&&this.$(St):St._$litType$!==void 0?this.T(St):St.nodeType!==void 0?this.S(St):Mn(St)?this.A(St):this.$(St)}M(St,At=this._$AB){return this._$AA.parentNode.insertBefore(St,At)}S(St){this._$AH!==St&&(this._$AR(),this._$AH=this.M(St))}$(St){this._$AH!==fr&&In(this._$AH)?this._$AA.nextSibling.data=St:this.S(yn.createTextNode(St)),this._$AH=St}T(St){var At;const{values:Pt,_$litType$:Nt}=St,Wt=typeof Nt=="number"?this._$AC(St):(Nt.el===void 0&&(Nt.el=Kn.createElement(Nt.h,this.options)),Nt);if(((At=this._$AH)===null||At===void 0?void 0:At._$AD)===Wt)this._$AH.m(Pt);else{const jt=new pr(Wt,this),rn=jt.p(this.options);jt.m(Pt),this.S(rn),this._$AH=jt}}_$AC(St){let At=sn.get(St.strings);return At===void 0&&sn.set(St.strings,At=new Kn(St)),At}A(St){Dn(this._$AH)||(this._$AH=[],this._$AR());const At=this._$AH;let Pt,Nt=0;for(const Wt of St)Nt===At.length?At.push(Pt=new kn(this.M(fn()),this.M(fn()),this,this.options)):Pt=At[Nt],Pt._$AI(Wt),Nt++;Nt<At.length&&(this._$AR(Pt&&Pt._$AB.nextSibling,Nt),At.length=Nt)}_$AR(St=this._$AA.nextSibling,At){var Pt;for((Pt=this._$AP)===null||Pt===void 0||Pt.call(this,!1,!0,At);St&&St!==this._$AB;){const Nt=St.nextSibling;St.remove(),St=Nt}}setConnected(St){var At;this._$AM===void 0&&(this._$Cg=St,(At=this._$AP)===null||At===void 0||At.call(this,St))}}class _r{constructor(St,At,Pt,Nt,Wt){this.type=1,this._$AH=fr,this._$AN=void 0,this.element=St,this.name=At,this._$AM=Nt,this.options=Wt,Pt.length>2||Pt[0]!==""||Pt[1]!==""?(this._$AH=Array(Pt.length-1).fill(new String),this.strings=Pt):this._$AH=fr}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(St,At=this,Pt,Nt){const Wt=this.strings;let jt=!1;if(Wt===void 0)St=Qn(this,St,At,0),jt=!In(St)||St!==this._$AH&&St!==hr,jt&&(this._$AH=St);else{const rn=St;let ln,hn;for(St=Wt[0],ln=0;ln<Wt.length-1;ln++)hn=Qn(this,rn[Pt+ln],At,ln),hn===hr&&(hn=this._$AH[ln]),jt||(jt=!In(hn)||hn!==this._$AH[ln]),hn===fr?St=fr:St!==fr&&(St+=(hn!=null?hn:"")+Wt[ln+1]),this._$AH[ln]=hn}jt&&!Nt&&this.k(St)}k(St){St===fr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,St!=null?St:"")}}class Mr extends _r{constructor(){super(...arguments),this.type=3}k(St){this.element[this.name]=St===fr?void 0:St}}const yr=Ht?Ht.emptyScript:"";class mr extends _r{constructor(){super(...arguments),this.type=4}k(St){St&&St!==fr?this.element.setAttribute(this.name,yr):this.element.removeAttribute(this.name)}}class _n extends _r{constructor(St,At,Pt,Nt,Wt){super(St,At,Pt,Nt,Wt),this.type=5}_$AI(St,At=this){var Pt;if((St=(Pt=Qn(this,St,At,0))!==null&&Pt!==void 0?Pt:fr)===hr)return;const Nt=this._$AH,Wt=St===fr&&Nt!==fr||St.capture!==Nt.capture||St.once!==Nt.once||St.passive!==Nt.passive,jt=St!==fr&&(Nt===fr||Wt);Wt&&this.element.removeEventListener(this.name,this,Nt),jt&&this.element.addEventListener(this.name,this,St),this._$AH=St}handleEvent(St){var At,Pt;typeof this._$AH=="function"?this._$AH.call((Pt=(At=this.options)===null||At===void 0?void 0:At.host)!==null&&Pt!==void 0?Pt:this.element,St):this._$AH.handleEvent(St)}}class ur{constructor(St,At,Pt){this.element=St,this.type=6,this._$AN=void 0,this._$AM=At,this.options=Pt}get _$AU(){return this._$AM._$AU}_$AI(St){Qn(this,St)}}const sr=window.litHtmlPolyfillSupport;sr==null||sr(Kn,kn),((zt=globalThis.litHtmlVersions)!==null&&zt!==void 0?zt:globalThis.litHtmlVersions=[]).push("2.1.1");/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/var Er,ar;class Jn extends Ut{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var St,At;const Pt=super.createRenderRoot();return(St=(At=this.renderOptions).renderBefore)!==null&&St!==void 0||(At.renderBefore=Pt.firstChild),Pt}update(St){const At=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(St),this._$Dt=nn(At,this.renderRoot,this.renderOptions)}connectedCallback(){var St;super.connectedCallback(),(St=this._$Dt)===null||St===void 0||St.setConnected(!0)}disconnectedCallback(){var St;super.disconnectedCallback(),(St=this._$Dt)===null||St===void 0||St.setConnected(!1)}render(){return hr}}Jn.finalized=!0,Jn._$litElement$=!0,(Er=globalThis.litElementHydrateSupport)===null||Er===void 0||Er.call(globalThis,{LitElement:Jn});const Pr=globalThis.litElementPolyfillSupport;Pr==null||Pr({LitElement:Jn}),((ar=globalThis.litElementVersions)!==null&&ar!==void 0?ar:globalThis.litElementVersions=[]).push("3.1.1");/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const Hr=typeof window!="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0,ds=(Et,St,At=null)=>{for(;St!==At;){const Pt=St.nextSibling;Et.removeChild(St),St=Pt}};/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const Br=`{{lit-${String(Math.random()).slice(2)}}}`,Hs=`<!--${Br}-->`,zs=new RegExp(`${Br}|${Hs}`),sl="$lit$";class al{constructor(St,At){this.parts=[],this.element=At;const Pt=[],Nt=[],Wt=document.createTreeWalker(At.content,133,null,!1);let jt=0,rn=-1,ln=0;const{strings:hn,values:{length:vn}}=St;for(;ln<vn;){const xn=Wt.nextNode();if(xn===null){Wt.currentNode=Nt.pop();continue}if(rn++,xn.nodeType===1){if(xn.hasAttributes()){const Sn=xn.attributes,{length:wn}=Sn;let er=0;for(let Gn=0;Gn<wn;Gn++)Hl(Sn[Gn].name,sl)&&er++;for(;er-- >0;){const Gn=hn[ln],zn=zl.exec(Gn)[2],$n=zn.toLowerCase()+sl,nr=xn.getAttribute($n);xn.removeAttribute($n);const gr=nr.split(zs);this.parts.push({type:"attribute",index:rn,name:zn,strings:gr}),ln+=gr.length-1}}xn.tagName==="TEMPLATE"&&(Nt.push(xn),Wt.currentNode=xn.content)}else if(xn.nodeType===3){const Sn=xn.data;if(Sn.indexOf(Br)>=0){const wn=xn.parentNode,er=Sn.split(zs),Gn=er.length-1;for(let zn=0;zn<Gn;zn++){let $n,nr=er[zn];if(nr==="")$n=ao();else{const gr=zl.exec(nr);gr!==null&&Hl(gr[2],sl)&&(nr=nr.slice(0,gr.index)+gr[1]+gr[2].slice(0,-sl.length)+gr[3]),$n=document.createTextNode(nr)}wn.insertBefore($n,xn),this.parts.push({type:"node",index:++rn})}er[Gn]===""?(wn.insertBefore(ao(),xn),Pt.push(xn)):xn.data=er[Gn],ln+=Gn}}else if(xn.nodeType===8)if(xn.data===Br){const Sn=xn.parentNode;(xn.previousSibling===null||rn===jt)&&(rn++,Sn.insertBefore(ao(),xn)),jt=rn,this.parts.push({type:"node",index:rn}),xn.nextSibling===null?xn.data="":(Pt.push(xn),rn--),ln++}else{let Sn=-1;for(;(Sn=xn.data.indexOf(Br,Sn+1))!==-1;)this.parts.push({type:"node",index:-1}),ln++}}for(const xn of Pt)xn.parentNode.removeChild(xn)}}const Hl=(Et,St)=>{const At=Et.length-St.length;return At>=0&&Et.slice(At)===St},_l=Et=>Et.index!==-1,ao=()=>document.createComment(""),zl=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const ol=133;function fu(Et,St){const{element:{content:At},parts:Pt}=Et,Nt=document.createTreeWalker(At,ol,null,!1);let Wt=bn(Pt),jt=Pt[Wt],rn=-1,ln=0;const hn=[];let vn=null;for(;Nt.nextNode();){rn++;const xn=Nt.currentNode;for(xn.previousSibling===vn&&(vn=null),St.has(xn)&&(hn.push(xn),vn===null&&(vn=xn)),vn!==null&&ln++;jt!==void 0&&jt.index===rn;)jt.index=vn!==null?-1:jt.index-ln,Wt=bn(Pt,Wt),jt=Pt[Wt]}hn.forEach(xn=>xn.parentNode.removeChild(xn))}const un=Et=>{let St=Et.nodeType===11?0:1;const At=document.createTreeWalker(Et,ol,null,!1);for(;At.nextNode();)St++;return St},bn=(Et,St=-1)=>{for(let At=St+1;At<Et.length;At++){const Pt=Et[At];if(_l(Pt))return At}return-1};function Nn(Et,St,At=null){const{element:{content:Pt},parts:Nt}=Et;if(At==null){Pt.appendChild(St);return}const Wt=document.createTreeWalker(Pt,ol,null,!1);let jt=bn(Nt),rn=0,ln=-1;for(;Wt.nextNode();)for(ln++,Wt.currentNode===At&&(rn=un(St),At.parentNode.insertBefore(St,At));jt!==-1&&Nt[jt].index===ln;){if(rn>0){for(;jt!==-1;)Nt[jt].index+=rn,jt=bn(Nt,jt);return}jt=bn(Nt,jt)}}/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const Ln=new WeakMap,Xn=Et=>typeof Et=="function"&&Ln.has(Et);/**
* @license
* Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const wr={},Ir={};/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/class Nr{constructor(St,At,Pt){this.__parts=[],this.template=St,this.processor=At,this.options=Pt}update(St){let At=0;for(const Pt of this.__parts)Pt!==void 0&&Pt.setValue(St[At]),At++;for(const Pt of this.__parts)Pt!==void 0&&Pt.commit()}_clone(){const St=Hr?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),At=[],Pt=this.template.parts,Nt=document.createTreeWalker(St,133,null,!1);let Wt=0,jt=0,rn,ln=Nt.nextNode();for(;Wt<Pt.length;){if(rn=Pt[Wt],!_l(rn)){this.__parts.push(void 0),Wt++;continue}for(;jt<rn.index;)jt++,ln.nodeName==="TEMPLATE"&&(At.push(ln),Nt.currentNode=ln.content),(ln=Nt.nextNode())===null&&(Nt.currentNode=At.pop(),ln=Nt.nextNode());if(rn.type==="node"){const hn=this.processor.handleTextExpression(this.options);hn.insertAfterNode(ln.previousSibling),this.__parts.push(hn)}else this.__parts.push(...this.processor.handleAttributeExpressions(ln,rn.name,rn.strings,this.options));Wt++}return Hr&&(document.adoptNode(St),customElements.upgrade(St)),St}}/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const Or=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:Et=>Et}),qr=` ${Br} `;class zr{constructor(St,At,Pt,Nt){this.strings=St,this.values=At,this.type=Pt,this.processor=Nt}getHTML(){const St=this.strings.length-1;let At="",Pt=!1;for(let Nt=0;Nt<St;Nt++){const Wt=this.strings[Nt],jt=Wt.lastIndexOf("<!--");Pt=(jt>-1||Pt)&&Wt.indexOf("-->",jt+1)===-1;const rn=zl.exec(Wt);rn===null?At+=Wt+(Pt?qr:Hs):At+=Wt.substr(0,rn.index)+rn[1]+rn[2]+sl+rn[3]+Br}return At+=this.strings[St],At}getTemplateElement(){const St=document.createElement("template");let At=this.getHTML();return Or!==void 0&&(At=Or.createHTML(At)),St.innerHTML=At,St}}/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const Xr=Et=>Et===null||!(typeof Et=="object"||typeof Et=="function"),ss=Et=>Array.isArray(Et)||!!(Et&&Et[Symbol.iterator]);class oo{constructor(St){this.value=void 0,this.__pendingValue=void 0,this.options=St}appendInto(St){this.startNode=St.appendChild(ao()),this.endNode=St.appendChild(ao())}insertAfterNode(St){this.startNode=St,this.endNode=St.nextSibling}appendIntoPart(St){St.__insert(this.startNode=ao()),St.__insert(this.endNode=ao())}insertAfterPart(St){St.__insert(this.startNode=ao()),this.endNode=St.endNode,St.endNode=this.startNode}setValue(St){this.__pendingValue=St}commit(){if(this.startNode.parentNode===null)return;for(;Xn(this.__pendingValue);){const At=this.__pendingValue;this.__pendingValue=wr,At(this)}const St=this.__pendingValue;St!==wr&&(Xr(St)?St!==this.value&&this.__commitText(St):St instanceof zr?this.__commitTemplateResult(St):St instanceof Node?this.__commitNode(St):ss(St)?this.__commitIterable(St):St===Ir?(this.value=Ir,this.clear()):this.__commitText(St))}__insert(St){this.endNode.parentNode.insertBefore(St,this.endNode)}__commitNode(St){this.value!==St&&(this.clear(),this.__insert(St),this.value=St)}__commitText(St){const At=this.startNode.nextSibling;St=St==null?"":St;const Pt=typeof St=="string"?St:String(St);At===this.endNode.previousSibling&&At.nodeType===3?At.data=Pt:this.__commitNode(document.createTextNode(Pt)),this.value=St}__commitTemplateResult(St){const At=this.options.templateFactory(St);if(this.value instanceof Nr&&this.value.template===At)this.value.update(St.values);else{const Pt=new Nr(At,St.processor,this.options),Nt=Pt._clone();Pt.update(St.values),this.__commitNode(Nt),this.value=Pt}}__commitIterable(St){Array.isArray(this.value)||(this.value=[],this.clear());const At=this.value;let Pt=0,Nt;for(const Wt of St)Nt=At[Pt],Nt===void 0&&(Nt=new oo(this.options),At.push(Nt),Pt===0?Nt.appendIntoPart(this):Nt.insertAfterPart(At[Pt-1])),Nt.setValue(Wt),Nt.commit(),Pt++;Pt<At.length&&(At.length=Pt,this.clear(Nt&&Nt.endNode))}clear(St=this.startNode){ds(this.startNode.parentNode,St.nextSibling,this.endNode)}}let Go=!1;(()=>{try{const Et={get capture(){return Go=!0,!1}};window.addEventListener("test",Et,Et),window.removeEventListener("test",Et,Et)}catch{}})();/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/function Vo(Et){let St=vs.get(Et.type);St===void 0&&(St={stringsArray:new WeakMap,keyString:new Map},vs.set(Et.type,St));let At=St.stringsArray.get(Et.strings);if(At!==void 0)return At;const Pt=Et.strings.join(Br);return At=St.keyString.get(Pt),At===void 0&&(At=new al(Et,Et.getTemplateElement()),St.keyString.set(Pt,At)),St.stringsArray.set(Et.strings,At),At}const vs=new Map;/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const Vr=new WeakMap,lo=(Et,St,At)=>{let Pt=Vr.get(St);Pt===void 0&&(ds(St,St.firstChild),Vr.set(St,Pt=new oo(Object.assign({templateFactory:Vo},At))),Pt.appendInto(St)),Pt.setValue(Et),Pt.commit()};/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/typeof window!="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const ls=(Et,St)=>`${Et}--${St}`;let Ns=!0;typeof window.ShadyCSS=="undefined"?Ns=!1:typeof window.ShadyCSS.prepareTemplateDom=="undefined"&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Ns=!1);const vo=Et=>St=>{const At=ls(St.type,Et);let Pt=vs.get(At);Pt===void 0&&(Pt={stringsArray:new WeakMap,keyString:new Map},vs.set(At,Pt));let Nt=Pt.stringsArray.get(St.strings);if(Nt!==void 0)return Nt;const Wt=St.strings.join(Br);if(Nt=Pt.keyString.get(Wt),Nt===void 0){const jt=St.getTemplateElement();Ns&&window.ShadyCSS.prepareTemplateDom(jt,Et),Nt=new al(St,jt),Pt.keyString.set(Wt,Nt)}return Pt.stringsArray.set(St.strings,Nt),Nt},Ho=["html","svg"],yl=Et=>{Ho.forEach(St=>{const At=vs.get(ls(St,Et));At!==void 0&&At.keyString.forEach(Pt=>{const{element:{content:Nt}}=Pt,Wt=new Set;Array.from(Nt.querySelectorAll("style")).forEach(jt=>{Wt.add(jt)}),fu(Pt,Wt)})})},ps=new Set,ll=(Et,St,At)=>{ps.add(Et);const Pt=At?At.element:document.createElement("template"),Nt=St.querySelectorAll("style"),{length:Wt}=Nt;if(Wt===0){window.ShadyCSS.prepareTemplateStyles(Pt,Et);return}const jt=document.createElement("style");for(let hn=0;hn<Wt;hn++){const vn=Nt[hn];vn.parentNode.removeChild(vn),jt.textContent+=vn.textContent}yl(Et);const rn=Pt.content;At?Nn(At,jt,rn.firstChild):rn.insertBefore(jt,rn.firstChild),window.ShadyCSS.prepareTemplateStyles(Pt,Et);const ln=rn.querySelector("style");if(window.ShadyCSS.nativeShadow&&ln!==null)St.insertBefore(ln.cloneNode(!0),St.firstChild);else if(At){rn.insertBefore(jt,rn.firstChild);const hn=new Set;hn.add(jt),fu(At,hn)}},Wl=(Et,St,At)=>{if(!At||typeof At!="object"||!At.scopeName)throw new Error("The `scopeName` option is required.");const Pt=At.scopeName,Nt=Vr.has(St),Wt=Ns&&St.nodeType===11&&!!St.host,jt=Wt&&!ps.has(Pt),rn=jt?document.createDocumentFragment():St;if(lo(Et,rn,Object.assign({templateFactory:vo(Pt)},At)),jt){const ln=Vr.get(rn);Vr.delete(rn);const hn=ln.value instanceof Nr?ln.value.template:void 0;ll(Pt,rn,hn),ds(St,St.firstChild),St.appendChild(rn),Vr.set(St,ln)}!Nt&&Wt&&window.ShadyCSS.styleElement(St.host)};/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/var Fs;window.JSCompiler_renameProperty=(Et,St)=>Et;const _h={toAttribute(Et,St){switch(St){case Boolean:return Et?"":null;case Object:case Array:return Et==null?Et:JSON.stringify(Et)}return Et},fromAttribute(Et,St){switch(St){case Boolean:return Et!==null;case Number:return Et===null?null:Number(Et);case Object:case Array:return JSON.parse(Et)}return Et}},_f=(Et,St)=>St!==Et&&(St===St||Et===Et),du={attribute:!0,type:String,converter:_h,reflect:!1,hasChanged:_f},pu=1,jl=1<<2,_d=1<<3,mu=1<<4,xl="finalized";class ep extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const St=[];return this._classProperties.forEach((At,Pt)=>{const Nt=this._attributeNameForProperty(Pt,At);Nt!==void 0&&(this._attributeToPropertyMap.set(Nt,Pt),St.push(Nt))}),St}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const St=Object.getPrototypeOf(this)._classProperties;St!==void 0&&St.forEach((At,Pt)=>this._classProperties.set(Pt,At))}}static createProperty(St,At=du){if(this._ensureClassProperties(),this._classProperties.set(St,At),At.noAccessor||this.prototype.hasOwnProperty(St))return;const Pt=typeof St=="symbol"?Symbol():`__${St}`,Nt=this.getPropertyDescriptor(St,Pt,At);Nt!==void 0&&Object.defineProperty(this.prototype,St,Nt)}static getPropertyDescriptor(St,At,Pt){return{get(){return this[At]},set(Nt){const Wt=this[St];this[At]=Nt,this.requestUpdateInternal(St,Wt,Pt)},configurable:!0,enumerable:!0}}static getPropertyOptions(St){return this._classProperties&&this._classProperties.get(St)||du}static finalize(){const St=Object.getPrototypeOf(this);if(St.hasOwnProperty(xl)||St.finalize(),this[xl]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const At=this.properties,Pt=[...Object.getOwnPropertyNames(At),...typeof Object.getOwnPropertySymbols=="function"?Object.getOwnPropertySymbols(At):[]];for(const Nt of Pt)this.createProperty(Nt,At[Nt])}}static _attributeNameForProperty(St,At){const Pt=At.attribute;return Pt===!1?void 0:typeof Pt=="string"?Pt:typeof St=="string"?St.toLowerCase():void 0}static _valueHasChanged(St,At,Pt=_f){return Pt(St,At)}static _propertyValueFromAttribute(St,At){const Pt=At.type,Nt=At.converter||_h,Wt=typeof Nt=="function"?Nt:Nt.fromAttribute;return Wt?Wt(St,Pt):St}static _propertyValueToAttribute(St,At){if(At.reflect===void 0)return;const Pt=At.type,Nt=At.converter;return(Nt&&Nt.toAttribute||_h.toAttribute)(St,Pt)}initialize(){this._updateState=0,this._updatePromise=new Promise(St=>this._enableUpdatingResolver=St),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((St,At)=>{if(this.hasOwnProperty(At)){const Pt=this[At];delete this[At],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(At,Pt)}})}_applyInstanceProperties(){this._instanceProperties.forEach((St,At)=>this[At]=St),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){this._enableUpdatingResolver!==void 0&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(St,At,Pt){At!==Pt&&this._attributeToProperty(St,Pt)}_propertyToAttribute(St,At,Pt=du){const Nt=this.constructor,Wt=Nt._attributeNameForProperty(St,Pt);if(Wt!==void 0){const jt=Nt._propertyValueToAttribute(At,Pt);if(jt===void 0)return;this._updateState=this._updateState|_d,jt==null?this.removeAttribute(Wt):this.setAttribute(Wt,jt),this._updateState=this._updateState&~_d}}_attributeToProperty(St,At){if(this._updateState&_d)return;const Pt=this.constructor,Nt=Pt._attributeToPropertyMap.get(St);if(Nt!==void 0){const Wt=Pt.getPropertyOptions(Nt);this._updateState=this._updateState|mu,this[Nt]=Pt._propertyValueFromAttribute(At,Wt),this._updateState=this._updateState&~mu}}requestUpdateInternal(St,At,Pt){let Nt=!0;if(St!==void 0){const Wt=this.constructor;Pt=Pt||Wt.getPropertyOptions(St),Wt._valueHasChanged(this[St],At,Pt.hasChanged)?(this._changedProperties.has(St)||this._changedProperties.set(St,At),Pt.reflect===!0&&!(this._updateState&mu)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(St,Pt))):Nt=!1}!this._hasRequestedUpdate&&Nt&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(St,At){return this.requestUpdateInternal(St,At),this.updateComplete}async _enqueueUpdate(){this._updateState=this._updateState|jl;try{await this._updatePromise}catch{}const St=this.performUpdate();return St!=null&&await St,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return this._updateState&jl}get hasUpdated(){return this._updateState&pu}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let St=!1;const At=this._changedProperties;try{St=this.shouldUpdate(At),St?this.update(At):this._markUpdated()}catch(Pt){throw St=!1,this._markUpdated(),Pt}St&&(this._updateState&pu||(this._updateState=this._updateState|pu,this.firstUpdated(At)),this.updated(At))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~jl}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._updatePromise}shouldUpdate(St){return!0}update(St){this._reflectingProperties!==void 0&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((At,Pt)=>this._propertyToAttribute(Pt,this[Pt],At)),this._reflectingProperties=void 0),this._markUpdated()}updated(St){}firstUpdated(St){}}Fs=xl,ep[Fs]=!0;/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const Gv=(Et,St)=>(window.customElements.define(Et,St),St),lm=(Et,St)=>{const{kind:At,elements:Pt}=St;return{kind:At,elements:Pt,finisher(Nt){window.customElements.define(Et,Nt)}}},um=Et=>St=>typeof St=="function"?Gv(Et,St):lm(Et,St),tp=(Et,St)=>St.kind==="method"&&St.descriptor&&!("value"in St.descriptor)?Object.assign(Object.assign({},St),{finisher(At){At.createProperty(St.key,Et)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){typeof St.initializer=="function"&&(this[St.key]=St.initializer.call(this))},finisher(At){At.createProperty(St.key,Et)}},Vv=(Et,St,At)=>{St.constructor.createProperty(At,Et)};function Xl(Et){return(St,At)=>At!==void 0?Vv(Et,St,At):tp(Et,St)}/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const Yl=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,gu=Symbol();class Tl{constructor(St,At){if(At!==gu)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=St}get styleSheet(){return this._styleSheet===void 0&&(Yl?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const hm=Et=>new Tl(String(Et),gu);/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");const np={};class rp extends ep{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const St=this.getStyles();if(Array.isArray(St)){const At=(Wt,jt)=>Wt.reduceRight((rn,ln)=>Array.isArray(ln)?At(ln,rn):(rn.add(ln),rn),jt),Pt=At(St,new Set),Nt=[];Pt.forEach(Wt=>Nt.unshift(Wt)),this._styles=Nt}else this._styles=St===void 0?[]:[St];this._styles=this._styles.map(At=>{if(At instanceof CSSStyleSheet&&!Yl){const Pt=Array.prototype.slice.call(At.cssRules).reduce((Nt,Wt)=>Nt+Wt.cssText,"");return hm(Pt)}return At})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow(this.constructor.shadowRootOptions)}adoptStyles(){const St=this.constructor._styles;St.length!==0&&(window.ShadyCSS!==void 0&&!window.ShadyCSS.nativeShadow?window.ShadyCSS.ScopingShim.prepareAdoptedCssText(St.map(At=>At.cssText),this.localName):Yl?this.renderRoot.adoptedStyleSheets=St.map(At=>At instanceof CSSStyleSheet?At:At.styleSheet):this._needsShimAdoptedStyleSheets=!0)}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(St){const At=this.render();super.update(St),At!==np&&this.constructor.render(At,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(Pt=>{const Nt=document.createElement("style");Nt.textContent=Pt.cssText,this.renderRoot.appendChild(Nt)}))}render(){return np}}rp.finalized=!0,rp.render=Wl,rp.shadowRootOptions={mode:"open"};/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const cm=(Et,St)=>St.kind==="method"&&St.descriptor&&!("value"in St.descriptor)?lt(ot({},St),{finisher(At){At.createProperty(St.key,Et)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:St.key,initializer(){typeof St.initializer=="function"&&(this[St.key]=St.initializer.call(this))},finisher(At){At.createProperty(St.key,Et)}};function fm(Et){return(St,At)=>At!==void 0?((Pt,Nt,Wt)=>{Nt.constructor.createProperty(Wt,Pt)})(Et,St,At):cm(Et,St)}/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/function ql(Et){return fm(lt(ot({},Et),{state:!0}))}/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const vu=({finisher:Et,descriptor:St})=>(At,Pt)=>{var Nt;if(Pt===void 0){const Wt=(Nt=At.originalKey)!==null&&Nt!==void 0?Nt:At.key,jt=St!=null?{kind:"method",placement:"prototype",key:Wt,descriptor:St(At.key)}:lt(ot({},At),{key:Wt});return Et!=null&&(jt.finisher=function(rn){Et(rn,Wt)}),jt}{const Wt=At.constructor;St!==void 0&&Object.defineProperty(At,Pt,St(Pt)),Et==null||Et(Wt,Pt)}};/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/function Hv(Et,St){return vu({descriptor:At=>{const Pt={get(){var Nt,Wt;return(Wt=(Nt=this.renderRoot)===null||Nt===void 0?void 0:Nt.querySelector(Et))!==null&&Wt!==void 0?Wt:null},enumerable:!0,configurable:!0};if(St){const Nt=typeof At=="symbol"?Symbol():"__"+At;Pt.get=function(){var Wt,jt;return this[Nt]===void 0&&(this[Nt]=(jt=(Wt=this.renderRoot)===null||Wt===void 0?void 0:Wt.querySelector(Et))!==null&&jt!==void 0?jt:null),this[Nt]}}return Pt}})}/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/function dm(Et){return vu({descriptor:St=>({get(){var At,Pt;return(Pt=(At=this.renderRoot)===null||At===void 0?void 0:At.querySelectorAll(Et))!==null&&Pt!==void 0?Pt:[]},enumerable:!0,configurable:!0})})}/**
* @license
* Copyright 2021 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/var ip;const pm=((ip=window.HTMLSlotElement)===null||ip===void 0?void 0:ip.prototype.assignedElements)!=null?(Et,St)=>Et.assignedElements(St):(Et,St)=>Et.assignedNodes(St).filter(At=>At.nodeType===Node.ELEMENT_NODE);function mm(Et){const{slot:St,selector:At}=Et!=null?Et:{};return vu({descriptor:Pt=>({get(){var Nt;const Wt="slot"+(St?`[name=${St}]`:":not([name])"),jt=(Nt=this.renderRoot)===null||Nt===void 0?void 0:Nt.querySelector(Wt),rn=jt!=null?pm(jt,Et):[];return At?rn.filter(ln=>ln.matches(At)):rn},enumerable:!0,configurable:!0})})}/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const zv={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Wv=Et=>(...St)=>({_$litDirective$:Et,values:St});class jv{constructor(St){}get _$AU(){return this._$AM._$AU}_$AT(St,At,Pt){this._$Ct=St,this._$AM=At,this._$Ci=Pt}_$AS(St,At){return this.update(St,At)}update(St,At){return this.render(...At)}}/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/class Zl extends jv{constructor(St){if(super(St),this.it=fr,St.type!==zv.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(St){if(St===fr||St==null)return this.vt=void 0,this.it=St;if(St===hr)return St;if(typeof St!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(St===this.it)return this.vt;this.it=St;const At=[St];return At.raw=At,this.vt={_$litType$:this.constructor.resultType,strings:At,values:[]}}}Zl.directiveName="unsafeHTML",Zl.resultType=1;const Xv=Wv(Zl);class gm extends Map{constructor(St,At=rs){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:At}}),St!=null)for(const[Pt,Nt]of St)this.set(Pt,Nt)}get(St){return super.get(vm(this,St))}has(St){return super.has(vm(this,St))}set(St,At){return super.set(Yv(this,St),At)}delete(St){return super.delete(qv(this,St))}}function vm({_intern:Et,_key:St},At){const Pt=St(At);return Et.has(Pt)?Et.get(Pt):At}function Yv({_intern:Et,_key:St},At){const Pt=St(At);return Et.has(Pt)?Et.get(Pt):(Et.set(Pt,At),At)}function qv({_intern:Et,_key:St},At){const Pt=St(At);return Et.has(Pt)&&(At=Et.get(Pt),Et.delete(Pt)),At}function rs(Et){return Et!==null&&typeof Et=="object"?Et.valueOf():Et}var es={value:()=>{}};function Kl(){for(var Et=0,St=arguments.length,At={},Pt;Et<St;++Et){if(!(Pt=arguments[Et]+"")||Pt in At||/[\s.]/.test(Pt))throw new Error("illegal type: "+Pt);At[Pt]=[]}return new _u(At)}function _u(Et){this._=Et}function Zv(Et,St){return Et.trim().split(/^|\s+/).map(function(At){var Pt="",Nt=At.indexOf(".");if(Nt>=0&&(Pt=At.slice(Nt+1),At=At.slice(0,Nt)),At&&!St.hasOwnProperty(At))throw new Error("unknown type: "+At);return{type:At,name:Pt}})}_u.prototype=Kl.prototype={constructor:_u,on:function(Et,St){var At=this._,Pt=Zv(Et+"",At),Nt,Wt=-1,jt=Pt.length;if(arguments.length<2){for(;++Wt<jt;)if((Nt=(Et=Pt[Wt]).type)&&(Nt=Kv(At[Nt],Et.name)))return Nt;return}if(St!=null&&typeof St!="function")throw new Error("invalid callback: "+St);for(;++Wt<jt;)if(Nt=(Et=Pt[Wt]).type)At[Nt]=_m(At[Nt],Et.name,St);else if(St==null)for(Nt in At)At[Nt]=_m(At[Nt],Et.name,null);return this},copy:function(){var Et={},St=this._;for(var At in St)Et[At]=St[At].slice();return new _u(Et)},call:function(Et,St){if((Nt=arguments.length-2)>0)for(var At=new Array(Nt),Pt=0,Nt,Wt;Pt<Nt;++Pt)At[Pt]=arguments[Pt+2];if(!this._.hasOwnProperty(Et))throw new Error("unknown type: "+Et);for(Wt=this._[Et],Pt=0,Nt=Wt.length;Pt<Nt;++Pt)Wt[Pt].value.apply(St,At)},apply:function(Et,St,At){if(!this._.hasOwnProperty(Et))throw new Error("unknown type: "+Et);for(var Pt=this._[Et],Nt=0,Wt=Pt.length;Nt<Wt;++Nt)Pt[Nt].value.apply(St,At)}};function Kv(Et,St){for(var At=0,Pt=Et.length,Nt;At<Pt;++At)if((Nt=Et[At]).name===St)return Nt.value}function _m(Et,St,At){for(var Pt=0,Nt=Et.length;Pt<Nt;++Pt)if(Et[Pt].name===St){Et[Pt]=es,Et=Et.slice(0,Pt).concat(Et.slice(Pt+1));break}return At!=null&&Et.push({name:St,value:At}),Et}var sp="http://www.w3.org/1999/xhtml",ap={svg:"http://www.w3.org/2000/svg",xhtml:sp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yu(Et){var St=Et+="",At=St.indexOf(":");return At>=0&&(St=Et.slice(0,At))!=="xmlns"&&(Et=Et.slice(At+1)),ap.hasOwnProperty(St)?{space:ap[St],local:Et}:Et}function Ms(Et){return function(){var St=this.ownerDocument,At=this.namespaceURI;return At===sp&&St.documentElement.namespaceURI===sp?St.createElement(Et):St.createElementNS(At,Et)}}function op(Et){return function(){return this.ownerDocument.createElementNS(Et.space,Et.local)}}function zo(Et){var St=yu(Et);return(St.local?op:Ms)(St)}function ym(){}function Jl(Et){return Et==null?ym:function(){return this.querySelector(Et)}}function Ks(Et){typeof Et!="function"&&(Et=Jl(Et));for(var St=this._groups,At=St.length,Pt=new Array(At),Nt=0;Nt<At;++Nt)for(var Wt=St[Nt],jt=Wt.length,rn=Pt[Nt]=new Array(jt),ln,hn,vn=0;vn<jt;++vn)(ln=Wt[vn])&&(hn=Et.call(ln,ln.__data__,vn,Wt))&&("__data__"in ln&&(hn.__data__=ln.__data__),rn[vn]=hn);return new Ss(Pt,this._parents)}function lp(Et){return Et==null?[]:Array.isArray(Et)?Et:Array.from(Et)}function xm(){return[]}function up(Et){return Et==null?xm:function(){return this.querySelectorAll(Et)}}function Tm(Et){return function(){return lp(Et.apply(this,arguments))}}function Sm(Et){typeof Et=="function"?Et=Tm(Et):Et=up(Et);for(var St=this._groups,At=St.length,Pt=[],Nt=[],Wt=0;Wt<At;++Wt)for(var jt=St[Wt],rn=jt.length,ln,hn=0;hn<rn;++hn)(ln=jt[hn])&&(Pt.push(Et.call(ln,ln.__data__,hn,jt)),Nt.push(ln));return new Ss(Pt,Nt)}function hp(Et){return function(){return this.matches(Et)}}function $s(Et){return function(St){return St.matches(Et)}}var Jv=Array.prototype.find;function Js(Et){return function(){return Jv.call(this.children,Et)}}function Qv(){return this.firstElementChild}function Em(Et){return this.select(Et==null?Qv:Js(typeof Et=="function"?Et:$s(Et)))}var Wo=Array.prototype.filter;function xu(){return Array.from(this.children)}function cp(Et){return function(){return Wo.call(this.children,Et)}}function os(Et){return this.selectAll(Et==null?xu:cp(typeof Et=="function"?Et:$s(Et)))}function jo(Et){typeof Et!="function"&&(Et=hp(Et));for(var St=this._groups,At=St.length,Pt=new Array(At),Nt=0;Nt<At;++Nt)for(var Wt=St[Nt],jt=Wt.length,rn=Pt[Nt]=[],ln,hn=0;hn<jt;++hn)(ln=Wt[hn])&&Et.call(ln,ln.__data__,hn,Wt)&&rn.push(ln);return new Ss(Pt,this._parents)}function Tu(Et){return new Array(Et.length)}function e_(){return new Ss(this._enter||this._groups.map(Tu),this._parents)}function Sl(Et,St){this.ownerDocument=Et.ownerDocument,this.namespaceURI=Et.namespaceURI,this._next=null,this._parent=Et,this.__data__=St}Sl.prototype={constructor:Sl,appendChild:function(Et){return this._parent.insertBefore(Et,this._next)},insertBefore:function(Et,St){return this._parent.insertBefore(Et,St)},querySelector:function(Et){return this._parent.querySelector(Et)},querySelectorAll:function(Et){return this._parent.querySelectorAll(Et)}};function t_(Et){return function(){return Et}}function n_(Et,St,At,Pt,Nt,Wt){for(var jt=0,rn,ln=St.length,hn=Wt.length;jt<hn;++jt)(rn=St[jt])?(rn.__data__=Wt[jt],Pt[jt]=rn):At[jt]=new Sl(Et,Wt[jt]);for(;jt<ln;++jt)(rn=St[jt])&&(Nt[jt]=rn)}function r_(Et,St,At,Pt,Nt,Wt,jt){var rn,ln,hn=new Map,vn=St.length,xn=Wt.length,Sn=new Array(vn),wn;for(rn=0;rn<vn;++rn)(ln=St[rn])&&(Sn[rn]=wn=jt.call(ln,ln.__data__,rn,St)+"",hn.has(wn)?Nt[rn]=ln:hn.set(wn,ln));for(rn=0;rn<xn;++rn)wn=jt.call(Et,Wt[rn],rn,Wt)+"",(ln=hn.get(wn))?(Pt[rn]=ln,ln.__data__=Wt[rn],hn.delete(wn)):At[rn]=new Sl(Et,Wt[rn]);for(rn=0;rn<vn;++rn)(ln=St[rn])&&hn.get(Sn[rn])===ln&&(Nt[rn]=ln)}function wm(Et){return Et.__data__}function Su(Et,St){if(!arguments.length)return Array.from(this,wm);var At=St?r_:n_,Pt=this._parents,Nt=this._groups;typeof Et!="function"&&(Et=t_(Et));for(var Wt=Nt.length,jt=new Array(Wt),rn=new Array(Wt),ln=new Array(Wt),hn=0;hn<Wt;++hn){var vn=Pt[hn],xn=Nt[hn],Sn=xn.length,wn=El(Et.call(vn,vn&&vn.__data__,hn,Pt)),er=wn.length,Gn=rn[hn]=new Array(er),zn=jt[hn]=new Array(er),$n=ln[hn]=new Array(Sn);At(vn,xn,Gn,zn,$n,wn,St);for(var nr=0,gr=0,On,lr;nr<er;++nr)if(On=Gn[nr]){for(nr>=gr&&(gr=nr+1);!(lr=zn[gr])&&++gr<er;);On._next=lr||null}}return jt=new Ss(jt,Pt),jt._enter=rn,jt._exit=ln,jt}function El(Et){return typeof Et=="object"&&"length"in Et?Et:Array.from(Et)}function i_(){return new Ss(this._exit||this._groups.map(Tu),this._parents)}function bm(Et,St,At){var Pt=this.enter(),Nt=this,Wt=this.exit();return typeof Et=="function"?(Pt=Et(Pt),Pt&&(Pt=Pt.selection())):Pt=Pt.append(Et+""),St!=null&&(Nt=St(Nt),Nt&&(Nt=Nt.selection())),At==null?Wt.remove():At(Wt),Pt&&Nt?Pt.merge(Nt).order():Nt}function Am(Et){for(var St=Et.selection?Et.selection():Et,At=this._groups,Pt=St._groups,Nt=At.length,Wt=Pt.length,jt=Math.min(Nt,Wt),rn=new Array(Nt),ln=0;ln<jt;++ln)for(var hn=At[ln],vn=Pt[ln],xn=hn.length,Sn=rn[ln]=new Array(xn),wn,er=0;er<xn;++er)(wn=hn[er]||vn[er])&&(Sn[er]=wn);for(;ln<Nt;++ln)rn[ln]=At[ln];return new Ss(rn,this._parents)}function fp(){for(var Et=this._groups,St=-1,At=Et.length;++St<At;)for(var Pt=Et[St],Nt=Pt.length-1,Wt=Pt[Nt],jt;--Nt>=0;)(jt=Pt[Nt])&&(Wt&&jt.compareDocumentPosition(Wt)^4&&Wt.parentNode.insertBefore(jt,Wt),Wt=jt);return this}function dp(Et){Et||(Et=Mm);function St(xn,Sn){return xn&&Sn?Et(xn.__data__,Sn.__data__):!xn-!Sn}for(var At=this._groups,Pt=At.length,Nt=new Array(Pt),Wt=0;Wt<Pt;++Wt){for(var jt=At[Wt],rn=jt.length,ln=Nt[Wt]=new Array(rn),hn,vn=0;vn<rn;++vn)(hn=jt[vn])&&(ln[vn]=hn);ln.sort(St)}return new Ss(Nt,this._parents).order()}function Mm(Et,St){return Et<St?-1:Et>St?1:Et>=St?0:NaN}function s_(){var Et=arguments[0];return arguments[0]=this,Et.apply(null,arguments),this}function pp(){return Array.from(this)}function mp(){for(var Et=this._groups,St=0,At=Et.length;St<At;++St)for(var Pt=Et[St],Nt=0,Wt=Pt.length;Nt<Wt;++Nt){var jt=Pt[Nt];if(jt)return jt}return null}function a_(){let Et=0;for(const St of this)++Et;return Et}function Cm(){return!this.node()}function Ws(Et){for(var St=this._groups,At=0,Pt=St.length;At<Pt;++At)for(var Nt=St[At],Wt=0,jt=Nt.length,rn;Wt<jt;++Wt)(rn=Nt[Wt])&&Et.call(rn,rn.__data__,Wt,Nt);return this}function gp(Et){return function(){this.removeAttribute(Et)}}function Ql(Et){return function(){this.removeAttributeNS(Et.space,Et.local)}}function Pm(Et,St){return function(){this.setAttribute(Et,St)}}function Rm(Et,St){return function(){this.setAttributeNS(Et.space,Et.local,St)}}function o_(Et,St){return function(){var At=St.apply(this,arguments);At==null?this.removeAttribute(Et):this.setAttribute(Et,At)}}function l_(Et,St){return function(){var At=St.apply(this,arguments);At==null?this.removeAttributeNS(Et.space,Et.local):this.setAttributeNS(Et.space,Et.local,At)}}function u_(Et,St){var At=yu(Et);if(arguments.length<2){var Pt=this.node();return At.local?Pt.getAttributeNS(At.space,At.local):Pt.getAttribute(At)}return this.each((St==null?At.local?Ql:gp:typeof St=="function"?At.local?l_:o_:At.local?Rm:Pm)(At,St))}function Im(Et){return Et.ownerDocument&&Et.ownerDocument.defaultView||Et.document&&Et||Et.defaultView}function h_(Et){return function(){this.style.removeProperty(Et)}}function wl(Et,St,At){return function(){this.style.setProperty(Et,St,At)}}function c_(Et,St,At){return function(){var Pt=St.apply(this,arguments);Pt==null?this.style.removeProperty(Et):this.style.setProperty(Et,Pt,At)}}function f_(Et,St,At){return arguments.length>1?this.each((St==null?h_:typeof St=="function"?c_:wl)(Et,St,At==null?"":At)):Xo(this.node(),Et)}function Xo(Et,St){return Et.style.getPropertyValue(St)||Im(Et).getComputedStyle(Et,null).getPropertyValue(St)}function Lm(Et){return function(){delete this[Et]}}function Yo(Et,St){return function(){this[Et]=St}}function Eu(Et,St){return function(){var At=St.apply(this,arguments);At==null?delete this[Et]:this[Et]=At}}function d_(Et,St){return arguments.length>1?this.each((St==null?Lm:typeof St=="function"?Eu:Yo)(Et,St)):this.node()[Et]}function Nm(Et){return Et.trim().split(/^|\s+/)}function vp(Et){return Et.classList||new ul(Et)}function ul(Et){this._node=Et,this._names=Nm(Et.getAttribute("class")||"")}ul.prototype={add:function(Et){var St=this._names.indexOf(Et);St<0&&(this._names.push(Et),this._node.setAttribute("class",this._names.join(" ")))},remove:function(Et){var St=this._names.indexOf(Et);St>=0&&(this._names.splice(St,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(Et){return this._names.indexOf(Et)>=0}};function Qs(Et,St){for(var At=vp(Et),Pt=-1,Nt=St.length;++Pt<Nt;)At.add(St[Pt])}function _p(Et,St){for(var At=vp(Et),Pt=-1,Nt=St.length;++Pt<Nt;)At.remove(St[Pt])}function p_(Et){return function(){Qs(this,Et)}}function m_(Et){return function(){_p(this,Et)}}function g_(Et,St){return function(){(St.apply(this,arguments)?Qs:_p)(this,Et)}}function v_(Et,St){var At=Nm(Et+"");if(arguments.length<2){for(var Pt=vp(this.node()),Nt=-1,Wt=At.length;++Nt<Wt;)if(!Pt.contains(At[Nt]))return!1;return!0}return this.each((typeof St=="function"?g_:St?p_:m_)(At,St))}function __(){this.textContent=""}function bl(Et){return function(){this.textContent=Et}}function Tn(Et){return function(){var St=Et.apply(this,arguments);this.textContent=St==null?"":St}}function Un(Et){return arguments.length?this.each(Et==null?__:(typeof Et=="function"?Tn:bl)(Et)):this.node().textContent}function Pn(){this.innerHTML=""}function cr(Et){return function(){this.innerHTML=Et}}function Lr(Et){return function(){var St=Et.apply(this,arguments);this.innerHTML=St==null?"":St}}function Zr(Et){return arguments.length?this.each(Et==null?Pn:(typeof Et=="function"?Lr:cr)(Et)):this.node().innerHTML}function _s(){this.nextSibling&&this.parentNode.appendChild(this)}function _i(){return this.each(_s)}function yp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function y_(){return this.each(yp)}function ga(Et){var St=typeof Et=="function"?Et:zo(Et);return this.select(function(){return this.appendChild(St.apply(this,arguments))})}function wu(){return null}function x_(Et,St){var At=typeof Et=="function"?Et:zo(Et),Pt=St==null?wu:typeof St=="function"?St:Jl(St);return this.select(function(){return this.insertBefore(At.apply(this,arguments),Pt.apply(this,arguments)||null)})}function Al(){var Et=this.parentNode;Et&&Et.removeChild(this)}function bu(){return this.each(Al)}function Au(){var Et=this.cloneNode(!1),St=this.parentNode;return St?St.insertBefore(Et,this.nextSibling):Et}function Kr(){var Et=this.cloneNode(!0),St=this.parentNode;return St?St.insertBefore(Et,this.nextSibling):Et}function T_(Et){return this.select(Et?Kr:Au)}function Om(Et){return arguments.length?this.property("__data__",Et):this.node().__data__}function Mu(Et){return function(St){Et.call(this,St,this.__data__)}}function S_(Et){return Et.trim().split(/^|\s+/).map(function(St){var At="",Pt=St.indexOf(".");return Pt>=0&&(At=St.slice(Pt+1),St=St.slice(0,Pt)),{type:St,name:At}})}function E_(Et){return function(){var St=this.__on;if(St){for(var At=0,Pt=-1,Nt=St.length,Wt;At<Nt;++At)Wt=St[At],(!Et.type||Wt.type===Et.type)&&Wt.name===Et.name?this.removeEventListener(Wt.type,Wt.listener,Wt.options):St[++Pt]=Wt;++Pt?St.length=Pt:delete this.__on}}}function w_(Et,St,At){return function(){var Pt=this.__on,Nt,Wt=Mu(St);if(Pt){for(var jt=0,rn=Pt.length;jt<rn;++jt)if((Nt=Pt[jt]).type===Et.type&&Nt.name===Et.name){this.removeEventListener(Nt.type,Nt.listener,Nt.options),this.addEventListener(Nt.type,Nt.listener=Wt,Nt.options=At),Nt.value=St;return}}this.addEventListener(Et.type,Wt,At),Nt={type:Et.type,name:Et.name,value:St,listener:Wt,options:At},Pt?Pt.push(Nt):this.__on=[Nt]}}function Cu(Et,St,At){var Pt=S_(Et+""),Nt,Wt=Pt.length,jt;if(arguments.length<2){var rn=this.node().__on;if(rn){for(var ln=0,hn=rn.length,vn;ln<hn;++ln)for(Nt=0,vn=rn[ln];Nt<Wt;++Nt)if((jt=Pt[Nt]).type===vn.type&&jt.name===vn.name)return vn.value}return}for(rn=St?w_:E_,Nt=0;Nt<Wt;++Nt)this.each(rn(Pt[Nt],St,At));return this}function Ro(Et,St,At){var Pt=Im(Et),Nt=Pt.CustomEvent;typeof Nt=="function"?Nt=new Nt(St,At):(Nt=Pt.document.createEvent("Event"),At?(Nt.initEvent(St,At.bubbles,At.cancelable),Nt.detail=At.detail):Nt.initEvent(St,!1,!1)),Et.dispatchEvent(Nt)}function Pu(Et,St){return function(){return Ro(this,Et,St)}}function Dm(Et,St){return function(){return Ro(this,Et,St.apply(this,arguments))}}function Ru(Et,St){return this.each((typeof St=="function"?Dm:Pu)(Et,St))}function*km(){for(var Et=this._groups,St=0,At=Et.length;St<At;++St)for(var Pt=Et[St],Nt=0,Wt=Pt.length,jt;Nt<Wt;++Nt)(jt=Pt[Nt])&&(yield jt)}var Iu=[null];function Ss(Et,St){this._groups=Et,this._parents=St}function Ml(){return new Ss([[document.documentElement]],Iu)}function eu(){return this}Ss.prototype=Ml.prototype={constructor:Ss,select:Ks,selectAll:Sm,selectChild:Em,selectChildren:os,filter:jo,data:Su,enter:e_,exit:i_,join:bm,merge:Am,selection:eu,order:fp,sort:dp,call:s_,nodes:pp,node:mp,size:a_,empty:Cm,each:Ws,attr:u_,style:f_,property:d_,classed:v_,text:Un,html:Zr,raise:_i,lower:y_,append:ga,insert:x_,remove:bu,clone:T_,datum:Om,on:Cu,dispatch:Ru,[Symbol.iterator]:km};function ms(Et){return typeof Et=="string"?new Ss([[document.querySelector(Et)]],[document.documentElement]):new Ss([[Et]],Iu)}function Lu(Et){let St;for(;St=Et.sourceEvent;)Et=St;return Et}function Io(Et,St){if(Et=Lu(Et),St===void 0&&(St=Et.currentTarget),St){var At=St.ownerSVGElement||St;if(At.createSVGPoint){var Pt=At.createSVGPoint();return Pt.x=Et.clientX,Pt.y=Et.clientY,Pt=Pt.matrixTransform(St.getScreenCTM().inverse()),[Pt.x,Pt.y]}if(St.getBoundingClientRect){var Nt=St.getBoundingClientRect();return[Et.clientX-Nt.left-St.clientLeft,Et.clientY-Nt.top-St.clientTop]}}return[Et.pageX,Et.pageY]}function Fm(Et){return typeof Et=="string"?new Ss([document.querySelectorAll(Et)],[document.documentElement]):new Ss([lp(Et)],Iu)}const b_={passive:!1},qo={capture:!0,passive:!1};function Cl(Et){Et.stopImmediatePropagation()}function Zo(Et){Et.preventDefault(),Et.stopImmediatePropagation()}function $m(Et){var St=Et.document.documentElement,At=ms(Et).on("dragstart.drag",Zo,qo);"onselectstart"in St?At.on("selectstart.drag",Zo,qo):(St.__noselect=St.style.MozUserSelect,St.style.MozUserSelect="none")}function xp(Et,St){var At=Et.document.documentElement,Pt=ms(Et).on("dragstart.drag",null);St&&(Pt.on("click.drag",Zo,qo),setTimeout(function(){Pt.on("click.drag",null)},0)),"onselectstart"in At?Pt.on("selectstart.drag",null):(At.style.MozUserSelect=At.__noselect,delete At.__noselect)}var Nu=Et=>()=>Et;function Tp(Et,{sourceEvent:St,subject:At,target:Pt,identifier:Nt,active:Wt,x:jt,y:rn,dx:ln,dy:hn,dispatch:vn}){Object.defineProperties(this,{type:{value:Et,enumerable:!0,configurable:!0},sourceEvent:{value:St,enumerable:!0,configurable:!0},subject:{value:At,enumerable:!0,configurable:!0},target:{value:Pt,enumerable:!0,configurable:!0},identifier:{value:Nt,enumerable:!0,configurable:!0},active:{value:Wt,enumerable:!0,configurable:!0},x:{value:jt,enumerable:!0,configurable:!0},y:{value:rn,enumerable:!0,configurable:!0},dx:{value:ln,enumerable:!0,configurable:!0},dy:{value:hn,enumerable:!0,configurable:!0},_:{value:vn}})}Tp.prototype.on=function(){var Et=this._.on.apply(this._,arguments);return Et===this._?this:Et};function ys(Et){return!Et.ctrlKey&&!Et.button}function Rs(){return this.parentNode}function A_(Et,St){return St==null?{x:Et.x,y:Et.y}:St}function M_(){return navigator.maxTouchPoints||"ontouchstart"in this}function Um(){var Et=ys,St=Rs,At=A_,Pt=M_,Nt={},Wt=Kl("start","drag","end"),jt=0,rn,ln,hn,vn,xn=0;function Sn(On){On.on("mousedown.drag",wn).filter(Pt).on("touchstart.drag",zn).on("touchmove.drag",$n,b_).on("touchend.drag touchcancel.drag",nr).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function wn(On,lr){if(!(vn||!Et.call(this,On,lr))){var Tr=gr(this,St.call(this,On,lr),On,lr,"mouse");!Tr||(ms(On.view).on("mousemove.drag",er,qo).on("mouseup.drag",Gn,qo),$m(On.view),Cl(On),hn=!1,rn=On.clientX,ln=On.clientY,Tr("start",On))}}function er(On){if(Zo(On),!hn){var lr=On.clientX-rn,Tr=On.clientY-ln;hn=lr*lr+Tr*Tr>xn}Nt.mouse("drag",On)}function Gn(On){ms(On.view).on("mousemove.drag mouseup.drag",null),xp(On.view,hn),Zo(On),Nt.mouse("end",On)}function zn(On,lr){if(Et.call(this,On,lr)){var Tr=On.changedTouches,Cr=St.call(this,On,lr),Wr=Tr.length,ts,us;for(ts=0;ts<Wr;++ts)(us=gr(this,Cr,On,lr,Tr[ts].identifier,Tr[ts]))&&(Cl(On),us("start",On,Tr[ts]))}}function $n(On){var lr=On.changedTouches,Tr=lr.length,Cr,Wr;for(Cr=0;Cr<Tr;++Cr)(Wr=Nt[lr[Cr].identifier])&&(Zo(On),Wr("drag",On,lr[Cr]))}function nr(On){var lr=On.changedTouches,Tr=lr.length,Cr,Wr;for(vn&&clearTimeout(vn),vn=setTimeout(function(){vn=null},500),Cr=0;Cr<Tr;++Cr)(Wr=Nt[lr[Cr].identifier])&&(Cl(On),Wr("end",On,lr[Cr]))}function gr(On,lr,Tr,Cr,Wr,ts){var us=Wt.copy(),hs=Io(ts||Tr,lr),Vs,qs,Rn;if((Rn=At.call(On,new Tp("beforestart",{sourceEvent:Tr,target:Sn,identifier:Wr,active:jt,x:hs[0],y:hs[1],dx:0,dy:0,dispatch:us}),Cr))!=null)return Vs=Rn.x-hs[0]||0,qs=Rn.y-hs[1]||0,function ir(qn,dr,Sr){var Rr=hs,Dr;switch(qn){case"start":Nt[Wr]=ir,Dr=jt++;break;case"end":delete Nt[Wr],--jt;case"drag":hs=Io(Sr||dr,lr),Dr=jt;break}us.call(qn,On,new Tp(qn,{sourceEvent:dr,subject:Rn,target:Sn,identifier:Wr,active:Dr,x:hs[0]+Vs,y:hs[1]+qs,dx:hs[0]-Rr[0],dy:hs[1]-Rr[1],dispatch:us}),Cr)}}return Sn.filter=function(On){return arguments.length?(Et=typeof On=="function"?On:Nu(!!On),Sn):Et},Sn.container=function(On){return arguments.length?(St=typeof On=="function"?On:Nu(On),Sn):St},Sn.subject=function(On){return arguments.length?(At=typeof On=="function"?On:Nu(On),Sn):At},Sn.touchable=function(On){return arguments.length?(Pt=typeof On=="function"?On:Nu(!!On),Sn):Pt},Sn.on=function(){var On=Wt.on.apply(Wt,arguments);return On===Wt?Sn:On},Sn.clickDistance=function(On){return arguments.length?(xn=(On=+On)*On,Sn):Math.sqrt(xn)},Sn}function Sp(Et,St,At){Et.prototype=St.prototype=At,At.constructor=Et}function Ou(Et,St){var At=Object.create(Et.prototype);for(var Pt in St)At[Pt]=St[Pt];return At}function Lo(){}var hl=.7,No=1/hl,_o="\\s*([+-]?\\d+)\\s*",Oo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",js="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pl=/^#([0-9a-f]{3,8})$/,C_=new RegExp("^rgb\\("+[_o,_o,_o]+"\\)$"),P_=new RegExp("^rgb\\("+[js,js,js]+"\\)$"),R_=new RegExp("^rgba\\("+[_o,_o,_o,Oo]+"\\)$"),I_=new RegExp("^rgba\\("+[js,js,js,Oo]+"\\)$"),L_=new RegExp("^hsl\\("+[Oo,js,js]+"\\)$"),Du=new RegExp("^hsla\\("+[Oo,js,js,Oo]+"\\)$"),Rl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sp(Lo,Ko,{copy:function(Et){return Object.assign(new this.constructor,this,Et)},displayable:function(){return this.rgb().displayable()},hex:Ep,formatHex:Ep,formatHsl:en,formatRgb:cl,toString:cl});function Ep(){return this.rgb().formatHex()}function en(){return Vm(this).formatHsl()}function cl(){return this.rgb().formatRgb()}function Ko(Et){var St,At;return Et=(Et+"").trim().toLowerCase(),(St=Pl.exec(Et))?(At=St[1].length,St=parseInt(St[1],16),At===6?Xs(St):At===3?new Ys(St>>8&15|St>>4&240,St>>4&15|St&240,(St&15)<<4|St&15,1):At===8?Fr(St>>24&255,St>>16&255,St>>8&255,(St&255)/255):At===4?Fr(St>>12&15|St>>8&240,St>>8&15|St>>4&240,St>>4&15|St&240,((St&15)<<4|St&15)/255):null):(St=C_.exec(Et))?new Ys(St[1],St[2],St[3],1):(St=P_.exec(Et))?new Ys(St[1]*255/100,St[2]*255/100,St[3]*255/100,1):(St=R_.exec(Et))?Fr(St[1],St[2],St[3],St[4]):(St=I_.exec(Et))?Fr(St[1]*255/100,St[2]*255/100,St[3]*255/100,St[4]):(St=L_.exec(Et))?Gm(St[1],St[2]/100,St[3]/100,1):(St=Du.exec(Et))?Gm(St[1],St[2]/100,St[3]/100,St[4]):Rl.hasOwnProperty(Et)?Xs(Rl[Et]):Et==="transparent"?new Ys(NaN,NaN,NaN,0):null}function Xs(Et){return new Ys(Et>>16&255,Et>>8&255,Et&255,1)}function Fr(Et,St,At,Pt){return Pt<=0&&(Et=St=At=NaN),new Ys(Et,St,At,Pt)}function N_(Et){return Et instanceof Lo||(Et=Ko(Et)),Et?(Et=Et.rgb(),new Ys(Et.r,Et.g,Et.b,Et.opacity)):new Ys}function wp(Et,St,At,Pt){return arguments.length===1?N_(Et):new Ys(Et,St,At,Pt==null?1:Pt)}function Ys(Et,St,At,Pt){this.r=+Et,this.g=+St,this.b=+At,this.opacity=+Pt}Sp(Ys,wp,Ou(Lo,{brighter:function(Et){return Et=Et==null?No:Math.pow(No,Et),new Ys(this.r*Et,this.g*Et,this.b*Et,this.opacity)},darker:function(Et){return Et=Et==null?hl:Math.pow(hl,Et),new Ys(this.r*Et,this.g*Et,this.b*Et,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jo,formatHex:Jo,formatRgb:Bm,toString:Bm}));function Jo(){return"#"+bp(this.r)+bp(this.g)+bp(this.b)}function Bm(){var Et=this.opacity;return Et=isNaN(Et)?1:Math.max(0,Math.min(1,Et)),(Et===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(Et===1?")":", "+Et+")")}function bp(Et){return Et=Math.max(0,Math.min(255,Math.round(Et)||0)),(Et<16?"0":"")+Et.toString(16)}function Gm(Et,St,At,Pt){return Pt<=0?Et=St=At=NaN:At<=0||At>=1?Et=St=NaN:St<=0&&(Et=NaN),new Es(Et,St,At,Pt)}function Vm(Et){if(Et instanceof Es)return new Es(Et.h,Et.s,Et.l,Et.opacity);if(Et instanceof Lo||(Et=Ko(Et)),!Et)return new Es;if(Et instanceof Es)return Et;Et=Et.rgb();var St=Et.r/255,At=Et.g/255,Pt=Et.b/255,Nt=Math.min(St,At,Pt),Wt=Math.max(St,At,Pt),jt=NaN,rn=Wt-Nt,ln=(Wt+Nt)/2;return rn?(St===Wt?jt=(At-Pt)/rn+(At<Pt)*6:At===Wt?jt=(Pt-St)/rn+2:jt=(St-At)/rn+4,rn/=ln<.5?Wt+Nt:2-Wt-Nt,jt*=60):rn=ln>0&&ln<1?0:jt,new Es(jt,rn,ln,Et.opacity)}function O_(Et,St,At,Pt){return arguments.length===1?Vm(Et):new Es(Et,St,At,Pt==null?1:Pt)}function Es(Et,St,At,Pt){this.h=+Et,this.s=+St,this.l=+At,this.opacity=+Pt}Sp(Es,O_,Ou(Lo,{brighter:function(Et){return Et=Et==null?No:Math.pow(No,Et),new Es(this.h,this.s,this.l*Et,this.opacity)},darker:function(Et){return Et=Et==null?hl:Math.pow(hl,Et),new Es(this.h,this.s,this.l*Et,this.opacity)},rgb:function(){var Et=this.h%360+(this.h<0)*360,St=isNaN(Et)||isNaN(this.s)?0:this.s,At=this.l,Pt=At+(At<.5?At:1-At)*St,Nt=2*At-Pt;return new Ys(Ap(Et>=240?Et-240:Et+120,Nt,Pt),Ap(Et,Nt,Pt),Ap(Et<120?Et+240:Et-120,Nt,Pt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Et=this.opacity;return Et=isNaN(Et)?1:Math.max(0,Math.min(1,Et)),(Et===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(Et===1?")":", "+Et+")")}}));function Ap(Et,St,At){return(Et<60?St+(At-St)*Et/60:Et<180?At:Et<240?St+(At-St)*(240-Et)/60:St)*255}var Hm=Et=>()=>Et;function D_(Et,St){return function(At){return Et+At*St}}function k_(Et,St,At){return Et=Math.pow(Et,At),St=Math.pow(St,At)-Et,At=1/At,function(Pt){return Math.pow(Et+Pt*St,At)}}function F_(Et){return(Et=+Et)==1?yo:function(St,At){return At-St?k_(St,At,Et):Hm(isNaN(St)?At:St)}}function yo(Et,St){var At=St-Et;return At?D_(Et,At):Hm(isNaN(Et)?St:Et)}var zm=function Et(St){var At=F_(St);function Pt(Nt,Wt){var jt=At((Nt=wp(Nt)).r,(Wt=wp(Wt)).r),rn=At(Nt.g,Wt.g),ln=At(Nt.b,Wt.b),hn=yo(Nt.opacity,Wt.opacity);return function(vn){return Nt.r=jt(vn),Nt.g=rn(vn),Nt.b=ln(vn),Nt.opacity=hn(vn),Nt+""}}return Pt.gamma=Et,Pt}(1);function Qo(Et,St){return Et=+Et,St=+St,function(At){return Et*(1-At)+St*At}}var Mp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cp=new RegExp(Mp.source,"g");function $_(Et){return function(){return Et}}function fl(Et){return function(St){return Et(St)+""}}function U_(Et,St){var At=Mp.lastIndex=Cp.lastIndex=0,Pt,Nt,Wt,jt=-1,rn=[],ln=[];for(Et=Et+"",St=St+"";(Pt=Mp.exec(Et))&&(Nt=Cp.exec(St));)(Wt=Nt.index)>At&&(Wt=St.slice(At,Wt),rn[jt]?rn[jt]+=Wt:rn[++jt]=Wt),(Pt=Pt[0])===(Nt=Nt[0])?rn[jt]?rn[jt]+=Nt:rn[++jt]=Nt:(rn[++jt]=null,ln.push({i:jt,x:Qo(Pt,Nt)})),At=Cp.lastIndex;return At<St.length&&(Wt=St.slice(At),rn[jt]?rn[jt]+=Wt:rn[++jt]=Wt),rn.length<2?ln[0]?fl(ln[0].x):$_(St):(St=ln.length,function(hn){for(var vn=0,xn;vn<St;++vn)rn[(xn=ln[vn]).i]=xn.x(hn);return rn.join("")})}var Wm=180/Math.PI,va={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jm(Et,St,At,Pt,Nt,Wt){var jt,rn,ln;return(jt=Math.sqrt(Et*Et+St*St))&&(Et/=jt,St/=jt),(ln=Et*At+St*Pt)&&(At-=Et*ln,Pt-=St*ln),(rn=Math.sqrt(At*At+Pt*Pt))&&(At/=rn,Pt/=rn,ln/=rn),Et*Pt<St*At&&(Et=-Et,St=-St,ln=-ln,jt=-jt),{translateX:Nt,translateY:Wt,rotate:Math.atan2(St,Et)*Wm,skewX:Math.atan(ln)*Wm,scaleX:jt,scaleY:rn}}var ku;function B_(Et){const St=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(Et+"");return St.isIdentity?va:jm(St.a,St.b,St.c,St.d,St.e,St.f)}function G_(Et){return Et==null||(ku||(ku=document.createElementNS("http://www.w3.org/2000/svg","g")),ku.setAttribute("transform",Et),!(Et=ku.transform.baseVal.consolidate()))?va:(Et=Et.matrix,jm(Et.a,Et.b,Et.c,Et.d,Et.e,Et.f))}function Xm(Et,St,At,Pt){function Nt(hn){return hn.length?hn.pop()+" ":""}function Wt(hn,vn,xn,Sn,wn,er){if(hn!==xn||vn!==Sn){var Gn=wn.push("translate(",null,St,null,At);er.push({i:Gn-4,x:Qo(hn,xn)},{i:Gn-2,x:Qo(vn,Sn)})}else(xn||Sn)&&wn.push("translate("+xn+St+Sn+At)}function jt(hn,vn,xn,Sn){hn!==vn?(hn-vn>180?vn+=360:vn-hn>180&&(hn+=360),Sn.push({i:xn.push(Nt(xn)+"rotate(",null,Pt)-2,x:Qo(hn,vn)})):vn&&xn.push(Nt(xn)+"rotate("+vn+Pt)}function rn(hn,vn,xn,Sn){hn!==vn?Sn.push({i:xn.push(Nt(xn)+"skewX(",null,Pt)-2,x:Qo(hn,vn)}):vn&&xn.push(Nt(xn)+"skewX("+vn+Pt)}function ln(hn,vn,xn,Sn,wn,er){if(hn!==xn||vn!==Sn){var Gn=wn.push(Nt(wn)+"scale(",null,",",null,")");er.push({i:Gn-4,x:Qo(hn,xn)},{i:Gn-2,x:Qo(vn,Sn)})}else(xn!==1||Sn!==1)&&wn.push(Nt(wn)+"scale("+xn+","+Sn+")")}return function(hn,vn){var xn=[],Sn=[];return hn=Et(hn),vn=Et(vn),Wt(hn.translateX,hn.translateY,vn.translateX,vn.translateY,xn,Sn),jt(hn.rotate,vn.rotate,xn,Sn),rn(hn.skewX,vn.skewX,xn,Sn),ln(hn.scaleX,hn.scaleY,vn.scaleX,vn.scaleY,xn,Sn),hn=vn=null,function(wn){for(var er=-1,Gn=Sn.length,zn;++er<Gn;)xn[(zn=Sn[er]).i]=zn.x(wn);return xn.join("")}}}var Ym=Xm(B_,"px, ","px)","deg)"),qm=Xm(G_,", ",")",")"),V_=1e-12;function Zm(Et){return((Et=Math.exp(Et))+1/Et)/2}function Pp(Et){return((Et=Math.exp(Et))-1/Et)/2}function tu(Et){return((Et=Math.exp(2*Et))-1)/(Et+1)}var Fu=function Et(St,At,Pt){function Nt(Wt,jt){var rn=Wt[0],ln=Wt[1],hn=Wt[2],vn=jt[0],xn=jt[1],Sn=jt[2],wn=vn-rn,er=xn-ln,Gn=wn*wn+er*er,zn,$n;if(Gn<V_)$n=Math.log(Sn/hn)/St,zn=function(Cr){return[rn+Cr*wn,ln+Cr*er,hn*Math.exp(St*Cr*$n)]};else{var nr=Math.sqrt(Gn),gr=(Sn*Sn-hn*hn+Pt*Gn)/(2*hn*At*nr),On=(Sn*Sn-hn*hn-Pt*Gn)/(2*Sn*At*nr),lr=Math.log(Math.sqrt(gr*gr+1)-gr),Tr=Math.log(Math.sqrt(On*On+1)-On);$n=(Tr-lr)/St,zn=function(Cr){var Wr=Cr*$n,ts=Zm(lr),us=hn/(At*nr)*(ts*tu(St*Wr+lr)-Pp(lr));return[rn+us*wn,ln+us*er,hn*ts/Zm(St*Wr+lr)]}}return zn.duration=$n*1e3*St/Math.SQRT2,zn}return Nt.rho=function(Wt){var jt=Math.max(.001,+Wt),rn=jt*jt,ln=rn*rn;return Et(jt,rn,ln)},Nt}(Math.SQRT2,2,4),Il=0,Ll=0,nu=0,xo=1e3,Nl,uo,Os=0,dl=0,ru=0,Ol=typeof performance=="object"&&performance.now?performance:Date,Dl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Et){setTimeout(Et,17)};function To(){return dl||(Dl(Km),dl=Ol.now()+ru)}function Km(){dl=0}function $u(){this._call=this._time=this._next=null}$u.prototype=kl.prototype={constructor:$u,restart:function(Et,St,At){if(typeof Et!="function")throw new TypeError("callback is not a function");At=(At==null?To():+At)+(St==null?0:+St),!this._next&&uo!==this&&(uo?uo._next=this:Nl=this,uo=this),this._call=Et,this._time=At,Uu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Uu())}};function kl(Et,St,At){var Pt=new $u;return Pt.restart(Et,St,At),Pt}function H_(){To(),++Il;for(var Et=Nl,St;Et;)(St=dl-Et._time)>=0&&Et._call.call(void 0,St),Et=Et._next;--Il}function Rp(){dl=(Os=Ol.now())+ru,Il=Ll=0;try{H_()}finally{Il=0,Ip(),dl=0}}function Cs(){var Et=Ol.now(),St=Et-Os;St>xo&&(ru-=St,Os=Et)}function Ip(){for(var Et,St=Nl,At,Pt=1/0;St;)St._call?(Pt>St._time&&(Pt=St._time),Et=St,St=St._next):(At=St._next,St._next=null,St=Et?Et._next=At:Nl=At);uo=Et,Uu(Pt)}function Uu(Et){if(!Il){Ll&&(Ll=clearTimeout(Ll));var St=Et-dl;St>24?(Et<1/0&&(Ll=setTimeout(Rp,Et-Ol.now()-ru)),nu&&(nu=clearInterval(nu))):(nu||(Os=Ol.now(),nu=setInterval(Cs,xo)),Il=1,Dl(Rp))}}function ho(Et,St,At){var Pt=new $u;return St=St==null?0:+St,Pt.restart(Nt=>{Pt.stop(),Et(Nt+St)},St,At),Pt}var Lp=Kl("start","end","cancel","interrupt"),Bu=[],el=0,Np=1,Ps=2,Fl=3,Jm=4,Op=5,Gu=6;function $l(Et,St,At,Pt,Nt,Wt){var jt=Et.__transition;if(!jt)Et.__transition={};else if(At in jt)return;z_(Et,At,{name:St,index:Pt,group:Nt,on:Lp,tween:Bu,time:Wt.time,delay:Wt.delay,duration:Wt.duration,ease:Wt.ease,timer:null,state:el})}function Dp(Et,St){var At=eo(Et,St);if(At.state>el)throw new Error("too late; already scheduled");return At}function Us(Et,St){var At=eo(Et,St);if(At.state>Fl)throw new Error("too late; already running");return At}function eo(Et,St){var At=Et.__transition;if(!At||!(At=At[St]))throw new Error("transition not found");return At}function z_(Et,St,At){var Pt=Et.__transition,Nt;Pt[St]=At,At.timer=kl(Wt,0,At.time);function Wt(hn){At.state=Np,At.timer.restart(jt,At.delay,At.time),At.delay<=hn&&jt(hn-At.delay)}function jt(hn){var vn,xn,Sn,wn;if(At.state!==Np)return ln();for(vn in Pt)if(wn=Pt[vn],wn.name===At.name){if(wn.state===Fl)return ho(jt);wn.state===Jm?(wn.state=Gu,wn.timer.stop(),wn.on.call("interrupt",Et,Et.__data__,wn.index,wn.group),delete Pt[vn]):+vn<St&&(wn.state=Gu,wn.timer.stop(),wn.on.call("cancel",Et,Et.__data__,wn.index,wn.group),delete Pt[vn])}if(ho(function(){At.state===Fl&&(At.state=Jm,At.timer.restart(rn,At.delay,At.time),rn(hn))}),At.state=Ps,At.on.call("start",Et,Et.__data__,At.index,At.group),At.state===Ps){for(At.state=Fl,Nt=new Array(Sn=At.tween.length),vn=0,xn=-1;vn<Sn;++vn)(wn=At.tween[vn].value.call(Et,Et.__data__,At.index,At.group))&&(Nt[++xn]=wn);Nt.length=xn+1}}function rn(hn){for(var vn=hn<At.duration?At.ease.call(null,hn/At.duration):(At.timer.restart(ln),At.state=Op,1),xn=-1,Sn=Nt.length;++xn<Sn;)Nt[xn].call(Et,vn);At.state===Op&&(At.on.call("end",Et,Et.__data__,At.index,At.group),ln())}function ln(){At.state=Gu,At.timer.stop(),delete Pt[St];for(var hn in Pt)return;delete Et.__transition}}function Vu(Et,St){var At=Et.__transition,Pt,Nt,Wt=!0,jt;if(At){St=St==null?null:St+"";for(jt in At){if((Pt=At[jt]).name!==St){Wt=!1;continue}Nt=Pt.state>Ps&&Pt.state<Op,Pt.state=Gu,Pt.timer.stop(),Pt.on.call(Nt?"interrupt":"cancel",Et,Et.__data__,Pt.index,Pt.group),delete At[jt]}Wt&&delete Et.__transition}}function iu(Et){return this.each(function(){Vu(this,Et)})}function W_(Et,St){var At,Pt;return function(){var Nt=Us(this,Et),Wt=Nt.tween;if(Wt!==At){Pt=At=Wt;for(var jt=0,rn=Pt.length;jt<rn;++jt)if(Pt[jt].name===St){Pt=Pt.slice(),Pt.splice(jt,1);break}}Nt.tween=Pt}}function j_(Et,St,At){var Pt,Nt;if(typeof At!="function")throw new Error;return function(){var Wt=Us(this,Et),jt=Wt.tween;if(jt!==Pt){Nt=(Pt=jt).slice();for(var rn={name:St,value:At},ln=0,hn=Nt.length;ln<hn;++ln)if(Nt[ln].name===St){Nt[ln]=rn;break}ln===hn&&Nt.push(rn)}Wt.tween=Nt}}function kp(Et,St){var At=this._id;if(Et+="",arguments.length<2){for(var Pt=eo(this.node(),At).tween,Nt=0,Wt=Pt.length,jt;Nt<Wt;++Nt)if((jt=Pt[Nt]).name===Et)return jt.value;return null}return this.each((St==null?W_:j_)(At,Et,St))}function Hu(Et,St,At){var Pt=Et._id;return Et.each(function(){var Nt=Us(this,Pt);(Nt.value||(Nt.value={}))[St]=At.apply(this,arguments)}),function(Nt){return eo(Nt,Pt).value[St]}}function Qm(Et,St){var At;return(typeof St=="number"?Qo:St instanceof Ko?zm:(At=Ko(St))?(St=At,zm):U_)(Et,St)}function X_(Et){return function(){this.removeAttribute(Et)}}function Y_(Et){return function(){this.removeAttributeNS(Et.space,Et.local)}}function _g(Et,St,At){var Pt,Nt=At+"",Wt;return function(){var jt=this.getAttribute(Et);return jt===Nt?null:jt===Pt?Wt:Wt=St(Pt=jt,At)}}function Fp(Et,St,At){var Pt,Nt=At+"",Wt;return function(){var jt=this.getAttributeNS(Et.space,Et.local);return jt===Nt?null:jt===Pt?Wt:Wt=St(Pt=jt,At)}}function q_(Et,St,At){var Pt,Nt,Wt;return function(){var jt,rn=At(this),ln;return rn==null?void this.removeAttribute(Et):(jt=this.getAttribute(Et),ln=rn+"",jt===ln?null:jt===Pt&&ln===Nt?Wt:(Nt=ln,Wt=St(Pt=jt,rn)))}}function $p(Et,St,At){var Pt,Nt,Wt;return function(){var jt,rn=At(this),ln;return rn==null?void this.removeAttributeNS(Et.space,Et.local):(jt=this.getAttributeNS(Et.space,Et.local),ln=rn+"",jt===ln?null:jt===Pt&&ln===Nt?Wt:(Nt=ln,Wt=St(Pt=jt,rn)))}}function ev(Et,St){var At=yu(Et),Pt=At==="transform"?qm:Qm;return this.attrTween(Et,typeof St=="function"?(At.local?$p:q_)(At,Pt,Hu(this,"attr."+Et,St)):St==null?(At.local?Y_:X_)(At):(At.local?Fp:_g)(At,Pt,St))}function tv(Et,St){return function(At){this.setAttribute(Et,St.call(this,At))}}function nv(Et,St){return function(At){this.setAttributeNS(Et.space,Et.local,St.call(this,At))}}function zu(Et,St){var At,Pt;function Nt(){var Wt=St.apply(this,arguments);return Wt!==Pt&&(At=(Pt=Wt)&&nv(Et,Wt)),At}return Nt._value=St,Nt}function Z_(Et,St){var At,Pt;function Nt(){var Wt=St.apply(this,arguments);return Wt!==Pt&&(At=(Pt=Wt)&&tv(Et,Wt)),At}return Nt._value=St,Nt}function rv(Et,St){var At="attr."+Et;if(arguments.length<2)return(At=this.tween(At))&&At._value;if(St==null)return this.tween(At,null);if(typeof St!="function")throw new Error;var Pt=yu(Et);return this.tween(At,(Pt.local?zu:Z_)(Pt,St))}function iv(Et,St){return function(){Dp(this,Et).delay=+St.apply(this,arguments)}}function K_(Et,St){return St=+St,function(){Dp(this,Et).delay=St}}function sv(Et){var St=this._id;return arguments.length?this.each((typeof Et=="function"?iv:K_)(St,Et)):eo(this.node(),St).delay}function J_(Et,St){return function(){Us(this,Et).duration=+St.apply(this,arguments)}}function Up(Et,St){return St=+St,function(){Us(this,Et).duration=St}}function av(Et){var St=this._id;return arguments.length?this.each((typeof Et=="function"?J_:Up)(St,Et)):eo(this.node(),St).duration}function Bp(Et,St){if(typeof St!="function")throw new Error;return function(){Us(this,Et).ease=St}}function Q_(Et){var St=this._id;return arguments.length?this.each(Bp(St,Et)):eo(this.node(),St).ease}function Gp(Et,St){return function(){var At=St.apply(this,arguments);if(typeof At!="function")throw new Error;Us(this,Et).ease=At}}function $r(Et){if(typeof Et!="function")throw new Error;return this.each(Gp(this._id,Et))}function e0(Et){typeof Et!="function"&&(Et=hp(Et));for(var St=this._groups,At=St.length,Pt=new Array(At),Nt=0;Nt<At;++Nt)for(var Wt=St[Nt],jt=Wt.length,rn=Pt[Nt]=[],ln,hn=0;hn<jt;++hn)(ln=Wt[hn])&&Et.call(ln,ln.__data__,hn,Wt)&&rn.push(ln);return new Do(Pt,this._parents,this._name,this._id)}function t0(Et){if(Et._id!==this._id)throw new Error;for(var St=this._groups,At=Et._groups,Pt=St.length,Nt=At.length,Wt=Math.min(Pt,Nt),jt=new Array(Pt),rn=0;rn<Wt;++rn)for(var ln=St[rn],hn=At[rn],vn=ln.length,xn=jt[rn]=new Array(vn),Sn,wn=0;wn<vn;++wn)(Sn=ln[wn]||hn[wn])&&(xn[wn]=Sn);for(;rn<Pt;++rn)jt[rn]=St[rn];return new Do(jt,this._parents,this._name,this._id)}function su(Et){return(Et+"").trim().split(/^|\s+/).every(function(St){var At=St.indexOf(".");return At>=0&&(St=St.slice(0,At)),!St||St==="start"})}function ov(Et,St,At){var Pt,Nt,Wt=su(St)?Dp:Us;return function(){var jt=Wt(this,Et),rn=jt.on;rn!==Pt&&(Nt=(Pt=rn).copy()).on(St,At),jt.on=Nt}}function n0(Et,St){var At=this._id;return arguments.length<2?eo(this.node(),At).on.on(Et):this.each(ov(At,Et,St))}function r0(Et){return function(){var St=this.parentNode;for(var At in this.__transition)if(+At!==Et)return;St&&St.removeChild(this)}}function no(){return this.on("end.remove",r0(this._id))}function i0(Et){var St=this._name,At=this._id;typeof Et!="function"&&(Et=Jl(Et));for(var Pt=this._groups,Nt=Pt.length,Wt=new Array(Nt),jt=0;jt<Nt;++jt)for(var rn=Pt[jt],ln=rn.length,hn=Wt[jt]=new Array(ln),vn,xn,Sn=0;Sn<ln;++Sn)(vn=rn[Sn])&&(xn=Et.call(vn,vn.__data__,Sn,rn))&&("__data__"in vn&&(xn.__data__=vn.__data__),hn[Sn]=xn,$l(hn[Sn],St,At,Sn,hn,eo(vn,At)));return new Do(Wt,this._parents,St,At)}function Wu(Et){var St=this._name,At=this._id;typeof Et!="function"&&(Et=up(Et));for(var Pt=this._groups,Nt=Pt.length,Wt=[],jt=[],rn=0;rn<Nt;++rn)for(var ln=Pt[rn],hn=ln.length,vn,xn=0;xn<hn;++xn)if(vn=ln[xn]){for(var Sn=Et.call(vn,vn.__data__,xn,ln),wn,er=eo(vn,At),Gn=0,zn=Sn.length;Gn<zn;++Gn)(wn=Sn[Gn])&&$l(wn,St,At,Gn,Sn,er);Wt.push(Sn),jt.push(vn)}return new Do(Wt,jt,St,At)}var Vp=Ml.prototype.constructor;function lv(){return new Vp(this._groups,this._parents)}function uv(Et,St){var At,Pt,Nt;return function(){var Wt=Xo(this,Et),jt=(this.style.removeProperty(Et),Xo(this,Et));return Wt===jt?null:Wt===At&&jt===Pt?Nt:Nt=St(At=Wt,Pt=jt)}}function Bs(Et){return function(){this.style.removeProperty(Et)}}function tl(Et,St,At){var Pt,Nt=At+"",Wt;return function(){var jt=Xo(this,Et);return jt===Nt?null:jt===Pt?Wt:Wt=St(Pt=jt,At)}}function Hp(Et,St,At){var Pt,Nt,Wt;return function(){var jt=Xo(this,Et),rn=At(this),ln=rn+"";return rn==null&&(ln=rn=(this.style.removeProperty(Et),Xo(this,Et))),jt===ln?null:jt===Pt&&ln===Nt?Wt:(Nt=ln,Wt=St(Pt=jt,rn))}}function hv(Et,St){var At,Pt,Nt,Wt="style."+St,jt="end."+Wt,rn;return function(){var ln=Us(this,Et),hn=ln.on,vn=ln.value[Wt]==null?rn||(rn=Bs(St)):void 0;(hn!==At||Nt!==vn)&&(Pt=(At=hn).copy()).on(jt,Nt=vn),ln.on=Pt}}function ju(Et,St,At){var Pt=(Et+="")=="transform"?Ym:Qm;return St==null?this.styleTween(Et,uv(Et,Pt)).on("end.style."+Et,Bs(Et)):typeof St=="function"?this.styleTween(Et,Hp(Et,Pt,Hu(this,"style."+Et,St))).each(hv(this._id,Et)):this.styleTween(Et,tl(Et,Pt,St),At).on("end.style."+Et,null)}function cv(Et,St,At){return function(Pt){this.style.setProperty(Et,St.call(this,Pt),At)}}function zp(Et,St,At){var Pt,Nt;function Wt(){var jt=St.apply(this,arguments);return jt!==Nt&&(Pt=(Nt=jt)&&cv(Et,jt,At)),Pt}return Wt._value=St,Wt}function fv(Et,St,At){var Pt="style."+(Et+="");if(arguments.length<2)return(Pt=this.tween(Pt))&&Pt._value;if(St==null)return this.tween(Pt,null);if(typeof St!="function")throw new Error;return this.tween(Pt,zp(Et,St,At==null?"":At))}function Wp(Et){return function(){this.textContent=Et}}function jp(Et){return function(){var St=Et(this);this.textContent=St==null?"":St}}function nl(Et){return this.tween("text",typeof Et=="function"?jp(Hu(this,"text",Et)):Wp(Et==null?"":Et+""))}function s0(Et){return function(St){this.textContent=Et.call(this,St)}}function rl(Et){var St,At;function Pt(){var Nt=Et.apply(this,arguments);return Nt!==At&&(St=(At=Nt)&&s0(Nt)),St}return Pt._value=Et,Pt}function dv(Et){var St="text";if(arguments.length<1)return(St=this.tween(St))&&St._value;if(Et==null)return this.tween(St,null);if(typeof Et!="function")throw new Error;return this.tween(St,rl(Et))}function pv(){for(var Et=this._name,St=this._id,At=mv(),Pt=this._groups,Nt=Pt.length,Wt=0;Wt<Nt;++Wt)for(var jt=Pt[Wt],rn=jt.length,ln,hn=0;hn<rn;++hn)if(ln=jt[hn]){var vn=eo(ln,St);$l(ln,Et,At,hn,jt,{time:vn.time+vn.delay+vn.duration,delay:0,duration:vn.duration,ease:vn.ease})}return new Do(Pt,this._parents,Et,At)}function Xp(){var Et,St,At=this,Pt=At._id,Nt=At.size();return new Promise(function(Wt,jt){var rn={value:jt},ln={value:function(){--Nt==0&&Wt()}};At.each(function(){var hn=Us(this,Pt),vn=hn.on;vn!==Et&&(St=(Et=vn).copy(),St._.cancel.push(rn),St._.interrupt.push(rn),St._.end.push(ln)),hn.on=St}),Nt===0&&Wt()})}var a0=0;function Do(Et,St,At,Pt){this._groups=Et,this._parents=St,this._name=At,this._id=Pt}function mv(){return++a0}var So=Ml.prototype;Do.prototype={constructor:Do,select:i0,selectAll:Wu,selectChild:So.selectChild,selectChildren:So.selectChildren,filter:e0,merge:t0,selection:lv,transition:pv,call:So.call,nodes:So.nodes,node:So.node,size:So.size,empty:So.empty,each:So.each,on:n0,attr:ev,attrTween:rv,style:ju,styleTween:fv,text:nl,textTween:dv,remove:no,tween:kp,delay:sv,duration:av,ease:Q_,easeVarying:$r,end:Xp,[Symbol.iterator]:So[Symbol.iterator]};function gv(Et){return((Et*=2)<=1?Et*Et*Et:(Et-=2)*Et*Et+2)/2}var o0={time:null,delay:0,duration:250,ease:gv};function vv(Et,St){for(var At;!(At=Et.__transition)||!(At=At[St]);)if(!(Et=Et.parentNode))throw new Error(`transition ${St} not found`);return At}function _v(Et){var St,At;Et instanceof Do?(St=Et._id,Et=Et._name):(St=mv(),(At=o0).time=To(),Et=Et==null?null:Et+"");for(var Pt=this._groups,Nt=Pt.length,Wt=0;Wt<Nt;++Wt)for(var jt=Pt[Wt],rn=jt.length,ln,hn=0;hn<rn;++hn)(ln=jt[hn])&&$l(ln,Et,St,hn,jt,At||vv(ln,St));return new Do(Pt,this._parents,Et,St)}Ml.prototype.interrupt=iu,Ml.prototype.transition=_v;function Gs(Et,St){var At,Pt=1;Et==null&&(Et=0),St==null&&(St=0);function Nt(){var Wt,jt=At.length,rn,ln=0,hn=0;for(Wt=0;Wt<jt;++Wt)rn=At[Wt],ln+=rn.x,hn+=rn.y;for(ln=(ln/jt-Et)*Pt,hn=(hn/jt-St)*Pt,Wt=0;Wt<jt;++Wt)rn=At[Wt],rn.x-=ln,rn.y-=hn}return Nt.initialize=function(Wt){At=Wt},Nt.x=function(Wt){return arguments.length?(Et=+Wt,Nt):Et},Nt.y=function(Wt){return arguments.length?(St=+Wt,Nt):St},Nt.strength=function(Wt){return arguments.length?(Pt=+Wt,Nt):Pt},Nt}function Eo(Et){const St=+this._x.call(null,Et),At=+this._y.call(null,Et);return yv(this.cover(St,At),St,At,Et)}function yv(Et,St,At,Pt){if(isNaN(St)||isNaN(At))return Et;var Nt,Wt=Et._root,jt={data:Pt},rn=Et._x0,ln=Et._y0,hn=Et._x1,vn=Et._y1,xn,Sn,wn,er,Gn,zn,$n,nr;if(!Wt)return Et._root=jt,Et;for(;Wt.length;)if((Gn=St>=(xn=(rn+hn)/2))?rn=xn:hn=xn,(zn=At>=(Sn=(ln+vn)/2))?ln=Sn:vn=Sn,Nt=Wt,!(Wt=Wt[$n=zn<<1|Gn]))return Nt[$n]=jt,Et;if(wn=+Et._x.call(null,Wt.data),er=+Et._y.call(null,Wt.data),St===wn&&At===er)return jt.next=Wt,Nt?Nt[$n]=jt:Et._root=jt,Et;do Nt=Nt?Nt[$n]=new Array(4):Et._root=new Array(4),(Gn=St>=(xn=(rn+hn)/2))?rn=xn:hn=xn,(zn=At>=(Sn=(ln+vn)/2))?ln=Sn:vn=Sn;while(($n=zn<<1|Gn)==(nr=(er>=Sn)<<1|wn>=xn));return Nt[nr]=Wt,Nt[$n]=jt,Et}function l0(Et){var St,At,Pt=Et.length,Nt,Wt,jt=new Array(Pt),rn=new Array(Pt),ln=1/0,hn=1/0,vn=-1/0,xn=-1/0;for(At=0;At<Pt;++At)isNaN(Nt=+this._x.call(null,St=Et[At]))||isNaN(Wt=+this._y.call(null,St))||(jt[At]=Nt,rn[At]=Wt,Nt<ln&&(ln=Nt),Nt>vn&&(vn=Nt),Wt<hn&&(hn=Wt),Wt>xn&&(xn=Wt));if(ln>vn||hn>xn)return this;for(this.cover(ln,hn).cover(vn,xn),At=0;At<Pt;++At)yv(this,jt[At],rn[At],Et[At]);return this}function Xu(Et,St){if(isNaN(Et=+Et)||isNaN(St=+St))return this;var At=this._x0,Pt=this._y0,Nt=this._x1,Wt=this._y1;if(isNaN(At))Nt=(At=Math.floor(Et))+1,Wt=(Pt=Math.floor(St))+1;else{for(var jt=Nt-At||1,rn=this._root,ln,hn;At>Et||Et>=Nt||Pt>St||St>=Wt;)switch(hn=(St<Pt)<<1|Et<At,ln=new Array(4),ln[hn]=rn,rn=ln,jt*=2,hn){case 0:Nt=At+jt,Wt=Pt+jt;break;case 1:At=Nt-jt,Wt=Pt+jt;break;case 2:Nt=At+jt,Pt=Wt-jt;break;case 3:At=Nt-jt,Pt=Wt-jt;break}this._root&&this._root.length&&(this._root=rn)}return this._x0=At,this._y0=Pt,this._x1=Nt,this._y1=Wt,this}function Ul(){var Et=[];return this.visit(function(St){if(!St.length)do Et.push(St.data);while(St=St.next)}),Et}function xv(Et){return arguments.length?this.cover(+Et[0][0],+Et[0][1]).cover(+Et[1][0],+Et[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Is(Et,St,At,Pt,Nt){this.node=Et,this.x0=St,this.y0=At,this.x1=Pt,this.y1=Nt}function u0(Et,St,At){var Pt,Nt=this._x0,Wt=this._y0,jt,rn,ln,hn,vn=this._x1,xn=this._y1,Sn=[],wn=this._root,er,Gn;for(wn&&Sn.push(new Is(wn,Nt,Wt,vn,xn)),At==null?At=1/0:(Nt=Et-At,Wt=St-At,vn=Et+At,xn=St+At,At*=At);er=Sn.pop();)if(!(!(wn=er.node)||(jt=er.x0)>vn||(rn=er.y0)>xn||(ln=er.x1)<Nt||(hn=er.y1)<Wt))if(wn.length){var zn=(jt+ln)/2,$n=(rn+hn)/2;Sn.push(new Is(wn[3],zn,$n,ln,hn),new Is(wn[2],jt,$n,zn,hn),new Is(wn[1],zn,rn,ln,$n),new Is(wn[0],jt,rn,zn,$n)),(Gn=(St>=$n)<<1|Et>=zn)&&(er=Sn[Sn.length-1],Sn[Sn.length-1]=Sn[Sn.length-1-Gn],Sn[Sn.length-1-Gn]=er)}else{var nr=Et-+this._x.call(null,wn.data),gr=St-+this._y.call(null,wn.data),On=nr*nr+gr*gr;if(On<At){var lr=Math.sqrt(At=On);Nt=Et-lr,Wt=St-lr,vn=Et+lr,xn=St+lr,Pt=wn.data}}return Pt}function Tv(Et){if(isNaN(vn=+this._x.call(null,Et))||isNaN(xn=+this._y.call(null,Et)))return this;var St,At=this._root,Pt,Nt,Wt,jt=this._x0,rn=this._y0,ln=this._x1,hn=this._y1,vn,xn,Sn,wn,er,Gn,zn,$n;if(!At)return this;if(At.length)for(;;){if((er=vn>=(Sn=(jt+ln)/2))?jt=Sn:ln=Sn,(Gn=xn>=(wn=(rn+hn)/2))?rn=wn:hn=wn,St=At,!(At=At[zn=Gn<<1|er]))return this;if(!At.length)break;(St[zn+1&3]||St[zn+2&3]||St[zn+3&3])&&(Pt=St,$n=zn)}for(;At.data!==Et;)if(Nt=At,!(At=At.next))return this;return(Wt=At.next)&&delete At.next,Nt?(Wt?Nt.next=Wt:delete Nt.next,this):St?(Wt?St[zn]=Wt:delete St[zn],(At=St[0]||St[1]||St[2]||St[3])&&At===(St[3]||St[2]||St[1]||St[0])&&!At.length&&(Pt?Pt[$n]=At:this._root=At),this):(this._root=Wt,this)}function Bl(Et){for(var St=0,At=Et.length;St<At;++St)this.remove(Et[St]);return this}function au(){return this._root}function h0(){var Et=0;return this.visit(function(St){if(!St.length)do++Et;while(St=St.next)}),Et}function Sv(Et){var St=[],At,Pt=this._root,Nt,Wt,jt,rn,ln;for(Pt&&St.push(new Is(Pt,this._x0,this._y0,this._x1,this._y1));At=St.pop();)if(!Et(Pt=At.node,Wt=At.x0,jt=At.y0,rn=At.x1,ln=At.y1)&&Pt.length){var hn=(Wt+rn)/2,vn=(jt+ln)/2;(Nt=Pt[3])&&St.push(new Is(Nt,hn,vn,rn,ln)),(Nt=Pt[2])&&St.push(new Is(Nt,Wt,vn,hn,ln)),(Nt=Pt[1])&&St.push(new Is(Nt,hn,jt,rn,vn)),(Nt=Pt[0])&&St.push(new Is(Nt,Wt,jt,hn,vn))}return this}function Ev(Et){var St=[],At=[],Pt;for(this._root&&St.push(new Is(this._root,this._x0,this._y0,this._x1,this._y1));Pt=St.pop();){var Nt=Pt.node;if(Nt.length){var Wt,jt=Pt.x0,rn=Pt.y0,ln=Pt.x1,hn=Pt.y1,vn=(jt+ln)/2,xn=(rn+hn)/2;(Wt=Nt[0])&&St.push(new Is(Wt,jt,rn,vn,xn)),(Wt=Nt[1])&&St.push(new Is(Wt,vn,rn,ln,xn)),(Wt=Nt[2])&&St.push(new Is(Wt,jt,xn,vn,hn)),(Wt=Nt[3])&&St.push(new Is(Wt,vn,xn,ln,hn))}At.push(Pt)}for(;Pt=At.pop();)Et(Pt.node,Pt.x0,Pt.y0,Pt.x1,Pt.y1);return this}function Yu(Et){return Et[0]}function wv(Et){return arguments.length?(this._x=Et,this):this._x}function qu(Et){return Et[1]}function Yp(Et){return arguments.length?(this._y=Et,this):this._y}function ou(Et,St,At){var Pt=new qp(St==null?Yu:St,At==null?qu:At,NaN,NaN,NaN,NaN);return Et==null?Pt:Pt.addAll(Et)}function qp(Et,St,At,Pt,Nt,Wt){this._x=Et,this._y=St,this._x0=At,this._y0=Pt,this._x1=Nt,this._y1=Wt,this._root=void 0}function Zp(Et){for(var St={data:Et.data},At=St;Et=Et.next;)At=At.next={data:Et.data};return St}var ws=ou.prototype=qp.prototype;ws.copy=function(){var Et=new qp(this._x,this._y,this._x0,this._y0,this._x1,this._y1),St=this._root,At,Pt;if(!St)return Et;if(!St.length)return Et._root=Zp(St),Et;for(At=[{source:St,target:Et._root=new Array(4)}];St=At.pop();)for(var Nt=0;Nt<4;++Nt)(Pt=St.source[Nt])&&(Pt.length?At.push({source:Pt,target:St.target[Nt]=new Array(4)}):St.target[Nt]=Zp(Pt));return Et},ws.add=Eo,ws.addAll=l0,ws.cover=Xu,ws.data=Ul,ws.extent=xv,ws.find=u0,ws.remove=Tv,ws.removeAll=Bl,ws.root=au,ws.size=h0,ws.visit=Sv,ws.visitAfter=Ev,ws.x=wv,ws.y=Yp;function Gl(Et){return function(){return Et}}function il(Et){return(Et()-.5)*1e-6}function c0(Et){return Et.index}function Kp(Et,St){var At=Et.get(St);if(!At)throw new Error("node not found: "+St);return At}function wo(Et){var St=c0,At=xn,Pt,Nt=Gl(30),Wt,jt,rn,ln,hn,vn=1;Et==null&&(Et=[]);function xn(zn){return 1/Math.min(rn[zn.source.index],rn[zn.target.index])}function Sn(zn){for(var $n=0,nr=Et.length;$n<vn;++$n)for(var gr=0,On,lr,Tr,Cr,Wr,ts,us;gr<nr;++gr)On=Et[gr],lr=On.source,Tr=On.target,Cr=Tr.x+Tr.vx-lr.x-lr.vx||il(hn),Wr=Tr.y+Tr.vy-lr.y-lr.vy||il(hn),ts=Math.sqrt(Cr*Cr+Wr*Wr),ts=(ts-Wt[gr])/ts*zn*Pt[gr],Cr*=ts,Wr*=ts,Tr.vx-=Cr*(us=ln[gr]),Tr.vy-=Wr*us,lr.vx+=Cr*(us=1-us),lr.vy+=Wr*us}function wn(){if(jt){var zn,$n=jt.length,nr=Et.length,gr=new Map(jt.map((lr,Tr)=>[St(lr,Tr,jt),lr])),On;for(zn=0,rn=new Array($n);zn<nr;++zn)On=Et[zn],On.index=zn,typeof On.source!="object"&&(On.source=Kp(gr,On.source)),typeof On.target!="object"&&(On.target=Kp(gr,On.target)),rn[On.source.index]=(rn[On.source.index]||0)+1,rn[On.target.index]=(rn[On.target.index]||0)+1;for(zn=0,ln=new Array(nr);zn<nr;++zn)On=Et[zn],ln[zn]=rn[On.source.index]/(rn[On.source.index]+rn[On.target.index]);Pt=new Array(nr),er(),Wt=new Array(nr),Gn()}}function er(){if(jt)for(var zn=0,$n=Et.length;zn<$n;++zn)Pt[zn]=+At(Et[zn],zn,Et)}function Gn(){if(jt)for(var zn=0,$n=Et.length;zn<$n;++zn)Wt[zn]=+Nt(Et[zn],zn,Et)}return Sn.initialize=function(zn,$n){jt=zn,hn=$n,wn()},Sn.links=function(zn){return arguments.length?(Et=zn,wn(),Sn):Et},Sn.id=function(zn){return arguments.length?(St=zn,Sn):St},Sn.iterations=function(zn){return arguments.length?(vn=+zn,Sn):vn},Sn.strength=function(zn){return arguments.length?(At=typeof zn=="function"?zn:Gl(+zn),er(),Sn):At},Sn.distance=function(zn){return arguments.length?(Nt=typeof zn=="function"?zn:Gl(+zn),Gn(),Sn):Nt},Sn}const bv=1664525,Av=1013904223,Mv=4294967296;function Cv(){let Et=1;return()=>(Et=(bv*Et+Av)%Mv)/Mv}function f0(Et){return Et.x}function d0(Et){return Et.y}var ko=10,Jp=Math.PI*(3-Math.sqrt(5));function Qp(Et){var St,At=1,Pt=.001,Nt=1-Math.pow(Pt,1/300),Wt=0,jt=.6,rn=new Map,ln=kl(xn),hn=Kl("tick","end"),vn=Cv();Et==null&&(Et=[]);function xn(){Sn(),hn.call("tick",St),At<Pt&&(ln.stop(),hn.call("end",St))}function Sn(Gn){var zn,$n=Et.length,nr;Gn===void 0&&(Gn=1);for(var gr=0;gr<Gn;++gr)for(At+=(Wt-At)*Nt,rn.forEach(function(On){On(At)}),zn=0;zn<$n;++zn)nr=Et[zn],nr.fx==null?nr.x+=nr.vx*=jt:(nr.x=nr.fx,nr.vx=0),nr.fy==null?nr.y+=nr.vy*=jt:(nr.y=nr.fy,nr.vy=0);return St}function wn(){for(var Gn=0,zn=Et.length,$n;Gn<zn;++Gn){if($n=Et[Gn],$n.index=Gn,$n.fx!=null&&($n.x=$n.fx),$n.fy!=null&&($n.y=$n.fy),isNaN($n.x)||isNaN($n.y)){var nr=ko*Math.sqrt(.5+Gn),gr=Gn*Jp;$n.x=nr*Math.cos(gr),$n.y=nr*Math.sin(gr)}(isNaN($n.vx)||isNaN($n.vy))&&($n.vx=$n.vy=0)}}function er(Gn){return Gn.initialize&&Gn.initialize(Et,vn),Gn}return wn(),St={tick:Sn,restart:function(){return ln.restart(xn),St},stop:function(){return ln.stop(),St},nodes:function(Gn){return arguments.length?(Et=Gn,wn(),rn.forEach(er),St):Et},alpha:function(Gn){return arguments.length?(At=+Gn,St):At},alphaMin:function(Gn){return arguments.length?(Pt=+Gn,St):Pt},alphaDecay:function(Gn){return arguments.length?(Nt=+Gn,St):+Nt},alphaTarget:function(Gn){return arguments.length?(Wt=+Gn,St):Wt},velocityDecay:function(Gn){return arguments.length?(jt=1-Gn,St):1-jt},randomSource:function(Gn){return arguments.length?(vn=Gn,rn.forEach(er),St):vn},force:function(Gn,zn){return arguments.length>1?(zn==null?rn.delete(Gn):rn.set(Gn,er(zn)),St):rn.get(Gn)},find:function(Gn,zn,$n){var nr=0,gr=Et.length,On,lr,Tr,Cr,Wr;for($n==null?$n=1/0:$n*=$n,nr=0;nr<gr;++nr)Cr=Et[nr],On=Gn-Cr.x,lr=zn-Cr.y,Tr=On*On+lr*lr,Tr<$n&&(Wr=Cr,$n=Tr);return Wr},on:function(Gn,zn){return arguments.length>1?(hn.on(Gn,zn),St):hn.on(Gn)}}}function em(){var Et,St,At,Pt,Nt=Gl(-30),Wt,jt=1,rn=1/0,ln=.81;function hn(wn){var er,Gn=Et.length,zn=ou(Et,f0,d0).visitAfter(xn);for(Pt=wn,er=0;er<Gn;++er)St=Et[er],zn.visit(Sn)}function vn(){if(Et){var wn,er=Et.length,Gn;for(Wt=new Array(er),wn=0;wn<er;++wn)Gn=Et[wn],Wt[Gn.index]=+Nt(Gn,wn,Et)}}function xn(wn){var er=0,Gn,zn,$n=0,nr,gr,On;if(wn.length){for(nr=gr=On=0;On<4;++On)(Gn=wn[On])&&(zn=Math.abs(Gn.value))&&(er+=Gn.value,$n+=zn,nr+=zn*Gn.x,gr+=zn*Gn.y);wn.x=nr/$n,wn.y=gr/$n}else{Gn=wn,Gn.x=Gn.data.x,Gn.y=Gn.data.y;do er+=Wt[Gn.data.index];while(Gn=Gn.next)}wn.value=er}function Sn(wn,er,Gn,zn){if(!wn.value)return!0;var $n=wn.x-St.x,nr=wn.y-St.y,gr=zn-er,On=$n*$n+nr*nr;if(gr*gr/ln<On)return On<rn&&($n===0&&($n=il(At),On+=$n*$n),nr===0&&(nr=il(At),On+=nr*nr),On<jt&&(On=Math.sqrt(jt*On)),St.vx+=$n*wn.value*Pt/On,St.vy+=nr*wn.value*Pt/On),!0;if(!(wn.length||On>=rn)){(wn.data!==St||wn.next)&&($n===0&&($n=il(At),On+=$n*$n),nr===0&&(nr=il(At),On+=nr*nr),On<jt&&(On=Math.sqrt(jt*On)));do wn.data!==St&&(gr=Wt[wn.data.index]*Pt/On,St.vx+=$n*gr,St.vy+=nr*gr);while(wn=wn.next)}}return hn.initialize=function(wn,er){Et=wn,At=er,vn()},hn.strength=function(wn){return arguments.length?(Nt=typeof wn=="function"?wn:Gl(+wn),vn(),hn):Nt},hn.distanceMin=function(wn){return arguments.length?(jt=wn*wn,hn):Math.sqrt(jt)},hn.distanceMax=function(wn){return arguments.length?(rn=wn*wn,hn):Math.sqrt(rn)},hn.theta=function(wn){return arguments.length?(ln=wn*wn,hn):Math.sqrt(ln)},hn}function Zu(Et,St){switch(arguments.length){case 0:break;case 1:this.range(Et);break;default:this.range(St).domain(Et);break}return this}const pl=Symbol("implicit");function xr(){var Et=new gm,St=[],At=[],Pt=pl;function Nt(Wt){let jt=Et.get(Wt);if(jt===void 0){if(Pt!==pl)return Pt;Et.set(Wt,jt=St.push(Wt)-1)}return At[jt%At.length]}return Nt.domain=function(Wt){if(!arguments.length)return St.slice();St=[],Et=new gm;for(const jt of Wt)Et.has(jt)||Et.set(jt,St.push(jt)-1);return Nt},Nt.range=function(Wt){return arguments.length?(At=Array.from(Wt),Nt):At.slice()},Nt.unknown=function(Wt){return arguments.length?(Pt=Wt,Nt):Pt},Nt.copy=function(){return xr(St,At).unknown(Pt)},Zu.apply(Nt,arguments),Nt}function Ku(Et){for(var St=Et.length/6|0,At=new Array(St),Pt=0;Pt<St;)At[Pt]="#"+Et.slice(Pt*6,++Pt*6);return At}var tm=Ku("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),bo=Et=>()=>Et;function p0(Et,{sourceEvent:St,target:At,transform:Pt,dispatch:Nt}){Object.defineProperties(this,{type:{value:Et,enumerable:!0,configurable:!0},sourceEvent:{value:St,enumerable:!0,configurable:!0},target:{value:At,enumerable:!0,configurable:!0},transform:{value:Pt,enumerable:!0,configurable:!0},_:{value:Nt}})}function Ao(Et,St,At){this.k=Et,this.x=St,this.y=At}Ao.prototype={constructor:Ao,scale:function(Et){return Et===1?this:new Ao(this.k*Et,this.x,this.y)},translate:function(Et,St){return Et===0&St===0?this:new Ao(this.k,this.x+this.k*Et,this.y+this.k*St)},apply:function(Et){return[Et[0]*this.k+this.x,Et[1]*this.k+this.y]},applyX:function(Et){return Et*this.k+this.x},applyY:function(Et){return Et*this.k+this.y},invert:function(Et){return[(Et[0]-this.x)/this.k,(Et[1]-this.y)/this.k]},invertX:function(Et){return(Et-this.x)/this.k},invertY:function(Et){return(Et-this.y)/this.k},rescaleX:function(Et){return Et.copy().domain(Et.range().map(this.invertX,this).map(Et.invert,Et))},rescaleY:function(Et){return Et.copy().domain(Et.range().map(this.invertY,this).map(Et.invert,Et))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var nm=new Ao(1,0,0);function bs(Et){Et.stopImmediatePropagation()}function lu(Et){Et.preventDefault(),Et.stopImmediatePropagation()}function m0(Et){return(!Et.ctrlKey||Et.type==="wheel")&&!Et.button}function Pv(){var Et=this;return Et instanceof SVGElement?(Et=Et.ownerSVGElement||Et,Et.hasAttribute("viewBox")?(Et=Et.viewBox.baseVal,[[Et.x,Et.y],[Et.x+Et.width,Et.y+Et.height]]):[[0,0],[Et.width.baseVal.value,Et.height.baseVal.value]]):[[0,0],[Et.clientWidth,Et.clientHeight]]}function Rv(){return this.__zoom||nm}function Iv(Et){return-Et.deltaY*(Et.deltaMode===1?.05:Et.deltaMode?1:.002)*(Et.ctrlKey?10:1)}function g0(){return navigator.maxTouchPoints||"ontouchstart"in this}function v0(Et,St,At){var Pt=Et.invertX(St[0][0])-At[0][0],Nt=Et.invertX(St[1][0])-At[1][0],Wt=Et.invertY(St[0][1])-At[0][1],jt=Et.invertY(St[1][1])-At[1][1];return Et.translate(Nt>Pt?(Pt+Nt)/2:Math.min(0,Pt)||Math.max(0,Nt),jt>Wt?(Wt+jt)/2:Math.min(0,Wt)||Math.max(0,jt))}function _0(){var Et=m0,St=Pv,At=v0,Pt=Iv,Nt=g0,Wt=[0,1/0],jt=[[-1/0,-1/0],[1/0,1/0]],rn=250,ln=Fu,hn=Kl("start","zoom","end"),vn,xn,Sn,wn=500,er=150,Gn=0,zn=10;function $n(Rn){Rn.property("__zoom",Rv).on("wheel.zoom",Wr,{passive:!1}).on("mousedown.zoom",ts).on("dblclick.zoom",us).filter(Nt).on("touchstart.zoom",hs).on("touchmove.zoom",Vs).on("touchend.zoom touchcancel.zoom",qs).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}$n.transform=function(Rn,ir,qn,dr){var Sr=Rn.selection?Rn.selection():Rn;Sr.property("__zoom",Rv),Rn!==Sr?lr(Rn,ir,qn,dr):Sr.interrupt().each(function(){Tr(this,arguments).event(dr).start().zoom(null,typeof ir=="function"?ir.apply(this,arguments):ir).end()})},$n.scaleBy=function(Rn,ir,qn,dr){$n.scaleTo(Rn,function(){var Sr=this.__zoom.k,Rr=typeof ir=="function"?ir.apply(this,arguments):ir;return Sr*Rr},qn,dr)},$n.scaleTo=function(Rn,ir,qn,dr){$n.transform(Rn,function(){var Sr=St.apply(this,arguments),Rr=this.__zoom,Dr=qn==null?On(Sr):typeof qn=="function"?qn.apply(this,arguments):qn,ns=Rr.invert(Dr),cs=typeof ir=="function"?ir.apply(this,arguments):ir;return At(gr(nr(Rr,cs),Dr,ns),Sr,jt)},qn,dr)},$n.translateBy=function(Rn,ir,qn,dr){$n.transform(Rn,function(){return At(this.__zoom.translate(typeof ir=="function"?ir.apply(this,arguments):ir,typeof qn=="function"?qn.apply(this,arguments):qn),St.apply(this,arguments),jt)},null,dr)},$n.translateTo=function(Rn,ir,qn,dr,Sr){$n.transform(Rn,function(){var Rr=St.apply(this,arguments),Dr=this.__zoom,ns=dr==null?On(Rr):typeof dr=="function"?dr.apply(this,arguments):dr;return At(nm.translate(ns[0],ns[1]).scale(Dr.k).translate(typeof ir=="function"?-ir.apply(this,arguments):-ir,typeof qn=="function"?-qn.apply(this,arguments):-qn),Rr,jt)},dr,Sr)};function nr(Rn,ir){return ir=Math.max(Wt[0],Math.min(Wt[1],ir)),ir===Rn.k?Rn:new Ao(ir,Rn.x,Rn.y)}function gr(Rn,ir,qn){var dr=ir[0]-qn[0]*Rn.k,Sr=ir[1]-qn[1]*Rn.k;return dr===Rn.x&&Sr===Rn.y?Rn:new Ao(Rn.k,dr,Sr)}function On(Rn){return[(+Rn[0][0]+ +Rn[1][0])/2,(+Rn[0][1]+ +Rn[1][1])/2]}function lr(Rn,ir,qn,dr){Rn.on("start.zoom",function(){Tr(this,arguments).event(dr).start()}).on("interrupt.zoom end.zoom",function(){Tr(this,arguments).event(dr).end()}).tween("zoom",function(){var Sr=this,Rr=arguments,Dr=Tr(Sr,Rr).event(dr),ns=St.apply(Sr,Rr),cs=qn==null?On(ns):typeof qn=="function"?qn.apply(Sr,Rr):qn,Mo=Math.max(ns[1][0]-ns[0][0],ns[1][1]-ns[0][1]),Jr=Sr.__zoom,co=typeof ir=="function"?ir.apply(Sr,Rr):ir,$o=ln(Jr.invert(cs).concat(Mo/Jr.k),co.invert(cs).concat(Mo/co.k));return function(fo){if(fo===1)fo=co;else{var Co=$o(fo),am=Mo/Co[2];fo=new Ao(am,cs[0]-Co[0]*am,cs[1]-Co[1]*am)}Dr.zoom(null,fo)}})}function Tr(Rn,ir,qn){return!qn&&Rn.__zooming||new Cr(Rn,ir)}function Cr(Rn,ir){this.that=Rn,this.args=ir,this.active=0,this.sourceEvent=null,this.extent=St.apply(Rn,ir),this.taps=0}Cr.prototype={event:function(Rn){return Rn&&(this.sourceEvent=Rn),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Rn,ir){return this.mouse&&Rn!=="mouse"&&(this.mouse[1]=ir.invert(this.mouse[0])),this.touch0&&Rn!=="touch"&&(this.touch0[1]=ir.invert(this.touch0[0])),this.touch1&&Rn!=="touch"&&(this.touch1[1]=ir.invert(this.touch1[0])),this.that.__zoom=ir,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Rn){var ir=ms(this.that).datum();hn.call(Rn,this.that,new p0(Rn,{sourceEvent:this.sourceEvent,target:$n,type:Rn,transform:this.that.__zoom,dispatch:hn}),ir)}};function Wr(Rn,...ir){if(!Et.apply(this,arguments))return;var qn=Tr(this,ir).event(Rn),dr=this.__zoom,Sr=Math.max(Wt[0],Math.min(Wt[1],dr.k*Math.pow(2,Pt.apply(this,arguments)))),Rr=Io(Rn);if(qn.wheel)(qn.mouse[0][0]!==Rr[0]||qn.mouse[0][1]!==Rr[1])&&(qn.mouse[1]=dr.invert(qn.mouse[0]=Rr)),clearTimeout(qn.wheel);else{if(dr.k===Sr)return;qn.mouse=[Rr,dr.invert(Rr)],Vu(this),qn.start()}lu(Rn),qn.wheel=setTimeout(Dr,er),qn.zoom("mouse",At(gr(nr(dr,Sr),qn.mouse[0],qn.mouse[1]),qn.extent,jt));function Dr(){qn.wheel=null,qn.end()}}function ts(Rn,...ir){if(Sn||!Et.apply(this,arguments))return;var qn=Rn.currentTarget,dr=Tr(this,ir,!0).event(Rn),Sr=ms(Rn.view).on("mousemove.zoom",cs,!0).on("mouseup.zoom",Mo,!0),Rr=Io(Rn,qn),Dr=Rn.clientX,ns=Rn.clientY;$m(Rn.view),bs(Rn),dr.mouse=[Rr,this.__zoom.invert(Rr)],Vu(this),dr.start();function cs(Jr){if(lu(Jr),!dr.moved){var co=Jr.clientX-Dr,$o=Jr.clientY-ns;dr.moved=co*co+$o*$o>Gn}dr.event(Jr).zoom("mouse",At(gr(dr.that.__zoom,dr.mouse[0]=Io(Jr,qn),dr.mouse[1]),dr.extent,jt))}function Mo(Jr){Sr.on("mousemove.zoom mouseup.zoom",null),xp(Jr.view,dr.moved),lu(Jr),dr.event(Jr).end()}}function us(Rn,...ir){if(Et.apply(this,arguments)){var qn=this.__zoom,dr=Io(Rn.changedTouches?Rn.changedTouches[0]:Rn,this),Sr=qn.invert(dr),Rr=qn.k*(Rn.shiftKey?.5:2),Dr=At(gr(nr(qn,Rr),dr,Sr),St.apply(this,ir),jt);lu(Rn),rn>0?ms(this).transition().duration(rn).call(lr,Dr,dr,Rn):ms(this).call($n.transform,Dr,dr,Rn)}}function hs(Rn,...ir){if(Et.apply(this,arguments)){var qn=Rn.touches,dr=qn.length,Sr=Tr(this,ir,Rn.changedTouches.length===dr).event(Rn),Rr,Dr,ns,cs;for(bs(Rn),Dr=0;Dr<dr;++Dr)ns=qn[Dr],cs=Io(ns,this),cs=[cs,this.__zoom.invert(cs),ns.identifier],Sr.touch0?!Sr.touch1&&Sr.touch0[2]!==cs[2]&&(Sr.touch1=cs,Sr.taps=0):(Sr.touch0=cs,Rr=!0,Sr.taps=1+!!vn);vn&&(vn=clearTimeout(vn)),Rr&&(Sr.taps<2&&(xn=cs[0],vn=setTimeout(function(){vn=null},wn)),Vu(this),Sr.start())}}function Vs(Rn,...ir){if(this.__zooming){var qn=Tr(this,ir).event(Rn),dr=Rn.changedTouches,Sr=dr.length,Rr,Dr,ns,cs;for(lu(Rn),Rr=0;Rr<Sr;++Rr)Dr=dr[Rr],ns=Io(Dr,this),qn.touch0&&qn.touch0[2]===Dr.identifier?qn.touch0[0]=ns:qn.touch1&&qn.touch1[2]===Dr.identifier&&(qn.touch1[0]=ns);if(Dr=qn.that.__zoom,qn.touch1){var Mo=qn.touch0[0],Jr=qn.touch0[1],co=qn.touch1[0],$o=qn.touch1[1],fo=(fo=co[0]-Mo[0])*fo+(fo=co[1]-Mo[1])*fo,Co=(Co=$o[0]-Jr[0])*Co+(Co=$o[1]-Jr[1])*Co;Dr=nr(Dr,Math.sqrt(fo/Co)),ns=[(Mo[0]+co[0])/2,(Mo[1]+co[1])/2],cs=[(Jr[0]+$o[0])/2,(Jr[1]+$o[1])/2]}else if(qn.touch0)ns=qn.touch0[0],cs=qn.touch0[1];else return;qn.zoom("touch",At(gr(Dr,ns,cs),qn.extent,jt))}}function qs(Rn,...ir){if(this.__zooming){var qn=Tr(this,ir).event(Rn),dr=Rn.changedTouches,Sr=dr.length,Rr,Dr;for(bs(Rn),Sn&&clearTimeout(Sn),Sn=setTimeout(function(){Sn=null},wn),Rr=0;Rr<Sr;++Rr)Dr=dr[Rr],qn.touch0&&qn.touch0[2]===Dr.identifier?delete qn.touch0:qn.touch1&&qn.touch1[2]===Dr.identifier&&delete qn.touch1;if(qn.touch1&&!qn.touch0&&(qn.touch0=qn.touch1,delete qn.touch1),qn.touch0)qn.touch0[1]=this.__zoom.invert(qn.touch0[0]);else if(qn.end(),qn.taps===2&&(Dr=Io(Dr,this),Math.hypot(xn[0]-Dr[0],xn[1]-Dr[1])<zn)){var ns=ms(this).on("dblclick.zoom");ns&&ns.apply(this,arguments)}}}return $n.wheelDelta=function(Rn){return arguments.length?(Pt=typeof Rn=="function"?Rn:bo(+Rn),$n):Pt},$n.filter=function(Rn){return arguments.length?(Et=typeof Rn=="function"?Rn:bo(!!Rn),$n):Et},$n.touchable=function(Rn){return arguments.length?(Nt=typeof Rn=="function"?Rn:bo(!!Rn),$n):Nt},$n.extent=function(Rn){return arguments.length?(St=typeof Rn=="function"?Rn:bo([[+Rn[0][0],+Rn[0][1]],[+Rn[1][0],+Rn[1][1]]]),$n):St},$n.scaleExtent=function(Rn){return arguments.length?(Wt[0]=+Rn[0],Wt[1]=+Rn[1],$n):[Wt[0],Wt[1]]},$n.translateExtent=function(Rn){return arguments.length?(jt[0][0]=+Rn[0][0],jt[1][0]=+Rn[1][0],jt[0][1]=+Rn[0][1],jt[1][1]=+Rn[1][1],$n):[[jt[0][0],jt[0][1]],[jt[1][0],jt[1][1]]]},$n.constrain=function(Rn){return arguments.length?(At=Rn,$n):At},$n.duration=function(Rn){return arguments.length?(rn=+Rn,$n):rn},$n.interpolate=function(Rn){return arguments.length?(ln=Rn,$n):ln},$n.on=function(){var Rn=hn.on.apply(hn,arguments);return Rn===hn?$n:Rn},$n.clickDistance=function(Rn){return arguments.length?(Gn=(Rn=+Rn)*Rn,$n):Math.sqrt(Gn)},$n.tapDistance=function(Rn){return arguments.length?(zn=+Rn,$n):zn},$n}class Fo{constructor(){ht(this,vt,void 0),pt(this,vt,{}),this.getSimulation=()=>ct(this,vt),this.createSimulation()}createSimulation(){return pt(this,vt,Qp()),this}addNodes(St){var At;return(At=ct(this,vt))==null||At.nodes(St),this}addLinks(St){return this.addForce({link_force:wo(St)}),this}addForce(St){Object.keys(St).forEach(At=>{var Pt;(Pt=ct(this,vt))==null||Pt.force(At,Reflect.get(St,At))})}render(St,At){return this.addNodes(St).addLinks(At),this}}vt=new WeakMap;const Ds=Et=>{function St(Nt){Nt.active||Et.alphaTarget(.3).restart(),Nt.subject.fx=Nt.subject.x,Nt.subject.fy=Nt.subject.y}const At=Nt=>{Nt.subject.fx=Nt.x,Nt.subject.fy=Nt.y},Pt=Nt=>{Nt.active||Et.alphaTarget(0),Nt.subject.fx=null,Nt.subject.fy=null};return Um().on("start",St).on("drag",At).on("end",Pt)},rm=(Et,St=[.4,2])=>{const At=Et.querySelector("#d3-force-svg"),Pt=Et.querySelector("#d3-force-g-nodes"),Nt=Et.querySelector("#d3-force-g-links");return _0().scaleExtent(St).on("start",()=>{ms(At).attr("cursor","pointer")}).on("zoom",Wt=>{ms(Nt).attr("transform",Wt.transform),ms(Pt).attr("transform",Wt.transform)}).on("end",()=>{ms(At).attr("cursor","default")})},y0=xr(tm),im=Et=>{var St,At;const{links:Pt}=Et,Nt=document.querySelector("body");return{center_force:Gs(((St=Nt==null?void 0:Nt.clientWidth)!=null?St:900)/2,((At=Nt==null?void 0:Nt.clientHeight)!=null?At:450)/2),charge_force:em().strength(-200),link_force:wo(Pt).distance(60)}};var x0=`.d3-force-wrapper {
  width: 100%;
  height: 100vh;
}
.d3-force-wrapper .d3-force-svg-wrapper {
  width: 100%;
  height: 100%;
}
`,T0=Object.defineProperty,uu=Object.getOwnPropertyDescriptor,ks=(Et,St,At,Pt)=>{for(var Nt=Pt>1?void 0:Pt?uu(St,At):St,Wt=Et.length-1,jt;Wt>=0;Wt--)(jt=Et[Wt])&&(Nt=(Pt?jt(St,At,Nt):jt(Nt))||Nt);return Pt&&Nt&&T0(St,At,Nt),Nt};let As=class extends Jn{constructor(){super(),this.isCreatedD3Force=!1,this.isDrawFinish=!1,this.svgEls=[],this.isDrag=!1,this.isZoom=!1,this.zoomScale=[.4,2]}updated(Et){var St;if(Et.has("data")){const At=this.createD3Force();this.simulation=At.getSimulation(),this.isCreatedD3Force=!0,At.addForce(Object.assign(im(this.data)))}else{const At=ms(this.svgSD),Pt=Fm(this.nodesSD),Nt=Fm(this.linksSD);(St=this.simulation)==null||St.on("tick",()=>this.cbTick([At,Pt,Nt],this.data)),Et.has("isDrawFinish")&&this.isDrawFinish&&(this.isDrag&&Pt.call(Ds(this.simulation)),this.isZoom&&At.call(rm(this.renderRoot,this.zoomScale)))}}drawNodes(){var Et,St,At,Pt;return this.isDrawFinish=!0,`<g id="d3-force-g-nodes" slot="nodes">${(Pt=(St=(Et=this.nodeSlot)==null?void 0:Et[0])==null?void 0:St.innerHTML)!=null?Pt:(At=this.data)==null?void 0:At.nodes.map((Nt,Wt)=>`<circle r="15" fill=${y0(`${Wt}`)} key=${Wt}></circle>`).join("")}</g>`}drawLinks(){var Et,St,At,Pt;return`<g id="d3-force-g-links" slot="links">${(Pt=(St=(Et=this.linkSlot)==null?void 0:Et[0])==null?void 0:St.innerHTML)!=null?Pt:(At=this.data)==null?void 0:At.links.map((Nt,Wt)=>`<line style="stroke: #cccccc; stroke-width: 1" key=${Wt}></line>`).join("")}</g>`}createD3Force(){const Et=new Fo,{nodes:St,links:At}=this.data;return Et.render(St,At),Et}cbTick(Et,St){const[,At,Pt]=Et,{nodes:Nt,links:Wt}=St;At.data(Nt).attr("transform",jt=>`translate(${jt.x},${jt.y})`),Pt.data(Wt).attr("x1",jt=>jt.source.x).attr("y1",jt=>jt.source.y).attr("x2",jt=>jt.target.x).attr("y2",jt=>jt.target.y)}render(){return rr`
      <div class="d3-force-wrapper" id="d3-force-wrapper">
        ${Xv(`<svg id="d3-force-svg" class="d3-force-svg-wrapper">
            ${this.isCreatedD3Force&&this.drawLinks()}
            ${this.isCreatedD3Force&&this.drawNodes()}
          </svg>`)}

        <slot name="nodes"></slot>
        <slot name="links"></slot>
      </div>
    `}};As.styles=[Ct`
      ${bt(x0)}
    `],ks([mm({slot:"nodes"})],As.prototype,"nodeSlot",2),ks([mm({slot:"links"})],As.prototype,"linkSlot",2),ks([ql()],As.prototype,"isCreatedD3Force",2),ks([ql()],As.prototype,"isDrawFinish",2),ks([ql()],As.prototype,"simulation",2),ks([ql()],As.prototype,"svgEls",2),ks([Hv("#d3-force-svg")],As.prototype,"svgSD",2),ks([dm("#d3-force-g-nodes>*")],As.prototype,"nodesSD",2),ks([dm("#d3-force-g-links>*")],As.prototype,"linksSD",2),ks([Xl({type:Object})],As.prototype,"data",2),ks([Xl({attribute:!1})],As.prototype,"isDrag",2),ks([Xl({attribute:!1})],As.prototype,"isZoom",2),ks([Xl({attribute:!1})],As.prototype,"zoomScale",2),As=ks([um("wc-d3-force")],As);var S0=As,E0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof commonjsGlobal$2!="undefined"?commonjsGlobal$2:typeof self!="undefined"?self:{},sm={exports:{}};return function(Et,St){var At=Object.defineProperty,Pt=Object.defineProperties,Nt=Object.getOwnPropertyDescriptors,Wt=Object.getOwnPropertySymbols,jt=Object.prototype.hasOwnProperty,rn=Object.prototype.propertyIsEnumerable,ln=(xn,Sn,wn)=>Sn in xn?At(xn,Sn,{enumerable:!0,configurable:!0,writable:!0,value:wn}):xn[Sn]=wn,hn=(xn,Sn)=>{for(var wn in Sn||(Sn={}))jt.call(Sn,wn)&&ln(xn,wn,Sn[wn]);if(Wt)for(var wn of Wt(Sn))rn.call(Sn,wn)&&ln(xn,wn,Sn[wn]);return xn},vn=(xn,Sn)=>Pt(xn,Nt(Sn));(function(xn,Sn){Sn(St,mt.default)})(E0,function(xn,Sn){function wn(lr){return lr&&typeof lr=="object"&&"default"in lr?lr:{default:lr}}var er=wn(Sn);/**
* @license
* Copyright 2018 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const Gn=new Set(["children","localName","ref","style","className"]),zn=new WeakMap,$n=(lr,Tr,Cr,Wr,ts)=>{const us=ts==null?void 0:ts[Tr];us!==void 0?Cr!==Wr&&((hs,Vs,qs)=>{let Rn=zn.get(hs);Rn===void 0&&zn.set(hs,Rn=new Map);let ir=Rn.get(Vs);qs!==void 0?ir===void 0?(Rn.set(Vs,ir={handleEvent:qs}),hs.addEventListener(Vs,ir)):ir.handleEvent=qs:ir!==void 0&&(Rn.delete(Vs),hs.removeEventListener(Vs,ir))})(lr,us,Cr):lr[Tr]=Cr},nr=(lr,Tr,Cr,Wr,ts)=>{const us=lr.Component,hs=lr.createElement,Vs=new Set(Object.keys(Wr!=null?Wr:{}));for(const ir in Cr.prototype)ir in HTMLElement.prototype||(Gn.has(ir)?console.warn(`${Tr} contains property ${ir} which is a React reserved property. It will be used by React and not set on the element.`):Vs.add(ir));class qs extends us{constructor(){super(...arguments),this.t=null}o(qn){if(this.t!==null)for(const dr in this.i)$n(this.t,dr,this.props[dr],qn?qn[dr]:void 0,Wr)}componentDidMount(){this.o()}componentDidUpdate(qn){this.o(qn)}render(){const qn=this.props.l;this.h!==void 0&&this.u===qn||(this.h=Sr=>{this.t===null&&(this.t=Sr),qn!==null&&((Rr,Dr)=>{typeof Rr=="function"?Rr(Dr):Rr.current=Dr})(qn,Sr),this.u=qn});const dr={ref:this.h};this.i={};for(const[Sr,Rr]of Object.entries(this.props))Vs.has(Sr)?this.i[Sr]=Rr:dr[Sr==="className"?"class":Sr]=Rr;return hs(Tr,dr)}}qs.displayName=ts!=null?ts:Cr.name;const Rn=lr.forwardRef((ir,qn)=>hs(qs,vn(hn({},ir),{l:qn}),ir==null?void 0:ir.children));return Rn.displayName=qs.displayName,Rn},gr=()=>{window.exports=window.exports||{}},On=(lr,Tr,Cr)=>er.default?nr(er.default,lr,Tr,Cr):Wr=>nr(Wr,lr,Tr,Cr);xn.createExports=gr,xn.reactWrapperHOC=On,Object.defineProperty(xn,"__esModule",{value:!0}),xn[Symbol.toStringTag]="Module"})}(sm,sm.exports),sm.exports.reactWrapperHOC("wc-d3-force",S0,{onCustomEvent:"custom"})})})(dist$1);var WcD3Force=getDefaultExportFromCjs(dist$1.exports);const data={nodes:[{id:"Donald",name:"Donald"},{id:"Bernie",name:"Bernie"},{id:"Jill",name:"Jill"},{id:"Ben",name:"Ben"},{id:"Gary",name:"Gary"},{id:"Killary",name:"Killary"},{id:"Yeb",name:"Yeb"},{id:"Marco",name:"Marco"},{id:"Carly",name:"Carly"},{id:"Ted",name:"Ted"}],links:[{source:0,target:1},{source:0,target:2},{source:0,target:3},{source:0,target:4},{source:1,target:5},{source:2,target:5},{source:2,target:5},{source:3,target:4},{source:5,target:8},{source:5,target:9},{source:6,target:7},{source:7,target:8},{source:8,target:9}]},WcD3ForceP=()=>jsxs(WcD3Force,{data,isDrag:!0,children:[jsx("svg",{slot:"nodes",children:data.nodes.map((_e,j)=>jsx("circle",{stroke:"black",strokeWidth:"3",r:"15",fill:"red"},_e.id))}),jsx("svg",{slot:"links",style:{display:"none"},children:data.links.map((_e,j)=>jsx("line",{style:{stroke:"orange",strokeWidth:1}},j))})]});var index$1=react.exports.memo(WcD3ForceP),__glob_1_17=Object.freeze(Object.defineProperty({__proto__:null,default:index$1},Symbol.toStringTag,{value:"Module"})),dist={exports:{}};(function(module,exports){var Qt=Object.defineProperty,te=Object.defineProperties,ee=Object.getOwnPropertyDescriptors,Xt=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,Kt=(_e,j,et)=>j in _e?Qt(_e,j,{enumerable:!0,configurable:!0,writable:!0,value:et}):_e[j]=et,Jt=(_e,j)=>{for(var et in j||(j={}))re.call(j,et)&&Kt(_e,et,j[et]);if(Xt)for(var et of Xt(j))ie.call(j,et)&&Kt(_e,et,j[et]);return _e},Zt=(_e,j)=>te(_e,ee(j));(function(_e,j){module.exports=j(react.exports)})(commonjsGlobal$2,function(require$$1){function _interopDefaultLegacy(_e){return _e&&typeof _e=="object"&&"default"in _e?_e:{default:_e}}var require$$1__default=_interopDefaultLegacy(require$$1);/**
* @license
* Copyright 2019 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const t$2=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$3=Symbol(),n$6=new Map;class s$4{constructor(j,et){if(this._$cssResult$=!0,et!==e$3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=j}get styleSheet(){let j=n$6.get(this.cssText);return t$2&&j===void 0&&(n$6.set(this.cssText,j=new CSSStyleSheet),j.replaceSync(this.cssText)),j}toString(){return this.cssText}}const o$3=_e=>new s$4(typeof _e=="string"?_e:_e+"",e$3),r$2=(_e,...j)=>{const et=_e.length===1?_e[0]:j.reduce((tt,nt,rt)=>tt+(it=>{if(it._$cssResult$===!0)return it.cssText;if(typeof it=="number")return it;throw Error("Value passed to 'css' function must be a 'css' function result: "+it+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(nt)+_e[rt+1],_e[0]);return new s$4(et,e$3)},i$1=(_e,j)=>{t$2?_e.adoptedStyleSheets=j.map(et=>et instanceof CSSStyleSheet?et:et.styleSheet):j.forEach(et=>{const tt=document.createElement("style"),nt=window.litNonce;nt!==void 0&&tt.setAttribute("nonce",nt),tt.textContent=et.cssText,_e.appendChild(tt)})},S$1=t$2?_e=>_e:_e=>_e instanceof CSSStyleSheet?(j=>{let et="";for(const tt of j.cssRules)et+=tt.cssText;return o$3(et)})(_e):_e;/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/var s$3;const e$2=window.trustedTypes,r$1=e$2?e$2.emptyScript:"",h$1=window.reactiveElementPolyfillSupport,o$2={toAttribute(_e,j){switch(j){case Boolean:_e=_e?r$1:null;break;case Object:case Array:_e=_e==null?_e:JSON.stringify(_e)}return _e},fromAttribute(_e,j){let et=_e;switch(j){case Boolean:et=_e!==null;break;case Number:et=_e===null?null:Number(_e);break;case Object:case Array:try{et=JSON.parse(_e)}catch{et=null}}return et}},n$5=(_e,j)=>j!==_e&&(j==j||_e==_e),l$2={attribute:!0,type:String,converter:o$2,reflect:!1,hasChanged:n$5};class a$1 extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(j){var et;(et=this.l)!==null&&et!==void 0||(this.l=[]),this.l.push(j)}static get observedAttributes(){this.finalize();const j=[];return this.elementProperties.forEach((et,tt)=>{const nt=this._$Eh(tt,et);nt!==void 0&&(this._$Eu.set(nt,tt),j.push(nt))}),j}static createProperty(j,et=l$2){if(et.state&&(et.attribute=!1),this.finalize(),this.elementProperties.set(j,et),!et.noAccessor&&!this.prototype.hasOwnProperty(j)){const tt=typeof j=="symbol"?Symbol():"__"+j,nt=this.getPropertyDescriptor(j,tt,et);nt!==void 0&&Object.defineProperty(this.prototype,j,nt)}}static getPropertyDescriptor(j,et,tt){return{get(){return this[et]},set(nt){const rt=this[j];this[et]=nt,this.requestUpdate(j,rt,tt)},configurable:!0,enumerable:!0}}static getPropertyOptions(j){return this.elementProperties.get(j)||l$2}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const j=Object.getPrototypeOf(this);if(j.finalize(),this.elementProperties=new Map(j.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const et=this.properties,tt=[...Object.getOwnPropertyNames(et),...Object.getOwnPropertySymbols(et)];for(const nt of tt)this.createProperty(nt,et[nt])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(j){const et=[];if(Array.isArray(j)){const tt=new Set(j.flat(1/0).reverse());for(const nt of tt)et.unshift(S$1(nt))}else j!==void 0&&et.push(S$1(j));return et}static _$Eh(j,et){const tt=et.attribute;return tt===!1?void 0:typeof tt=="string"?tt:typeof j=="string"?j.toLowerCase():void 0}o(){var j;this._$Ep=new Promise(et=>this.enableUpdating=et),this._$AL=new Map,this._$Em(),this.requestUpdate(),(j=this.constructor.l)===null||j===void 0||j.forEach(et=>et(this))}addController(j){var et,tt;((et=this._$Eg)!==null&&et!==void 0?et:this._$Eg=[]).push(j),this.renderRoot!==void 0&&this.isConnected&&((tt=j.hostConnected)===null||tt===void 0||tt.call(j))}removeController(j){var et;(et=this._$Eg)===null||et===void 0||et.splice(this._$Eg.indexOf(j)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((j,et)=>{this.hasOwnProperty(et)&&(this._$Et.set(et,this[et]),delete this[et])})}createRenderRoot(){var j;const et=(j=this.shadowRoot)!==null&&j!==void 0?j:this.attachShadow(this.constructor.shadowRootOptions);return i$1(et,this.constructor.elementStyles),et}connectedCallback(){var j;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(j=this._$Eg)===null||j===void 0||j.forEach(et=>{var tt;return(tt=et.hostConnected)===null||tt===void 0?void 0:tt.call(et)})}enableUpdating(j){}disconnectedCallback(){var j;(j=this._$Eg)===null||j===void 0||j.forEach(et=>{var tt;return(tt=et.hostDisconnected)===null||tt===void 0?void 0:tt.call(et)})}attributeChangedCallback(j,et,tt){this._$AK(j,tt)}_$ES(j,et,tt=l$2){var nt,rt;const it=this.constructor._$Eh(j,tt);if(it!==void 0&&tt.reflect===!0){const st=((rt=(nt=tt.converter)===null||nt===void 0?void 0:nt.toAttribute)!==null&&rt!==void 0?rt:o$2.toAttribute)(et,tt.type);this._$Ei=j,st==null?this.removeAttribute(it):this.setAttribute(it,st),this._$Ei=null}}_$AK(j,et){var tt,nt,rt;const it=this.constructor,st=it._$Eu.get(j);if(st!==void 0&&this._$Ei!==st){const at=it.getPropertyOptions(st),ot=at.converter,lt=(rt=(nt=(tt=ot)===null||tt===void 0?void 0:tt.fromAttribute)!==null&&nt!==void 0?nt:typeof ot=="function"?ot:null)!==null&&rt!==void 0?rt:o$2.fromAttribute;this._$Ei=st,this[st]=lt(et,at.type),this._$Ei=null}}requestUpdate(j,et,tt){let nt=!0;j!==void 0&&(((tt=tt||this.constructor.getPropertyOptions(j)).hasChanged||n$5)(this[j],et)?(this._$AL.has(j)||this._$AL.set(j,et),tt.reflect===!0&&this._$Ei!==j&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(j,tt))):nt=!1),!this.isUpdatePending&&nt&&(this._$Ep=this._$E_())}async _$E_(){this.isUpdatePending=!0;try{await this._$Ep}catch(et){Promise.reject(et)}const j=this.scheduleUpdate();return j!=null&&await j,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var j;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach((nt,rt)=>this[rt]=nt),this._$Et=void 0);let et=!1;const tt=this._$AL;try{et=this.shouldUpdate(tt),et?(this.willUpdate(tt),(j=this._$Eg)===null||j===void 0||j.forEach(nt=>{var rt;return(rt=nt.hostUpdate)===null||rt===void 0?void 0:rt.call(nt)}),this.update(tt)):this._$EU()}catch(nt){throw et=!1,this._$EU(),nt}et&&this._$AE(tt)}willUpdate(j){}_$AE(j){var et;(et=this._$Eg)===null||et===void 0||et.forEach(tt=>{var nt;return(nt=tt.hostUpdated)===null||nt===void 0?void 0:nt.call(tt)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(j)),this.updated(j)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(j){return!0}update(j){this._$EC!==void 0&&(this._$EC.forEach((et,tt)=>this._$ES(tt,this[tt],et)),this._$EC=void 0),this._$EU()}updated(j){}firstUpdated(j){}}a$1.finalized=!0,a$1.elementProperties=new Map,a$1.elementStyles=[],a$1.shadowRootOptions={mode:"open"},h$1==null||h$1({ReactiveElement:a$1}),((s$3=globalThis.reactiveElementVersions)!==null&&s$3!==void 0?s$3:globalThis.reactiveElementVersions=[]).push("1.3.0");/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/var t$1;const i=globalThis.trustedTypes,s$2=i?i.createPolicy("lit-html",{createHTML:_e=>_e}):void 0,e$1=`lit$${(Math.random()+"").slice(9)}$`,o$1="?"+e$1,n$4=`<${o$1}>`,l$1=document,h=(_e="")=>l$1.createComment(_e),r=_e=>_e===null||typeof _e!="object"&&typeof _e!="function",d=Array.isArray,u=_e=>{var j;return d(_e)||typeof((j=_e)===null||j===void 0?void 0:j[Symbol.iterator])=="function"},c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m=/"/g,g=/^(?:script|style|textarea|title)$/i,p=_e=>(j,...et)=>({_$litType$:_e,strings:j,values:et}),$=p(1),b=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),T=new WeakMap,x=(_e,j,et)=>{var tt,nt;const rt=(tt=et==null?void 0:et.renderBefore)!==null&&tt!==void 0?tt:j;let it=rt._$litPart$;if(it===void 0){const st=(nt=et==null?void 0:et.renderBefore)!==null&&nt!==void 0?nt:null;rt._$litPart$=it=new N(j.insertBefore(h(),st),st,void 0,et!=null?et:{})}return it._$AI(_e),it},A=l$1.createTreeWalker(l$1,129,null,!1),C=(_e,j)=>{const et=_e.length-1,tt=[];let nt,rt=j===2?"<svg>":"",it=c;for(let at=0;at<et;at++){const ot=_e[at];let lt,ut,ct=-1,ht=0;for(;ht<ot.length&&(it.lastIndex=ht,ut=it.exec(ot),ut!==null);)ht=it.lastIndex,it===c?ut[1]==="!--"?it=v:ut[1]!==void 0?it=a:ut[2]!==void 0?(g.test(ut[2])&&(nt=RegExp("</"+ut[2],"g")),it=f):ut[3]!==void 0&&(it=f):it===f?ut[0]===">"?(it=nt!=null?nt:c,ct=-1):ut[1]===void 0?ct=-2:(ct=it.lastIndex-ut[2].length,lt=ut[1],it=ut[3]===void 0?f:ut[3]==='"'?m:_):it===m||it===_?it=f:it===v||it===a?it=c:(it=f,nt=void 0);const pt=it===f&&_e[at+1].startsWith("/>")?" ":"";rt+=it===c?ot+n$4:ct>=0?(tt.push(lt),ot.slice(0,ct)+"$lit$"+ot.slice(ct)+e$1+pt):ot+e$1+(ct===-2?(tt.push(void 0),at):pt)}const st=rt+(_e[et]||"<?>")+(j===2?"</svg>":"");if(!Array.isArray(_e)||!_e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[s$2!==void 0?s$2.createHTML(st):st,tt]};class E{constructor({strings:j,_$litType$:et},tt){let nt;this.parts=[];let rt=0,it=0;const st=j.length-1,at=this.parts,[ot,lt]=C(j,et);if(this.el=E.createElement(ot,tt),A.currentNode=this.el.content,et===2){const ut=this.el.content,ct=ut.firstChild;ct.remove(),ut.append(...ct.childNodes)}for(;(nt=A.nextNode())!==null&&at.length<st;){if(nt.nodeType===1){if(nt.hasAttributes()){const ut=[];for(const ct of nt.getAttributeNames())if(ct.endsWith("$lit$")||ct.startsWith(e$1)){const ht=lt[it++];if(ut.push(ct),ht!==void 0){const pt=nt.getAttribute(ht.toLowerCase()+"$lit$").split(e$1),gt=/([.?@])?(.*)/.exec(ht);at.push({type:1,index:rt,name:gt[2],strings:pt,ctor:gt[1]==="."?M:gt[1]==="?"?H:gt[1]==="@"?I:S})}else at.push({type:6,index:rt})}for(const ct of ut)nt.removeAttribute(ct)}if(g.test(nt.tagName)){const ut=nt.textContent.split(e$1),ct=ut.length-1;if(ct>0){nt.textContent=i?i.emptyScript:"";for(let ht=0;ht<ct;ht++)nt.append(ut[ht],h()),A.nextNode(),at.push({type:2,index:++rt});nt.append(ut[ct],h())}}}else if(nt.nodeType===8)if(nt.data===o$1)at.push({type:2,index:rt});else{let ut=-1;for(;(ut=nt.data.indexOf(e$1,ut+1))!==-1;)at.push({type:7,index:rt}),ut+=e$1.length-1}rt++}}static createElement(j,et){const tt=l$1.createElement("template");return tt.innerHTML=j,tt}}function P(_e,j,et=_e,tt){var nt,rt,it,st;if(j===b)return j;let at=tt!==void 0?(nt=et._$Cl)===null||nt===void 0?void 0:nt[tt]:et._$Cu;const ot=r(j)?void 0:j._$litDirective$;return(at==null?void 0:at.constructor)!==ot&&((rt=at==null?void 0:at._$AO)===null||rt===void 0||rt.call(at,!1),ot===void 0?at=void 0:(at=new ot(_e),at._$AT(_e,et,tt)),tt!==void 0?((it=(st=et)._$Cl)!==null&&it!==void 0?it:st._$Cl=[])[tt]=at:et._$Cu=at),at!==void 0&&(j=P(_e,at._$AS(_e,j.values),at,tt)),j}class V{constructor(j,et){this.v=[],this._$AN=void 0,this._$AD=j,this._$AM=et}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(j){var et;const{el:{content:tt},parts:nt}=this._$AD,rt=((et=j==null?void 0:j.creationScope)!==null&&et!==void 0?et:l$1).importNode(tt,!0);A.currentNode=rt;let it=A.nextNode(),st=0,at=0,ot=nt[0];for(;ot!==void 0;){if(st===ot.index){let lt;ot.type===2?lt=new N(it,it.nextSibling,this,j):ot.type===1?lt=new ot.ctor(it,ot.name,ot.strings,this,j):ot.type===6&&(lt=new L(it,this,j)),this.v.push(lt),ot=nt[++at]}st!==(ot==null?void 0:ot.index)&&(it=A.nextNode(),st++)}return rt}m(j){let et=0;for(const tt of this.v)tt!==void 0&&(tt.strings!==void 0?(tt._$AI(j,tt,et),et+=tt.strings.length-2):tt._$AI(j[et])),et++}}class N{constructor(j,et,tt,nt){var rt;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=j,this._$AB=et,this._$AM=tt,this.options=nt,this._$Cg=(rt=nt==null?void 0:nt.isConnected)===null||rt===void 0||rt}get _$AU(){var j,et;return(et=(j=this._$AM)===null||j===void 0?void 0:j._$AU)!==null&&et!==void 0?et:this._$Cg}get parentNode(){let j=this._$AA.parentNode;const et=this._$AM;return et!==void 0&&j.nodeType===11&&(j=et.parentNode),j}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(j,et=this){j=P(this,j,et),r(j)?j===w||j==null||j===""?(this._$AH!==w&&this._$AR(),this._$AH=w):j!==this._$AH&&j!==b&&this.$(j):j._$litType$!==void 0?this.T(j):j.nodeType!==void 0?this.k(j):u(j)?this.S(j):this.$(j)}A(j,et=this._$AB){return this._$AA.parentNode.insertBefore(j,et)}k(j){this._$AH!==j&&(this._$AR(),this._$AH=this.A(j))}$(j){this._$AH!==w&&r(this._$AH)?this._$AA.nextSibling.data=j:this.k(l$1.createTextNode(j)),this._$AH=j}T(j){var et;const{values:tt,_$litType$:nt}=j,rt=typeof nt=="number"?this._$AC(j):(nt.el===void 0&&(nt.el=E.createElement(nt.h,this.options)),nt);if(((et=this._$AH)===null||et===void 0?void 0:et._$AD)===rt)this._$AH.m(tt);else{const it=new V(rt,this),st=it.p(this.options);it.m(tt),this.k(st),this._$AH=it}}_$AC(j){let et=T.get(j.strings);return et===void 0&&T.set(j.strings,et=new E(j)),et}S(j){d(this._$AH)||(this._$AH=[],this._$AR());const et=this._$AH;let tt,nt=0;for(const rt of j)nt===et.length?et.push(tt=new N(this.A(h()),this.A(h()),this,this.options)):tt=et[nt],tt._$AI(rt),nt++;nt<et.length&&(this._$AR(tt&&tt._$AB.nextSibling,nt),et.length=nt)}_$AR(j=this._$AA.nextSibling,et){var tt;for((tt=this._$AP)===null||tt===void 0||tt.call(this,!1,!0,et);j&&j!==this._$AB;){const nt=j.nextSibling;j.remove(),j=nt}}setConnected(j){var et;this._$AM===void 0&&(this._$Cg=j,(et=this._$AP)===null||et===void 0||et.call(this,j))}}class S{constructor(j,et,tt,nt,rt){this.type=1,this._$AH=w,this._$AN=void 0,this.element=j,this.name=et,this._$AM=nt,this.options=rt,tt.length>2||tt[0]!==""||tt[1]!==""?(this._$AH=Array(tt.length-1).fill(new String),this.strings=tt):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(j,et=this,tt,nt){const rt=this.strings;let it=!1;if(rt===void 0)j=P(this,j,et,0),it=!r(j)||j!==this._$AH&&j!==b,it&&(this._$AH=j);else{const st=j;let at,ot;for(j=rt[0],at=0;at<rt.length-1;at++)ot=P(this,st[tt+at],et,at),ot===b&&(ot=this._$AH[at]),it||(it=!r(ot)||ot!==this._$AH[at]),ot===w?j=w:j!==w&&(j+=(ot!=null?ot:"")+rt[at+1]),this._$AH[at]=ot}it&&!nt&&this.C(j)}C(j){j===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,j!=null?j:"")}}class M extends S{constructor(){super(...arguments),this.type=3}C(j){this.element[this.name]=j===w?void 0:j}}const k=i?i.emptyScript:"";class H extends S{constructor(){super(...arguments),this.type=4}C(j){j&&j!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S{constructor(j,et,tt,nt,rt){super(j,et,tt,nt,rt),this.type=5}_$AI(j,et=this){var tt;if((j=(tt=P(this,j,et,0))!==null&&tt!==void 0?tt:w)===b)return;const nt=this._$AH,rt=j===w&&nt!==w||j.capture!==nt.capture||j.once!==nt.once||j.passive!==nt.passive,it=j!==w&&(nt===w||rt);rt&&this.element.removeEventListener(this.name,this,nt),it&&this.element.addEventListener(this.name,this,j),this._$AH=j}handleEvent(j){var et,tt;typeof this._$AH=="function"?this._$AH.call((tt=(et=this.options)===null||et===void 0?void 0:et.host)!==null&&tt!==void 0?tt:this.element,j):this._$AH.handleEvent(j)}}class L{constructor(j,et,tt){this.element=j,this.type=6,this._$AN=void 0,this._$AM=et,this.options=tt}get _$AU(){return this._$AM._$AU}_$AI(j){P(this,j)}}const z=window.litHtmlPolyfillSupport;z==null||z(E,N),((t$1=globalThis.litHtmlVersions)!==null&&t$1!==void 0?t$1:globalThis.litHtmlVersions=[]).push("2.2.0");/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/var l,o;class s$1 extends a$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var j,et;const tt=super.createRenderRoot();return(j=(et=this.renderOptions).renderBefore)!==null&&j!==void 0||(et.renderBefore=tt.firstChild),tt}update(j){const et=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(j),this._$Dt=x(et,this.renderRoot,this.renderOptions)}connectedCallback(){var j;super.connectedCallback(),(j=this._$Dt)===null||j===void 0||j.setConnected(!0)}disconnectedCallback(){var j;super.disconnectedCallback(),(j=this._$Dt)===null||j===void 0||j.setConnected(!1)}render(){return b}}s$1.finalized=!0,s$1._$litElement$=!0,(l=globalThis.litElementHydrateSupport)===null||l===void 0||l.call(globalThis,{LitElement:s$1});const n$3=globalThis.litElementPolyfillSupport;n$3==null||n$3({LitElement:s$1}),((o=globalThis.litElementVersions)!==null&&o!==void 0?o:globalThis.litElementVersions=[]).push("3.2.0");/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const isCEPolyfill=typeof window!="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0,removeNodes=(_e,j,et=null)=>{for(;j!==et;){const tt=j.nextSibling;_e.removeChild(j),j=tt}};/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const marker=`{{lit-${String(Math.random()).slice(2)}}}`,nodeMarker=`<!--${marker}-->`,markerRegex=new RegExp(`${marker}|${nodeMarker}`),boundAttributeSuffix="$lit$";class Template{constructor(j,et){this.parts=[],this.element=et;const tt=[],nt=[],rt=document.createTreeWalker(et.content,133,null,!1);let it=0,st=-1,at=0;const{strings:ot,values:{length:lt}}=j;for(;at<lt;){const ut=rt.nextNode();if(ut===null){rt.currentNode=nt.pop();continue}if(st++,ut.nodeType===1){if(ut.hasAttributes()){const ct=ut.attributes,{length:ht}=ct;let pt=0;for(let gt=0;gt<ht;gt++)endsWith(ct[gt].name,boundAttributeSuffix)&&pt++;for(;pt-- >0;){const gt=ot[at],vt=lastAttributeNameRegex.exec(gt)[2],ft=vt.toLowerCase()+boundAttributeSuffix,mt=ut.getAttribute(ft);ut.removeAttribute(ft);const xt=mt.split(markerRegex);this.parts.push({type:"attribute",index:st,name:vt,strings:xt}),at+=xt.length-1}}ut.tagName==="TEMPLATE"&&(nt.push(ut),rt.currentNode=ut.content)}else if(ut.nodeType===3){const ct=ut.data;if(ct.indexOf(marker)>=0){const ht=ut.parentNode,pt=ct.split(markerRegex),gt=pt.length-1;for(let vt=0;vt<gt;vt++){let ft,mt=pt[vt];if(mt==="")ft=createMarker();else{const xt=lastAttributeNameRegex.exec(mt);xt!==null&&endsWith(xt[2],boundAttributeSuffix)&&(mt=mt.slice(0,xt.index)+xt[1]+xt[2].slice(0,-boundAttributeSuffix.length)+xt[3]),ft=document.createTextNode(mt)}ht.insertBefore(ft,ut),this.parts.push({type:"node",index:++st})}pt[gt]===""?(ht.insertBefore(createMarker(),ut),tt.push(ut)):ut.data=pt[gt],at+=gt}}else if(ut.nodeType===8)if(ut.data===marker){const ct=ut.parentNode;(ut.previousSibling===null||st===it)&&(st++,ct.insertBefore(createMarker(),ut)),it=st,this.parts.push({type:"node",index:st}),ut.nextSibling===null?ut.data="":(tt.push(ut),st--),at++}else{let ct=-1;for(;(ct=ut.data.indexOf(marker,ct+1))!==-1;)this.parts.push({type:"node",index:-1}),at++}}for(const ut of tt)ut.parentNode.removeChild(ut)}}const endsWith=(_e,j)=>{const et=_e.length-j.length;return et>=0&&_e.slice(et)===j},isTemplatePartActive=_e=>_e.index!==-1,createMarker=()=>document.createComment(""),lastAttributeNameRegex=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const walkerNodeFilter=133;function removeNodesFromTemplate(_e,j){const{element:{content:et},parts:tt}=_e,nt=document.createTreeWalker(et,walkerNodeFilter,null,!1);let rt=nextActiveIndexInTemplateParts(tt),it=tt[rt],st=-1,at=0;const ot=[];let lt=null;for(;nt.nextNode();){st++;const ut=nt.currentNode;for(ut.previousSibling===lt&&(lt=null),j.has(ut)&&(ot.push(ut),lt===null&&(lt=ut)),lt!==null&&at++;it!==void 0&&it.index===st;)it.index=lt!==null?-1:it.index-at,rt=nextActiveIndexInTemplateParts(tt,rt),it=tt[rt]}ot.forEach(ut=>ut.parentNode.removeChild(ut))}const countNodes=_e=>{let j=_e.nodeType===11?0:1;const et=document.createTreeWalker(_e,walkerNodeFilter,null,!1);for(;et.nextNode();)j++;return j},nextActiveIndexInTemplateParts=(_e,j=-1)=>{for(let et=j+1;et<_e.length;et++){const tt=_e[et];if(isTemplatePartActive(tt))return et}return-1};function insertNodeIntoTemplate(_e,j,et=null){const{element:{content:tt},parts:nt}=_e;if(et==null){tt.appendChild(j);return}const rt=document.createTreeWalker(tt,walkerNodeFilter,null,!1);let it=nextActiveIndexInTemplateParts(nt),st=0,at=-1;for(;rt.nextNode();)for(at++,rt.currentNode===et&&(st=countNodes(j),et.parentNode.insertBefore(j,et));it!==-1&&nt[it].index===at;){if(st>0){for(;it!==-1;)nt[it].index+=st,it=nextActiveIndexInTemplateParts(nt,it);return}it=nextActiveIndexInTemplateParts(nt,it)}}/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const directives=new WeakMap,isDirective=_e=>typeof _e=="function"&&directives.has(_e);/**
* @license
* Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const noChange={},nothing={};/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/class TemplateInstance{constructor(j,et,tt){this.__parts=[],this.template=j,this.processor=et,this.options=tt}update(j){let et=0;for(const tt of this.__parts)tt!==void 0&&tt.setValue(j[et]),et++;for(const tt of this.__parts)tt!==void 0&&tt.commit()}_clone(){const j=isCEPolyfill?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),et=[],tt=this.template.parts,nt=document.createTreeWalker(j,133,null,!1);let rt=0,it=0,st,at=nt.nextNode();for(;rt<tt.length;){if(st=tt[rt],!isTemplatePartActive(st)){this.__parts.push(void 0),rt++;continue}for(;it<st.index;)it++,at.nodeName==="TEMPLATE"&&(et.push(at),nt.currentNode=at.content),(at=nt.nextNode())===null&&(nt.currentNode=et.pop(),at=nt.nextNode());if(st.type==="node"){const ot=this.processor.handleTextExpression(this.options);ot.insertAfterNode(at.previousSibling),this.__parts.push(ot)}else this.__parts.push(...this.processor.handleAttributeExpressions(at,st.name,st.strings,this.options));rt++}return isCEPolyfill&&(document.adoptNode(j),customElements.upgrade(j)),j}}/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const policy=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:_e=>_e}),commentMarker=` ${marker} `;class TemplateResult{constructor(j,et,tt,nt){this.strings=j,this.values=et,this.type=tt,this.processor=nt}getHTML(){const j=this.strings.length-1;let et="",tt=!1;for(let nt=0;nt<j;nt++){const rt=this.strings[nt],it=rt.lastIndexOf("<!--");tt=(it>-1||tt)&&rt.indexOf("-->",it+1)===-1;const st=lastAttributeNameRegex.exec(rt);st===null?et+=rt+(tt?commentMarker:nodeMarker):et+=rt.substr(0,st.index)+st[1]+st[2]+boundAttributeSuffix+st[3]+marker}return et+=this.strings[j],et}getTemplateElement(){const j=document.createElement("template");let et=this.getHTML();return policy!==void 0&&(et=policy.createHTML(et)),j.innerHTML=et,j}}/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const isPrimitive=_e=>_e===null||!(typeof _e=="object"||typeof _e=="function"),isIterable=_e=>Array.isArray(_e)||!!(_e&&_e[Symbol.iterator]);class NodePart{constructor(j){this.value=void 0,this.__pendingValue=void 0,this.options=j}appendInto(j){this.startNode=j.appendChild(createMarker()),this.endNode=j.appendChild(createMarker())}insertAfterNode(j){this.startNode=j,this.endNode=j.nextSibling}appendIntoPart(j){j.__insert(this.startNode=createMarker()),j.__insert(this.endNode=createMarker())}insertAfterPart(j){j.__insert(this.startNode=createMarker()),this.endNode=j.endNode,j.endNode=this.startNode}setValue(j){this.__pendingValue=j}commit(){if(this.startNode.parentNode===null)return;for(;isDirective(this.__pendingValue);){const et=this.__pendingValue;this.__pendingValue=noChange,et(this)}const j=this.__pendingValue;j!==noChange&&(isPrimitive(j)?j!==this.value&&this.__commitText(j):j instanceof TemplateResult?this.__commitTemplateResult(j):j instanceof Node?this.__commitNode(j):isIterable(j)?this.__commitIterable(j):j===nothing?(this.value=nothing,this.clear()):this.__commitText(j))}__insert(j){this.endNode.parentNode.insertBefore(j,this.endNode)}__commitNode(j){this.value!==j&&(this.clear(),this.__insert(j),this.value=j)}__commitText(j){const et=this.startNode.nextSibling;j=j==null?"":j;const tt=typeof j=="string"?j:String(j);et===this.endNode.previousSibling&&et.nodeType===3?et.data=tt:this.__commitNode(document.createTextNode(tt)),this.value=j}__commitTemplateResult(j){const et=this.options.templateFactory(j);if(this.value instanceof TemplateInstance&&this.value.template===et)this.value.update(j.values);else{const tt=new TemplateInstance(et,j.processor,this.options),nt=tt._clone();tt.update(j.values),this.__commitNode(nt),this.value=tt}}__commitIterable(j){Array.isArray(this.value)||(this.value=[],this.clear());const et=this.value;let tt=0,nt;for(const rt of j)nt=et[tt],nt===void 0&&(nt=new NodePart(this.options),et.push(nt),tt===0?nt.appendIntoPart(this):nt.insertAfterPart(et[tt-1])),nt.setValue(rt),nt.commit(),tt++;tt<et.length&&(et.length=tt,this.clear(nt&&nt.endNode))}clear(j=this.startNode){removeNodes(this.startNode.parentNode,j.nextSibling,this.endNode)}}let eventOptionsSupported=!1;(()=>{try{const _e={get capture(){return eventOptionsSupported=!0,!1}};window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch{}})();/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/function templateFactory(_e){let j=templateCaches.get(_e.type);j===void 0&&(j={stringsArray:new WeakMap,keyString:new Map},templateCaches.set(_e.type,j));let et=j.stringsArray.get(_e.strings);if(et!==void 0)return et;const tt=_e.strings.join(marker);return et=j.keyString.get(tt),et===void 0&&(et=new Template(_e,_e.getTemplateElement()),j.keyString.set(tt,et)),j.stringsArray.set(_e.strings,et),et}const templateCaches=new Map;/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const parts=new WeakMap,render$1=(_e,j,et)=>{let tt=parts.get(j);tt===void 0&&(removeNodes(j,j.firstChild),parts.set(j,tt=new NodePart(Object.assign({templateFactory},et))),tt.appendInto(j)),tt.setValue(_e),tt.commit()};/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/typeof window!="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const getTemplateCacheKey=(_e,j)=>`${_e}--${j}`;let compatibleShadyCSSVersion=!0;typeof window.ShadyCSS=="undefined"?compatibleShadyCSSVersion=!1:typeof window.ShadyCSS.prepareTemplateDom=="undefined"&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),compatibleShadyCSSVersion=!1);const shadyTemplateFactory=_e=>j=>{const et=getTemplateCacheKey(j.type,_e);let tt=templateCaches.get(et);tt===void 0&&(tt={stringsArray:new WeakMap,keyString:new Map},templateCaches.set(et,tt));let nt=tt.stringsArray.get(j.strings);if(nt!==void 0)return nt;const rt=j.strings.join(marker);if(nt=tt.keyString.get(rt),nt===void 0){const it=j.getTemplateElement();compatibleShadyCSSVersion&&window.ShadyCSS.prepareTemplateDom(it,_e),nt=new Template(j,it),tt.keyString.set(rt,nt)}return tt.stringsArray.set(j.strings,nt),nt},TEMPLATE_TYPES=["html","svg"],removeStylesFromLitTemplates=_e=>{TEMPLATE_TYPES.forEach(j=>{const et=templateCaches.get(getTemplateCacheKey(j,_e));et!==void 0&&et.keyString.forEach(tt=>{const{element:{content:nt}}=tt,rt=new Set;Array.from(nt.querySelectorAll("style")).forEach(it=>{rt.add(it)}),removeNodesFromTemplate(tt,rt)})})},shadyRenderSet=new Set,prepareTemplateStyles=(_e,j,et)=>{shadyRenderSet.add(_e);const tt=et?et.element:document.createElement("template"),nt=j.querySelectorAll("style"),{length:rt}=nt;if(rt===0){window.ShadyCSS.prepareTemplateStyles(tt,_e);return}const it=document.createElement("style");for(let ot=0;ot<rt;ot++){const lt=nt[ot];lt.parentNode.removeChild(lt),it.textContent+=lt.textContent}removeStylesFromLitTemplates(_e);const st=tt.content;et?insertNodeIntoTemplate(et,it,st.firstChild):st.insertBefore(it,st.firstChild),window.ShadyCSS.prepareTemplateStyles(tt,_e);const at=st.querySelector("style");if(window.ShadyCSS.nativeShadow&&at!==null)j.insertBefore(at.cloneNode(!0),j.firstChild);else if(et){st.insertBefore(it,st.firstChild);const ot=new Set;ot.add(it),removeNodesFromTemplate(et,ot)}},render=(_e,j,et)=>{if(!et||typeof et!="object"||!et.scopeName)throw new Error("The `scopeName` option is required.");const tt=et.scopeName,nt=parts.has(j),rt=compatibleShadyCSSVersion&&j.nodeType===11&&!!j.host,it=rt&&!shadyRenderSet.has(tt),st=it?document.createDocumentFragment():j;if(render$1(_e,st,Object.assign({templateFactory:shadyTemplateFactory(tt)},et)),it){const at=parts.get(st);parts.delete(st);const ot=at.value instanceof TemplateInstance?at.value.template:void 0;prepareTemplateStyles(tt,st,ot),removeNodes(j,j.firstChild),j.appendChild(st),parts.set(j,at)}!nt&&rt&&window.ShadyCSS.styleElement(j.host)};/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/var _a;window.JSCompiler_renameProperty=(_e,j)=>_e;const defaultConverter={toAttribute(_e,j){switch(j){case Boolean:return _e?"":null;case Object:case Array:return _e==null?_e:JSON.stringify(_e)}return _e},fromAttribute(_e,j){switch(j){case Boolean:return _e!==null;case Number:return _e===null?null:Number(_e);case Object:case Array:return JSON.parse(_e)}return _e}},notEqual=(_e,j)=>j!==_e&&(j===j||_e===_e),defaultPropertyDeclaration={attribute:!0,type:String,converter:defaultConverter,reflect:!1,hasChanged:notEqual},STATE_HAS_UPDATED=1,STATE_UPDATE_REQUESTED=1<<2,STATE_IS_REFLECTING_TO_ATTRIBUTE=1<<3,STATE_IS_REFLECTING_TO_PROPERTY=1<<4,finalized="finalized";class UpdatingElement extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const j=[];return this._classProperties.forEach((et,tt)=>{const nt=this._attributeNameForProperty(tt,et);nt!==void 0&&(this._attributeToPropertyMap.set(nt,tt),j.push(nt))}),j}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const j=Object.getPrototypeOf(this)._classProperties;j!==void 0&&j.forEach((et,tt)=>this._classProperties.set(tt,et))}}static createProperty(j,et=defaultPropertyDeclaration){if(this._ensureClassProperties(),this._classProperties.set(j,et),et.noAccessor||this.prototype.hasOwnProperty(j))return;const tt=typeof j=="symbol"?Symbol():`__${j}`,nt=this.getPropertyDescriptor(j,tt,et);nt!==void 0&&Object.defineProperty(this.prototype,j,nt)}static getPropertyDescriptor(j,et,tt){return{get(){return this[et]},set(nt){const rt=this[j];this[et]=nt,this.requestUpdateInternal(j,rt,tt)},configurable:!0,enumerable:!0}}static getPropertyOptions(j){return this._classProperties&&this._classProperties.get(j)||defaultPropertyDeclaration}static finalize(){const j=Object.getPrototypeOf(this);if(j.hasOwnProperty(finalized)||j.finalize(),this[finalized]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const et=this.properties,tt=[...Object.getOwnPropertyNames(et),...typeof Object.getOwnPropertySymbols=="function"?Object.getOwnPropertySymbols(et):[]];for(const nt of tt)this.createProperty(nt,et[nt])}}static _attributeNameForProperty(j,et){const tt=et.attribute;return tt===!1?void 0:typeof tt=="string"?tt:typeof j=="string"?j.toLowerCase():void 0}static _valueHasChanged(j,et,tt=notEqual){return tt(j,et)}static _propertyValueFromAttribute(j,et){const tt=et.type,nt=et.converter||defaultConverter,rt=typeof nt=="function"?nt:nt.fromAttribute;return rt?rt(j,tt):j}static _propertyValueToAttribute(j,et){if(et.reflect===void 0)return;const tt=et.type,nt=et.converter;return(nt&&nt.toAttribute||defaultConverter.toAttribute)(j,tt)}initialize(){this._updateState=0,this._updatePromise=new Promise(j=>this._enableUpdatingResolver=j),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((j,et)=>{if(this.hasOwnProperty(et)){const tt=this[et];delete this[et],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(et,tt)}})}_applyInstanceProperties(){this._instanceProperties.forEach((j,et)=>this[et]=j),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){this._enableUpdatingResolver!==void 0&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(j,et,tt){et!==tt&&this._attributeToProperty(j,tt)}_propertyToAttribute(j,et,tt=defaultPropertyDeclaration){const nt=this.constructor,rt=nt._attributeNameForProperty(j,tt);if(rt!==void 0){const it=nt._propertyValueToAttribute(et,tt);if(it===void 0)return;this._updateState=this._updateState|STATE_IS_REFLECTING_TO_ATTRIBUTE,it==null?this.removeAttribute(rt):this.setAttribute(rt,it),this._updateState=this._updateState&~STATE_IS_REFLECTING_TO_ATTRIBUTE}}_attributeToProperty(j,et){if(this._updateState&STATE_IS_REFLECTING_TO_ATTRIBUTE)return;const tt=this.constructor,nt=tt._attributeToPropertyMap.get(j);if(nt!==void 0){const rt=tt.getPropertyOptions(nt);this._updateState=this._updateState|STATE_IS_REFLECTING_TO_PROPERTY,this[nt]=tt._propertyValueFromAttribute(et,rt),this._updateState=this._updateState&~STATE_IS_REFLECTING_TO_PROPERTY}}requestUpdateInternal(j,et,tt){let nt=!0;if(j!==void 0){const rt=this.constructor;tt=tt||rt.getPropertyOptions(j),rt._valueHasChanged(this[j],et,tt.hasChanged)?(this._changedProperties.has(j)||this._changedProperties.set(j,et),tt.reflect===!0&&!(this._updateState&STATE_IS_REFLECTING_TO_PROPERTY)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(j,tt))):nt=!1}!this._hasRequestedUpdate&&nt&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(j,et){return this.requestUpdateInternal(j,et),this.updateComplete}async _enqueueUpdate(){this._updateState=this._updateState|STATE_UPDATE_REQUESTED;try{await this._updatePromise}catch{}const j=this.performUpdate();return j!=null&&await j,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return this._updateState&STATE_UPDATE_REQUESTED}get hasUpdated(){return this._updateState&STATE_HAS_UPDATED}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let j=!1;const et=this._changedProperties;try{j=this.shouldUpdate(et),j?this.update(et):this._markUpdated()}catch(tt){throw j=!1,this._markUpdated(),tt}j&&(this._updateState&STATE_HAS_UPDATED||(this._updateState=this._updateState|STATE_HAS_UPDATED,this.firstUpdated(et)),this.updated(et))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~STATE_UPDATE_REQUESTED}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._updatePromise}shouldUpdate(j){return!0}update(j){this._reflectingProperties!==void 0&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((et,tt)=>this._propertyToAttribute(tt,this[tt],et)),this._reflectingProperties=void 0),this._markUpdated()}updated(j){}firstUpdated(j){}}_a=finalized,UpdatingElement[_a]=!0;/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/const standardProperty=(_e,j)=>j.kind==="method"&&j.descriptor&&!("value"in j.descriptor)?Object.assign(Object.assign({},j),{finisher(et){et.createProperty(j.key,_e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){typeof j.initializer=="function"&&(this[j.key]=j.initializer.call(this))},finisher(et){et.createProperty(j.key,_e)}},legacyProperty=(_e,j,et)=>{j.constructor.createProperty(et,_e)};function property(_e){return(j,et)=>et!==void 0?legacyProperty(_e,j,et):standardProperty(_e,j)}function internalProperty(_e){return property({attribute:!1,hasChanged:_e==null?void 0:_e.hasChanged})}const state=_e=>internalProperty(_e);function query(_e,j){return(et,tt)=>{const nt={get(){return this.renderRoot.querySelector(_e)},enumerable:!0,configurable:!0};if(j){const rt=tt!==void 0?tt:et.key,it=typeof rt=="symbol"?Symbol():`__${rt}`;nt.get=function(){return this[it]===void 0&&(this[it]=this.renderRoot.querySelector(_e)),this[it]}}return tt!==void 0?legacyQuery(nt,et,tt):standardQuery(nt,et)}}const legacyQuery=(_e,j,et)=>{Object.defineProperty(j,et,_e)},standardQuery=(_e,j)=>({kind:"method",placement:"prototype",key:j.key,descriptor:_e});/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const supportsAdoptingStyleSheets=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,constructionToken=Symbol();class CSSResult{constructor(j,et){if(et!==constructionToken)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=j}get styleSheet(){return this._styleSheet===void 0&&(supportsAdoptingStyleSheets?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const unsafeCSS=_e=>new CSSResult(String(_e),constructionToken);/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");const renderNotImplemented={};class LitElement extends UpdatingElement{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const j=this.getStyles();if(Array.isArray(j)){const et=(rt,it)=>rt.reduceRight((st,at)=>Array.isArray(at)?et(at,st):(st.add(at),st),it),tt=et(j,new Set),nt=[];tt.forEach(rt=>nt.unshift(rt)),this._styles=nt}else this._styles=j===void 0?[]:[j];this._styles=this._styles.map(et=>{if(et instanceof CSSStyleSheet&&!supportsAdoptingStyleSheets){const tt=Array.prototype.slice.call(et.cssRules).reduce((nt,rt)=>nt+rt.cssText,"");return unsafeCSS(tt)}return et})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow(this.constructor.shadowRootOptions)}adoptStyles(){const j=this.constructor._styles;j.length!==0&&(window.ShadyCSS!==void 0&&!window.ShadyCSS.nativeShadow?window.ShadyCSS.ScopingShim.prepareAdoptedCssText(j.map(et=>et.cssText),this.localName):supportsAdoptingStyleSheets?this.renderRoot.adoptedStyleSheets=j.map(et=>et instanceof CSSStyleSheet?et:et.styleSheet):this._needsShimAdoptedStyleSheets=!0)}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(j){const et=this.render();super.update(j),et!==renderNotImplemented&&this.constructor.render(et,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(tt=>{const nt=document.createElement("style");nt.textContent=tt.cssText,this.renderRoot.appendChild(nt)}))}render(){return renderNotImplemented}}LitElement.finalized=!0,LitElement.render=render,LitElement.shadowRootOptions={mode:"open"};const eggTypes=["modal"],getTimestamp=_e=>{if(_e)try{return new Date(_e).getTime()}catch(j){console.warn("getTimestamp: invalid timeStr format",j)}return new Date().getTime()},validatorTime=(_e,j,et)=>{let tt=!1;if(_e&&j)try{const nt=et?getTimestamp(et):getTimestamp(),rt=getTimestamp(_e),it=getTimestamp(j);nt>=rt&&nt<=it&&(tt=!0)}catch(nt){console.warn("validatorTime: invalid startTime or endTime format",nt)}return tt},validatorTimeInterval=(_e,j)=>{let et=!1;return _e.length&&(et=j?validatorTime(_e[0],_e[1],j):validatorTime(_e[0],_e[1])),et};var style$1=`#wc-egg-modal-mask {
  width: 100%;
  height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
  background-color: rgba(0, 0, 0, 0.45);
}
`;const setLocalStorage=(_e,j)=>{!_e||(typeof j!="string"&&(j=JSON.stringify(j)),window.localStorage.setItem(_e,j))},getLocalStorage=_e=>{if(_e)return window.localStorage.getItem(_e)};var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof commonjsGlobal$2!="undefined"?commonjsGlobal$2:typeof self!="undefined"?self:{};function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var j=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(_e).forEach(function(et){var tt=Object.getOwnPropertyDescriptor(_e,et);Object.defineProperty(j,et,tt.get?tt:{enumerable:!0,get:function(){return _e[et]}})}),j}var dayjs_min={exports:{}};(function(_e,j){(function(et,tt){_e.exports=tt()})(commonjsGlobal,function(){var et=1e3,tt=6e4,nt=36e5,rt="millisecond",it="second",st="minute",at="hour",ot="day",lt="week",ut="month",ct="quarter",ht="year",pt="date",gt="Invalid Date",vt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ft=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,mt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},xt=function(Gt,Ft,kt){var It=String(Gt);return!It||It.length>=Ft?Gt:""+Array(Ft+1-It.length).join(kt)+Gt},_t={s:xt,z:function(Gt){var Ft=-Gt.utcOffset(),kt=Math.abs(Ft),It=Math.floor(kt/60),Ot=kt%60;return(Ft<=0?"+":"-")+xt(It,2,"0")+":"+xt(Ot,2,"0")},m:function Gt(Ft,kt){if(Ft.date()<kt.date())return-Gt(kt,Ft);var It=12*(kt.year()-Ft.year())+(kt.month()-Ft.month()),Ot=Ft.clone().add(It,ut),Ut=kt-Ot<0,zt=Ft.clone().add(It+(Ut?-1:1),ut);return+(-(It+(kt-Ot)/(Ut?Ot-zt:zt-Ot))||0)},a:function(Gt){return Gt<0?Math.ceil(Gt)||0:Math.floor(Gt)},p:function(Gt){return{M:ut,y:ht,w:lt,d:ot,D:pt,h:at,m:st,s:it,ms:rt,Q:ct}[Gt]||String(Gt||"").toLowerCase().replace(/s$/,"")},u:function(Gt){return Gt===void 0}},Tt="en",wt={};wt[Tt]=mt;var bt=function(Gt){return Gt instanceof Rt},Ct=function(Gt,Ft,kt){var It;if(!Gt)return Tt;if(typeof Gt=="string")wt[Gt]&&(It=Gt),Ft&&(wt[Gt]=Ft,It=Gt);else{var Ot=Gt.name;wt[Ot]=Gt,It=Ot}return!kt&&It&&(Tt=It),It||!kt&&Tt},Lt=function(Gt,Ft){if(bt(Gt))return Gt.clone();var kt=typeof Ft=="object"?Ft:{};return kt.date=Gt,kt.args=arguments,new Rt(kt)},$t=_t;$t.l=Ct,$t.i=bt,$t.w=function(Gt,Ft){return Lt(Gt,{locale:Ft.$L,utc:Ft.$u,x:Ft.$x,$offset:Ft.$offset})};var Rt=function(){function Gt(kt){this.$L=Ct(kt.locale,null,!0),this.parse(kt)}var Ft=Gt.prototype;return Ft.parse=function(kt){this.$d=function(It){var Ot=It.date,Ut=It.utc;if(Ot===null)return new Date(NaN);if($t.u(Ot))return new Date;if(Ot instanceof Date)return new Date(Ot);if(typeof Ot=="string"&&!/Z$/i.test(Ot)){var zt=Ot.match(vt);if(zt){var Ht=zt[2]-1||0,Vt=(zt[7]||"0").substring(0,3);return Ut?new Date(Date.UTC(zt[1],Ht,zt[3]||1,zt[4]||0,zt[5]||0,zt[6]||0,Vt)):new Date(zt[1],Ht,zt[3]||1,zt[4]||0,zt[5]||0,zt[6]||0,Vt)}}return new Date(Ot)}(kt),this.$x=kt.x||{},this.init()},Ft.init=function(){var kt=this.$d;this.$y=kt.getFullYear(),this.$M=kt.getMonth(),this.$D=kt.getDate(),this.$W=kt.getDay(),this.$H=kt.getHours(),this.$m=kt.getMinutes(),this.$s=kt.getSeconds(),this.$ms=kt.getMilliseconds()},Ft.$utils=function(){return $t},Ft.isValid=function(){return this.$d.toString()!==gt},Ft.isSame=function(kt,It){var Ot=Lt(kt);return this.startOf(It)<=Ot&&Ot<=this.endOf(It)},Ft.isAfter=function(kt,It){return Lt(kt)<this.startOf(It)},Ft.isBefore=function(kt,It){return this.endOf(It)<Lt(kt)},Ft.$g=function(kt,It,Ot){return $t.u(kt)?this[It]:this.set(Ot,kt)},Ft.unix=function(){return Math.floor(this.valueOf()/1e3)},Ft.valueOf=function(){return this.$d.getTime()},Ft.startOf=function(kt,It){var Ot=this,Ut=!!$t.u(It)||It,zt=$t.p(kt),Ht=function(Dn,Mn){var Fn=$t.w(Ot.$u?Date.UTC(Ot.$y,Mn,Dn):new Date(Ot.$y,Mn,Dn),Ot);return Ut?Fn:Fn.endOf(ot)},Vt=function(Dn,Mn){return $t.w(Ot.toDate()[Dn].apply(Ot.toDate("s"),(Ut?[0,0,0,0]:[23,59,59,999]).slice(Mn)),Ot)},qt=this.$W,an=this.$M,gn=this.$D,yn="set"+(this.$u?"UTC":"");switch(zt){case ht:return Ut?Ht(1,0):Ht(31,11);case ut:return Ut?Ht(1,an):Ht(0,an+1);case lt:var fn=this.$locale().weekStart||0,In=(qt<fn?qt+7:qt)-fn;return Ht(Ut?gn-In:gn+(6-In),an);case ot:case pt:return Vt(yn+"Hours",0);case at:return Vt(yn+"Minutes",1);case st:return Vt(yn+"Seconds",2);case it:return Vt(yn+"Milliseconds",3);default:return this.clone()}},Ft.endOf=function(kt){return this.startOf(kt,!1)},Ft.$set=function(kt,It){var Ot,Ut=$t.p(kt),zt="set"+(this.$u?"UTC":""),Ht=(Ot={},Ot[ot]=zt+"Date",Ot[pt]=zt+"Date",Ot[ut]=zt+"Month",Ot[ht]=zt+"FullYear",Ot[at]=zt+"Hours",Ot[st]=zt+"Minutes",Ot[it]=zt+"Seconds",Ot[rt]=zt+"Milliseconds",Ot)[Ut],Vt=Ut===ot?this.$D+(It-this.$W):It;if(Ut===ut||Ut===ht){var qt=this.clone().set(pt,1);qt.$d[Ht](Vt),qt.init(),this.$d=qt.set(pt,Math.min(this.$D,qt.daysInMonth())).$d}else Ht&&this.$d[Ht](Vt);return this.init(),this},Ft.set=function(kt,It){return this.clone().$set(kt,It)},Ft.get=function(kt){return this[$t.p(kt)]()},Ft.add=function(kt,It){var Ot,Ut=this;kt=Number(kt);var zt=$t.p(It),Ht=function(an){var gn=Lt(Ut);return $t.w(gn.date(gn.date()+Math.round(an*kt)),Ut)};if(zt===ut)return this.set(ut,this.$M+kt);if(zt===ht)return this.set(ht,this.$y+kt);if(zt===ot)return Ht(1);if(zt===lt)return Ht(7);var Vt=(Ot={},Ot[st]=tt,Ot[at]=nt,Ot[it]=et,Ot)[zt]||1,qt=this.$d.getTime()+kt*Vt;return $t.w(qt,this)},Ft.subtract=function(kt,It){return this.add(-1*kt,It)},Ft.format=function(kt){var It=this,Ot=this.$locale();if(!this.isValid())return Ot.invalidDate||gt;var Ut=kt||"YYYY-MM-DDTHH:mm:ssZ",zt=$t.z(this),Ht=this.$H,Vt=this.$m,qt=this.$M,an=Ot.weekdays,gn=Ot.months,yn=function(Mn,Fn,Vn,mn){return Mn&&(Mn[Fn]||Mn(It,Ut))||Vn[Fn].substr(0,mn)},fn=function(Mn){return $t.s(Ht%12||12,Mn,"0")},In=Ot.meridiem||function(Mn,Fn,Vn){var mn=Mn<12?"AM":"PM";return Vn?mn.toLowerCase():mn},Dn={YY:String(this.$y).slice(-2),YYYY:this.$y,M:qt+1,MM:$t.s(qt+1,2,"0"),MMM:yn(Ot.monthsShort,qt,gn,3),MMMM:yn(gn,qt),D:this.$D,DD:$t.s(this.$D,2,"0"),d:String(this.$W),dd:yn(Ot.weekdaysMin,this.$W,an,2),ddd:yn(Ot.weekdaysShort,this.$W,an,3),dddd:an[this.$W],H:String(Ht),HH:$t.s(Ht,2,"0"),h:fn(1),hh:fn(2),a:In(Ht,Vt,!0),A:In(Ht,Vt,!1),m:String(Vt),mm:$t.s(Vt,2,"0"),s:String(this.$s),ss:$t.s(this.$s,2,"0"),SSS:$t.s(this.$ms,3,"0"),Z:zt};return Ut.replace(ft,function(Mn,Fn){return Fn||Dn[Mn]||zt.replace(":","")})},Ft.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Ft.diff=function(kt,It,Ot){var Ut,zt=$t.p(It),Ht=Lt(kt),Vt=(Ht.utcOffset()-this.utcOffset())*tt,qt=this-Ht,an=$t.m(this,Ht);return an=(Ut={},Ut[ht]=an/12,Ut[ut]=an,Ut[ct]=an/3,Ut[lt]=(qt-Vt)/6048e5,Ut[ot]=(qt-Vt)/864e5,Ut[at]=qt/nt,Ut[st]=qt/tt,Ut[it]=qt/et,Ut)[zt]||qt,Ot?an:$t.a(an)},Ft.daysInMonth=function(){return this.endOf(ut).$D},Ft.$locale=function(){return wt[this.$L]},Ft.locale=function(kt,It){if(!kt)return this.$L;var Ot=this.clone(),Ut=Ct(kt,It,!0);return Ut&&(Ot.$L=Ut),Ot},Ft.clone=function(){return $t.w(this.$d,this)},Ft.toDate=function(){return new Date(this.valueOf())},Ft.toJSON=function(){return this.isValid()?this.toISOString():null},Ft.toISOString=function(){return this.$d.toISOString()},Ft.toString=function(){return this.$d.toUTCString()},Gt}(),Bt=Rt.prototype;return Lt.prototype=Bt,[["$ms",rt],["$s",it],["$m",st],["$H",at],["$W",ot],["$M",ut],["$y",ht],["$D",pt]].forEach(function(Gt){Bt[Gt[1]]=function(Ft){return this.$g(Ft,Gt[0],Gt[1])}}),Lt.extend=function(Gt,Ft){return Gt.$i||(Gt(Ft,Rt,Lt),Gt.$i=!0),Lt},Lt.locale=Ct,Lt.isDayjs=bt,Lt.unix=function(Gt){return Lt(1e3*Gt)},Lt.en=wt[Tt],Lt.Ls=wt,Lt.p={},Lt})})(dayjs_min);var day=dayjs_min.exports;const PLACEHOLDER="-",SECOND_FORMAT="YYYY-MM-DD HH:mm:ss",DATE_FORMAT="YYYY-MM-DD",formatTime=(_e,j=DATE_FORMAT)=>{if(!_e)return PLACEHOLDER;const et=typeof _e=="number"?_e:parseInt(_e);return et?day(et).format(j):PLACEHOLDER},isEmptyObj=_e=>_e?!Object.keys(_e).length:!0;var style=`.egg-modal-wrapper {
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}
wc-modal::part(modal-content) {
  background: transparent;
  box-shadow: unset;
}
`,lottie$1={exports:{}};(function(module){typeof navigator!="undefined"&&function(_e,j){module.exports?module.exports=j(_e):(_e.lottie=j(_e),_e.bodymovin=_e.lottie)}(window||{},function(window){var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,_useWebWorker=!1,subframeEnabled=!0,idPrefix="",expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var _e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],j,et=_e.length;for(j=0;j<et;j+=1)BMMath[_e[j]]=Math[_e[j]]})();function ProjectInterface(){return{}}BMMath.random=Math.random,BMMath.abs=function(_e){var j=typeof _e;if(j==="object"&&_e.length){var et=createSizedArray(_e.length),tt,nt=_e.length;for(tt=0;tt<nt;tt+=1)et[tt]=Math.abs(_e[tt]);return et}return Math.abs(_e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(_e){_e.style.position="absolute",_e.style.top=0,_e.style.left=0,_e.style.display="block",_e.style.transformOrigin="0 0",_e.style.webkitTransformOrigin="0 0",_e.style.backfaceVisibility="visible",_e.style.webkitBackfaceVisibility="visible",_e.style.transformStyle="preserve-3d",_e.style.webkitTransformStyle="preserve-3d",_e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(_e,j,et,tt){this.type=_e,this.currentTime=j,this.totalTime=et,this.direction=tt<0?-1:1}function BMCompleteEvent(_e,j){this.type=_e,this.direction=j<0?-1:1}function BMCompleteLoopEvent(_e,j,et,tt){this.type=_e,this.currentLoop=et,this.totalLoops=j,this.direction=tt<0?-1:1}function BMSegmentStartEvent(_e,j,et){this.type=_e,this.firstFrame=j,this.totalFrames=et}function BMDestroyEvent(_e,j){this.type=_e,this.target=j}function BMRenderFrameErrorEvent(_e,j){this.type="renderFrameError",this.nativeError=_e,this.currentTime=j}function BMConfigErrorEvent(_e){this.type="configError",this.nativeError=_e}var createElementID=function(){var _e=0;return function(){return _e+=1,idPrefix+"__lottie_element_"+_e}}();function HSVtoRGB(_e,j,et){var tt,nt,rt,it,st,at,ot,lt;switch(it=Math.floor(_e*6),st=_e*6-it,at=et*(1-j),ot=et*(1-st*j),lt=et*(1-(1-st)*j),it%6){case 0:tt=et,nt=lt,rt=at;break;case 1:tt=ot,nt=et,rt=at;break;case 2:tt=at,nt=et,rt=lt;break;case 3:tt=at,nt=ot,rt=et;break;case 4:tt=lt,nt=at,rt=et;break;case 5:tt=et,nt=at,rt=ot;break}return[tt,nt,rt]}function RGBtoHSV(_e,j,et){var tt=Math.max(_e,j,et),nt=Math.min(_e,j,et),rt=tt-nt,it,st=tt===0?0:rt/tt,at=tt/255;switch(tt){case nt:it=0;break;case _e:it=j-et+rt*(j<et?6:0),it/=6*rt;break;case j:it=et-_e+rt*2,it/=6*rt;break;case et:it=_e-j+rt*4,it/=6*rt;break}return[it,st,at]}function addSaturationToRGB(_e,j){var et=RGBtoHSV(_e[0]*255,_e[1]*255,_e[2]*255);return et[1]+=j,et[1]>1?et[1]=1:et[1]<=0&&(et[1]=0),HSVtoRGB(et[0],et[1],et[2])}function addBrightnessToRGB(_e,j){var et=RGBtoHSV(_e[0]*255,_e[1]*255,_e[2]*255);return et[2]+=j,et[2]>1?et[2]=1:et[2]<0&&(et[2]=0),HSVtoRGB(et[0],et[1],et[2])}function addHueToRGB(_e,j){var et=RGBtoHSV(_e[0]*255,_e[1]*255,_e[2]*255);return et[0]+=j/360,et[0]>1?et[0]-=1:et[0]<0&&(et[0]+=1),HSVtoRGB(et[0],et[1],et[2])}var rgbToHex=function(){var _e=[],j,et;for(j=0;j<256;j+=1)et=j.toString(16),_e[j]=et.length===1?"0"+et:et;return function(tt,nt,rt){return tt<0&&(tt=0),nt<0&&(nt=0),rt<0&&(rt=0),"#"+_e[tt]+_e[nt]+_e[rt]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(_e,j){if(this._cbs[_e])for(var et=this._cbs[_e],tt=0;tt<et.length;tt+=1)et[tt](j)},addEventListener:function(_e,j){return this._cbs[_e]||(this._cbs[_e]=[]),this._cbs[_e].push(j),function(){this.removeEventListener(_e,j)}.bind(this)},removeEventListener:function(_e,j){if(!j)this._cbs[_e]=null;else if(this._cbs[_e]){for(var et=0,tt=this._cbs[_e].length;et<tt;)this._cbs[_e][et]===j&&(this._cbs[_e].splice(et,1),et-=1,tt-=1),et+=1;this._cbs[_e].length||(this._cbs[_e]=null)}}};var createTypedArray=function(){function _e(et,tt){var nt=0,rt=[],it;switch(et){case"int16":case"uint8c":it=1;break;default:it=1.1;break}for(nt=0;nt<tt;nt+=1)rt.push(it);return rt}function j(et,tt){return et==="float32"?new Float32Array(tt):et==="int16"?new Int16Array(tt):et==="uint8c"?new Uint8ClampedArray(tt):_e(et,tt)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?j:_e}();function createSizedArray(_e){return Array.apply(null,{length:_e})}function createNS(_e){return document.createElementNS(svgNS,_e)}function createTag(_e){return document.createElement(_e)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(_e){this.dynamicProperties.indexOf(_e)===-1&&(this.dynamicProperties.push(_e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var _e,j=this.dynamicProperties.length;for(_e=0;_e<j;_e+=1)this.dynamicProperties[_e].getValue(),this.dynamicProperties[_e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(_e){this.container=_e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=function(){var _e={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(j){return _e[j]||""}}(),lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};/*!
Transformation Matrix v2.0
(c) Epistemex 2014-2015
www.epistemex.com
By Ken Fyrstenberg
Contributions by leeoniya.
License: MIT, header required.
*/var Matrix=function(){var _e=Math.cos,j=Math.sin,et=Math.tan,tt=Math.round;function nt(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function rt(Ot){if(Ot===0)return this;var Ut=_e(Ot),zt=j(Ot);return this._t(Ut,-zt,0,0,zt,Ut,0,0,0,0,1,0,0,0,0,1)}function it(Ot){if(Ot===0)return this;var Ut=_e(Ot),zt=j(Ot);return this._t(1,0,0,0,0,Ut,-zt,0,0,zt,Ut,0,0,0,0,1)}function st(Ot){if(Ot===0)return this;var Ut=_e(Ot),zt=j(Ot);return this._t(Ut,0,zt,0,0,1,0,0,-zt,0,Ut,0,0,0,0,1)}function at(Ot){if(Ot===0)return this;var Ut=_e(Ot),zt=j(Ot);return this._t(Ut,-zt,0,0,zt,Ut,0,0,0,0,1,0,0,0,0,1)}function ot(Ot,Ut){return this._t(1,Ut,Ot,1,0,0)}function lt(Ot,Ut){return this.shear(et(Ot),et(Ut))}function ut(Ot,Ut){var zt=_e(Ut),Ht=j(Ut);return this._t(zt,Ht,0,0,-Ht,zt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,et(Ot),1,0,0,0,0,1,0,0,0,0,1)._t(zt,-Ht,0,0,Ht,zt,0,0,0,0,1,0,0,0,0,1)}function ct(Ot,Ut,zt){return!zt&&zt!==0&&(zt=1),Ot===1&&Ut===1&&zt===1?this:this._t(Ot,0,0,0,0,Ut,0,0,0,0,zt,0,0,0,0,1)}function ht(Ot,Ut,zt,Ht,Vt,qt,an,gn,yn,fn,In,Dn,Mn,Fn,Vn,mn){return this.props[0]=Ot,this.props[1]=Ut,this.props[2]=zt,this.props[3]=Ht,this.props[4]=Vt,this.props[5]=qt,this.props[6]=an,this.props[7]=gn,this.props[8]=yn,this.props[9]=fn,this.props[10]=In,this.props[11]=Dn,this.props[12]=Mn,this.props[13]=Fn,this.props[14]=Vn,this.props[15]=mn,this}function pt(Ot,Ut,zt){return zt=zt||0,Ot!==0||Ut!==0||zt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Ot,Ut,zt,1):this}function gt(Ot,Ut,zt,Ht,Vt,qt,an,gn,yn,fn,In,Dn,Mn,Fn,Vn,mn){var dn=this.props;if(Ot===1&&Ut===0&&zt===0&&Ht===0&&Vt===0&&qt===1&&an===0&&gn===0&&yn===0&&fn===0&&In===1&&Dn===0)return dn[12]=dn[12]*Ot+dn[15]*Mn,dn[13]=dn[13]*qt+dn[15]*Fn,dn[14]=dn[14]*In+dn[15]*Vn,dn[15]*=mn,this._identityCalculated=!1,this;var An=dn[0],Yn=dn[1],Bn=dn[2],tr=dn[3],rr=dn[4],hr=dn[5],fr=dn[6],sn=dn[7],nn=dn[8],Cn=dn[9],Hn=dn[10],Kn=dn[11],Qn=dn[12],pr=dn[13],kn=dn[14],_r=dn[15];return dn[0]=An*Ot+Yn*Vt+Bn*yn+tr*Mn,dn[1]=An*Ut+Yn*qt+Bn*fn+tr*Fn,dn[2]=An*zt+Yn*an+Bn*In+tr*Vn,dn[3]=An*Ht+Yn*gn+Bn*Dn+tr*mn,dn[4]=rr*Ot+hr*Vt+fr*yn+sn*Mn,dn[5]=rr*Ut+hr*qt+fr*fn+sn*Fn,dn[6]=rr*zt+hr*an+fr*In+sn*Vn,dn[7]=rr*Ht+hr*gn+fr*Dn+sn*mn,dn[8]=nn*Ot+Cn*Vt+Hn*yn+Kn*Mn,dn[9]=nn*Ut+Cn*qt+Hn*fn+Kn*Fn,dn[10]=nn*zt+Cn*an+Hn*In+Kn*Vn,dn[11]=nn*Ht+Cn*gn+Hn*Dn+Kn*mn,dn[12]=Qn*Ot+pr*Vt+kn*yn+_r*Mn,dn[13]=Qn*Ut+pr*qt+kn*fn+_r*Fn,dn[14]=Qn*zt+pr*an+kn*In+_r*Vn,dn[15]=Qn*Ht+pr*gn+kn*Dn+_r*mn,this._identityCalculated=!1,this}function vt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function ft(Ot){for(var Ut=0;Ut<16;){if(Ot.props[Ut]!==this.props[Ut])return!1;Ut+=1}return!0}function mt(Ot){var Ut;for(Ut=0;Ut<16;Ut+=1)Ot.props[Ut]=this.props[Ut];return Ot}function xt(Ot){var Ut;for(Ut=0;Ut<16;Ut+=1)this.props[Ut]=Ot[Ut]}function _t(Ot,Ut,zt){return{x:Ot*this.props[0]+Ut*this.props[4]+zt*this.props[8]+this.props[12],y:Ot*this.props[1]+Ut*this.props[5]+zt*this.props[9]+this.props[13],z:Ot*this.props[2]+Ut*this.props[6]+zt*this.props[10]+this.props[14]}}function Tt(Ot,Ut,zt){return Ot*this.props[0]+Ut*this.props[4]+zt*this.props[8]+this.props[12]}function wt(Ot,Ut,zt){return Ot*this.props[1]+Ut*this.props[5]+zt*this.props[9]+this.props[13]}function bt(Ot,Ut,zt){return Ot*this.props[2]+Ut*this.props[6]+zt*this.props[10]+this.props[14]}function Ct(){var Ot=this.props[0]*this.props[5]-this.props[1]*this.props[4],Ut=this.props[5]/Ot,zt=-this.props[1]/Ot,Ht=-this.props[4]/Ot,Vt=this.props[0]/Ot,qt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Ot,an=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Ot,gn=new Matrix;return gn.props[0]=Ut,gn.props[1]=zt,gn.props[4]=Ht,gn.props[5]=Vt,gn.props[12]=qt,gn.props[13]=an,gn}function Lt(Ot){var Ut=this.getInverseMatrix();return Ut.applyToPointArray(Ot[0],Ot[1],Ot[2]||0)}function $t(Ot){var Ut,zt=Ot.length,Ht=[];for(Ut=0;Ut<zt;Ut+=1)Ht[Ut]=Lt(Ot[Ut]);return Ht}function Rt(Ot,Ut,zt){var Ht=createTypedArray("float32",6);if(this.isIdentity())Ht[0]=Ot[0],Ht[1]=Ot[1],Ht[2]=Ut[0],Ht[3]=Ut[1],Ht[4]=zt[0],Ht[5]=zt[1];else{var Vt=this.props[0],qt=this.props[1],an=this.props[4],gn=this.props[5],yn=this.props[12],fn=this.props[13];Ht[0]=Ot[0]*Vt+Ot[1]*an+yn,Ht[1]=Ot[0]*qt+Ot[1]*gn+fn,Ht[2]=Ut[0]*Vt+Ut[1]*an+yn,Ht[3]=Ut[0]*qt+Ut[1]*gn+fn,Ht[4]=zt[0]*Vt+zt[1]*an+yn,Ht[5]=zt[0]*qt+zt[1]*gn+fn}return Ht}function Bt(Ot,Ut,zt){var Ht;return this.isIdentity()?Ht=[Ot,Ut,zt]:Ht=[Ot*this.props[0]+Ut*this.props[4]+zt*this.props[8]+this.props[12],Ot*this.props[1]+Ut*this.props[5]+zt*this.props[9]+this.props[13],Ot*this.props[2]+Ut*this.props[6]+zt*this.props[10]+this.props[14]],Ht}function Gt(Ot,Ut){if(this.isIdentity())return Ot+","+Ut;var zt=this.props;return Math.round((Ot*zt[0]+Ut*zt[4]+zt[12])*100)/100+","+Math.round((Ot*zt[1]+Ut*zt[5]+zt[13])*100)/100}function Ft(){for(var Ot=0,Ut=this.props,zt="matrix3d(",Ht=1e4;Ot<16;)zt+=tt(Ut[Ot]*Ht)/Ht,zt+=Ot===15?")":",",Ot+=1;return zt}function kt(Ot){var Ut=1e4;return Ot<1e-6&&Ot>0||Ot>-1e-6&&Ot<0?tt(Ot*Ut)/Ut:Ot}function It(){var Ot=this.props,Ut=kt(Ot[0]),zt=kt(Ot[1]),Ht=kt(Ot[4]),Vt=kt(Ot[5]),qt=kt(Ot[12]),an=kt(Ot[13]);return"matrix("+Ut+","+zt+","+Ht+","+Vt+","+qt+","+an+")"}return function(){this.reset=nt,this.rotate=rt,this.rotateX=it,this.rotateY=st,this.rotateZ=at,this.skew=lt,this.skewFromAxis=ut,this.shear=ot,this.scale=ct,this.setTransform=ht,this.translate=pt,this.transform=gt,this.applyToPoint=_t,this.applyToX=Tt,this.applyToY=wt,this.applyToZ=bt,this.applyToPointArray=Bt,this.applyToTriplePoints=Rt,this.applyToPointStringified=Gt,this.toCSS=Ft,this.to2dCSS=It,this.clone=mt,this.cloneFromProps=xt,this.equals=ft,this.inversePoints=$t,this.inversePoint=Lt,this.getInverseMatrix=Ct,this._t=this.transform,this.isIdentity=vt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();(function(_e,j){var et=this,tt=256,nt=6,rt=52,it="random",st=j.pow(tt,nt),at=j.pow(2,rt),ot=at*2,lt=tt-1;function ut(mt,xt,_t){var Tt=[];xt=xt===!0?{entropy:!0}:xt||{};var wt=gt(pt(xt.entropy?[mt,ft(_e)]:mt===null?vt():mt,3),Tt),bt=new ct(Tt),Ct=function(){for(var Lt=bt.g(nt),$t=st,Rt=0;Lt<at;)Lt=(Lt+Rt)*tt,$t*=tt,Rt=bt.g(1);for(;Lt>=ot;)Lt/=2,$t/=2,Rt>>>=1;return(Lt+Rt)/$t};return Ct.int32=function(){return bt.g(4)|0},Ct.quick=function(){return bt.g(4)/4294967296},Ct.double=Ct,gt(ft(bt.S),_e),(xt.pass||_t||function(Lt,$t,Rt,Bt){return Bt&&(Bt.S&&ht(Bt,bt),Lt.state=function(){return ht(bt,{})}),Rt?(j[it]=Lt,$t):Lt})(Ct,wt,"global"in xt?xt.global:this==j,xt.state)}j["seed"+it]=ut;function ct(mt){var xt,_t=mt.length,Tt=this,wt=0,bt=Tt.i=Tt.j=0,Ct=Tt.S=[];for(_t||(mt=[_t++]);wt<tt;)Ct[wt]=wt++;for(wt=0;wt<tt;wt++)Ct[wt]=Ct[bt=lt&bt+mt[wt%_t]+(xt=Ct[wt])],Ct[bt]=xt;Tt.g=function(Lt){for(var $t,Rt=0,Bt=Tt.i,Gt=Tt.j,Ft=Tt.S;Lt--;)$t=Ft[Bt=lt&Bt+1],Rt=Rt*tt+Ft[lt&(Ft[Bt]=Ft[Gt=lt&Gt+$t])+(Ft[Gt]=$t)];return Tt.i=Bt,Tt.j=Gt,Rt}}function ht(mt,xt){return xt.i=mt.i,xt.j=mt.j,xt.S=mt.S.slice(),xt}function pt(mt,xt){var _t=[],Tt=typeof mt,wt;if(xt&&Tt=="object")for(wt in mt)try{_t.push(pt(mt[wt],xt-1))}catch{}return _t.length?_t:Tt=="string"?mt:mt+"\0"}function gt(mt,xt){for(var _t=mt+"",Tt,wt=0;wt<_t.length;)xt[lt&wt]=lt&(Tt^=xt[lt&wt]*19)+_t.charCodeAt(wt++);return ft(xt)}function vt(){try{var mt=new Uint8Array(tt);return(et.crypto||et.msCrypto).getRandomValues(mt),ft(mt)}catch{var xt=et.navigator,_t=xt&&xt.plugins;return[+new Date,et,_t,et.screen,ft(_e)]}}function ft(mt){return String.fromCharCode.apply(0,mt)}gt(j.random(),_e)})([],BMMath);var BezierFactory=function(){var _e={};_e.getBezierEasing=et;var j={};function et(mt,xt,_t,Tt,wt){var bt=wt||("bez_"+mt+"_"+xt+"_"+_t+"_"+Tt).replace(/\./g,"p");if(j[bt])return j[bt];var Ct=new ft([mt,xt,_t,Tt]);return j[bt]=Ct,Ct}var tt=4,nt=.001,rt=1e-7,it=10,st=11,at=1/(st-1),ot=typeof Float32Array=="function";function lt(mt,xt){return 1-3*xt+3*mt}function ut(mt,xt){return 3*xt-6*mt}function ct(mt){return 3*mt}function ht(mt,xt,_t){return((lt(xt,_t)*mt+ut(xt,_t))*mt+ct(xt))*mt}function pt(mt,xt,_t){return 3*lt(xt,_t)*mt*mt+2*ut(xt,_t)*mt+ct(xt)}function gt(mt,xt,_t,Tt,wt){var bt,Ct,Lt=0;do Ct=xt+(_t-xt)/2,bt=ht(Ct,Tt,wt)-mt,bt>0?_t=Ct:xt=Ct;while(Math.abs(bt)>rt&&++Lt<it);return Ct}function vt(mt,xt,_t,Tt){for(var wt=0;wt<tt;++wt){var bt=pt(xt,_t,Tt);if(bt===0)return xt;var Ct=ht(xt,_t,Tt)-mt;xt-=Ct/bt}return xt}function ft(mt){this._p=mt,this._mSampleValues=ot?new Float32Array(st):new Array(st),this._precomputed=!1,this.get=this.get.bind(this)}return ft.prototype={get:function(mt){var xt=this._p[0],_t=this._p[1],Tt=this._p[2],wt=this._p[3];return this._precomputed||this._precompute(),xt===_t&&Tt===wt?mt:mt===0?0:mt===1?1:ht(this._getTForX(mt),_t,wt)},_precompute:function(){var mt=this._p[0],xt=this._p[1],_t=this._p[2],Tt=this._p[3];this._precomputed=!0,(mt!==xt||_t!==Tt)&&this._calcSampleValues()},_calcSampleValues:function(){for(var mt=this._p[0],xt=this._p[2],_t=0;_t<st;++_t)this._mSampleValues[_t]=ht(_t*at,mt,xt)},_getTForX:function(mt){for(var xt=this._p[0],_t=this._p[2],Tt=this._mSampleValues,wt=0,bt=1,Ct=st-1;bt!==Ct&&Tt[bt]<=mt;++bt)wt+=at;--bt;var Lt=(mt-Tt[bt])/(Tt[bt+1]-Tt[bt]),$t=wt+Lt*at,Rt=pt($t,xt,_t);return Rt>=nt?vt(mt,$t,xt,_t):Rt===0?$t:gt(mt,wt,wt+at,xt,_t)}},_e}();(function(){for(var _e=0,j=["ms","moz","webkit","o"],et=0;et<j.length&&!window.requestAnimationFrame;++et)window.requestAnimationFrame=window[j[et]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[j[et]+"CancelAnimationFrame"]||window[j[et]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(tt){var nt=new Date().getTime(),rt=Math.max(0,16-(nt-_e)),it=setTimeout(function(){tt(nt+rt)},rt);return _e=nt+rt,it}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(tt){clearTimeout(tt)})})();function extendPrototype(_e,j){var et,tt=_e.length,nt;for(et=0;et<tt;et+=1){nt=_e[et].prototype;for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(j.prototype[rt]=nt[rt])}}function getDescriptor(_e,j){return Object.getOwnPropertyDescriptor(_e,j)}function createProxyFunction(_e){function j(){}return j.prototype=_e,j}function bezFunction(){var _e=Math;function j(ct,ht,pt,gt,vt,ft){var mt=ct*gt+ht*vt+pt*ft-vt*gt-ft*ct-pt*ht;return mt>-.001&&mt<.001}function et(ct,ht,pt,gt,vt,ft,mt,xt,_t){if(pt===0&&ft===0&&_t===0)return j(ct,ht,gt,vt,mt,xt);var Tt=_e.sqrt(_e.pow(gt-ct,2)+_e.pow(vt-ht,2)+_e.pow(ft-pt,2)),wt=_e.sqrt(_e.pow(mt-ct,2)+_e.pow(xt-ht,2)+_e.pow(_t-pt,2)),bt=_e.sqrt(_e.pow(mt-gt,2)+_e.pow(xt-vt,2)+_e.pow(_t-ft,2)),Ct;return Tt>wt?Tt>bt?Ct=Tt-wt-bt:Ct=bt-wt-Tt:bt>wt?Ct=bt-wt-Tt:Ct=wt-Tt-bt,Ct>-1e-4&&Ct<1e-4}var tt=function(){return function(ct,ht,pt,gt){var vt=defaultCurveSegments,ft,mt,xt,_t,Tt,wt=0,bt,Ct=[],Lt=[],$t=bezierLengthPool.newElement();for(xt=pt.length,ft=0;ft<vt;ft+=1){for(Tt=ft/(vt-1),bt=0,mt=0;mt<xt;mt+=1)_t=bmPow(1-Tt,3)*ct[mt]+3*bmPow(1-Tt,2)*Tt*pt[mt]+3*(1-Tt)*bmPow(Tt,2)*gt[mt]+bmPow(Tt,3)*ht[mt],Ct[mt]=_t,Lt[mt]!==null&&(bt+=bmPow(Ct[mt]-Lt[mt],2)),Lt[mt]=Ct[mt];bt&&(bt=bmSqrt(bt),wt+=bt),$t.percents[ft]=Tt,$t.lengths[ft]=wt}return $t.addedLength=wt,$t}}();function nt(ct){var ht=segmentsLengthPool.newElement(),pt=ct.c,gt=ct.v,vt=ct.o,ft=ct.i,mt,xt=ct._length,_t=ht.lengths,Tt=0;for(mt=0;mt<xt-1;mt+=1)_t[mt]=tt(gt[mt],gt[mt+1],vt[mt],ft[mt+1]),Tt+=_t[mt].addedLength;return pt&&xt&&(_t[mt]=tt(gt[mt],gt[0],vt[mt],ft[0]),Tt+=_t[mt].addedLength),ht.totalLength=Tt,ht}function rt(ct){this.segmentLength=0,this.points=new Array(ct)}function it(ct,ht){this.partialLength=ct,this.point=ht}var st=function(){var ct={};return function(ht,pt,gt,vt){var ft=(ht[0]+"_"+ht[1]+"_"+pt[0]+"_"+pt[1]+"_"+gt[0]+"_"+gt[1]+"_"+vt[0]+"_"+vt[1]).replace(/\./g,"p");if(!ct[ft]){var mt=defaultCurveSegments,xt,_t,Tt,wt,bt,Ct=0,Lt,$t,Rt=null;ht.length===2&&(ht[0]!==pt[0]||ht[1]!==pt[1])&&j(ht[0],ht[1],pt[0],pt[1],ht[0]+gt[0],ht[1]+gt[1])&&j(ht[0],ht[1],pt[0],pt[1],pt[0]+vt[0],pt[1]+vt[1])&&(mt=2);var Bt=new rt(mt);for(Tt=gt.length,xt=0;xt<mt;xt+=1){for($t=createSizedArray(Tt),bt=xt/(mt-1),Lt=0,_t=0;_t<Tt;_t+=1)wt=bmPow(1-bt,3)*ht[_t]+3*bmPow(1-bt,2)*bt*(ht[_t]+gt[_t])+3*(1-bt)*bmPow(bt,2)*(pt[_t]+vt[_t])+bmPow(bt,3)*pt[_t],$t[_t]=wt,Rt!==null&&(Lt+=bmPow($t[_t]-Rt[_t],2));Lt=bmSqrt(Lt),Ct+=Lt,Bt.points[xt]=new it(Lt,$t),Rt=$t}Bt.segmentLength=Ct,ct[ft]=Bt}return ct[ft]}}();function at(ct,ht){var pt=ht.percents,gt=ht.lengths,vt=pt.length,ft=bmFloor((vt-1)*ct),mt=ct*ht.addedLength,xt=0;if(ft===vt-1||ft===0||mt===gt[ft])return pt[ft];for(var _t=gt[ft]>mt?-1:1,Tt=!0;Tt;)if(gt[ft]<=mt&&gt[ft+1]>mt?(xt=(mt-gt[ft])/(gt[ft+1]-gt[ft]),Tt=!1):ft+=_t,ft<0||ft>=vt-1){if(ft===vt-1)return pt[ft];Tt=!1}return pt[ft]+(pt[ft+1]-pt[ft])*xt}function ot(ct,ht,pt,gt,vt,ft){var mt=at(vt,ft),xt=1-mt,_t=_e.round((xt*xt*xt*ct[0]+(mt*xt*xt+xt*mt*xt+xt*xt*mt)*pt[0]+(mt*mt*xt+xt*mt*mt+mt*xt*mt)*gt[0]+mt*mt*mt*ht[0])*1e3)/1e3,Tt=_e.round((xt*xt*xt*ct[1]+(mt*xt*xt+xt*mt*xt+xt*xt*mt)*pt[1]+(mt*mt*xt+xt*mt*mt+mt*xt*mt)*gt[1]+mt*mt*mt*ht[1])*1e3)/1e3;return[_t,Tt]}var lt=createTypedArray("float32",8);function ut(ct,ht,pt,gt,vt,ft,mt){vt<0?vt=0:vt>1&&(vt=1);var xt=at(vt,mt);ft=ft>1?1:ft;var _t=at(ft,mt),Tt,wt=ct.length,bt=1-xt,Ct=1-_t,Lt=bt*bt*bt,$t=xt*bt*bt*3,Rt=xt*xt*bt*3,Bt=xt*xt*xt,Gt=bt*bt*Ct,Ft=xt*bt*Ct+bt*xt*Ct+bt*bt*_t,kt=xt*xt*Ct+bt*xt*_t+xt*bt*_t,It=xt*xt*_t,Ot=bt*Ct*Ct,Ut=xt*Ct*Ct+bt*_t*Ct+bt*Ct*_t,zt=xt*_t*Ct+bt*_t*_t+xt*Ct*_t,Ht=xt*_t*_t,Vt=Ct*Ct*Ct,qt=_t*Ct*Ct+Ct*_t*Ct+Ct*Ct*_t,an=_t*_t*Ct+Ct*_t*_t+_t*Ct*_t,gn=_t*_t*_t;for(Tt=0;Tt<wt;Tt+=1)lt[Tt*4]=_e.round((Lt*ct[Tt]+$t*pt[Tt]+Rt*gt[Tt]+Bt*ht[Tt])*1e3)/1e3,lt[Tt*4+1]=_e.round((Gt*ct[Tt]+Ft*pt[Tt]+kt*gt[Tt]+It*ht[Tt])*1e3)/1e3,lt[Tt*4+2]=_e.round((Ot*ct[Tt]+Ut*pt[Tt]+zt*gt[Tt]+Ht*ht[Tt])*1e3)/1e3,lt[Tt*4+3]=_e.round((Vt*ct[Tt]+qt*pt[Tt]+an*gt[Tt]+gn*ht[Tt])*1e3)/1e3;return lt}return{getSegmentsLength:nt,getNewSegment:ut,getPointInSegment:ot,buildBezierData:st,pointOnLine2D:j,pointOnLine3D:et}}var bez=bezFunction(),dataManager=function(){var _e=1,j=[],et,tt,nt={onmessage:function(){},postMessage:function(ct){et({data:ct})}},rt={postMessage:function(ct){nt.onmessage({data:ct})}};function it(ct){if(window.Worker&&window.Blob&&_useWebWorker){var ht=new Blob(["var _workerSelf = self; self.onmessage = ",ct.toString()],{type:"text/javascript"}),pt=URL.createObjectURL(ht);return new Worker(pt)}return et=ct,nt}function st(){tt||(tt=it(function(ct){function ht(){function gt(Bt,Gt){var Ft,kt,It=Bt.length,Ot,Ut,zt,Ht;for(kt=0;kt<It;kt+=1)if(Ft=Bt[kt],"ks"in Ft&&!Ft.completed){if(Ft.completed=!0,Ft.tt&&(Bt[kt-1].td=Ft.tt),Ft.hasMask){var Vt=Ft.masksProperties;for(Ut=Vt.length,Ot=0;Ot<Ut;Ot+=1)if(Vt[Ot].pt.k.i)mt(Vt[Ot].pt.k);else for(Ht=Vt[Ot].pt.k.length,zt=0;zt<Ht;zt+=1)Vt[Ot].pt.k[zt].s&&mt(Vt[Ot].pt.k[zt].s[0]),Vt[Ot].pt.k[zt].e&&mt(Vt[Ot].pt.k[zt].e[0])}Ft.ty===0?(Ft.layers=vt(Ft.refId,Gt),gt(Ft.layers,Gt)):Ft.ty===4?ft(Ft.shapes):Ft.ty===5&&$t(Ft)}}function vt(Bt,Gt){for(var Ft=0,kt=Gt.length;Ft<kt;){if(Gt[Ft].id===Bt)return Gt[Ft].layers.__used?JSON.parse(JSON.stringify(Gt[Ft].layers)):(Gt[Ft].layers.__used=!0,Gt[Ft].layers);Ft+=1}return null}function ft(Bt){var Gt,Ft=Bt.length,kt,It;for(Gt=Ft-1;Gt>=0;Gt-=1)if(Bt[Gt].ty==="sh")if(Bt[Gt].ks.k.i)mt(Bt[Gt].ks.k);else for(It=Bt[Gt].ks.k.length,kt=0;kt<It;kt+=1)Bt[Gt].ks.k[kt].s&&mt(Bt[Gt].ks.k[kt].s[0]),Bt[Gt].ks.k[kt].e&&mt(Bt[Gt].ks.k[kt].e[0]);else Bt[Gt].ty==="gr"&&ft(Bt[Gt].it)}function mt(Bt){var Gt,Ft=Bt.i.length;for(Gt=0;Gt<Ft;Gt+=1)Bt.i[Gt][0]+=Bt.v[Gt][0],Bt.i[Gt][1]+=Bt.v[Gt][1],Bt.o[Gt][0]+=Bt.v[Gt][0],Bt.o[Gt][1]+=Bt.v[Gt][1]}function xt(Bt,Gt){var Ft=Gt?Gt.split("."):[100,100,100];return Bt[0]>Ft[0]?!0:Ft[0]>Bt[0]?!1:Bt[1]>Ft[1]?!0:Ft[1]>Bt[1]?!1:Bt[2]>Ft[2]?!0:Ft[2]>Bt[2]?!1:null}var _t=function(){var Bt=[4,4,14];function Gt(kt){var It=kt.t.d;kt.t.d={k:[{s:It,t:0}]}}function Ft(kt){var It,Ot=kt.length;for(It=0;It<Ot;It+=1)kt[It].ty===5&&Gt(kt[It])}return function(kt){if(xt(Bt,kt.v)&&(Ft(kt.layers),kt.assets)){var It,Ot=kt.assets.length;for(It=0;It<Ot;It+=1)kt.assets[It].layers&&Ft(kt.assets[It].layers)}}}(),Tt=function(){var Bt=[4,7,99];return function(Gt){if(Gt.chars&&!xt(Bt,Gt.v)){var Ft,kt=Gt.chars.length,It,Ot,Ut,zt;for(Ft=0;Ft<kt;Ft+=1)if(Gt.chars[Ft].data&&Gt.chars[Ft].data.shapes)for(zt=Gt.chars[Ft].data.shapes[0].it,Ot=zt.length,It=0;It<Ot;It+=1)Ut=zt[It].ks.k,Ut.__converted||(mt(zt[It].ks.k),Ut.__converted=!0)}}}(),wt=function(){var Bt=[5,7,15];function Gt(kt){var It=kt.t.p;typeof It.a=="number"&&(It.a={a:0,k:It.a}),typeof It.p=="number"&&(It.p={a:0,k:It.p}),typeof It.r=="number"&&(It.r={a:0,k:It.r})}function Ft(kt){var It,Ot=kt.length;for(It=0;It<Ot;It+=1)kt[It].ty===5&&Gt(kt[It])}return function(kt){if(xt(Bt,kt.v)&&(Ft(kt.layers),kt.assets)){var It,Ot=kt.assets.length;for(It=0;It<Ot;It+=1)kt.assets[It].layers&&Ft(kt.assets[It].layers)}}}(),bt=function(){var Bt=[4,1,9];function Gt(kt){var It,Ot=kt.length,Ut,zt;for(It=0;It<Ot;It+=1)if(kt[It].ty==="gr")Gt(kt[It].it);else if(kt[It].ty==="fl"||kt[It].ty==="st")if(kt[It].c.k&&kt[It].c.k[0].i)for(zt=kt[It].c.k.length,Ut=0;Ut<zt;Ut+=1)kt[It].c.k[Ut].s&&(kt[It].c.k[Ut].s[0]/=255,kt[It].c.k[Ut].s[1]/=255,kt[It].c.k[Ut].s[2]/=255,kt[It].c.k[Ut].s[3]/=255),kt[It].c.k[Ut].e&&(kt[It].c.k[Ut].e[0]/=255,kt[It].c.k[Ut].e[1]/=255,kt[It].c.k[Ut].e[2]/=255,kt[It].c.k[Ut].e[3]/=255);else kt[It].c.k[0]/=255,kt[It].c.k[1]/=255,kt[It].c.k[2]/=255,kt[It].c.k[3]/=255}function Ft(kt){var It,Ot=kt.length;for(It=0;It<Ot;It+=1)kt[It].ty===4&&Gt(kt[It].shapes)}return function(kt){if(xt(Bt,kt.v)&&(Ft(kt.layers),kt.assets)){var It,Ot=kt.assets.length;for(It=0;It<Ot;It+=1)kt.assets[It].layers&&Ft(kt.assets[It].layers)}}}(),Ct=function(){var Bt=[4,4,18];function Gt(kt){var It,Ot=kt.length,Ut,zt;for(It=Ot-1;It>=0;It-=1)if(kt[It].ty==="sh")if(kt[It].ks.k.i)kt[It].ks.k.c=kt[It].closed;else for(zt=kt[It].ks.k.length,Ut=0;Ut<zt;Ut+=1)kt[It].ks.k[Ut].s&&(kt[It].ks.k[Ut].s[0].c=kt[It].closed),kt[It].ks.k[Ut].e&&(kt[It].ks.k[Ut].e[0].c=kt[It].closed);else kt[It].ty==="gr"&&Gt(kt[It].it)}function Ft(kt){var It,Ot,Ut=kt.length,zt,Ht,Vt,qt;for(Ot=0;Ot<Ut;Ot+=1){if(It=kt[Ot],It.hasMask){var an=It.masksProperties;for(Ht=an.length,zt=0;zt<Ht;zt+=1)if(an[zt].pt.k.i)an[zt].pt.k.c=an[zt].cl;else for(qt=an[zt].pt.k.length,Vt=0;Vt<qt;Vt+=1)an[zt].pt.k[Vt].s&&(an[zt].pt.k[Vt].s[0].c=an[zt].cl),an[zt].pt.k[Vt].e&&(an[zt].pt.k[Vt].e[0].c=an[zt].cl)}It.ty===4&&Gt(It.shapes)}}return function(kt){if(xt(Bt,kt.v)&&(Ft(kt.layers),kt.assets)){var It,Ot=kt.assets.length;for(It=0;It<Ot;It+=1)kt.assets[It].layers&&Ft(kt.assets[It].layers)}}}();function Lt(Bt){Bt.__complete||(bt(Bt),_t(Bt),Tt(Bt),wt(Bt),Ct(Bt),gt(Bt.layers,Bt.assets),Bt.__complete=!0)}function $t(Bt){Bt.t.a.length===0&&!("m"in Bt.t.p)&&(Bt.singleShape=!0)}var Rt={};return Rt.completeData=Lt,Rt.checkColors=bt,Rt.checkChars=Tt,Rt.checkPathProperties=wt,Rt.checkShapes=Ct,Rt.completeLayers=gt,Rt}if(rt.dataManager||(rt.dataManager=ht()),rt.assetLoader||(rt.assetLoader=function(){function gt(ft){var mt=ft.getResponseHeader("content-type");return mt&&ft.responseType==="json"&&mt.indexOf("json")!==-1||ft.response&&typeof ft.response=="object"?ft.response:ft.response&&typeof ft.response=="string"?JSON.parse(ft.response):ft.responseText?JSON.parse(ft.responseText):null}function vt(ft,mt,xt,_t){var Tt,wt=new XMLHttpRequest;try{wt.responseType="json"}catch{}wt.onreadystatechange=function(){if(wt.readyState===4)if(wt.status===200)Tt=gt(wt),xt(Tt);else try{Tt=gt(wt),xt(Tt)}catch(bt){_t&&_t(bt)}};try{wt.open("GET",ft,!0)}catch{wt.open("GET",mt+"/"+ft,!0)}wt.send()}return{load:vt}}()),ct.data.type==="loadAnimation")rt.assetLoader.load(ct.data.path,ct.data.fullPath,function(gt){rt.dataManager.completeData(gt),rt.postMessage({id:ct.data.id,payload:gt,status:"success"})},function(){rt.postMessage({id:ct.data.id,status:"error"})});else if(ct.data.type==="complete"){var pt=ct.data.animation;rt.dataManager.completeData(pt),rt.postMessage({id:ct.data.id,payload:pt,status:"success"})}else ct.data.type==="loadData"&&rt.assetLoader.load(ct.data.path,ct.data.fullPath,function(gt){rt.postMessage({id:ct.data.id,payload:gt,status:"success"})},function(){rt.postMessage({id:ct.data.id,status:"error"})})}),tt.onmessage=function(ct){var ht=ct.data,pt=ht.id,gt=j[pt];j[pt]=null,ht.status==="success"?gt.onComplete(ht.payload):gt.onError&&gt.onError()})}function at(ct,ht){_e+=1;var pt="processId_"+_e;return j[pt]={onComplete:ct,onError:ht},pt}function ot(ct,ht,pt){st();var gt=at(ht,pt);tt.postMessage({type:"loadAnimation",path:ct,fullPath:window.location.origin+window.location.pathname,id:gt})}function lt(ct,ht,pt){st();var gt=at(ht,pt);tt.postMessage({type:"loadData",path:ct,fullPath:window.location.origin+window.location.pathname,id:gt})}function ut(ct,ht,pt){st();var gt=at(ht,pt);tt.postMessage({type:"complete",animation:ct,id:gt})}return{loadAnimation:ot,loadData:lt,completeAnimation:ut}}();function getFontProperties(_e){for(var j=_e.fStyle?_e.fStyle.split(" "):[],et="normal",tt="normal",nt=j.length,rt,it=0;it<nt;it+=1)switch(rt=j[it].toLowerCase(),rt){case"italic":tt="italic";break;case"bold":et="700";break;case"black":et="900";break;case"medium":et="500";break;case"regular":case"normal":et="400";break;case"light":case"thin":et="200";break}return{style:tt,weight:_e.fWeight||et}}var FontManager=function(){var _e=5e3,j={w:0,size:0,shapes:[]},et=[];et=et.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var tt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],nt=[65039,8205];function rt(_t){var Tt=_t.split(","),wt,bt=Tt.length,Ct=[];for(wt=0;wt<bt;wt+=1)Tt[wt]!=="sans-serif"&&Tt[wt]!=="monospace"&&Ct.push(Tt[wt]);return Ct.join(",")}function it(_t,Tt){var wt=createTag("span");wt.setAttribute("aria-hidden",!0),wt.style.fontFamily=Tt;var bt=createTag("span");bt.innerText="giItT1WQy@!-/#",wt.style.position="absolute",wt.style.left="-10000px",wt.style.top="-10000px",wt.style.fontSize="300px",wt.style.fontVariant="normal",wt.style.fontStyle="normal",wt.style.fontWeight="normal",wt.style.letterSpacing="0",wt.appendChild(bt),document.body.appendChild(wt);var Ct=bt.offsetWidth;return bt.style.fontFamily=rt(_t)+", "+Tt,{node:bt,w:Ct,parent:wt}}function st(){var _t,Tt=this.fonts.length,wt,bt,Ct=Tt;for(_t=0;_t<Tt;_t+=1)this.fonts[_t].loaded?Ct-=1:this.fonts[_t].fOrigin==="n"||this.fonts[_t].origin===0?this.fonts[_t].loaded=!0:(wt=this.fonts[_t].monoCase.node,bt=this.fonts[_t].monoCase.w,wt.offsetWidth!==bt?(Ct-=1,this.fonts[_t].loaded=!0):(wt=this.fonts[_t].sansCase.node,bt=this.fonts[_t].sansCase.w,wt.offsetWidth!==bt&&(Ct-=1,this.fonts[_t].loaded=!0)),this.fonts[_t].loaded&&(this.fonts[_t].sansCase.parent.parentNode.removeChild(this.fonts[_t].sansCase.parent),this.fonts[_t].monoCase.parent.parentNode.removeChild(this.fonts[_t].monoCase.parent)));Ct!==0&&Date.now()-this.initTime<_e?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function at(_t,Tt){var wt=createNS("text");wt.style.fontSize="100px";var bt=getFontProperties(Tt);wt.setAttribute("font-family",Tt.fFamily),wt.setAttribute("font-style",bt.style),wt.setAttribute("font-weight",bt.weight),wt.textContent="1",Tt.fClass?(wt.style.fontFamily="inherit",wt.setAttribute("class",Tt.fClass)):wt.style.fontFamily=Tt.fFamily,_t.appendChild(wt);var Ct=createTag("canvas").getContext("2d");return Ct.font=Tt.fWeight+" "+Tt.fStyle+" 100px "+Tt.fFamily,wt}function ot(_t,Tt){if(!_t){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=_t.list;return}var wt=_t.list,bt,Ct=wt.length,Lt=Ct;for(bt=0;bt<Ct;bt+=1){var $t=!0,Rt,Bt;if(wt[bt].loaded=!1,wt[bt].monoCase=it(wt[bt].fFamily,"monospace"),wt[bt].sansCase=it(wt[bt].fFamily,"sans-serif"),!wt[bt].fPath)wt[bt].loaded=!0,Lt-=1;else if(wt[bt].fOrigin==="p"||wt[bt].origin===3){if(Rt=document.querySelectorAll('style[f-forigin="p"][f-family="'+wt[bt].fFamily+'"], style[f-origin="3"][f-family="'+wt[bt].fFamily+'"]'),Rt.length>0&&($t=!1),$t){var Gt=createTag("style");Gt.setAttribute("f-forigin",wt[bt].fOrigin),Gt.setAttribute("f-origin",wt[bt].origin),Gt.setAttribute("f-family",wt[bt].fFamily),Gt.type="text/css",Gt.innerText="@font-face {font-family: "+wt[bt].fFamily+"; font-style: normal; src: url('"+wt[bt].fPath+"');}",Tt.appendChild(Gt)}}else if(wt[bt].fOrigin==="g"||wt[bt].origin===1){for(Rt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Bt=0;Bt<Rt.length;Bt+=1)Rt[Bt].href.indexOf(wt[bt].fPath)!==-1&&($t=!1);if($t){var Ft=createTag("link");Ft.setAttribute("f-forigin",wt[bt].fOrigin),Ft.setAttribute("f-origin",wt[bt].origin),Ft.type="text/css",Ft.rel="stylesheet",Ft.href=wt[bt].fPath,document.body.appendChild(Ft)}}else if(wt[bt].fOrigin==="t"||wt[bt].origin===2){for(Rt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Bt=0;Bt<Rt.length;Bt+=1)wt[bt].fPath===Rt[Bt].src&&($t=!1);if($t){var kt=createTag("link");kt.setAttribute("f-forigin",wt[bt].fOrigin),kt.setAttribute("f-origin",wt[bt].origin),kt.setAttribute("rel","stylesheet"),kt.setAttribute("href",wt[bt].fPath),Tt.appendChild(kt)}}wt[bt].helper=at(Tt,wt[bt]),wt[bt].cache={},this.fonts.push(wt[bt])}Lt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function lt(_t){if(_t){this.chars||(this.chars=[]);var Tt,wt=_t.length,bt,Ct=this.chars.length,Lt;for(Tt=0;Tt<wt;Tt+=1){for(bt=0,Lt=!1;bt<Ct;)this.chars[bt].style===_t[Tt].style&&this.chars[bt].fFamily===_t[Tt].fFamily&&this.chars[bt].ch===_t[Tt].ch&&(Lt=!0),bt+=1;Lt||(this.chars.push(_t[Tt]),Ct+=1)}}}function ut(_t,Tt,wt){for(var bt=0,Ct=this.chars.length;bt<Ct;){if(this.chars[bt].ch===_t&&this.chars[bt].style===Tt&&this.chars[bt].fFamily===wt)return this.chars[bt];bt+=1}return(typeof _t=="string"&&_t.charCodeAt(0)!==13||!_t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",_t,Tt,wt)),j}function ct(_t,Tt,wt){var bt=this.getFontByName(Tt),Ct=_t.charCodeAt(0);if(!bt.cache[Ct+1]){var Lt=bt.helper;if(_t===" "){Lt.textContent="|"+_t+"|";var $t=Lt.getComputedTextLength();Lt.textContent="||";var Rt=Lt.getComputedTextLength();bt.cache[Ct+1]=($t-Rt)/100}else Lt.textContent=_t,bt.cache[Ct+1]=Lt.getComputedTextLength()/100}return bt.cache[Ct+1]*wt}function ht(_t){for(var Tt=0,wt=this.fonts.length;Tt<wt;){if(this.fonts[Tt].fName===_t)return this.fonts[Tt];Tt+=1}return this.fonts[0]}function pt(_t,Tt){var wt=_t.toString(16)+Tt.toString(16);return tt.indexOf(wt)!==-1}function gt(_t,Tt){return Tt?_t===nt[0]&&Tt===nt[1]:_t===nt[1]}function vt(_t){return et.indexOf(_t)!==-1}function ft(){this.isLoaded=!0}var mt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};mt.isModifier=pt,mt.isZeroWidthJoiner=gt,mt.isCombinedCharacter=vt;var xt={addChars:lt,addFonts:ot,getCharData:ut,getFontByName:ht,measureText:ct,checkLoadedFonts:st,setIsLoaded:ft};return mt.prototype=xt,mt}(),PropertyFactory=function(){var _e=initialDefaultFrame,j=Math.abs;function et(vt,ft){var mt=this.offsetTime,xt;this.propType==="multidimensional"&&(xt=createTypedArray("float32",this.pv.length));for(var _t=ft.lastIndex,Tt=_t,wt=this.keyframes.length-1,bt=!0,Ct,Lt,$t;bt;){if(Ct=this.keyframes[Tt],Lt=this.keyframes[Tt+1],Tt===wt-1&&vt>=Lt.t-mt){Ct.h&&(Ct=Lt),_t=0;break}if(Lt.t-mt>vt){_t=Tt;break}Tt<wt-1?Tt+=1:(_t=0,bt=!1)}$t=this.keyframesMetadata[Tt]||{};var Rt,Bt,Gt,Ft,kt,It,Ot=Lt.t-mt,Ut=Ct.t-mt,zt;if(Ct.to){$t.bezierData||($t.bezierData=bez.buildBezierData(Ct.s,Lt.s||Ct.e,Ct.to,Ct.ti));var Ht=$t.bezierData;if(vt>=Ot||vt<Ut){var Vt=vt>=Ot?Ht.points.length-1:0;for(Bt=Ht.points[Vt].point.length,Rt=0;Rt<Bt;Rt+=1)xt[Rt]=Ht.points[Vt].point[Rt]}else{$t.__fnct?It=$t.__fnct:(It=BezierFactory.getBezierEasing(Ct.o.x,Ct.o.y,Ct.i.x,Ct.i.y,Ct.n).get,$t.__fnct=It),Gt=It((vt-Ut)/(Ot-Ut));var qt=Ht.segmentLength*Gt,an,gn=ft.lastFrame<vt&&ft._lastKeyframeIndex===Tt?ft._lastAddedLength:0;for(kt=ft.lastFrame<vt&&ft._lastKeyframeIndex===Tt?ft._lastPoint:0,bt=!0,Ft=Ht.points.length;bt;){if(gn+=Ht.points[kt].partialLength,qt===0||Gt===0||kt===Ht.points.length-1){for(Bt=Ht.points[kt].point.length,Rt=0;Rt<Bt;Rt+=1)xt[Rt]=Ht.points[kt].point[Rt];break}else if(qt>=gn&&qt<gn+Ht.points[kt+1].partialLength){for(an=(qt-gn)/Ht.points[kt+1].partialLength,Bt=Ht.points[kt].point.length,Rt=0;Rt<Bt;Rt+=1)xt[Rt]=Ht.points[kt].point[Rt]+(Ht.points[kt+1].point[Rt]-Ht.points[kt].point[Rt])*an;break}kt<Ft-1?kt+=1:bt=!1}ft._lastPoint=kt,ft._lastAddedLength=gn-Ht.points[kt].partialLength,ft._lastKeyframeIndex=Tt}}else{var yn,fn,In,Dn,Mn;if(wt=Ct.s.length,zt=Lt.s||Ct.e,this.sh&&Ct.h!==1)if(vt>=Ot)xt[0]=zt[0],xt[1]=zt[1],xt[2]=zt[2];else if(vt<=Ut)xt[0]=Ct.s[0],xt[1]=Ct.s[1],xt[2]=Ct.s[2];else{var Fn=rt(Ct.s),Vn=rt(zt),mn=(vt-Ut)/(Ot-Ut);nt(xt,tt(Fn,Vn,mn))}else for(Tt=0;Tt<wt;Tt+=1)Ct.h!==1&&(vt>=Ot?Gt=1:vt<Ut?Gt=0:(Ct.o.x.constructor===Array?($t.__fnct||($t.__fnct=[]),$t.__fnct[Tt]?It=$t.__fnct[Tt]:(yn=Ct.o.x[Tt]===void 0?Ct.o.x[0]:Ct.o.x[Tt],fn=Ct.o.y[Tt]===void 0?Ct.o.y[0]:Ct.o.y[Tt],In=Ct.i.x[Tt]===void 0?Ct.i.x[0]:Ct.i.x[Tt],Dn=Ct.i.y[Tt]===void 0?Ct.i.y[0]:Ct.i.y[Tt],It=BezierFactory.getBezierEasing(yn,fn,In,Dn).get,$t.__fnct[Tt]=It)):$t.__fnct?It=$t.__fnct:(yn=Ct.o.x,fn=Ct.o.y,In=Ct.i.x,Dn=Ct.i.y,It=BezierFactory.getBezierEasing(yn,fn,In,Dn).get,Ct.keyframeMetadata=It),Gt=It((vt-Ut)/(Ot-Ut)))),zt=Lt.s||Ct.e,Mn=Ct.h===1?Ct.s[Tt]:Ct.s[Tt]+(zt[Tt]-Ct.s[Tt])*Gt,this.propType==="multidimensional"?xt[Tt]=Mn:xt=Mn}return ft.lastIndex=_t,xt}function tt(vt,ft,mt){var xt=[],_t=vt[0],Tt=vt[1],wt=vt[2],bt=vt[3],Ct=ft[0],Lt=ft[1],$t=ft[2],Rt=ft[3],Bt,Gt,Ft,kt,It;return Gt=_t*Ct+Tt*Lt+wt*$t+bt*Rt,Gt<0&&(Gt=-Gt,Ct=-Ct,Lt=-Lt,$t=-$t,Rt=-Rt),1-Gt>1e-6?(Bt=Math.acos(Gt),Ft=Math.sin(Bt),kt=Math.sin((1-mt)*Bt)/Ft,It=Math.sin(mt*Bt)/Ft):(kt=1-mt,It=mt),xt[0]=kt*_t+It*Ct,xt[1]=kt*Tt+It*Lt,xt[2]=kt*wt+It*$t,xt[3]=kt*bt+It*Rt,xt}function nt(vt,ft){var mt=ft[0],xt=ft[1],_t=ft[2],Tt=ft[3],wt=Math.atan2(2*xt*Tt-2*mt*_t,1-2*xt*xt-2*_t*_t),bt=Math.asin(2*mt*xt+2*_t*Tt),Ct=Math.atan2(2*mt*Tt-2*xt*_t,1-2*mt*mt-2*_t*_t);vt[0]=wt/degToRads,vt[1]=bt/degToRads,vt[2]=Ct/degToRads}function rt(vt){var ft=vt[0]*degToRads,mt=vt[1]*degToRads,xt=vt[2]*degToRads,_t=Math.cos(ft/2),Tt=Math.cos(mt/2),wt=Math.cos(xt/2),bt=Math.sin(ft/2),Ct=Math.sin(mt/2),Lt=Math.sin(xt/2),$t=_t*Tt*wt-bt*Ct*Lt,Rt=bt*Ct*wt+_t*Tt*Lt,Bt=bt*Tt*wt+_t*Ct*Lt,Gt=_t*Ct*wt-bt*Tt*Lt;return[Rt,Bt,Gt,$t]}function it(){var vt=this.comp.renderedFrame-this.offsetTime,ft=this.keyframes[0].t-this.offsetTime,mt=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(vt===this._caching.lastFrame||this._caching.lastFrame!==_e&&(this._caching.lastFrame>=mt&&vt>=mt||this._caching.lastFrame<ft&&vt<ft))){this._caching.lastFrame>=vt&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var xt=this.interpolateValue(vt,this._caching);this.pv=xt}return this._caching.lastFrame=vt,this.pv}function st(vt){var ft;if(this.propType==="unidimensional")ft=vt*this.mult,j(this.v-ft)>1e-5&&(this.v=ft,this._mdf=!0);else for(var mt=0,xt=this.v.length;mt<xt;)ft=vt[mt]*this.mult,j(this.v[mt]-ft)>1e-5&&(this.v[mt]=ft,this._mdf=!0),mt+=1}function at(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var vt,ft=this.effectsSequence.length,mt=this.kf?this.pv:this.data.k;for(vt=0;vt<ft;vt+=1)mt=this.effectsSequence[vt](mt);this.setVValue(mt),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ot(vt){this.effectsSequence.push(vt),this.container.addDynamicProperty(this)}function lt(vt,ft,mt,xt){this.propType="unidimensional",this.mult=mt||1,this.data=ft,this.v=mt?ft.k*mt:ft.k,this.pv=ft.k,this._mdf=!1,this.elem=vt,this.container=xt,this.comp=vt.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=at,this.setVValue=st,this.addEffect=ot}function ut(vt,ft,mt,xt){this.propType="multidimensional",this.mult=mt||1,this.data=ft,this._mdf=!1,this.elem=vt,this.container=xt,this.comp=vt.comp,this.k=!1,this.kf=!1,this.frameId=-1;var _t,Tt=ft.k.length;for(this.v=createTypedArray("float32",Tt),this.pv=createTypedArray("float32",Tt),this.vel=createTypedArray("float32",Tt),_t=0;_t<Tt;_t+=1)this.v[_t]=ft.k[_t]*this.mult,this.pv[_t]=ft.k[_t];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=at,this.setVValue=st,this.addEffect=ot}function ct(vt,ft,mt,xt){this.propType="unidimensional",this.keyframes=ft.k,this.keyframesMetadata=[],this.offsetTime=vt.data.st,this.frameId=-1,this._caching={lastFrame:_e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=ft,this.mult=mt||1,this.elem=vt,this.container=xt,this.comp=vt.comp,this.v=_e,this.pv=_e,this._isFirstFrame=!0,this.getValue=at,this.setVValue=st,this.interpolateValue=et,this.effectsSequence=[it.bind(this)],this.addEffect=ot}function ht(vt,ft,mt,xt){this.propType="multidimensional";var _t,Tt=ft.k.length,wt,bt,Ct,Lt;for(_t=0;_t<Tt-1;_t+=1)ft.k[_t].to&&ft.k[_t].s&&ft.k[_t+1]&&ft.k[_t+1].s&&(wt=ft.k[_t].s,bt=ft.k[_t+1].s,Ct=ft.k[_t].to,Lt=ft.k[_t].ti,(wt.length===2&&!(wt[0]===bt[0]&&wt[1]===bt[1])&&bez.pointOnLine2D(wt[0],wt[1],bt[0],bt[1],wt[0]+Ct[0],wt[1]+Ct[1])&&bez.pointOnLine2D(wt[0],wt[1],bt[0],bt[1],bt[0]+Lt[0],bt[1]+Lt[1])||wt.length===3&&!(wt[0]===bt[0]&&wt[1]===bt[1]&&wt[2]===bt[2])&&bez.pointOnLine3D(wt[0],wt[1],wt[2],bt[0],bt[1],bt[2],wt[0]+Ct[0],wt[1]+Ct[1],wt[2]+Ct[2])&&bez.pointOnLine3D(wt[0],wt[1],wt[2],bt[0],bt[1],bt[2],bt[0]+Lt[0],bt[1]+Lt[1],bt[2]+Lt[2]))&&(ft.k[_t].to=null,ft.k[_t].ti=null),wt[0]===bt[0]&&wt[1]===bt[1]&&Ct[0]===0&&Ct[1]===0&&Lt[0]===0&&Lt[1]===0&&(wt.length===2||wt[2]===bt[2]&&Ct[2]===0&&Lt[2]===0)&&(ft.k[_t].to=null,ft.k[_t].ti=null));this.effectsSequence=[it.bind(this)],this.data=ft,this.keyframes=ft.k,this.keyframesMetadata=[],this.offsetTime=vt.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=mt||1,this.elem=vt,this.container=xt,this.comp=vt.comp,this.getValue=at,this.setVValue=st,this.interpolateValue=et,this.frameId=-1;var $t=ft.k[0].s.length;for(this.v=createTypedArray("float32",$t),this.pv=createTypedArray("float32",$t),_t=0;_t<$t;_t+=1)this.v[_t]=_e,this.pv[_t]=_e;this._caching={lastFrame:_e,lastIndex:0,value:createTypedArray("float32",$t)},this.addEffect=ot}function pt(vt,ft,mt,xt,_t){var Tt;if(!ft.k.length)Tt=new lt(vt,ft,xt,_t);else if(typeof ft.k[0]=="number")Tt=new ut(vt,ft,xt,_t);else switch(mt){case 0:Tt=new ct(vt,ft,xt,_t);break;case 1:Tt=new ht(vt,ft,xt,_t);break}return Tt.effectsSequence.length&&_t.addDynamicProperty(Tt),Tt}var gt={getProp:pt};return gt}(),TransformPropertyFactory=function(){var _e=[0,0];function j(at){var ot=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||ot,this.a&&at.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&at.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&at.skewFromAxis(-this.sk.v,this.sa.v),this.r?at.rotate(-this.r.v):at.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?at.translate(this.px.v,this.py.v,-this.pz.v):at.translate(this.px.v,this.py.v,0):at.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function et(at){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||at){var ot;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var lt,ut;if(ot=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(lt=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/ot,0),ut=this.p.getValueAtTime(this.p.keyframes[0].t/ot,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(lt=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/ot,0),ut=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/ot,0)):(lt=this.p.pv,ut=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/ot,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){lt=[],ut=[];var ct=this.px,ht=this.py;ct._caching.lastFrame+ct.offsetTime<=ct.keyframes[0].t?(lt[0]=ct.getValueAtTime((ct.keyframes[0].t+.01)/ot,0),lt[1]=ht.getValueAtTime((ht.keyframes[0].t+.01)/ot,0),ut[0]=ct.getValueAtTime(ct.keyframes[0].t/ot,0),ut[1]=ht.getValueAtTime(ht.keyframes[0].t/ot,0)):ct._caching.lastFrame+ct.offsetTime>=ct.keyframes[ct.keyframes.length-1].t?(lt[0]=ct.getValueAtTime(ct.keyframes[ct.keyframes.length-1].t/ot,0),lt[1]=ht.getValueAtTime(ht.keyframes[ht.keyframes.length-1].t/ot,0),ut[0]=ct.getValueAtTime((ct.keyframes[ct.keyframes.length-1].t-.01)/ot,0),ut[1]=ht.getValueAtTime((ht.keyframes[ht.keyframes.length-1].t-.01)/ot,0)):(lt=[ct.pv,ht.pv],ut[0]=ct.getValueAtTime((ct._caching.lastFrame+ct.offsetTime-.01)/ot,ct.offsetTime),ut[1]=ht.getValueAtTime((ht._caching.lastFrame+ht.offsetTime-.01)/ot,ht.offsetTime))}else ut=_e,lt=ut;this.v.rotate(-Math.atan2(lt[1]-ut[1],lt[0]-ut[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function tt(){if(!this.a.k)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function nt(){}function rt(at){this._addDynamicProperty(at),this.elem.addDynamicProperty(at),this._isDirty=!0}function it(at,ot,lt){if(this.elem=at,this.frameId=-1,this.propType="transform",this.data=ot,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(lt||at),ot.p&&ot.p.s?(this.px=PropertyFactory.getProp(at,ot.p.x,0,0,this),this.py=PropertyFactory.getProp(at,ot.p.y,0,0,this),ot.p.z&&(this.pz=PropertyFactory.getProp(at,ot.p.z,0,0,this))):this.p=PropertyFactory.getProp(at,ot.p||{k:[0,0,0]},1,0,this),ot.rx){if(this.rx=PropertyFactory.getProp(at,ot.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(at,ot.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(at,ot.rz,0,degToRads,this),ot.or.k[0].ti){var ut,ct=ot.or.k.length;for(ut=0;ut<ct;ut+=1)ot.or.k[ut].to=null,ot.or.k[ut].ti=null}this.or=PropertyFactory.getProp(at,ot.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(at,ot.r||{k:0},0,degToRads,this);ot.sk&&(this.sk=PropertyFactory.getProp(at,ot.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(at,ot.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(at,ot.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(at,ot.s||{k:[100,100,100]},1,.01,this),ot.o?this.o=PropertyFactory.getProp(at,ot.o,0,.01,at):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}it.prototype={applyToMatrix:j,getValue:et,precalculateMatrix:tt,autoOrient:nt},extendPrototype([DynamicPropertyContainer],it),it.prototype.addDynamicProperty=rt,it.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function st(at,ot,lt){return new it(at,ot,lt)}return{getTransformProperty:st}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(_e,j){this.c=_e,this.setLength(j);for(var et=0;et<j;)this.v[et]=pointPool.newElement(),this.o[et]=pointPool.newElement(),this.i[et]=pointPool.newElement(),et+=1},ShapePath.prototype.setLength=function(_e){for(;this._maxLength<_e;)this.doubleArrayLength();this._length=_e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(_e,j,et,tt,nt){var rt;switch(this._length=Math.max(this._length,tt+1),this._length>=this._maxLength&&this.doubleArrayLength(),et){case"v":rt=this.v;break;case"i":rt=this.i;break;case"o":rt=this.o;break;default:rt=[];break}(!rt[tt]||rt[tt]&&!nt)&&(rt[tt]=pointPool.newElement()),rt[tt][0]=_e,rt[tt][1]=j},ShapePath.prototype.setTripleAt=function(_e,j,et,tt,nt,rt,it,st){this.setXYAt(_e,j,"v",it,st),this.setXYAt(et,tt,"o",it,st),this.setXYAt(nt,rt,"i",it,st)},ShapePath.prototype.reverse=function(){var _e=new ShapePath;_e.setPathData(this.c,this._length);var j=this.v,et=this.o,tt=this.i,nt=0;this.c&&(_e.setTripleAt(j[0][0],j[0][1],tt[0][0],tt[0][1],et[0][0],et[0][1],0,!1),nt=1);var rt=this._length-1,it=this._length,st;for(st=nt;st<it;st+=1)_e.setTripleAt(j[rt][0],j[rt][1],tt[rt][0],tt[rt][1],et[rt][0],et[rt][1],st,!1),rt-=1;return _e};var ShapePropertyFactory=function(){var _e=-999999;function j(ft,mt,xt){var _t=xt.lastIndex,Tt,wt,bt,Ct,Lt,$t,Rt,Bt,Gt,Ft=this.keyframes;if(ft<Ft[0].t-this.offsetTime)Tt=Ft[0].s[0],bt=!0,_t=0;else if(ft>=Ft[Ft.length-1].t-this.offsetTime)Tt=Ft[Ft.length-1].s?Ft[Ft.length-1].s[0]:Ft[Ft.length-2].e[0],bt=!0;else{for(var kt=_t,It=Ft.length-1,Ot=!0,Ut,zt,Ht;Ot&&(Ut=Ft[kt],zt=Ft[kt+1],!(zt.t-this.offsetTime>ft));)kt<It-1?kt+=1:Ot=!1;if(Ht=this.keyframesMetadata[kt]||{},bt=Ut.h===1,_t=kt,!bt){if(ft>=zt.t-this.offsetTime)Bt=1;else if(ft<Ut.t-this.offsetTime)Bt=0;else{var Vt;Ht.__fnct?Vt=Ht.__fnct:(Vt=BezierFactory.getBezierEasing(Ut.o.x,Ut.o.y,Ut.i.x,Ut.i.y).get,Ht.__fnct=Vt),Bt=Vt((ft-(Ut.t-this.offsetTime))/(zt.t-this.offsetTime-(Ut.t-this.offsetTime)))}wt=zt.s?zt.s[0]:Ut.e[0]}Tt=Ut.s[0]}for($t=mt._length,Rt=Tt.i[0].length,xt.lastIndex=_t,Ct=0;Ct<$t;Ct+=1)for(Lt=0;Lt<Rt;Lt+=1)Gt=bt?Tt.i[Ct][Lt]:Tt.i[Ct][Lt]+(wt.i[Ct][Lt]-Tt.i[Ct][Lt])*Bt,mt.i[Ct][Lt]=Gt,Gt=bt?Tt.o[Ct][Lt]:Tt.o[Ct][Lt]+(wt.o[Ct][Lt]-Tt.o[Ct][Lt])*Bt,mt.o[Ct][Lt]=Gt,Gt=bt?Tt.v[Ct][Lt]:Tt.v[Ct][Lt]+(wt.v[Ct][Lt]-Tt.v[Ct][Lt])*Bt,mt.v[Ct][Lt]=Gt}function et(){var ft=this.comp.renderedFrame-this.offsetTime,mt=this.keyframes[0].t-this.offsetTime,xt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,_t=this._caching.lastFrame;return _t!==_e&&(_t<mt&&ft<mt||_t>xt&&ft>xt)||(this._caching.lastIndex=_t<ft?this._caching.lastIndex:0,this.interpolateShape(ft,this.pv,this._caching)),this._caching.lastFrame=ft,this.pv}function tt(){this.paths=this.localShapeCollection}function nt(ft,mt){if(ft._length!==mt._length||ft.c!==mt.c)return!1;var xt,_t=ft._length;for(xt=0;xt<_t;xt+=1)if(ft.v[xt][0]!==mt.v[xt][0]||ft.v[xt][1]!==mt.v[xt][1]||ft.o[xt][0]!==mt.o[xt][0]||ft.o[xt][1]!==mt.o[xt][1]||ft.i[xt][0]!==mt.i[xt][0]||ft.i[xt][1]!==mt.i[xt][1])return!1;return!0}function rt(ft){nt(this.v,ft)||(this.v=shapePool.clone(ft),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function it(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var ft;this.kf?ft=this.pv:this.data.ks?ft=this.data.ks.k:ft=this.data.pt.k;var mt,xt=this.effectsSequence.length;for(mt=0;mt<xt;mt+=1)ft=this.effectsSequence[mt](ft);this.setVValue(ft),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function st(ft,mt,xt){this.propType="shape",this.comp=ft.comp,this.container=ft,this.elem=ft,this.data=mt,this.k=!1,this.kf=!1,this._mdf=!1;var _t=xt===3?mt.pt.k:mt.ks.k;this.v=shapePool.clone(_t),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=tt,this.effectsSequence=[]}function at(ft){this.effectsSequence.push(ft),this.container.addDynamicProperty(this)}st.prototype.interpolateShape=j,st.prototype.getValue=it,st.prototype.setVValue=rt,st.prototype.addEffect=at;function ot(ft,mt,xt){this.propType="shape",this.comp=ft.comp,this.elem=ft,this.container=ft,this.offsetTime=ft.data.st,this.keyframes=xt===3?mt.pt.k:mt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var _t=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,_t),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=_e,this.reset=tt,this._caching={lastFrame:_e,lastIndex:0},this.effectsSequence=[et.bind(this)]}ot.prototype.getValue=it,ot.prototype.interpolateShape=j,ot.prototype.setVValue=rt,ot.prototype.addEffect=at;var lt=function(){var ft=roundCorner;function mt(xt,_t){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=_t.d,this.elem=xt,this.comp=xt.comp,this.frameId=-1,this.initDynamicPropertyContainer(xt),this.p=PropertyFactory.getProp(xt,_t.p,1,0,this),this.s=PropertyFactory.getProp(xt,_t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return mt.prototype={reset:tt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var xt=this.p.v[0],_t=this.p.v[1],Tt=this.s.v[0]/2,wt=this.s.v[1]/2,bt=this.d!==3,Ct=this.v;Ct.v[0][0]=xt,Ct.v[0][1]=_t-wt,Ct.v[1][0]=bt?xt+Tt:xt-Tt,Ct.v[1][1]=_t,Ct.v[2][0]=xt,Ct.v[2][1]=_t+wt,Ct.v[3][0]=bt?xt-Tt:xt+Tt,Ct.v[3][1]=_t,Ct.i[0][0]=bt?xt-Tt*ft:xt+Tt*ft,Ct.i[0][1]=_t-wt,Ct.i[1][0]=bt?xt+Tt:xt-Tt,Ct.i[1][1]=_t-wt*ft,Ct.i[2][0]=bt?xt+Tt*ft:xt-Tt*ft,Ct.i[2][1]=_t+wt,Ct.i[3][0]=bt?xt-Tt:xt+Tt,Ct.i[3][1]=_t+wt*ft,Ct.o[0][0]=bt?xt+Tt*ft:xt-Tt*ft,Ct.o[0][1]=_t-wt,Ct.o[1][0]=bt?xt+Tt:xt-Tt,Ct.o[1][1]=_t+wt*ft,Ct.o[2][0]=bt?xt-Tt*ft:xt+Tt*ft,Ct.o[2][1]=_t+wt,Ct.o[3][0]=bt?xt-Tt:xt+Tt,Ct.o[3][1]=_t-wt*ft}},extendPrototype([DynamicPropertyContainer],mt),mt}(),ut=function(){function ft(mt,xt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=mt,this.comp=mt.comp,this.data=xt,this.frameId=-1,this.d=xt.d,this.initDynamicPropertyContainer(mt),xt.sy===1?(this.ir=PropertyFactory.getProp(mt,xt.ir,0,0,this),this.is=PropertyFactory.getProp(mt,xt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(mt,xt.pt,0,0,this),this.p=PropertyFactory.getProp(mt,xt.p,1,0,this),this.r=PropertyFactory.getProp(mt,xt.r,0,degToRads,this),this.or=PropertyFactory.getProp(mt,xt.or,0,0,this),this.os=PropertyFactory.getProp(mt,xt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return ft.prototype={reset:tt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var mt=Math.floor(this.pt.v)*2,xt=Math.PI*2/mt,_t=!0,Tt=this.or.v,wt=this.ir.v,bt=this.os.v,Ct=this.is.v,Lt=2*Math.PI*Tt/(mt*2),$t=2*Math.PI*wt/(mt*2),Rt,Bt,Gt,Ft,kt=-Math.PI/2;kt+=this.r.v;var It=this.data.d===3?-1:1;for(this.v._length=0,Rt=0;Rt<mt;Rt+=1){Bt=_t?Tt:wt,Gt=_t?bt:Ct,Ft=_t?Lt:$t;var Ot=Bt*Math.cos(kt),Ut=Bt*Math.sin(kt),zt=Ot===0&&Ut===0?0:Ut/Math.sqrt(Ot*Ot+Ut*Ut),Ht=Ot===0&&Ut===0?0:-Ot/Math.sqrt(Ot*Ot+Ut*Ut);Ot+=+this.p.v[0],Ut+=+this.p.v[1],this.v.setTripleAt(Ot,Ut,Ot-zt*Ft*Gt*It,Ut-Ht*Ft*Gt*It,Ot+zt*Ft*Gt*It,Ut+Ht*Ft*Gt*It,Rt,!0),_t=!_t,kt+=xt*It}},convertPolygonToPath:function(){var mt=Math.floor(this.pt.v),xt=Math.PI*2/mt,_t=this.or.v,Tt=this.os.v,wt=2*Math.PI*_t/(mt*4),bt,Ct=-Math.PI*.5,Lt=this.data.d===3?-1:1;for(Ct+=this.r.v,this.v._length=0,bt=0;bt<mt;bt+=1){var $t=_t*Math.cos(Ct),Rt=_t*Math.sin(Ct),Bt=$t===0&&Rt===0?0:Rt/Math.sqrt($t*$t+Rt*Rt),Gt=$t===0&&Rt===0?0:-$t/Math.sqrt($t*$t+Rt*Rt);$t+=+this.p.v[0],Rt+=+this.p.v[1],this.v.setTripleAt($t,Rt,$t-Bt*wt*Tt*Lt,Rt-Gt*wt*Tt*Lt,$t+Bt*wt*Tt*Lt,Rt+Gt*wt*Tt*Lt,bt,!0),Ct+=xt*Lt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],ft),ft}(),ct=function(){function ft(mt,xt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=mt,this.comp=mt.comp,this.frameId=-1,this.d=xt.d,this.initDynamicPropertyContainer(mt),this.p=PropertyFactory.getProp(mt,xt.p,1,0,this),this.s=PropertyFactory.getProp(mt,xt.s,1,0,this),this.r=PropertyFactory.getProp(mt,xt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return ft.prototype={convertRectToPath:function(){var mt=this.p.v[0],xt=this.p.v[1],_t=this.s.v[0]/2,Tt=this.s.v[1]/2,wt=bmMin(_t,Tt,this.r.v),bt=wt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(mt+_t,xt-Tt+wt,mt+_t,xt-Tt+wt,mt+_t,xt-Tt+bt,0,!0),this.v.setTripleAt(mt+_t,xt+Tt-wt,mt+_t,xt+Tt-bt,mt+_t,xt+Tt-wt,1,!0),wt!==0?(this.v.setTripleAt(mt+_t-wt,xt+Tt,mt+_t-wt,xt+Tt,mt+_t-bt,xt+Tt,2,!0),this.v.setTripleAt(mt-_t+wt,xt+Tt,mt-_t+bt,xt+Tt,mt-_t+wt,xt+Tt,3,!0),this.v.setTripleAt(mt-_t,xt+Tt-wt,mt-_t,xt+Tt-wt,mt-_t,xt+Tt-bt,4,!0),this.v.setTripleAt(mt-_t,xt-Tt+wt,mt-_t,xt-Tt+bt,mt-_t,xt-Tt+wt,5,!0),this.v.setTripleAt(mt-_t+wt,xt-Tt,mt-_t+wt,xt-Tt,mt-_t+bt,xt-Tt,6,!0),this.v.setTripleAt(mt+_t-wt,xt-Tt,mt+_t-bt,xt-Tt,mt+_t-wt,xt-Tt,7,!0)):(this.v.setTripleAt(mt-_t,xt+Tt,mt-_t+bt,xt+Tt,mt-_t,xt+Tt,2),this.v.setTripleAt(mt-_t,xt-Tt,mt-_t,xt-Tt+bt,mt-_t,xt-Tt,3))):(this.v.setTripleAt(mt+_t,xt-Tt+wt,mt+_t,xt-Tt+bt,mt+_t,xt-Tt+wt,0,!0),wt!==0?(this.v.setTripleAt(mt+_t-wt,xt-Tt,mt+_t-wt,xt-Tt,mt+_t-bt,xt-Tt,1,!0),this.v.setTripleAt(mt-_t+wt,xt-Tt,mt-_t+bt,xt-Tt,mt-_t+wt,xt-Tt,2,!0),this.v.setTripleAt(mt-_t,xt-Tt+wt,mt-_t,xt-Tt+wt,mt-_t,xt-Tt+bt,3,!0),this.v.setTripleAt(mt-_t,xt+Tt-wt,mt-_t,xt+Tt-bt,mt-_t,xt+Tt-wt,4,!0),this.v.setTripleAt(mt-_t+wt,xt+Tt,mt-_t+wt,xt+Tt,mt-_t+bt,xt+Tt,5,!0),this.v.setTripleAt(mt+_t-wt,xt+Tt,mt+_t-bt,xt+Tt,mt+_t-wt,xt+Tt,6,!0),this.v.setTripleAt(mt+_t,xt+Tt-wt,mt+_t,xt+Tt-wt,mt+_t,xt+Tt-bt,7,!0)):(this.v.setTripleAt(mt-_t,xt-Tt,mt-_t+bt,xt-Tt,mt-_t,xt-Tt,1,!0),this.v.setTripleAt(mt-_t,xt+Tt,mt-_t,xt+Tt-bt,mt-_t,xt+Tt,2,!0),this.v.setTripleAt(mt+_t,xt+Tt,mt+_t-bt,xt+Tt,mt+_t,xt+Tt,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:tt},extendPrototype([DynamicPropertyContainer],ft),ft}();function ht(ft,mt,xt){var _t;if(xt===3||xt===4){var Tt=xt===3?mt.pt:mt.ks,wt=Tt.k;wt.length?_t=new ot(ft,mt,xt):_t=new st(ft,mt,xt)}else xt===5?_t=new ct(ft,mt):xt===6?_t=new lt(ft,mt):xt===7&&(_t=new ut(ft,mt));return _t.k&&ft.addDynamicProperty(_t),_t}function pt(){return st}function gt(){return ot}var vt={};return vt.getShapeProp=ht,vt.getConstructorFunction=pt,vt.getKeyframedConstructorFunction=gt,vt}(),ShapeModifiers=function(){var _e={},j={};_e.registerModifier=et,_e.getModifier=tt;function et(nt,rt){j[nt]||(j[nt]=rt)}function tt(nt,rt,it){return new j[nt](rt,it)}return _e}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(_e){if(!this.closed){_e.sh.container.addDynamicProperty(_e.sh);var j={shape:_e.sh,data:_e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(j),this.addShapeToModifier(j),this._isAnimated&&_e.setAsAnimated()}},ShapeModifier.prototype.init=function(_e,j){this.shapes=[],this.elem=_e,this.initDynamicPropertyContainer(_e),this.initModifierProperties(_e,j),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(_e,j){this.s=PropertyFactory.getProp(_e,j.s,0,.01,this),this.e=PropertyFactory.getProp(_e,j.e,0,.01,this),this.o=PropertyFactory.getProp(_e,j.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=j.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(_e){_e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(_e,j,et,tt,nt){var rt=[];j<=1?rt.push({s:_e,e:j}):_e>=1?rt.push({s:_e-1,e:j-1}):(rt.push({s:_e,e:1}),rt.push({s:0,e:j-1}));var it=[],st,at=rt.length,ot;for(st=0;st<at;st+=1)if(ot=rt[st],!(ot.e*nt<tt||ot.s*nt>tt+et)){var lt,ut;ot.s*nt<=tt?lt=0:lt=(ot.s*nt-tt)/et,ot.e*nt>=tt+et?ut=1:ut=(ot.e*nt-tt)/et,it.push([lt,ut])}return it.length||it.push([0,0]),it},TrimModifier.prototype.releasePathsData=function(_e){var j,et=_e.length;for(j=0;j<et;j+=1)segmentsLengthPool.release(_e[j]);return _e.length=0,_e},TrimModifier.prototype.processShapes=function(_e){var j,et;if(this._mdf||_e){var tt=this.o.v%360/360;if(tt<0&&(tt+=1),this.s.v>1?j=1+tt:this.s.v<0?j=0+tt:j=this.s.v+tt,this.e.v>1?et=1+tt:this.e.v<0?et=0+tt:et=this.e.v+tt,j>et){var nt=j;j=et,et=nt}j=Math.round(j*1e4)*1e-4,et=Math.round(et*1e4)*1e-4,this.sValue=j,this.eValue=et}else j=this.sValue,et=this.eValue;var rt,it,st=this.shapes.length,at,ot,lt,ut,ct,ht=0;if(et===j)for(it=0;it<st;it+=1)this.shapes[it].localShapeCollection.releaseShapes(),this.shapes[it].shape._mdf=!0,this.shapes[it].shape.paths=this.shapes[it].localShapeCollection,this._mdf&&(this.shapes[it].pathsData.length=0);else if(et===1&&j===0||et===0&&j===1){if(this._mdf)for(it=0;it<st;it+=1)this.shapes[it].pathsData.length=0,this.shapes[it].shape._mdf=!0}else{var pt=[],gt,vt;for(it=0;it<st;it+=1)if(gt=this.shapes[it],!gt.shape._mdf&&!this._mdf&&!_e&&this.m!==2)gt.shape.paths=gt.localShapeCollection;else{if(rt=gt.shape.paths,ot=rt._length,ct=0,!gt.shape._mdf&&gt.pathsData.length)ct=gt.totalShapeLength;else{for(lt=this.releasePathsData(gt.pathsData),at=0;at<ot;at+=1)ut=bez.getSegmentsLength(rt.shapes[at]),lt.push(ut),ct+=ut.totalLength;gt.totalShapeLength=ct,gt.pathsData=lt}ht+=ct,gt.shape._mdf=!0}var ft=j,mt=et,xt=0,_t;for(it=st-1;it>=0;it-=1)if(gt=this.shapes[it],gt.shape._mdf){for(vt=gt.localShapeCollection,vt.releaseShapes(),this.m===2&&st>1?(_t=this.calculateShapeEdges(j,et,gt.totalShapeLength,xt,ht),xt+=gt.totalShapeLength):_t=[[ft,mt]],ot=_t.length,at=0;at<ot;at+=1){ft=_t[at][0],mt=_t[at][1],pt.length=0,mt<=1?pt.push({s:gt.totalShapeLength*ft,e:gt.totalShapeLength*mt}):ft>=1?pt.push({s:gt.totalShapeLength*(ft-1),e:gt.totalShapeLength*(mt-1)}):(pt.push({s:gt.totalShapeLength*ft,e:gt.totalShapeLength}),pt.push({s:0,e:gt.totalShapeLength*(mt-1)}));var Tt=this.addShapes(gt,pt[0]);if(pt[0].s!==pt[0].e){if(pt.length>1){var wt=gt.shape.paths.shapes[gt.shape.paths._length-1];if(wt.c){var bt=Tt.pop();this.addPaths(Tt,vt),Tt=this.addShapes(gt,pt[1],bt)}else this.addPaths(Tt,vt),Tt=this.addShapes(gt,pt[1])}this.addPaths(Tt,vt)}}gt.shape.paths=vt}}},TrimModifier.prototype.addPaths=function(_e,j){var et,tt=_e.length;for(et=0;et<tt;et+=1)j.addShape(_e[et])},TrimModifier.prototype.addSegment=function(_e,j,et,tt,nt,rt,it){nt.setXYAt(j[0],j[1],"o",rt),nt.setXYAt(et[0],et[1],"i",rt+1),it&&nt.setXYAt(_e[0],_e[1],"v",rt),nt.setXYAt(tt[0],tt[1],"v",rt+1)},TrimModifier.prototype.addSegmentFromArray=function(_e,j,et,tt){j.setXYAt(_e[1],_e[5],"o",et),j.setXYAt(_e[2],_e[6],"i",et+1),tt&&j.setXYAt(_e[0],_e[4],"v",et),j.setXYAt(_e[3],_e[7],"v",et+1)},TrimModifier.prototype.addShapes=function(_e,j,et){var tt=_e.pathsData,nt=_e.shape.paths.shapes,rt,it=_e.shape.paths._length,st,at,ot=0,lt,ut,ct,ht,pt=[],gt,vt=!0;for(et?(ut=et._length,gt=et._length):(et=shapePool.newElement(),ut=0,gt=0),pt.push(et),rt=0;rt<it;rt+=1){for(ct=tt[rt].lengths,et.c=nt[rt].c,at=nt[rt].c?ct.length:ct.length+1,st=1;st<at;st+=1)if(lt=ct[st-1],ot+lt.addedLength<j.s)ot+=lt.addedLength,et.c=!1;else if(ot>j.e){et.c=!1;break}else j.s<=ot&&j.e>=ot+lt.addedLength?(this.addSegment(nt[rt].v[st-1],nt[rt].o[st-1],nt[rt].i[st],nt[rt].v[st],et,ut,vt),vt=!1):(ht=bez.getNewSegment(nt[rt].v[st-1],nt[rt].v[st],nt[rt].o[st-1],nt[rt].i[st],(j.s-ot)/lt.addedLength,(j.e-ot)/lt.addedLength,ct[st-1]),this.addSegmentFromArray(ht,et,ut,vt),vt=!1,et.c=!1),ot+=lt.addedLength,ut+=1;if(nt[rt].c&&ct.length){if(lt=ct[st-1],ot<=j.e){var ft=ct[st-1].addedLength;j.s<=ot&&j.e>=ot+ft?(this.addSegment(nt[rt].v[st-1],nt[rt].o[st-1],nt[rt].i[0],nt[rt].v[0],et,ut,vt),vt=!1):(ht=bez.getNewSegment(nt[rt].v[st-1],nt[rt].v[0],nt[rt].o[st-1],nt[rt].i[0],(j.s-ot)/ft,(j.e-ot)/ft,ct[st-1]),this.addSegmentFromArray(ht,et,ut,vt),vt=!1,et.c=!1)}else et.c=!1;ot+=lt.addedLength,ut+=1}if(et._length&&(et.setXYAt(et.v[gt][0],et.v[gt][1],"i",gt),et.setXYAt(et.v[et._length-1][0],et.v[et._length-1][1],"o",et._length-1)),ot>j.e)break;rt<it-1&&(et=shapePool.newElement(),vt=!0,pt.push(et),ut=0)}return pt},ShapeModifiers.registerModifier("tm",TrimModifier);function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(_e,j){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(_e,j.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(_e,j){var et=shapePool.newElement();et.c=_e.c;var tt,nt=_e._length,rt,it,st,at,ot,lt,ut=0,ct,ht,pt,gt,vt,ft;for(tt=0;tt<nt;tt+=1)rt=_e.v[tt],st=_e.o[tt],it=_e.i[tt],rt[0]===st[0]&&rt[1]===st[1]&&rt[0]===it[0]&&rt[1]===it[1]?(tt===0||tt===nt-1)&&!_e.c?(et.setTripleAt(rt[0],rt[1],st[0],st[1],it[0],it[1],ut),ut+=1):(tt===0?at=_e.v[nt-1]:at=_e.v[tt-1],ot=Math.sqrt(Math.pow(rt[0]-at[0],2)+Math.pow(rt[1]-at[1],2)),lt=ot?Math.min(ot/2,j)/ot:0,vt=rt[0]+(at[0]-rt[0])*lt,ct=vt,ft=rt[1]-(rt[1]-at[1])*lt,ht=ft,pt=ct-(ct-rt[0])*roundCorner,gt=ht-(ht-rt[1])*roundCorner,et.setTripleAt(ct,ht,pt,gt,vt,ft,ut),ut+=1,tt===nt-1?at=_e.v[0]:at=_e.v[tt+1],ot=Math.sqrt(Math.pow(rt[0]-at[0],2)+Math.pow(rt[1]-at[1],2)),lt=ot?Math.min(ot/2,j)/ot:0,pt=rt[0]+(at[0]-rt[0])*lt,ct=pt,gt=rt[1]+(at[1]-rt[1])*lt,ht=gt,vt=ct-(ct-rt[0])*roundCorner,ft=ht-(ht-rt[1])*roundCorner,et.setTripleAt(ct,ht,pt,gt,vt,ft,ut),ut+=1):(et.setTripleAt(_e.v[tt][0],_e.v[tt][1],_e.o[tt][0],_e.o[tt][1],_e.i[tt][0],_e.i[tt][1],ut),ut+=1);return et},RoundCornersModifier.prototype.processShapes=function(_e){var j,et,tt=this.shapes.length,nt,rt,it=this.rd.v;if(it!==0){var st,at;for(et=0;et<tt;et+=1){if(st=this.shapes[et],at=st.localShapeCollection,!(!st.shape._mdf&&!this._mdf&&!_e))for(at.releaseShapes(),st.shape._mdf=!0,j=st.shape.paths.shapes,rt=st.shape.paths._length,nt=0;nt<rt;nt+=1)at.addShape(this.processPath(j[nt],it));st.shape.paths=st.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier);function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(_e,j){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(_e,j.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(_e,j){var et=j/100,tt=[0,0],nt=_e._length,rt=0;for(rt=0;rt<nt;rt+=1)tt[0]+=_e.v[rt][0],tt[1]+=_e.v[rt][1];tt[0]/=nt,tt[1]/=nt;var it=shapePool.newElement();it.c=_e.c;var st,at,ot,lt,ut,ct;for(rt=0;rt<nt;rt+=1)st=_e.v[rt][0]+(tt[0]-_e.v[rt][0])*et,at=_e.v[rt][1]+(tt[1]-_e.v[rt][1])*et,ot=_e.o[rt][0]+(tt[0]-_e.o[rt][0])*-et,lt=_e.o[rt][1]+(tt[1]-_e.o[rt][1])*-et,ut=_e.i[rt][0]+(tt[0]-_e.i[rt][0])*-et,ct=_e.i[rt][1]+(tt[1]-_e.i[rt][1])*-et,it.setTripleAt(st,at,ot,lt,ut,ct,rt);return it},PuckerAndBloatModifier.prototype.processShapes=function(_e){var j,et,tt=this.shapes.length,nt,rt,it=this.amount.v;if(it!==0){var st,at;for(et=0;et<tt;et+=1){if(st=this.shapes[et],at=st.localShapeCollection,!(!st.shape._mdf&&!this._mdf&&!_e))for(at.releaseShapes(),st.shape._mdf=!0,j=st.shape.paths.shapes,rt=st.shape.paths._length,nt=0;nt<rt;nt+=1)at.addShape(this.processPath(j[nt],it));st.shape.paths=st.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier);function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(_e,j){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(_e,j.c,0,null,this),this.o=PropertyFactory.getProp(_e,j.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(_e,j.tr,this),this.so=PropertyFactory.getProp(_e,j.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(_e,j.tr.eo,0,.01,this),this.data=j,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(_e,j,et,tt,nt,rt){var it=rt?-1:1,st=tt.s.v[0]+(1-tt.s.v[0])*(1-nt),at=tt.s.v[1]+(1-tt.s.v[1])*(1-nt);_e.translate(tt.p.v[0]*it*nt,tt.p.v[1]*it*nt,tt.p.v[2]),j.translate(-tt.a.v[0],-tt.a.v[1],tt.a.v[2]),j.rotate(-tt.r.v*it*nt),j.translate(tt.a.v[0],tt.a.v[1],tt.a.v[2]),et.translate(-tt.a.v[0],-tt.a.v[1],tt.a.v[2]),et.scale(rt?1/st:st,rt?1/at:at),et.translate(tt.a.v[0],tt.a.v[1],tt.a.v[2])},RepeaterModifier.prototype.init=function(_e,j,et,tt){for(this.elem=_e,this.arr=j,this.pos=et,this.elemsData=tt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(_e),this.initModifierProperties(_e,j[et]);et>0;)et-=1,this._elements.unshift(j[et]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(_e){var j,et=_e.length;for(j=0;j<et;j+=1)_e[j]._processed=!1,_e[j].ty==="gr"&&this.resetElements(_e[j].it)},RepeaterModifier.prototype.cloneElements=function(_e){var j=JSON.parse(JSON.stringify(_e));return this.resetElements(j),j},RepeaterModifier.prototype.changeGroupRender=function(_e,j){var et,tt=_e.length;for(et=0;et<tt;et+=1)_e[et]._render=j,_e[et].ty==="gr"&&this.changeGroupRender(_e[et].it,j)},RepeaterModifier.prototype.processShapes=function(_e){var j,et,tt,nt,rt,it=!1;if(this._mdf||_e){var st=Math.ceil(this.c.v);if(this._groups.length<st){for(;this._groups.length<st;){var at={it:this.cloneElements(this._elements),ty:"gr"};at.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,at),this._groups.splice(0,0,at),this._currentCopies+=1}this.elem.reloadShapes(),it=!0}rt=0;var ot;for(tt=0;tt<=this._groups.length-1;tt+=1){if(ot=rt<st,this._groups[tt]._render=ot,this.changeGroupRender(this._groups[tt].it,ot),!ot){var lt=this.elemsData[tt].it,ut=lt[lt.length-1];ut.transform.op.v!==0?(ut.transform.op._mdf=!0,ut.transform.op.v=0):ut.transform.op._mdf=!1}rt+=1}this._currentCopies=st;var ct=this.o.v,ht=ct%1,pt=ct>0?Math.floor(ct):Math.ceil(ct),gt=this.pMatrix.props,vt=this.rMatrix.props,ft=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var mt=0;if(ct>0){for(;mt<pt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),mt+=1;ht&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,ht,!1),mt+=ht)}else if(ct<0){for(;mt>pt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),mt-=1;ht&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-ht,!0),mt-=ht)}tt=this.data.m===1?0:this._currentCopies-1,nt=this.data.m===1?1:-1,rt=this._currentCopies;for(var xt,_t;rt;){if(j=this.elemsData[tt].it,et=j[j.length-1].transform.mProps.v.props,_t=et.length,j[j.length-1].transform.mProps._mdf=!0,j[j.length-1].transform.op._mdf=!0,j[j.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(tt/(this._currentCopies-1)),mt!==0){for((tt!==0&&nt===1||tt!==this._currentCopies-1&&nt===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5],vt[6],vt[7],vt[8],vt[9],vt[10],vt[11],vt[12],vt[13],vt[14],vt[15]),this.matrix.transform(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5],ft[6],ft[7],ft[8],ft[9],ft[10],ft[11],ft[12],ft[13],ft[14],ft[15]),this.matrix.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5],gt[6],gt[7],gt[8],gt[9],gt[10],gt[11],gt[12],gt[13],gt[14],gt[15]),xt=0;xt<_t;xt+=1)et[xt]=this.matrix.props[xt];this.matrix.reset()}else for(this.matrix.reset(),xt=0;xt<_t;xt+=1)et[xt]=this.matrix.props[xt];mt+=1,rt-=1,tt+=nt}}else for(rt=this._currentCopies,tt=0,nt=1;rt;)j=this.elemsData[tt].it,et=j[j.length-1].transform.mProps.v.props,j[j.length-1].transform.mProps._mdf=!1,j[j.length-1].transform.op._mdf=!1,rt-=1,tt+=nt;return it},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier);function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(_e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=_e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var _e;for(_e=0;_e<this._length;_e+=1)shapePool.release(this.shapes[_e]);this._length=0};function DashProperty(_e,j,et,tt){this.elem=_e,this.frameId=-1,this.dataProps=createSizedArray(j.length),this.renderer=et,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",j.length?j.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(tt);var nt,rt=j.length||0,it;for(nt=0;nt<rt;nt+=1)it=PropertyFactory.getProp(_e,j[nt].v,0,0,this),this.k=it.k||this.k,this.dataProps[nt]={n:j[nt].n,p:it};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(_e){if(!(this.elem.globalData.frameId===this.frameId&&!_e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||_e,this._mdf)){var j=0,et=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),j=0;j<et;j+=1)this.dataProps[j].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[j].p.v:this.dashArray[j]=this.dataProps[j].p.v:this.dashoffset[0]=this.dataProps[j].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function GradientProperty(_e,j,et){this.data=j,this.c=createTypedArray("uint8c",j.p*4);var tt=j.k.k[0].s?j.k.k[0].s.length-j.p*4:j.k.k.length-j.p*4;this.o=createTypedArray("float32",tt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=tt,this.initDynamicPropertyContainer(et),this.prop=PropertyFactory.getProp(_e,j.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(_e,j){for(var et=0,tt=this.o.length/2,nt;et<tt;){if(nt=Math.abs(_e[et*4]-_e[j*4+et*2]),nt>.01)return!1;et+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var _e=0,j=this.data.k.k.length;_e<j;){if(!this.comparePoints(this.data.k.k[_e].s,this.data.p))return!1;_e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(_e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||_e){var j,et=this.data.p*4,tt,nt;for(j=0;j<et;j+=1)tt=j%4===0?100:255,nt=Math.round(this.prop.v[j]*tt),this.c[j]!==nt&&(this.c[j]=nt,this._cmdf=!_e);if(this.o.length)for(et=this.prop.v.length,j=this.data.p*4;j<et;j+=1)tt=j%2===0?100:1,nt=j%2===0?Math.round(this.prop.v[j]*100):this.prop.v[j],this.o[j-this.data.p*4]!==nt&&(this.o[j-this.data.p*4]=nt,this._omdf=!_e);this._mdf=!_e}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(_e,j,et,tt){if(j===0)return"";var nt=_e.o,rt=_e.i,it=_e.v,st,at=" M"+tt.applyToPointStringified(it[0][0],it[0][1]);for(st=1;st<j;st+=1)at+=" C"+tt.applyToPointStringified(nt[st-1][0],nt[st-1][1])+" "+tt.applyToPointStringified(rt[st][0],rt[st][1])+" "+tt.applyToPointStringified(it[st][0],it[st][1]);return et&&j&&(at+=" C"+tt.applyToPointStringified(nt[st-1][0],nt[st-1][1])+" "+tt.applyToPointStringified(rt[0][0],rt[0][1])+" "+tt.applyToPointStringified(it[0][0],it[0][1]),at+="z"),at},audioControllerFactory=function(){function _e(j){this.audios=[],this.audioFactory=j,this._volume=1,this._isMuted=!1}return _e.prototype={addAudio:function(j){this.audios.push(j)},pause:function(){var j,et=this.audios.length;for(j=0;j<et;j+=1)this.audios[j].pause()},resume:function(){var j,et=this.audios.length;for(j=0;j<et;j+=1)this.audios[j].resume()},setRate:function(j){var et,tt=this.audios.length;for(et=0;et<tt;et+=1)this.audios[et].setRate(j)},createAudio:function(j){return this.audioFactory?this.audioFactory(j):Howl?new Howl({src:[j]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(j){this.audioFactory=j},setVolume:function(j){this._volume=j,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var j,et=this.audios.length;for(j=0;j<et;j+=1)this.audios[j].volume(this._volume*(this._isMuted?0:1))}},function(){return new _e}}(),ImagePreloader=function(){var _e=function(){var ft=createTag("canvas");ft.width=1,ft.height=1;var mt=ft.getContext("2d");return mt.fillStyle="rgba(0,0,0,0)",mt.fillRect(0,0,1,1),ft}();function j(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function et(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function tt(ft,mt,xt){var _t="";if(ft.e)_t=ft.p;else if(mt){var Tt=ft.p;Tt.indexOf("images/")!==-1&&(Tt=Tt.split("/")[1]),_t=mt+Tt}else _t=xt,_t+=ft.u?ft.u:"",_t+=ft.p;return _t}function nt(ft){var mt=0,xt=setInterval(function(){var _t=ft.getBBox();(_t.width||mt>500)&&(this._imageLoaded(),clearInterval(xt)),mt+=1}.bind(this),50)}function rt(ft){var mt=tt(ft,this.assetsPath,this.path),xt=createNS("image");isSafari?this.testImageLoaded(xt):xt.addEventListener("load",this._imageLoaded,!1),xt.addEventListener("error",function(){_t.img=_e,this._imageLoaded()}.bind(this),!1),xt.setAttributeNS("http://www.w3.org/1999/xlink","href",mt),this._elementHelper.append?this._elementHelper.append(xt):this._elementHelper.appendChild(xt);var _t={img:xt,assetData:ft};return _t}function it(ft){var mt=tt(ft,this.assetsPath,this.path),xt=createTag("img");xt.crossOrigin="anonymous",xt.addEventListener("load",this._imageLoaded,!1),xt.addEventListener("error",function(){_t.img=_e,this._imageLoaded()}.bind(this),!1),xt.src=mt;var _t={img:xt,assetData:ft};return _t}function st(ft){var mt={assetData:ft},xt=tt(ft,this.assetsPath,this.path);return dataManager.loadData(xt,function(_t){mt.img=_t,this._footageLoaded()}.bind(this),function(){mt.img={},this._footageLoaded()}.bind(this)),mt}function at(ft,mt){this.imagesLoadedCb=mt;var xt,_t=ft.length;for(xt=0;xt<_t;xt+=1)ft[xt].layers||(!ft[xt].t||ft[xt].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(ft[xt]))):ft[xt].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(ft[xt]))))}function ot(ft){this.path=ft||""}function lt(ft){this.assetsPath=ft||""}function ut(ft){for(var mt=0,xt=this.images.length;mt<xt;){if(this.images[mt].assetData===ft)return this.images[mt].img;mt+=1}return null}function ct(){this.imagesLoadedCb=null,this.images.length=0}function ht(){return this.totalImages===this.loadedAssets}function pt(){return this.totalFootages===this.loadedFootagesCount}function gt(ft,mt){ft==="svg"?(this._elementHelper=mt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function vt(){this._imageLoaded=j.bind(this),this._footageLoaded=et.bind(this),this.testImageLoaded=nt.bind(this),this.createFootageData=st.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return vt.prototype={loadAssets:at,setAssetsPath:lt,setPath:ot,loadedImages:ht,loadedFootages:pt,destroy:ct,getAsset:ut,createImgData:it,createImageData:rt,imageLoaded:j,footageLoaded:et,setCacheType:gt},vt}(),featureSupport=function(){var _e={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(_e.maskType=!1),_e}(),filtersFactory=function(){var _e={};_e.createFilter=j,_e.createAlphaToLuminanceFilter=et;function j(tt,nt){var rt=createNS("filter");return rt.setAttribute("id",tt),nt!==!0&&(rt.setAttribute("filterUnits","objectBoundingBox"),rt.setAttribute("x","0%"),rt.setAttribute("y","0%"),rt.setAttribute("width","100%"),rt.setAttribute("height","100%")),rt}function et(){var tt=createNS("feColorMatrix");return tt.setAttribute("type","matrix"),tt.setAttribute("color-interpolation-filters","sRGB"),tt.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),tt}return _e}();function TextAnimatorProperty(_e,j,et){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=_e,this._renderType=j,this._elem=et,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(et)}TextAnimatorProperty.prototype.searchProperties=function(){var _e,j=this._textData.a.length,et,tt=PropertyFactory.getProp;for(_e=0;_e<j;_e+=1)et=this._textData.a[_e],this._animatorsData[_e]=new TextAnimatorDataProperty(this._elem,et,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:tt(this._elem,this._textData.p.a,0,0,this),f:tt(this._elem,this._textData.p.f,0,0,this),l:tt(this._elem,this._textData.p.l,0,0,this),r:tt(this._elem,this._textData.p.r,0,0,this),p:tt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=tt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(_e,j){if(this.lettersChangedFlag=j,!(!this._mdf&&!this._isFirstFrame&&!j&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var et=this._moreOptions.alignment.v,tt=this._animatorsData,nt=this._textData,rt=this.mHelper,it=this._renderType,st=this.renderedLetters.length,at,ot,lt,ut,ct=_e.l,ht,pt,gt,vt,ft,mt,xt,_t,Tt,wt,bt,Ct,Lt,$t,Rt;if(this._hasMaskedPath){if(Rt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Bt=Rt.v;this._pathData.r.v&&(Bt=Bt.reverse()),ht={tLength:0,segments:[]},ut=Bt._length-1;var Gt;for(Ct=0,lt=0;lt<ut;lt+=1)Gt=bez.buildBezierData(Bt.v[lt],Bt.v[lt+1],[Bt.o[lt][0]-Bt.v[lt][0],Bt.o[lt][1]-Bt.v[lt][1]],[Bt.i[lt+1][0]-Bt.v[lt+1][0],Bt.i[lt+1][1]-Bt.v[lt+1][1]]),ht.tLength+=Gt.segmentLength,ht.segments.push(Gt),Ct+=Gt.segmentLength;lt=ut,Rt.v.c&&(Gt=bez.buildBezierData(Bt.v[lt],Bt.v[0],[Bt.o[lt][0]-Bt.v[lt][0],Bt.o[lt][1]-Bt.v[lt][1]],[Bt.i[0][0]-Bt.v[0][0],Bt.i[0][1]-Bt.v[0][1]]),ht.tLength+=Gt.segmentLength,ht.segments.push(Gt),Ct+=Gt.segmentLength),this._pathData.pi=ht}if(ht=this._pathData.pi,pt=this._pathData.f.v,xt=0,mt=1,vt=0,ft=!0,wt=ht.segments,pt<0&&Rt.v.c)for(ht.tLength<Math.abs(pt)&&(pt=-Math.abs(pt)%ht.tLength),xt=wt.length-1,Tt=wt[xt].points,mt=Tt.length-1;pt<0;)pt+=Tt[mt].partialLength,mt-=1,mt<0&&(xt-=1,Tt=wt[xt].points,mt=Tt.length-1);Tt=wt[xt].points,_t=Tt[mt-1],gt=Tt[mt],bt=gt.partialLength}ut=ct.length,at=0,ot=0;var Ft=_e.finalSize*1.2*.714,kt=!0,It,Ot,Ut,zt,Ht;zt=tt.length;var Vt,qt=-1,an,gn,yn,fn=pt,In=xt,Dn=mt,Mn=-1,Fn,Vn,mn,dn,An,Yn,Bn,tr,rr="",hr=this.defaultPropsArray,fr;if(_e.j===2||_e.j===1){var sn=0,nn=0,Cn=_e.j===2?-.5:-1,Hn=0,Kn=!0;for(lt=0;lt<ut;lt+=1)if(ct[lt].n){for(sn&&(sn+=nn);Hn<lt;)ct[Hn].animatorJustifyOffset=sn,Hn+=1;sn=0,Kn=!0}else{for(Ut=0;Ut<zt;Ut+=1)It=tt[Ut].a,It.t.propType&&(Kn&&_e.j===2&&(nn+=It.t.v*Cn),Ot=tt[Ut].s,Vt=Ot.getMult(ct[lt].anIndexes[Ut],nt.a[Ut].s.totalChars),Vt.length?sn+=It.t.v*Vt[0]*Cn:sn+=It.t.v*Vt*Cn);Kn=!1}for(sn&&(sn+=nn);Hn<lt;)ct[Hn].animatorJustifyOffset=sn,Hn+=1}for(lt=0;lt<ut;lt+=1){if(rt.reset(),Fn=1,ct[lt].n)at=0,ot+=_e.yOffset,ot+=kt?1:0,pt=fn,kt=!1,this._hasMaskedPath&&(xt=In,mt=Dn,Tt=wt[xt].points,_t=Tt[mt-1],gt=Tt[mt],bt=gt.partialLength,vt=0),rr="",tr="",Yn="",fr="",hr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Mn!==ct[lt].line){switch(_e.j){case 1:pt+=Ct-_e.lineWidths[ct[lt].line];break;case 2:pt+=(Ct-_e.lineWidths[ct[lt].line])/2;break}Mn=ct[lt].line}qt!==ct[lt].ind&&(ct[qt]&&(pt+=ct[qt].extra),pt+=ct[lt].an/2,qt=ct[lt].ind),pt+=et[0]*ct[lt].an*.005;var Qn=0;for(Ut=0;Ut<zt;Ut+=1)It=tt[Ut].a,It.p.propType&&(Ot=tt[Ut].s,Vt=Ot.getMult(ct[lt].anIndexes[Ut],nt.a[Ut].s.totalChars),Vt.length?Qn+=It.p.v[0]*Vt[0]:Qn+=It.p.v[0]*Vt),It.a.propType&&(Ot=tt[Ut].s,Vt=Ot.getMult(ct[lt].anIndexes[Ut],nt.a[Ut].s.totalChars),Vt.length?Qn+=It.a.v[0]*Vt[0]:Qn+=It.a.v[0]*Vt);for(ft=!0,this._pathData.a.v&&(pt=ct[0].an*.5+(Ct-this._pathData.f.v-ct[0].an*.5-ct[ct.length-1].an*.5)*qt/(ut-1),pt+=this._pathData.f.v);ft;)vt+bt>=pt+Qn||!Tt?(Lt=(pt+Qn-vt)/gt.partialLength,gn=_t.point[0]+(gt.point[0]-_t.point[0])*Lt,yn=_t.point[1]+(gt.point[1]-_t.point[1])*Lt,rt.translate(-et[0]*ct[lt].an*.005,-(et[1]*Ft)*.01),ft=!1):Tt&&(vt+=gt.partialLength,mt+=1,mt>=Tt.length&&(mt=0,xt+=1,wt[xt]?Tt=wt[xt].points:Rt.v.c?(mt=0,xt=0,Tt=wt[xt].points):(vt-=gt.partialLength,Tt=null)),Tt&&(_t=gt,gt=Tt[mt],bt=gt.partialLength));an=ct[lt].an/2-ct[lt].add,rt.translate(-an,0,0)}else an=ct[lt].an/2-ct[lt].add,rt.translate(-an,0,0),rt.translate(-et[0]*ct[lt].an*.005,-et[1]*Ft*.01,0);for(Ut=0;Ut<zt;Ut+=1)It=tt[Ut].a,It.t.propType&&(Ot=tt[Ut].s,Vt=Ot.getMult(ct[lt].anIndexes[Ut],nt.a[Ut].s.totalChars),(at!==0||_e.j!==0)&&(this._hasMaskedPath?Vt.length?pt+=It.t.v*Vt[0]:pt+=It.t.v*Vt:Vt.length?at+=It.t.v*Vt[0]:at+=It.t.v*Vt));for(_e.strokeWidthAnim&&(mn=_e.sw||0),_e.strokeColorAnim&&(_e.sc?Vn=[_e.sc[0],_e.sc[1],_e.sc[2]]:Vn=[0,0,0]),_e.fillColorAnim&&_e.fc&&(dn=[_e.fc[0],_e.fc[1],_e.fc[2]]),Ut=0;Ut<zt;Ut+=1)It=tt[Ut].a,It.a.propType&&(Ot=tt[Ut].s,Vt=Ot.getMult(ct[lt].anIndexes[Ut],nt.a[Ut].s.totalChars),Vt.length?rt.translate(-It.a.v[0]*Vt[0],-It.a.v[1]*Vt[1],It.a.v[2]*Vt[2]):rt.translate(-It.a.v[0]*Vt,-It.a.v[1]*Vt,It.a.v[2]*Vt));for(Ut=0;Ut<zt;Ut+=1)It=tt[Ut].a,It.s.propType&&(Ot=tt[Ut].s,Vt=Ot.getMult(ct[lt].anIndexes[Ut],nt.a[Ut].s.totalChars),Vt.length?rt.scale(1+(It.s.v[0]-1)*Vt[0],1+(It.s.v[1]-1)*Vt[1],1):rt.scale(1+(It.s.v[0]-1)*Vt,1+(It.s.v[1]-1)*Vt,1));for(Ut=0;Ut<zt;Ut+=1){if(It=tt[Ut].a,Ot=tt[Ut].s,Vt=Ot.getMult(ct[lt].anIndexes[Ut],nt.a[Ut].s.totalChars),It.sk.propType&&(Vt.length?rt.skewFromAxis(-It.sk.v*Vt[0],It.sa.v*Vt[1]):rt.skewFromAxis(-It.sk.v*Vt,It.sa.v*Vt)),It.r.propType&&(Vt.length?rt.rotateZ(-It.r.v*Vt[2]):rt.rotateZ(-It.r.v*Vt)),It.ry.propType&&(Vt.length?rt.rotateY(It.ry.v*Vt[1]):rt.rotateY(It.ry.v*Vt)),It.rx.propType&&(Vt.length?rt.rotateX(It.rx.v*Vt[0]):rt.rotateX(It.rx.v*Vt)),It.o.propType&&(Vt.length?Fn+=(It.o.v*Vt[0]-Fn)*Vt[0]:Fn+=(It.o.v*Vt-Fn)*Vt),_e.strokeWidthAnim&&It.sw.propType&&(Vt.length?mn+=It.sw.v*Vt[0]:mn+=It.sw.v*Vt),_e.strokeColorAnim&&It.sc.propType)for(An=0;An<3;An+=1)Vt.length?Vn[An]+=(It.sc.v[An]-Vn[An])*Vt[0]:Vn[An]+=(It.sc.v[An]-Vn[An])*Vt;if(_e.fillColorAnim&&_e.fc){if(It.fc.propType)for(An=0;An<3;An+=1)Vt.length?dn[An]+=(It.fc.v[An]-dn[An])*Vt[0]:dn[An]+=(It.fc.v[An]-dn[An])*Vt;It.fh.propType&&(Vt.length?dn=addHueToRGB(dn,It.fh.v*Vt[0]):dn=addHueToRGB(dn,It.fh.v*Vt)),It.fs.propType&&(Vt.length?dn=addSaturationToRGB(dn,It.fs.v*Vt[0]):dn=addSaturationToRGB(dn,It.fs.v*Vt)),It.fb.propType&&(Vt.length?dn=addBrightnessToRGB(dn,It.fb.v*Vt[0]):dn=addBrightnessToRGB(dn,It.fb.v*Vt))}}for(Ut=0;Ut<zt;Ut+=1)It=tt[Ut].a,It.p.propType&&(Ot=tt[Ut].s,Vt=Ot.getMult(ct[lt].anIndexes[Ut],nt.a[Ut].s.totalChars),this._hasMaskedPath?Vt.length?rt.translate(0,It.p.v[1]*Vt[0],-It.p.v[2]*Vt[1]):rt.translate(0,It.p.v[1]*Vt,-It.p.v[2]*Vt):Vt.length?rt.translate(It.p.v[0]*Vt[0],It.p.v[1]*Vt[1],-It.p.v[2]*Vt[2]):rt.translate(It.p.v[0]*Vt,It.p.v[1]*Vt,-It.p.v[2]*Vt));if(_e.strokeWidthAnim&&(Yn=mn<0?0:mn),_e.strokeColorAnim&&(Bn="rgb("+Math.round(Vn[0]*255)+","+Math.round(Vn[1]*255)+","+Math.round(Vn[2]*255)+")"),_e.fillColorAnim&&_e.fc&&(tr="rgb("+Math.round(dn[0]*255)+","+Math.round(dn[1]*255)+","+Math.round(dn[2]*255)+")"),this._hasMaskedPath){if(rt.translate(0,-_e.ls),rt.translate(0,et[1]*Ft*.01+ot,0),this._pathData.p.v){$t=(gt.point[1]-_t.point[1])/(gt.point[0]-_t.point[0]);var pr=Math.atan($t)*180/Math.PI;gt.point[0]<_t.point[0]&&(pr+=180),rt.rotate(-pr*Math.PI/180)}rt.translate(gn,yn,0),pt-=et[0]*ct[lt].an*.005,ct[lt+1]&&qt!==ct[lt+1].ind&&(pt+=ct[lt].an/2,pt+=_e.tr*.001*_e.finalSize)}else{switch(rt.translate(at,ot,0),_e.ps&&rt.translate(_e.ps[0],_e.ps[1]+_e.ascent,0),_e.j){case 1:rt.translate(ct[lt].animatorJustifyOffset+_e.justifyOffset+(_e.boxWidth-_e.lineWidths[ct[lt].line]),0,0);break;case 2:rt.translate(ct[lt].animatorJustifyOffset+_e.justifyOffset+(_e.boxWidth-_e.lineWidths[ct[lt].line])/2,0,0);break}rt.translate(0,-_e.ls),rt.translate(an,0,0),rt.translate(et[0]*ct[lt].an*.005,et[1]*Ft*.01,0),at+=ct[lt].l+_e.tr*.001*_e.finalSize}it==="html"?rr=rt.toCSS():it==="svg"?rr=rt.to2dCSS():hr=[rt.props[0],rt.props[1],rt.props[2],rt.props[3],rt.props[4],rt.props[5],rt.props[6],rt.props[7],rt.props[8],rt.props[9],rt.props[10],rt.props[11],rt.props[12],rt.props[13],rt.props[14],rt.props[15]],fr=Fn}st<=lt?(Ht=new LetterProps(fr,Yn,Bn,tr,rr,hr),this.renderedLetters.push(Ht),st+=1,this.lettersChangedFlag=!0):(Ht=this.renderedLetters[lt],this.lettersChangedFlag=Ht.update(fr,Yn,Bn,tr,rr,hr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function TextAnimatorDataProperty(_e,j,et){var tt={propType:!1},nt=PropertyFactory.getProp,rt=j.a;this.a={r:rt.r?nt(_e,rt.r,0,degToRads,et):tt,rx:rt.rx?nt(_e,rt.rx,0,degToRads,et):tt,ry:rt.ry?nt(_e,rt.ry,0,degToRads,et):tt,sk:rt.sk?nt(_e,rt.sk,0,degToRads,et):tt,sa:rt.sa?nt(_e,rt.sa,0,degToRads,et):tt,s:rt.s?nt(_e,rt.s,1,.01,et):tt,a:rt.a?nt(_e,rt.a,1,0,et):tt,o:rt.o?nt(_e,rt.o,0,.01,et):tt,p:rt.p?nt(_e,rt.p,1,0,et):tt,sw:rt.sw?nt(_e,rt.sw,0,0,et):tt,sc:rt.sc?nt(_e,rt.sc,1,0,et):tt,fc:rt.fc?nt(_e,rt.fc,1,0,et):tt,fh:rt.fh?nt(_e,rt.fh,0,0,et):tt,fs:rt.fs?nt(_e,rt.fs,0,.01,et):tt,fb:rt.fb?nt(_e,rt.fb,0,.01,et):tt,t:rt.t?nt(_e,rt.t,0,0,et):tt},this.s=TextSelectorProp.getTextSelectorProp(_e,j.s,et),this.s.t=j.s.t}function LetterProps(_e,j,et,tt,nt,rt){this.o=_e,this.sw=j,this.sc=et,this.fc=tt,this.m=nt,this.p=rt,this._mdf={o:!0,sw:!!j,sc:!!et,fc:!!tt,m:!0,p:!0}}LetterProps.prototype.update=function(_e,j,et,tt,nt,rt){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var it=!1;return this.o!==_e&&(this.o=_e,this._mdf.o=!0,it=!0),this.sw!==j&&(this.sw=j,this._mdf.sw=!0,it=!0),this.sc!==et&&(this.sc=et,this._mdf.sc=!0,it=!0),this.fc!==tt&&(this.fc=tt,this._mdf.fc=!0,it=!0),this.m!==nt&&(this.m=nt,this._mdf.m=!0,it=!0),rt.length&&(this.p[0]!==rt[0]||this.p[1]!==rt[1]||this.p[4]!==rt[4]||this.p[5]!==rt[5]||this.p[12]!==rt[12]||this.p[13]!==rt[13])&&(this.p=rt,this._mdf.p=!0,it=!0),it};function TextProperty(_e,j){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=j,this.elem=_e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(_e,j){for(var et in j)Object.prototype.hasOwnProperty.call(j,et)&&(_e[et]=j[et]);return _e},TextProperty.prototype.setCurrentData=function(_e){_e.__complete||this.completeTextData(_e),this.currentData=_e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(_e){this.effectsSequence.push(_e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(_e){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!_e)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var j=this.currentData,et=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var tt,nt=this.effectsSequence.length,rt=_e||this.data.d.k[this.keysIndex].s;for(tt=0;tt<nt;tt+=1)et!==this.keysIndex?rt=this.effectsSequence[tt](rt,rt.t):rt=this.effectsSequence[tt](this.currentData,rt.t);j!==rt&&this.setCurrentData(rt),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var _e=this.data.d.k,j=this.elem.comp.renderedFrame,et=0,tt=_e.length;et<=tt-1&&!(et===tt-1||_e[et+1].t>j);)et+=1;return this.keysIndex!==et&&(this.keysIndex=et),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(_e){for(var j=[],et=0,tt=_e.length,nt,rt,it=!1;et<tt;)nt=_e.charCodeAt(et),FontManager.isCombinedCharacter(nt)?j[j.length-1]+=_e.charAt(et):nt>=55296&&nt<=56319?(rt=_e.charCodeAt(et+1),rt>=56320&&rt<=57343?(it||FontManager.isModifier(nt,rt)?(j[j.length-1]+=_e.substr(et,2),it=!1):j.push(_e.substr(et,2)),et+=1):j.push(_e.charAt(et))):nt>56319?(rt=_e.charCodeAt(et+1),FontManager.isZeroWidthJoiner(nt,rt)?(it=!0,j[j.length-1]+=_e.substr(et,2),et+=1):j.push(_e.charAt(et))):FontManager.isZeroWidthJoiner(nt)?(j[j.length-1]+=_e.charAt(et),it=!0):j.push(_e.charAt(et)),et+=1;return j},TextProperty.prototype.completeTextData=function(_e){_e.__complete=!0;var j=this.elem.globalData.fontManager,et=this.data,tt=[],nt,rt,it,st=0,at,ot=et.m.g,lt=0,ut=0,ct=0,ht=[],pt=0,gt=0,vt,ft,mt=j.getFontByName(_e.f),xt,_t=0,Tt=getFontProperties(mt);_e.fWeight=Tt.weight,_e.fStyle=Tt.style,_e.finalSize=_e.s,_e.finalText=this.buildFinalText(_e.t),rt=_e.finalText.length,_e.finalLineHeight=_e.lh;var wt=_e.tr/1e3*_e.finalSize,bt;if(_e.sz)for(var Ct=!0,Lt=_e.sz[0],$t=_e.sz[1],Rt,Bt;Ct;){Bt=this.buildFinalText(_e.t),Rt=0,pt=0,rt=Bt.length,wt=_e.tr/1e3*_e.finalSize;var Gt=-1;for(nt=0;nt<rt;nt+=1)bt=Bt[nt].charCodeAt(0),it=!1,Bt[nt]===" "?Gt=nt:(bt===13||bt===3)&&(pt=0,it=!0,Rt+=_e.finalLineHeight||_e.finalSize*1.2),j.chars?(xt=j.getCharData(Bt[nt],mt.fStyle,mt.fFamily),_t=it?0:xt.w*_e.finalSize/100):_t=j.measureText(Bt[nt],_e.f,_e.finalSize),pt+_t>Lt&&Bt[nt]!==" "?(Gt===-1?rt+=1:nt=Gt,Rt+=_e.finalLineHeight||_e.finalSize*1.2,Bt.splice(nt,Gt===nt?1:0,"\r"),Gt=-1,pt=0):(pt+=_t,pt+=wt);Rt+=mt.ascent*_e.finalSize/100,this.canResize&&_e.finalSize>this.minimumFontSize&&$t<Rt?(_e.finalSize-=1,_e.finalLineHeight=_e.finalSize*_e.lh/_e.s):(_e.finalText=Bt,rt=_e.finalText.length,Ct=!1)}pt=-wt,_t=0;var Ft=0,kt;for(nt=0;nt<rt;nt+=1)if(it=!1,kt=_e.finalText[nt],bt=kt.charCodeAt(0),bt===13||bt===3?(Ft=0,ht.push(pt),gt=pt>gt?pt:gt,pt=-2*wt,at="",it=!0,ct+=1):at=kt,j.chars?(xt=j.getCharData(kt,mt.fStyle,j.getFontByName(_e.f).fFamily),_t=it?0:xt.w*_e.finalSize/100):_t=j.measureText(at,_e.f,_e.finalSize),kt===" "?Ft+=_t+wt:(pt+=_t+wt+Ft,Ft=0),tt.push({l:_t,an:_t,add:lt,n:it,anIndexes:[],val:at,line:ct,animatorJustifyOffset:0}),ot==2){if(lt+=_t,at===""||at===" "||nt===rt-1){for((at===""||at===" ")&&(lt-=_t);ut<=nt;)tt[ut].an=lt,tt[ut].ind=st,tt[ut].extra=_t,ut+=1;st+=1,lt=0}}else if(ot==3){if(lt+=_t,at===""||nt===rt-1){for(at===""&&(lt-=_t);ut<=nt;)tt[ut].an=lt,tt[ut].ind=st,tt[ut].extra=_t,ut+=1;lt=0,st+=1}}else tt[st].ind=st,tt[st].extra=0,st+=1;if(_e.l=tt,gt=pt>gt?pt:gt,ht.push(pt),_e.sz)_e.boxWidth=_e.sz[0],_e.justifyOffset=0;else switch(_e.boxWidth=gt,_e.j){case 1:_e.justifyOffset=-_e.boxWidth;break;case 2:_e.justifyOffset=-_e.boxWidth/2;break;default:_e.justifyOffset=0}_e.lineWidths=ht;var It=et.a,Ot,Ut;ft=It.length;var zt,Ht,Vt=[];for(vt=0;vt<ft;vt+=1){for(Ot=It[vt],Ot.a.sc&&(_e.strokeColorAnim=!0),Ot.a.sw&&(_e.strokeWidthAnim=!0),(Ot.a.fc||Ot.a.fh||Ot.a.fs||Ot.a.fb)&&(_e.fillColorAnim=!0),Ht=0,zt=Ot.s.b,nt=0;nt<rt;nt+=1)Ut=tt[nt],Ut.anIndexes[vt]=Ht,(zt==1&&Ut.val!==""||zt==2&&Ut.val!==""&&Ut.val!==" "||zt==3&&(Ut.n||Ut.val==" "||nt==rt-1)||zt==4&&(Ut.n||nt==rt-1))&&(Ot.s.rn===1&&Vt.push(Ht),Ht+=1);et.a[vt].s.totalChars=Ht;var qt=-1,an;if(Ot.s.rn===1)for(nt=0;nt<rt;nt+=1)Ut=tt[nt],qt!=Ut.anIndexes[vt]&&(qt=Ut.anIndexes[vt],an=Vt.splice(Math.floor(Math.random()*Vt.length),1)[0]),Ut.anIndexes[vt]=an}_e.yOffset=_e.finalLineHeight||_e.finalSize*1.2,_e.ls=_e.ls||0,_e.ascent=mt.ascent*_e.finalSize/100},TextProperty.prototype.updateDocumentData=function(_e,j){j=j===void 0?this.keysIndex:j;var et=this.copyData({},this.data.d.k[j].s);et=this.copyData(et,_e),this.data.d.k[j].s=et,this.recalculate(j),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(_e){var j=this.data.d.k[_e].s;j.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(j)},TextProperty.prototype.canResizeFont=function(_e){this.canResize=_e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(_e){this.minimumFontSize=Math.floor(_e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var _e=Math.max,j=Math.min,et=Math.floor;function tt(rt,it){this._currentTextLength=-1,this.k=!1,this.data=it,this.elem=rt,this.comp=rt.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(rt),this.s=PropertyFactory.getProp(rt,it.s||{k:0},0,0,this),"e"in it?this.e=PropertyFactory.getProp(rt,it.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(rt,it.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(rt,it.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(rt,it.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(rt,it.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(rt,it.a,0,.01,this),this.dynamicProperties.length||this.getValue()}tt.prototype={getMult:function(rt){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var it=0,st=0,at=1,ot=1;this.ne.v>0?it=this.ne.v/100:st=-this.ne.v/100,this.xe.v>0?at=1-this.xe.v/100:ot=1+this.xe.v/100;var lt=BezierFactory.getBezierEasing(it,st,at,ot).get,ut=0,ct=this.finalS,ht=this.finalE,pt=this.data.sh;if(pt===2)ht===ct?ut=rt>=ht?1:0:ut=_e(0,j(.5/(ht-ct)+(rt-ct)/(ht-ct),1)),ut=lt(ut);else if(pt===3)ht===ct?ut=rt>=ht?0:1:ut=1-_e(0,j(.5/(ht-ct)+(rt-ct)/(ht-ct),1)),ut=lt(ut);else if(pt===4)ht===ct?ut=0:(ut=_e(0,j(.5/(ht-ct)+(rt-ct)/(ht-ct),1)),ut<.5?ut*=2:ut=1-2*(ut-.5)),ut=lt(ut);else if(pt===5){if(ht===ct)ut=0;else{var gt=ht-ct;rt=j(_e(0,rt+.5-ct),ht-ct);var vt=-gt/2+rt,ft=gt/2;ut=Math.sqrt(1-vt*vt/(ft*ft))}ut=lt(ut)}else pt===6?(ht===ct?ut=0:(rt=j(_e(0,rt+.5-ct),ht-ct),ut=(1+Math.cos(Math.PI+Math.PI*2*rt/(ht-ct)))/2),ut=lt(ut)):(rt>=et(ct)&&(rt-ct<0?ut=_e(0,j(j(ht,1)-(ct-rt),1)):ut=_e(0,j(ht-rt,1))),ut=lt(ut));if(this.sm.v!==100){var mt=this.sm.v*.01;mt===0&&(mt=1e-8);var xt=.5-mt*.5;ut<xt?ut=0:(ut=(ut-xt)/mt,ut>1&&(ut=1))}return ut*this.a.v},getValue:function(rt){this.iterateDynamicProperties(),this._mdf=rt||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,rt&&this.data.r===2&&(this.e.v=this._currentTextLength);var it=this.data.r===2?1:100/this.data.totalChars,st=this.o.v/it,at=this.s.v/it+st,ot=this.e.v/it+st;if(at>ot){var lt=at;at=ot,ot=lt}this.finalS=at,this.finalE=ot}},extendPrototype([DynamicPropertyContainer],tt);function nt(rt,it,st){return new tt(rt,it)}return{getTextSelectorProp:nt}}(),poolFactory=function(){return function(_e,j,et){var tt=0,nt=_e,rt=createSizedArray(nt),it={newElement:st,release:at};function st(){var ot;return tt?(tt-=1,ot=rt[tt]):ot=j(),ot}function at(ot){tt===nt&&(rt=pooling.double(rt),nt*=2),et&&et(ot),rt[tt]=ot,tt+=1}return it}}(),pooling=function(){function _e(j){return j.concat(createSizedArray(j.length))}return{double:_e}}(),pointPool=function(){function _e(){return createTypedArray("float32",2)}return poolFactory(8,_e)}(),shapePool=function(){function _e(){return new ShapePath}function j(nt){var rt=nt._length,it;for(it=0;it<rt;it+=1)pointPool.release(nt.v[it]),pointPool.release(nt.i[it]),pointPool.release(nt.o[it]),nt.v[it]=null,nt.i[it]=null,nt.o[it]=null;nt._length=0,nt.c=!1}function et(nt){var rt=tt.newElement(),it,st=nt._length===void 0?nt.v.length:nt._length;for(rt.setLength(st),rt.c=nt.c,it=0;it<st;it+=1)rt.setTripleAt(nt.v[it][0],nt.v[it][1],nt.o[it][0],nt.o[it][1],nt.i[it][0],nt.i[it][1],it);return rt}var tt=poolFactory(4,_e,j);return tt.clone=et,tt}(),shapeCollectionPool=function(){var _e={newShapeCollection:nt,release:rt},j=0,et=4,tt=createSizedArray(et);function nt(){var it;return j?(j-=1,it=tt[j]):it=new ShapeCollection,it}function rt(it){var st,at=it._length;for(st=0;st<at;st+=1)shapePool.release(it.shapes[st]);it._length=0,j===et&&(tt=pooling.double(tt),et*=2),tt[j]=it,j+=1}return _e}(),segmentsLengthPool=function(){function _e(){return{lengths:[],totalLength:0}}function j(et){var tt,nt=et.lengths.length;for(tt=0;tt<nt;tt+=1)bezierLengthPool.release(et.lengths[tt]);et.lengths.length=0}return poolFactory(8,_e,j)}(),bezierLengthPool=function(){function _e(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}return poolFactory(8,_e)}(),markerParser=function(){function _e(j){for(var et=j.split(`\r
`),tt={},nt,rt=0,it=0;it<et.length;it+=1)nt=et[it].split(":"),nt.length===2&&(tt[nt[0]]=nt[1].trim(),rt+=1);if(rt===0)throw new Error;return tt}return function(j){for(var et=[],tt=0;tt<j.length;tt+=1){var nt=j[tt],rt={time:nt.tm,duration:nt.dr};try{rt.payload=JSON.parse(j[tt].cm)}catch{try{rt.payload=_e(j[tt].cm)}catch{rt.payload={name:j[tt]}}}et.push(rt)}return et}}();function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(_e){var j,et=this.layers.length,tt;for(this.completeLayers=!0,j=et-1;j>=0;j-=1)this.elements[j]||(tt=this.layers[j],tt.ip-tt.st<=_e-this.layers[j].st&&tt.op-tt.st>_e-this.layers[j].st&&this.buildItem(j)),this.completeLayers=this.elements[j]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(_e){switch(_e.ty){case 2:return this.createImage(_e);case 0:return this.createComp(_e);case 1:return this.createSolid(_e);case 3:return this.createNull(_e);case 4:return this.createShape(_e);case 5:return this.createText(_e);case 6:return this.createAudio(_e);case 13:return this.createCamera(_e);case 15:return this.createFootage(_e);default:return this.createNull(_e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(_e){return new AudioElement(_e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(_e){return new FootageElement(_e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var _e,j=this.layers.length;for(_e=0;_e<j;_e+=1)this.buildItem(_e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(_e){this.completeLayers=!1;var j,et=_e.length,tt,nt=this.layers.length;for(j=0;j<et;j+=1)for(tt=0;tt<nt;){if(this.layers[tt].id===_e[j].id){this.layers[tt]=_e[j];break}tt+=1}},BaseRenderer.prototype.setProjectInterface=function(_e){this.globalData.projectInterface=_e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(_e,j,et){for(var tt=this.elements,nt=this.layers,rt=0,it=nt.length;rt<it;)nt[rt].ind==j&&(!tt[rt]||tt[rt]===!0?(this.buildItem(rt),this.addPendingElement(_e)):(et.push(tt[rt]),tt[rt].setAsParent(),nt[rt].parent!==void 0?this.buildElementParenting(_e,nt[rt].parent,et):_e.setHierarchy(et))),rt+=1},BaseRenderer.prototype.addPendingElement=function(_e){this.pendingElements.push(_e)},BaseRenderer.prototype.searchExtraCompositions=function(_e){var j,et=_e.length;for(j=0;j<et;j+=1)if(_e[j].xt){var tt=this.createComp(_e[j]);tt.initExpressions(),this.globalData.projectInterface.registerComposition(tt)}},BaseRenderer.prototype.setupGlobalData=function(_e,j){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(_e.chars),this.globalData.fontManager.addFonts(_e.fonts,j),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=_e.fr,this.globalData.nm=_e.nm,this.globalData.compSize={w:_e.w,h:_e.h}};function SVGRenderer(_e,j){this.animationItem=_e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var et="";if(j&&j.title){var tt=createNS("title"),nt=createElementID();tt.setAttribute("id",nt),tt.textContent=j.title,this.svgElement.appendChild(tt),et+=nt}if(j&&j.description){var rt=createNS("desc"),it=createElementID();rt.setAttribute("id",it),rt.textContent=j.description,this.svgElement.appendChild(rt),et+=" "+it}et&&this.svgElement.setAttribute("aria-labelledby",et);var st=createNS("defs");this.svgElement.appendChild(st);var at=createNS("g");this.svgElement.appendChild(at),this.layerElement=at,this.renderConfig={preserveAspectRatio:j&&j.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:j&&j.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:j&&j.contentVisibility||"visible",progressiveLoad:j&&j.progressiveLoad||!1,hideOnTransparent:!(j&&j.hideOnTransparent===!1),viewBoxOnly:j&&j.viewBoxOnly||!1,viewBoxSize:j&&j.viewBoxSize||!1,className:j&&j.className||"",id:j&&j.id||"",focusable:j&&j.focusable,filterSize:{width:j&&j.filterSize&&j.filterSize.width||"100%",height:j&&j.filterSize&&j.filterSize.height||"100%",x:j&&j.filterSize&&j.filterSize.x||"0%",y:j&&j.filterSize&&j.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:st,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(_e){return new NullElement(_e,this.globalData,this)},SVGRenderer.prototype.createShape=function(_e){return new SVGShapeElement(_e,this.globalData,this)},SVGRenderer.prototype.createText=function(_e){return new SVGTextLottieElement(_e,this.globalData,this)},SVGRenderer.prototype.createImage=function(_e){return new IImageElement(_e,this.globalData,this)},SVGRenderer.prototype.createComp=function(_e){return new SVGCompElement(_e,this.globalData,this)},SVGRenderer.prototype.createSolid=function(_e){return new ISolidElement(_e,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(_e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+_e.w+" "+_e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",_e.w),this.svgElement.setAttribute("height",_e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var j=this.globalData.defs;this.setupGlobalData(_e,j),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=_e;var et=createNS("clipPath"),tt=createNS("rect");tt.setAttribute("width",_e.w),tt.setAttribute("height",_e.h),tt.setAttribute("x",0),tt.setAttribute("y",0);var nt=createElementID();et.setAttribute("id",nt),et.appendChild(tt),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+nt+")"),j.appendChild(et),this.layers=_e.layers,this.elements=createSizedArray(_e.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var _e,j=this.layers?this.layers.length:0;for(_e=0;_e<j;_e+=1)this.elements[_e]&&this.elements[_e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(_e){var j=this.elements;if(!(j[_e]||this.layers[_e].ty===99)){j[_e]=!0;var et=this.createItem(this.layers[_e]);j[_e]=et,expressionsPlugin&&(this.layers[_e].ty===0&&this.globalData.projectInterface.registerComposition(et),et.initExpressions()),this.appendElementInPos(et,_e),this.layers[_e].tt&&(!this.elements[_e-1]||this.elements[_e-1]===!0?(this.buildItem(_e-1),this.addPendingElement(et)):et.setMatte(j[_e-1].layerId))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var _e=this.pendingElements.pop();if(_e.checkParenting(),_e.data.tt)for(var j=0,et=this.elements.length;j<et;){if(this.elements[j]===_e){_e.setMatte(this.elements[j-1].layerId);break}j+=1}}},SVGRenderer.prototype.renderFrame=function(_e){if(!(this.renderedFrame===_e||this.destroyed)){_e===null?_e=this.renderedFrame:this.renderedFrame=_e,this.globalData.frameNum=_e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=_e,this.globalData._mdf=!1;var j,et=this.layers.length;for(this.completeLayers||this.checkLayers(_e),j=et-1;j>=0;j-=1)(this.completeLayers||this.elements[j])&&this.elements[j].prepareFrame(_e-this.layers[j].st);if(this.globalData._mdf)for(j=0;j<et;j+=1)(this.completeLayers||this.elements[j])&&this.elements[j].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(_e,j){var et=_e.getBaseElement();if(et){for(var tt=0,nt;tt<j;)this.elements[tt]&&this.elements[tt]!==!0&&this.elements[tt].getBaseElement()&&(nt=this.elements[tt].getBaseElement()),tt+=1;nt?this.layerElement.insertBefore(et,nt):this.layerElement.appendChild(et)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"};function CanvasRenderer(_e,j){this.animationItem=_e,this.renderConfig={clearCanvas:j&&j.clearCanvas!==void 0?j.clearCanvas:!0,context:j&&j.context||null,progressiveLoad:j&&j.progressiveLoad||!1,preserveAspectRatio:j&&j.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:j&&j.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:j&&j.contentVisibility||"visible",className:j&&j.className||"",id:j&&j.id||""},this.renderConfig.dpr=j&&j.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=j&&j.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(_e){return new CVShapeElement(_e,this.globalData,this)},CanvasRenderer.prototype.createText=function(_e){return new CVTextElement(_e,this.globalData,this)},CanvasRenderer.prototype.createImage=function(_e){return new CVImageElement(_e,this.globalData,this)},CanvasRenderer.prototype.createComp=function(_e){return new CVCompElement(_e,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(_e){return new CVSolidElement(_e,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(_e){if(!(_e[0]===1&&_e[1]===0&&_e[4]===0&&_e[5]===1&&_e[12]===0&&_e[13]===0)){if(!this.renderConfig.clearCanvas){this.canvasContext.transform(_e[0],_e[1],_e[4],_e[5],_e[12],_e[13]);return}this.transformMat.cloneFromProps(_e);var j=this.contextData.cTr.props;this.transformMat.transform(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],j[8],j[9],j[10],j[11],j[12],j[13],j[14],j[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var et=this.contextData.cTr.props;this.canvasContext.setTransform(et[0],et[1],et[4],et[5],et[12],et[13])}},CanvasRenderer.prototype.ctxOpacity=function(_e){if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=_e<0?0:_e,this.globalData.currentGlobalAlpha=this.contextData.cO;return}this.contextData.cO*=_e<0?0:_e,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRenderer.prototype.save=function(_e){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return}_e&&this.canvasContext.save();var j=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var et,tt=this.contextData.saved[this.contextData.cArrPos];for(et=0;et<16;et+=1)tt[et]=j[et];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRenderer.prototype.restore=function(_e){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}_e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var j=this.contextData.saved[this.contextData.cArrPos],et,tt=this.contextData.cTr.props;for(et=0;et<16;et+=1)tt[et]=j[et];this.canvasContext.setTransform(j[0],j[1],j[4],j[5],j[12],j[13]),j=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=j,this.globalData.currentGlobalAlpha!==j&&(this.canvasContext.globalAlpha=j,this.globalData.currentGlobalAlpha=j)},CanvasRenderer.prototype.configAnimation=function(_e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var j=this.animationItem.container.style;j.width="100%",j.height="100%";var et="0px 0px 0px";j.transformOrigin=et,j.mozTransformOrigin=et,j.webkitTransformOrigin=et,j["-webkit-transform"]=et,j.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=_e,this.layers=_e.layers,this.transformCanvas={w:_e.w,h:_e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(_e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(_e.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){this.reset();var _e,j;this.animationItem.wrapper&&this.animationItem.container?(_e=this.animationItem.wrapper.offsetWidth,j=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",_e*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",j*this.renderConfig.dpr)):(_e=this.canvasContext.canvas.width*this.renderConfig.dpr,j=this.canvasContext.canvas.height*this.renderConfig.dpr);var et,tt;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var nt=this.renderConfig.preserveAspectRatio.split(" "),rt=nt[1]||"meet",it=nt[0]||"xMidYMid",st=it.substr(0,4),at=it.substr(4);et=_e/j,tt=this.transformCanvas.w/this.transformCanvas.h,tt>et&&rt==="meet"||tt<et&&rt==="slice"?(this.transformCanvas.sx=_e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=_e/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=j/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=j/(this.transformCanvas.h/this.renderConfig.dpr)),st==="xMid"&&(tt<et&&rt==="meet"||tt>et&&rt==="slice")?this.transformCanvas.tx=(_e-this.transformCanvas.w*(j/this.transformCanvas.h))/2*this.renderConfig.dpr:st==="xMax"&&(tt<et&&rt==="meet"||tt>et&&rt==="slice")?this.transformCanvas.tx=(_e-this.transformCanvas.w*(j/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,at==="YMid"&&(tt>et&&rt==="meet"||tt<et&&rt==="slice")?this.transformCanvas.ty=(j-this.transformCanvas.h*(_e/this.transformCanvas.w))/2*this.renderConfig.dpr:at==="YMax"&&(tt>et&&rt==="meet"||tt<et&&rt==="slice")?this.transformCanvas.ty=(j-this.transformCanvas.h*(_e/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=_e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=j/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var _e,j=this.layers?this.layers.length:0;for(_e=j-1;_e>=0;_e-=1)this.elements[_e]&&this.elements[_e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(_e,j){if(!(this.renderedFrame===_e&&this.renderConfig.clearCanvas===!0&&!j||this.destroyed||_e===-1)){this.renderedFrame=_e,this.globalData.frameNum=_e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||j,this.globalData.projectInterface.currentFrame=_e;var et,tt=this.layers.length;for(this.completeLayers||this.checkLayers(_e),et=0;et<tt;et+=1)(this.completeLayers||this.elements[et])&&this.elements[et].prepareFrame(_e-this.layers[et].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),et=tt-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(_e){var j=this.elements;if(!(j[_e]||this.layers[_e].ty===99)){var et=this.createItem(this.layers[_e],this,this.globalData);j[_e]=et,et.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var _e=this.pendingElements.pop();_e.checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"};function HybridRenderer(_e,j){this.animationItem=_e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:j&&j.className||"",imagePreserveAspectRatio:j&&j.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(j&&j.hideOnTransparent===!1),filterSize:{width:j&&j.filterSize&&j.filterSize.width||"400%",height:j&&j.filterSize&&j.filterSize.height||"400%",x:j&&j.filterSize&&j.filterSize.x||"-100%",y:j&&j.filterSize&&j.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var _e=this.pendingElements.pop();_e.checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(_e,j){var et=_e.getBaseElement();if(et){var tt=this.layers[j];if(!tt.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(et,j);else{for(var nt=0,rt,it,st;nt<j;)this.elements[nt]&&this.elements[nt]!==!0&&this.elements[nt].getBaseElement&&(it=this.elements[nt],st=this.layers[nt].ddd?this.getThreeDContainerByPos(nt):it.getBaseElement(),rt=st||rt),nt+=1;rt?(!tt.ddd||!this.supports3d)&&this.layerElement.insertBefore(et,rt):(!tt.ddd||!this.supports3d)&&this.layerElement.appendChild(et)}else this.addTo3dContainer(et,j)}},HybridRenderer.prototype.createShape=function(_e){return this.supports3d?new HShapeElement(_e,this.globalData,this):new SVGShapeElement(_e,this.globalData,this)},HybridRenderer.prototype.createText=function(_e){return this.supports3d?new HTextElement(_e,this.globalData,this):new SVGTextLottieElement(_e,this.globalData,this)},HybridRenderer.prototype.createCamera=function(_e){return this.camera=new HCameraElement(_e,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(_e){return this.supports3d?new HImageElement(_e,this.globalData,this):new IImageElement(_e,this.globalData,this)},HybridRenderer.prototype.createComp=function(_e){return this.supports3d?new HCompElement(_e,this.globalData,this):new SVGCompElement(_e,this.globalData,this)},HybridRenderer.prototype.createSolid=function(_e){return this.supports3d?new HSolidElement(_e,this.globalData,this):new ISolidElement(_e,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(_e){for(var j=0,et=this.threeDElements.length;j<et;){if(this.threeDElements[j].startPos<=_e&&this.threeDElements[j].endPos>=_e)return this.threeDElements[j].perspectiveElem;j+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(_e,j){var et=createTag("div"),tt,nt;styleDiv(et);var rt=createTag("div");if(styleDiv(rt),j==="3d"){tt=et.style,tt.width=this.globalData.compSize.w+"px",tt.height=this.globalData.compSize.h+"px";var it="50% 50%";tt.webkitTransformOrigin=it,tt.mozTransformOrigin=it,tt.transformOrigin=it,nt=rt.style;var st="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";nt.transform=st,nt.webkitTransform=st}et.appendChild(rt);var at={container:rt,perspectiveElem:et,startPos:_e,endPos:_e,type:j};return this.threeDElements.push(at),at},HybridRenderer.prototype.build3dContainers=function(){var _e,j=this.layers.length,et,tt="";for(_e=0;_e<j;_e+=1)this.layers[_e].ddd&&this.layers[_e].ty!==3?(tt!=="3d"&&(tt="3d",et=this.createThreeDContainer(_e,"3d")),et.endPos=Math.max(et.endPos,_e)):(tt!=="2d"&&(tt="2d",et=this.createThreeDContainer(_e,"2d")),et.endPos=Math.max(et.endPos,_e));for(j=this.threeDElements.length,_e=j-1;_e>=0;_e-=1)this.resizerElem.appendChild(this.threeDElements[_e].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(_e,j){for(var et=0,tt=this.threeDElements.length;et<tt;){if(j<=this.threeDElements[et].endPos){for(var nt=this.threeDElements[et].startPos,rt;nt<j;)this.elements[nt]&&this.elements[nt].getBaseElement&&(rt=this.elements[nt].getBaseElement()),nt+=1;rt?this.threeDElements[et].container.insertBefore(_e,rt):this.threeDElements[et].container.appendChild(_e);break}et+=1}},HybridRenderer.prototype.configAnimation=function(_e){var j=createTag("div"),et=this.animationItem.wrapper,tt=j.style;tt.width=_e.w+"px",tt.height=_e.h+"px",this.resizerElem=j,styleDiv(j),tt.transformStyle="flat",tt.mozTransformStyle="flat",tt.webkitTransformStyle="flat",this.renderConfig.className&&j.setAttribute("class",this.renderConfig.className),et.appendChild(j),tt.overflow="hidden";var nt=createNS("svg");nt.setAttribute("width","1"),nt.setAttribute("height","1"),styleDiv(nt),this.resizerElem.appendChild(nt);var rt=createNS("defs");nt.appendChild(rt),this.data=_e,this.setupGlobalData(_e,nt),this.globalData.defs=rt,this.layers=_e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var _e,j=this.layers?this.layers.length:0;for(_e=0;_e<j;_e+=1)this.elements[_e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var _e=this.animationItem.wrapper.offsetWidth,j=this.animationItem.wrapper.offsetHeight,et=_e/j,tt=this.globalData.compSize.w/this.globalData.compSize.h,nt,rt,it,st;tt>et?(nt=_e/this.globalData.compSize.w,rt=_e/this.globalData.compSize.w,it=0,st=(j-this.globalData.compSize.h*(_e/this.globalData.compSize.w))/2):(nt=j/this.globalData.compSize.h,rt=j/this.globalData.compSize.h,it=(_e-this.globalData.compSize.w*(j/this.globalData.compSize.h))/2,st=0);var at=this.resizerElem.style;at.webkitTransform="matrix3d("+nt+",0,0,0,0,"+rt+",0,0,0,0,1,0,"+it+","+st+",0,1)",at.transform=at.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var _e=this.globalData.compSize.w,j=this.globalData.compSize.h,et,tt=this.threeDElements.length;for(et=0;et<tt;et+=1){var nt=this.threeDElements[et].perspectiveElem.style;nt.webkitPerspective=Math.sqrt(Math.pow(_e,2)+Math.pow(j,2))+"px",nt.perspective=nt.webkitPerspective}}},HybridRenderer.prototype.searchExtraCompositions=function(_e){var j,et=_e.length,tt=createTag("div");for(j=0;j<et;j+=1)if(_e[j].xt){var nt=this.createComp(_e[j],tt,this.globalData.comp,null);nt.initExpressions(),this.globalData.projectInterface.registerComposition(nt)}};function MaskElement(_e,j,et){this.data=_e,this.element=j,this.globalData=et,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var tt=this.globalData.defs,nt,rt=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(rt),this.solidPath="";var it,st=this.masksProperties,at=0,ot=[],lt,ut,ct=createElementID(),ht,pt,gt,vt,ft="clipPath",mt="clip-path";for(nt=0;nt<rt;nt+=1)if((st[nt].mode!=="a"&&st[nt].mode!=="n"||st[nt].inv||st[nt].o.k!==100||st[nt].o.x)&&(ft="mask",mt="mask"),(st[nt].mode==="s"||st[nt].mode==="i")&&at===0?(ht=createNS("rect"),ht.setAttribute("fill","#ffffff"),ht.setAttribute("width",this.element.comp.data.w||0),ht.setAttribute("height",this.element.comp.data.h||0),ot.push(ht)):ht=null,it=createNS("path"),st[nt].mode==="n")this.viewData[nt]={op:PropertyFactory.getProp(this.element,st[nt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,st[nt],3),elem:it,lastPath:""},tt.appendChild(it);else{at+=1,it.setAttribute("fill",st[nt].mode==="s"?"#000000":"#ffffff"),it.setAttribute("clip-rule","nonzero");var xt;if(st[nt].x.k!==0?(ft="mask",mt="mask",vt=PropertyFactory.getProp(this.element,st[nt].x,0,null,this.element),xt=createElementID(),pt=createNS("filter"),pt.setAttribute("id",xt),gt=createNS("feMorphology"),gt.setAttribute("operator","erode"),gt.setAttribute("in","SourceGraphic"),gt.setAttribute("radius","0"),pt.appendChild(gt),tt.appendChild(pt),it.setAttribute("stroke",st[nt].mode==="s"?"#000000":"#ffffff")):(gt=null,vt=null),this.storedData[nt]={elem:it,x:vt,expan:gt,lastPath:"",lastOperator:"",filterId:xt,lastRadius:0},st[nt].mode==="i"){ut=ot.length;var _t=createNS("g");for(lt=0;lt<ut;lt+=1)_t.appendChild(ot[lt]);var Tt=createNS("mask");Tt.setAttribute("mask-type","alpha"),Tt.setAttribute("id",ct+"_"+at),Tt.appendChild(it),tt.appendChild(Tt),_t.setAttribute("mask","url("+locationHref+"#"+ct+"_"+at+")"),ot.length=0,ot.push(_t)}else ot.push(it);st[nt].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[nt]={elem:it,lastPath:"",op:PropertyFactory.getProp(this.element,st[nt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,st[nt],3),invRect:ht},this.viewData[nt].prop.k||this.drawPath(st[nt],this.viewData[nt].prop.v,this.viewData[nt])}for(this.maskElement=createNS(ft),rt=ot.length,nt=0;nt<rt;nt+=1)this.maskElement.appendChild(ot[nt]);at>0&&(this.maskElement.setAttribute("id",ct),this.element.maskedElement.setAttribute(mt,"url("+locationHref+"#"+ct+")"),tt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(_e){return this.viewData[_e].prop},MaskElement.prototype.renderFrame=function(_e){var j=this.element.finalTransform.mat,et,tt=this.masksProperties.length;for(et=0;et<tt;et+=1)if((this.viewData[et].prop._mdf||_e)&&this.drawPath(this.masksProperties[et],this.viewData[et].prop.v,this.viewData[et]),(this.viewData[et].op._mdf||_e)&&this.viewData[et].elem.setAttribute("fill-opacity",this.viewData[et].op.v),this.masksProperties[et].mode!=="n"&&(this.viewData[et].invRect&&(this.element.finalTransform.mProp._mdf||_e)&&this.viewData[et].invRect.setAttribute("transform",j.getInverseMatrix().to2dCSS()),this.storedData[et].x&&(this.storedData[et].x._mdf||_e))){var nt=this.storedData[et].expan;this.storedData[et].x.v<0?(this.storedData[et].lastOperator!=="erode"&&(this.storedData[et].lastOperator="erode",this.storedData[et].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[et].filterId+")")),nt.setAttribute("radius",-this.storedData[et].x.v)):(this.storedData[et].lastOperator!=="dilate"&&(this.storedData[et].lastOperator="dilate",this.storedData[et].elem.setAttribute("filter",null)),this.storedData[et].elem.setAttribute("stroke-width",this.storedData[et].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var _e="M0,0 ";return _e+=" h"+this.globalData.compSize.w,_e+=" v"+this.globalData.compSize.h,_e+=" h-"+this.globalData.compSize.w,_e+=" v-"+this.globalData.compSize.h+" ",_e},MaskElement.prototype.drawPath=function(_e,j,et){var tt=" M"+j.v[0][0]+","+j.v[0][1],nt,rt;for(rt=j._length,nt=1;nt<rt;nt+=1)tt+=" C"+j.o[nt-1][0]+","+j.o[nt-1][1]+" "+j.i[nt][0]+","+j.i[nt][1]+" "+j.v[nt][0]+","+j.v[nt][1];if(j.c&&rt>1&&(tt+=" C"+j.o[nt-1][0]+","+j.o[nt-1][1]+" "+j.i[0][0]+","+j.i[0][1]+" "+j.v[0][0]+","+j.v[0][1]),et.lastPath!==tt){var it="";et.elem&&(j.c&&(it=_e.inv?this.solidPath+tt:tt),et.elem.setAttribute("d",it)),et.lastPath=tt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(_e){this.hierarchy=_e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(_e,j){var et,tt=this.dynamicProperties.length;for(et=0;et<tt;et+=1)(j||this._isParent&&this.dynamicProperties[et].propType==="transform")&&(this.dynamicProperties[et].getValue(),this.dynamicProperties[et]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(_e){this.dynamicProperties.indexOf(_e)===-1&&this.dynamicProperties.push(_e)}};function TransformElement(){}TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var _e,j=this.finalTransform.mat,et=0,tt=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;et<tt;){if(this.hierarchy[et].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}et+=1}if(this.finalTransform._matMdf)for(_e=this.finalTransform.mProp.v.props,j.cloneFromProps(_e),et=0;et<tt;et+=1)_e=this.hierarchy[et].finalTransform.mProp.v.props,j.transform(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5],_e[6],_e[7],_e[8],_e[9],_e[10],_e[11],_e[12],_e[13],_e[14],_e[15])}},globalToLocal:function(_e){var j=[];j.push(this.finalTransform);for(var et=!0,tt=this.comp;et;)tt.finalTransform?(tt.data.hasMask&&j.splice(0,0,tt.finalTransform),tt=tt.comp):et=!1;var nt,rt=j.length,it;for(nt=0;nt<rt;nt+=1)it=j[nt].mat.applyToPointArray(0,0,0),_e=[_e[0]-it[0],_e[1]-it[1],0];return _e},mHelper:new Matrix};function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(_e){this.renderableComponents.indexOf(_e)===-1&&this.renderableComponents.push(_e)},removeRenderableComponent:function(_e){this.renderableComponents.indexOf(_e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(_e),1)},prepareRenderableFrame:function(_e){this.checkLayerLimits(_e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(_e){this.data.ip-this.data.st<=_e&&this.data.op-this.data.st>_e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var _e,j=this.renderableComponents.length;for(_e=0;_e<j;_e+=1)this.renderableComponents[_e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};function RenderableDOMElement(){}(function(){var _e={initElement:function(j,et,tt){this.initFrame(),this.initBaseData(j,et,tt),this.initTransform(j,et,tt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var j=this.baseElement||this.layerElement;j.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var j=this.baseElement||this.layerElement;j.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(j){this._mdf=!1,this.prepareRenderableFrame(j),this.prepareProperties(j,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(_e)],RenderableDOMElement)})();function ProcessedElement(_e,j){this.elem=_e,this.pos=j}function SVGStyleData(_e,j){this.data=_e,this.type=_e.ty,this.d="",this.lvl=j,this._mdf=!1,this.closed=_e.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function SVGShapeData(_e,j,et){this.caches=[],this.styles=[],this.transformers=_e,this.lStr="",this.sh=et,this.lvl=j,this._isAnimated=!!et.k;for(var tt=0,nt=_e.length;tt<nt;){if(_e[tt].mProps.dynamicProperties.length){this._isAnimated=!0;break}tt+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGTransformData(_e,j,et){this.transform={mProps:_e,op:j,container:et},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(_e,j,et){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(_e,j.o,0,.01,this),this.w=PropertyFactory.getProp(_e,j.w,0,null,this),this.d=new DashProperty(_e,j.d||{},"svg",this),this.c=PropertyFactory.getProp(_e,j.c,1,255,this),this.style=et,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(_e,j,et){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(_e,j.o,0,.01,this),this.c=PropertyFactory.getProp(_e,j.c,1,255,this),this.style=et}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGGradientFillStyleData(_e,j,et){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.initGradientData(_e,j,et)}SVGGradientFillStyleData.prototype.initGradientData=function(_e,j,et){this.o=PropertyFactory.getProp(_e,j.o,0,.01,this),this.s=PropertyFactory.getProp(_e,j.s,1,null,this),this.e=PropertyFactory.getProp(_e,j.e,1,null,this),this.h=PropertyFactory.getProp(_e,j.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(_e,j.a||{k:0},0,degToRads,this),this.g=new GradientProperty(_e,j.g,this),this.style=et,this.stops=[],this.setGradientData(et.pElem,j),this.setGradientOpacity(j,et),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(_e,j){var et=createElementID(),tt=createNS(j.t===1?"linearGradient":"radialGradient");tt.setAttribute("id",et),tt.setAttribute("spreadMethod","pad"),tt.setAttribute("gradientUnits","userSpaceOnUse");var nt=[],rt,it,st;for(st=j.g.p*4,it=0;it<st;it+=4)rt=createNS("stop"),tt.appendChild(rt),nt.push(rt);_e.setAttribute(j.ty==="gf"?"fill":"stroke","url("+locationHref+"#"+et+")"),this.gf=tt,this.cst=nt},SVGGradientFillStyleData.prototype.setGradientOpacity=function(_e,j){if(this.g._hasOpacity&&!this.g._collapsable){var et,tt,nt,rt=createNS("mask"),it=createNS("path");rt.appendChild(it);var st=createElementID(),at=createElementID();rt.setAttribute("id",at);var ot=createNS(_e.t===1?"linearGradient":"radialGradient");ot.setAttribute("id",st),ot.setAttribute("spreadMethod","pad"),ot.setAttribute("gradientUnits","userSpaceOnUse"),nt=_e.g.k.k[0].s?_e.g.k.k[0].s.length:_e.g.k.k.length;var lt=this.stops;for(tt=_e.g.p*4;tt<nt;tt+=2)et=createNS("stop"),et.setAttribute("stop-color","rgb(255,255,255)"),ot.appendChild(et),lt.push(et);it.setAttribute(_e.ty==="gf"?"fill":"stroke","url("+locationHref+"#"+st+")"),_e.ty==="gs"&&(it.setAttribute("stroke-linecap",lineCapEnum[_e.lc||2]),it.setAttribute("stroke-linejoin",lineJoinEnum[_e.lj||2]),_e.lj===1&&it.setAttribute("stroke-miterlimit",_e.ml)),this.of=ot,this.ms=rt,this.ost=lt,this.maskId=at,j.msElem=it}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(_e,j,et){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(_e,j.w,0,null,this),this.d=new DashProperty(_e,j.d||{},"svg",this),this.initGradientData(_e,j,et),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}var SVGElementsRenderer=function(){var _e=new Matrix,j=new Matrix,et={createRenderFunction:tt};function tt(lt){switch(lt.ty){case"fl":return it;case"gf":return at;case"gs":return st;case"st":return ot;case"sh":case"el":case"rc":case"sr":return rt;case"tr":return nt;default:return null}}function nt(lt,ut,ct){(ct||ut.transform.op._mdf)&&ut.transform.container.setAttribute("opacity",ut.transform.op.v),(ct||ut.transform.mProps._mdf)&&ut.transform.container.setAttribute("transform",ut.transform.mProps.v.to2dCSS())}function rt(lt,ut,ct){var ht,pt,gt,vt,ft,mt,xt=ut.styles.length,_t=ut.lvl,Tt,wt,bt,Ct,Lt;for(mt=0;mt<xt;mt+=1){if(vt=ut.sh._mdf||ct,ut.styles[mt].lvl<_t){for(wt=j.reset(),Ct=_t-ut.styles[mt].lvl,Lt=ut.transformers.length-1;!vt&&Ct>0;)vt=ut.transformers[Lt].mProps._mdf||vt,Ct-=1,Lt-=1;if(vt)for(Ct=_t-ut.styles[mt].lvl,Lt=ut.transformers.length-1;Ct>0;)bt=ut.transformers[Lt].mProps.v.props,wt.transform(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5],bt[6],bt[7],bt[8],bt[9],bt[10],bt[11],bt[12],bt[13],bt[14],bt[15]),Ct-=1,Lt-=1}else wt=_e;if(Tt=ut.sh.paths,pt=Tt._length,vt){for(gt="",ht=0;ht<pt;ht+=1)ft=Tt.shapes[ht],ft&&ft._length&&(gt+=buildShapeString(ft,ft._length,ft.c,wt));ut.caches[mt]=gt}else gt=ut.caches[mt];ut.styles[mt].d+=lt.hd===!0?"":gt,ut.styles[mt]._mdf=vt||ut.styles[mt]._mdf}}function it(lt,ut,ct){var ht=ut.style;(ut.c._mdf||ct)&&ht.pElem.setAttribute("fill","rgb("+bmFloor(ut.c.v[0])+","+bmFloor(ut.c.v[1])+","+bmFloor(ut.c.v[2])+")"),(ut.o._mdf||ct)&&ht.pElem.setAttribute("fill-opacity",ut.o.v)}function st(lt,ut,ct){at(lt,ut,ct),ot(lt,ut,ct)}function at(lt,ut,ct){var ht=ut.gf,pt=ut.g._hasOpacity,gt=ut.s.v,vt=ut.e.v;if(ut.o._mdf||ct){var ft=lt.ty==="gf"?"fill-opacity":"stroke-opacity";ut.style.pElem.setAttribute(ft,ut.o.v)}if(ut.s._mdf||ct){var mt=lt.t===1?"x1":"cx",xt=mt==="x1"?"y1":"cy";ht.setAttribute(mt,gt[0]),ht.setAttribute(xt,gt[1]),pt&&!ut.g._collapsable&&(ut.of.setAttribute(mt,gt[0]),ut.of.setAttribute(xt,gt[1]))}var _t,Tt,wt,bt;if(ut.g._cmdf||ct){_t=ut.cst;var Ct=ut.g.c;for(wt=_t.length,Tt=0;Tt<wt;Tt+=1)bt=_t[Tt],bt.setAttribute("offset",Ct[Tt*4]+"%"),bt.setAttribute("stop-color","rgb("+Ct[Tt*4+1]+","+Ct[Tt*4+2]+","+Ct[Tt*4+3]+")")}if(pt&&(ut.g._omdf||ct)){var Lt=ut.g.o;for(ut.g._collapsable?_t=ut.cst:_t=ut.ost,wt=_t.length,Tt=0;Tt<wt;Tt+=1)bt=_t[Tt],ut.g._collapsable||bt.setAttribute("offset",Lt[Tt*2]+"%"),bt.setAttribute("stop-opacity",Lt[Tt*2+1])}if(lt.t===1)(ut.e._mdf||ct)&&(ht.setAttribute("x2",vt[0]),ht.setAttribute("y2",vt[1]),pt&&!ut.g._collapsable&&(ut.of.setAttribute("x2",vt[0]),ut.of.setAttribute("y2",vt[1])));else{var $t;if((ut.s._mdf||ut.e._mdf||ct)&&($t=Math.sqrt(Math.pow(gt[0]-vt[0],2)+Math.pow(gt[1]-vt[1],2)),ht.setAttribute("r",$t),pt&&!ut.g._collapsable&&ut.of.setAttribute("r",$t)),ut.e._mdf||ut.h._mdf||ut.a._mdf||ct){$t||($t=Math.sqrt(Math.pow(gt[0]-vt[0],2)+Math.pow(gt[1]-vt[1],2)));var Rt=Math.atan2(vt[1]-gt[1],vt[0]-gt[0]),Bt=ut.h.v;Bt>=1?Bt=.99:Bt<=-1&&(Bt=-.99);var Gt=$t*Bt,Ft=Math.cos(Rt+ut.a.v)*Gt+gt[0],kt=Math.sin(Rt+ut.a.v)*Gt+gt[1];ht.setAttribute("fx",Ft),ht.setAttribute("fy",kt),pt&&!ut.g._collapsable&&(ut.of.setAttribute("fx",Ft),ut.of.setAttribute("fy",kt))}}}function ot(lt,ut,ct){var ht=ut.style,pt=ut.d;pt&&(pt._mdf||ct)&&pt.dashStr&&(ht.pElem.setAttribute("stroke-dasharray",pt.dashStr),ht.pElem.setAttribute("stroke-dashoffset",pt.dashoffset[0])),ut.c&&(ut.c._mdf||ct)&&ht.pElem.setAttribute("stroke","rgb("+bmFloor(ut.c.v[0])+","+bmFloor(ut.c.v[1])+","+bmFloor(ut.c.v[2])+")"),(ut.o._mdf||ct)&&ht.pElem.setAttribute("stroke-opacity",ut.o.v),(ut.w._mdf||ct)&&(ht.pElem.setAttribute("stroke-width",ut.w.v),ht.msElem&&ht.msElem.setAttribute("stroke-width",ut.w.v))}return et}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(_e){var j,et=_e.length,tt="_";for(j=0;j<et;j+=1)tt+=_e[j].transform.key+"_";var nt=this.sequences[tt];return nt||(nt={transforms:[].concat(_e),finalTransform:new Matrix,_mdf:!1},this.sequences[tt]=nt,this.sequenceList.push(nt)),nt},processSequence:function(_e,j){for(var et=0,tt=_e.transforms.length,nt=j;et<tt&&!j;){if(_e.transforms[et].transform.mProps._mdf){nt=!0;break}et+=1}if(nt){var rt;for(_e.finalTransform.reset(),et=tt-1;et>=0;et-=1)rt=_e.transforms[et].transform.mProps.v.props,_e.finalTransform.transform(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5],rt[6],rt[7],rt[8],rt[9],rt[10],rt[11],rt[12],rt[13],rt[14],rt[15])}_e._mdf=nt},processSequences:function(_e){var j,et=this.sequenceList.length;for(j=0;j<et;j+=1)this.processSequence(this.sequenceList[j],_e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};function CVShapeData(_e,j,et,tt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var nt=4;j.ty==="rc"?nt=5:j.ty==="el"?nt=6:j.ty==="sr"&&(nt=7),this.sh=ShapePropertyFactory.getShapeProp(_e,j,nt,_e);var rt,it=et.length,st;for(rt=0;rt<it;rt+=1)et[rt].closed||(st={transforms:tt.addTransformSequence(et[rt].transforms),trNodes:[]},this.styledShapes.push(st),et[rt].elements.push(st))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var _e=0,j=this.data.masksProperties.length;_e<j;){if(this.data.masksProperties[_e].mode!=="n"&&this.data.masksProperties[_e].cl!==!1)return!0;_e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var _e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(_e),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var _e=getBlendMode(this.data.bm),j=this.baseElement||this.layerElement;j.style["mix-blend-mode"]=_e},initBaseData:function(_e,j,et){this.globalData=j,this.comp=et,this.data=_e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function NullElement(_e,j,et){this.initFrame(),this.initBaseData(_e,j,et),this.initFrame(),this.initTransform(_e,j,et),this.initHierarchy()}NullElement.prototype.prepareFrame=function(_e){this.prepareProperties(_e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var _e=null,j,et,tt;if(this.data.td){if(this.data.td==3||this.data.td==1){var nt=createNS("mask");nt.setAttribute("id",this.layerId),nt.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),nt.appendChild(this.layerElement),_e=nt,this.globalData.defs.appendChild(nt),!featureSupport.maskType&&this.data.td==1&&(nt.setAttribute("mask-type","luminance"),j=createElementID(),et=filtersFactory.createFilter(j),this.globalData.defs.appendChild(et),et.appendChild(filtersFactory.createAlphaToLuminanceFilter()),tt=createNS("g"),tt.appendChild(this.layerElement),_e=tt,nt.appendChild(tt),tt.setAttribute("filter","url("+locationHref+"#"+j+")"))}else if(this.data.td==2){var rt=createNS("mask");rt.setAttribute("id",this.layerId),rt.setAttribute("mask-type","alpha");var it=createNS("g");rt.appendChild(it),j=createElementID(),et=filtersFactory.createFilter(j);var st=createNS("feComponentTransfer");st.setAttribute("in","SourceGraphic"),et.appendChild(st);var at=createNS("feFuncA");at.setAttribute("type","table"),at.setAttribute("tableValues","1.0 0.0"),st.appendChild(at),this.globalData.defs.appendChild(et);var ot=createNS("rect");ot.setAttribute("width",this.comp.data.w),ot.setAttribute("height",this.comp.data.h),ot.setAttribute("x","0"),ot.setAttribute("y","0"),ot.setAttribute("fill","#ffffff"),ot.setAttribute("opacity","0"),it.setAttribute("filter","url("+locationHref+"#"+j+")"),it.appendChild(ot),it.appendChild(this.layerElement),_e=it,featureSupport.maskType||(rt.setAttribute("mask-type","luminance"),et.appendChild(filtersFactory.createAlphaToLuminanceFilter()),tt=createNS("g"),it.appendChild(ot),tt.appendChild(this.layerElement),_e=tt,it.appendChild(tt)),this.globalData.defs.appendChild(rt)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),_e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var lt=createNS("clipPath"),ut=createNS("path");ut.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var ct=createElementID();if(lt.setAttribute("id",ct),lt.appendChild(ut),this.globalData.defs.appendChild(lt),this.checkMasks()){var ht=createNS("g");ht.setAttribute("clip-path","url("+locationHref+"#"+ct+")"),ht.appendChild(this.layerElement),this.transformedElement=ht,_e?_e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+ct+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(_e){!this.matteElement||this.matteElement.setAttribute("mask","url("+locationHref+"#"+_e+")")}};function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(_e){var j,et=this.shapeModifiers.length;for(j=0;j<et;j+=1)this.shapeModifiers[j].addShape(_e)},isShapeInAnimatedModifiers:function(_e){for(var j=0,et=this.shapeModifiers.length;j<et;)if(this.shapeModifiers[j].isAnimatedWithShape(_e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var _e,j=this.shapes.length;for(_e=0;_e<j;_e+=1)this.shapes[_e].sh.reset();j=this.shapeModifiers.length;var et;for(_e=j-1;_e>=0&&(et=this.shapeModifiers[_e].processShapes(this._isFirstFrame),!et);_e-=1);}},searchProcessedElement:function(_e){for(var j=this.processedElements,et=0,tt=j.length;et<tt;){if(j[et].elem===_e)return j[et].pos;et+=1}return 0},addProcessedElement:function(_e,j){for(var et=this.processedElements,tt=et.length;tt;)if(tt-=1,et[tt].elem===_e){et[tt].pos=j;return}et.push(new ProcessedElement(_e,j))},prepareFrame:function(_e){this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange)}};function ITextElement(){}ITextElement.prototype.initElement=function(_e,j,et){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(_e,j,et),this.textProperty=new TextProperty(this,_e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(_e.t,this.renderType,this),this.initTransform(_e,j,et),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(_e){this._mdf=!1,this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(_e,j){var et,tt=j.length,nt,rt="";for(et=0;et<tt;et+=1)nt=j[et].ks.k,rt+=buildShapeString(nt,nt.i.length,!0,_e);return rt},ITextElement.prototype.updateDocumentData=function(_e,j){this.textProperty.updateDocumentData(_e,j)},ITextElement.prototype.canResizeFont=function(_e){this.textProperty.canResizeFont(_e)},ITextElement.prototype.setMinimumFontSize=function(_e){this.textProperty.setMinimumFontSize(_e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(_e,j,et,tt,nt){switch(_e.ps&&j.translate(_e.ps[0],_e.ps[1]+_e.ascent,0),j.translate(0,-_e.ls,0),_e.j){case 1:j.translate(_e.justifyOffset+(_e.boxWidth-_e.lineWidths[et]),0,0);break;case 2:j.translate(_e.justifyOffset+(_e.boxWidth-_e.lineWidths[et])/2,0,0);break}j.translate(tt,nt,0)},ITextElement.prototype.buildColor=function(_e){return"rgb("+Math.round(_e[0]*255)+","+Math.round(_e[1]*255)+","+Math.round(_e[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(_e,j,et){this.initFrame(),this.initBaseData(_e,j,et),this.initTransform(_e,j,et),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!j.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(_e){if(this._mdf=!1,this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=_e/this.data.sr;else{var j=this.tm.v;j===this.data.op&&(j=this.data.op-1),this.renderedFrame=j}var et,tt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),et=tt-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&(this.elements[et].prepareFrame(this.renderedFrame-this.layers[et].st),this.elements[et]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var _e,j=this.layers.length;for(_e=0;_e<j;_e+=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].renderFrame()},ICompElement.prototype.setElements=function(_e){this.elements=_e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var _e,j=this.layers.length;for(_e=0;_e<j;_e+=1)this.elements[_e]&&this.elements[_e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function IImageElement(_e,j,et){this.assetData=j.getAssetData(_e.refId),this.initElement(_e,j,et),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var _e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",_e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ISolidElement(_e,j,et){this.initElement(_e,j,et)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var _e=createNS("rect");_e.setAttribute("width",this.data.sw),_e.setAttribute("height",this.data.sh),_e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(_e)};function AudioElement(_e,j,et){this.initFrame(),this.initRenderable(),this.assetData=j.getAssetData(_e.refId),this.initBaseData(_e,j,et),this._isPlaying=!1,this._canPlay=!1;var tt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(tt),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,j.frameRate,this):{_placeholder:!0}}AudioElement.prototype.prepareFrame=function(_e){if(this.prepareRenderableFrame(_e,!0),this.prepareProperties(_e,!0),this.tm._placeholder)this._currentTime=_e/this.data.sr;else{var j=this.tm.v;this._currentTime=j}},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(_e){this.audio.rate(_e)},AudioElement.prototype.volume=function(_e){this.audio.volume(_e)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function FootageElement(_e,j,et){this.initFrame(),this.initRenderable(),this.assetData=j.getAssetData(_e.refId),this.footageData=j.imageLoader.getAsset(this.assetData),this.initBaseData(_e,j,et)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData};function SVGCompElement(_e,j,et){this.layers=_e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(_e,j,et),this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,j.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement);function SVGTextLottieElement(_e,j,et){this.textSpans=[],this.renderType="svg",this.initElement(_e,j,et)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(_e){for(var j=0,et=_e.length,tt=[],nt="";j<et;)_e[j]===String.fromCharCode(13)||_e[j]===String.fromCharCode(3)?(tt.push(nt),nt=""):nt+=_e[j],j+=1;return tt.push(nt),tt},SVGTextLottieElement.prototype.buildNewText=function(){var _e,j,et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et?et.l.length:0),et.fc?this.layerElement.setAttribute("fill",this.buildColor(et.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),et.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(et.sc)),this.layerElement.setAttribute("stroke-width",et.sw)),this.layerElement.setAttribute("font-size",et.finalSize);var tt=this.globalData.fontManager.getFontByName(et.f);if(tt.fClass)this.layerElement.setAttribute("class",tt.fClass);else{this.layerElement.setAttribute("font-family",tt.fFamily);var nt=et.fWeight,rt=et.fStyle;this.layerElement.setAttribute("font-style",rt),this.layerElement.setAttribute("font-weight",nt)}this.layerElement.setAttribute("aria-label",et.t);var it=et.l||[],st=!!this.globalData.fontManager.chars;j=it.length;var at,ot=this.mHelper,lt,ut="",ct=this.data.singleShape,ht=0,pt=0,gt=!0,vt=et.tr*.001*et.finalSize;if(ct&&!st&&!et.sz){var ft=this.textContainer,mt="start";switch(et.j){case 1:mt="end";break;case 2:mt="middle";break;default:mt="start";break}ft.setAttribute("text-anchor",mt),ft.setAttribute("letter-spacing",vt);var xt=this.buildTextContents(et.finalText);for(j=xt.length,pt=et.ps?et.ps[1]+et.ascent:0,_e=0;_e<j;_e+=1)at=this.textSpans[_e]||createNS("tspan"),at.textContent=xt[_e],at.setAttribute("x",0),at.setAttribute("y",pt),at.style.display="inherit",ft.appendChild(at),this.textSpans[_e]=at,pt+=et.finalLineHeight;this.layerElement.appendChild(ft)}else{var _t=this.textSpans.length,Tt,wt;for(_e=0;_e<j;_e+=1)(!st||!ct||_e===0)&&(at=_t>_e?this.textSpans[_e]:createNS(st?"path":"text"),_t<=_e&&(at.setAttribute("stroke-linecap","butt"),at.setAttribute("stroke-linejoin","round"),at.setAttribute("stroke-miterlimit","4"),this.textSpans[_e]=at,this.layerElement.appendChild(at)),at.style.display="inherit"),ot.reset(),ot.scale(et.finalSize/100,et.finalSize/100),ct&&(it[_e].n&&(ht=-vt,pt+=et.yOffset,pt+=gt?1:0,gt=!1),this.applyTextPropertiesToMatrix(et,ot,it[_e].line,ht,pt),ht+=it[_e].l||0,ht+=vt),st?(wt=this.globalData.fontManager.getCharData(et.finalText[_e],tt.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily),Tt=wt&&wt.data||{},lt=Tt.shapes?Tt.shapes[0].it:[],ct?ut+=this.createPathShape(ot,lt):at.setAttribute("d",this.createPathShape(ot,lt))):(ct&&at.setAttribute("transform","translate("+ot.props[12]+","+ot.props[13]+")"),at.textContent=it[_e].val,at.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));ct&&at&&at.setAttribute("d",ut)}for(;_e<this.textSpans.length;)this.textSpans[_e].style.display="none",_e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var _e=this.layerElement.getBBox();this.bbox={top:_e.y,left:_e.x,width:_e.width,height:_e.height}}return this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var _e,j,et=this.textAnimator.renderedLetters,tt=this.textProperty.currentData.l;j=tt.length;var nt,rt;for(_e=0;_e<j;_e+=1)tt[_e].n||(nt=et[_e],rt=this.textSpans[_e],nt._mdf.m&&rt.setAttribute("transform",nt.m),nt._mdf.o&&rt.setAttribute("opacity",nt.o),nt._mdf.sw&&rt.setAttribute("stroke-width",nt.sw),nt._mdf.sc&&rt.setAttribute("stroke",nt.sc),nt._mdf.fc&&rt.setAttribute("fill",nt.fc))}};function SVGShapeElement(_e,j,et){this.shapes=[],this.shapesData=_e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(_e,j,et),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var _e,j=this.shapes.length,et,tt,nt=this.stylesList.length,rt,it=[],st=!1;for(tt=0;tt<nt;tt+=1){for(rt=this.stylesList[tt],st=!1,it.length=0,_e=0;_e<j;_e+=1)et=this.shapes[_e],et.styles.indexOf(rt)!==-1&&(it.push(et),st=et._isAnimated||st);it.length>1&&st&&this.setShapesAsAnimated(it)}},SVGShapeElement.prototype.setShapesAsAnimated=function(_e){var j,et=_e.length;for(j=0;j<et;j+=1)_e[j].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(_e,j){var et,tt=new SVGStyleData(_e,j),nt=tt.pElem;if(_e.ty==="st")et=new SVGStrokeStyleData(this,_e,tt);else if(_e.ty==="fl")et=new SVGFillStyleData(this,_e,tt);else if(_e.ty==="gf"||_e.ty==="gs"){var rt=_e.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;et=new rt(this,_e,tt),this.globalData.defs.appendChild(et.gf),et.maskId&&(this.globalData.defs.appendChild(et.ms),this.globalData.defs.appendChild(et.of),nt.setAttribute("mask","url("+locationHref+"#"+et.maskId+")"))}return(_e.ty==="st"||_e.ty==="gs")&&(nt.setAttribute("stroke-linecap",lineCapEnum[_e.lc||2]),nt.setAttribute("stroke-linejoin",lineJoinEnum[_e.lj||2]),nt.setAttribute("fill-opacity","0"),_e.lj===1&&nt.setAttribute("stroke-miterlimit",_e.ml)),_e.r===2&&nt.setAttribute("fill-rule","evenodd"),_e.ln&&nt.setAttribute("id",_e.ln),_e.cl&&nt.setAttribute("class",_e.cl),_e.bm&&(nt.style["mix-blend-mode"]=getBlendMode(_e.bm)),this.stylesList.push(tt),this.addToAnimatedContents(_e,et),et},SVGShapeElement.prototype.createGroupElement=function(_e){var j=new ShapeGroupData;return _e.ln&&j.gr.setAttribute("id",_e.ln),_e.cl&&j.gr.setAttribute("class",_e.cl),_e.bm&&(j.gr.style["mix-blend-mode"]=getBlendMode(_e.bm)),j},SVGShapeElement.prototype.createTransformElement=function(_e,j){var et=TransformPropertyFactory.getTransformProperty(this,_e,this),tt=new SVGTransformData(et,et.o,j);return this.addToAnimatedContents(_e,tt),tt},SVGShapeElement.prototype.createShapeElement=function(_e,j,et){var tt=4;_e.ty==="rc"?tt=5:_e.ty==="el"?tt=6:_e.ty==="sr"&&(tt=7);var nt=ShapePropertyFactory.getShapeProp(this,_e,tt,this),rt=new SVGShapeData(j,et,nt);return this.shapes.push(rt),this.addShapeToModifiers(rt),this.addToAnimatedContents(_e,rt),rt},SVGShapeElement.prototype.addToAnimatedContents=function(_e,j){for(var et=0,tt=this.animatedContents.length;et<tt;){if(this.animatedContents[et].element===j)return;et+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(_e),element:j,data:_e})},SVGShapeElement.prototype.setElementStyles=function(_e){var j=_e.styles,et,tt=this.stylesList.length;for(et=0;et<tt;et+=1)this.stylesList[et].closed||j.push(this.stylesList[et])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var _e,j=this.itemsData.length;for(_e=0;_e<j;_e+=1)this.prevViewData[_e]=this.itemsData[_e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),j=this.dynamicProperties.length,_e=0;_e<j;_e+=1)this.dynamicProperties[_e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(_e,j,et,tt,nt,rt,it){var st=[].concat(rt),at,ot=_e.length-1,lt,ut,ct=[],ht=[],pt,gt,vt;for(at=ot;at>=0;at-=1){if(vt=this.searchProcessedElement(_e[at]),vt?j[at]=et[vt-1]:_e[at]._render=it,_e[at].ty==="fl"||_e[at].ty==="st"||_e[at].ty==="gf"||_e[at].ty==="gs")vt?j[at].style.closed=!1:j[at]=this.createStyleElement(_e[at],nt),_e[at]._render&&j[at].style.pElem.parentNode!==tt&&tt.appendChild(j[at].style.pElem),ct.push(j[at].style);else if(_e[at].ty==="gr"){if(!vt)j[at]=this.createGroupElement(_e[at]);else for(ut=j[at].it.length,lt=0;lt<ut;lt+=1)j[at].prevViewData[lt]=j[at].it[lt];this.searchShapes(_e[at].it,j[at].it,j[at].prevViewData,j[at].gr,nt+1,st,it),_e[at]._render&&j[at].gr.parentNode!==tt&&tt.appendChild(j[at].gr)}else _e[at].ty==="tr"?(vt||(j[at]=this.createTransformElement(_e[at],tt)),pt=j[at].transform,st.push(pt)):_e[at].ty==="sh"||_e[at].ty==="rc"||_e[at].ty==="el"||_e[at].ty==="sr"?(vt||(j[at]=this.createShapeElement(_e[at],st,nt)),this.setElementStyles(j[at])):_e[at].ty==="tm"||_e[at].ty==="rd"||_e[at].ty==="ms"||_e[at].ty==="pb"?(vt?(gt=j[at],gt.closed=!1):(gt=ShapeModifiers.getModifier(_e[at].ty),gt.init(this,_e[at]),j[at]=gt,this.shapeModifiers.push(gt)),ht.push(gt)):_e[at].ty==="rp"&&(vt?(gt=j[at],gt.closed=!0):(gt=ShapeModifiers.getModifier(_e[at].ty),j[at]=gt,gt.init(this,_e,at,j),this.shapeModifiers.push(gt),it=!1),ht.push(gt));this.addProcessedElement(_e[at],at+1)}for(ot=ct.length,at=0;at<ot;at+=1)ct[at].closed=!0;for(ot=ht.length,at=0;at<ot;at+=1)ht[at].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var _e,j=this.stylesList.length;for(_e=0;_e<j;_e+=1)this.stylesList[_e].reset();for(this.renderShape(),_e=0;_e<j;_e+=1)(this.stylesList[_e]._mdf||this._isFirstFrame)&&(this.stylesList[_e].msElem&&(this.stylesList[_e].msElem.setAttribute("d",this.stylesList[_e].d),this.stylesList[_e].d="M0 0"+this.stylesList[_e].d),this.stylesList[_e].pElem.setAttribute("d",this.stylesList[_e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var _e,j=this.animatedContents.length,et;for(_e=0;_e<j;_e+=1)et=this.animatedContents[_e],(this._isFirstFrame||et.element._isAnimated)&&et.data!==!0&&et.fn(et.data,et.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function SVGTintFilter(_e,j){this.filterManager=j;var et=createNS("feColorMatrix");if(et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","linearRGB"),et.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),et.setAttribute("result","f1"),_e.appendChild(et),et=createNS("feColorMatrix"),et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),et.setAttribute("result","f2"),_e.appendChild(et),this.matrixFilter=et,j.effectElements[2].p.v!==100||j.effectElements[2].p.k){var tt=createNS("feMerge");_e.appendChild(tt);var nt;nt=createNS("feMergeNode"),nt.setAttribute("in","SourceGraphic"),tt.appendChild(nt),nt=createNS("feMergeNode"),nt.setAttribute("in","f2"),tt.appendChild(nt)}}SVGTintFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var j=this.filterManager.effectElements[0].p.v,et=this.filterManager.effectElements[1].p.v,tt=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",et[0]-j[0]+" 0 0 0 "+j[0]+" "+(et[1]-j[1])+" 0 0 0 "+j[1]+" "+(et[2]-j[2])+" 0 0 0 "+j[2]+" 0 0 0 "+tt+" 0")}};function SVGFillFilter(_e,j){this.filterManager=j;var et=createNS("feColorMatrix");et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),_e.appendChild(et),this.matrixFilter=et}SVGFillFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var j=this.filterManager.effectElements[2].p.v,et=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+j[0]+" 0 0 0 0 "+j[1]+" 0 0 0 0 "+j[2]+" 0 0 0 "+et+" 0")}};function SVGGaussianBlurEffect(_e,j){_e.setAttribute("x","-100%"),_e.setAttribute("y","-100%"),_e.setAttribute("width","300%"),_e.setAttribute("height","300%"),this.filterManager=j;var et=createNS("feGaussianBlur");_e.appendChild(et),this.feGaussianBlur=et}SVGGaussianBlurEffect.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var j=.3,et=this.filterManager.effectElements[0].p.v*j,tt=this.filterManager.effectElements[1].p.v,nt=tt==3?0:et,rt=tt==2?0:et;this.feGaussianBlur.setAttribute("stdDeviation",nt+" "+rt);var it=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",it)}};function SVGStrokeEffect(_e,j){this.initialized=!1,this.filterManager=j,this.elem=_e,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var _e=this.elem.layerElement.children||this.elem.layerElement.childNodes,j,et,tt,nt;for(this.filterManager.effectElements[1].p.v===1?(nt=this.elem.maskManager.masksProperties.length,tt=0):(tt=this.filterManager.effectElements[0].p.v-1,nt=tt+1),et=createNS("g"),et.setAttribute("fill","none"),et.setAttribute("stroke-linecap","round"),et.setAttribute("stroke-dashoffset",1),tt;tt<nt;tt+=1)j=createNS("path"),et.appendChild(j),this.paths.push({p:j,m:tt});if(this.filterManager.effectElements[10].p.v===3){var rt=createNS("mask"),it=createElementID();rt.setAttribute("id",it),rt.setAttribute("mask-type","alpha"),rt.appendChild(et),this.elem.globalData.defs.appendChild(rt);var st=createNS("g");for(st.setAttribute("mask","url("+locationHref+"#"+it+")");_e[0];)st.appendChild(_e[0]);this.elem.layerElement.appendChild(st),this.masker=rt,et.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(_e=this.elem.layerElement.children||this.elem.layerElement.childNodes;_e.length;)this.elem.layerElement.removeChild(_e[0]);this.elem.layerElement.appendChild(et),this.elem.layerElement.removeAttribute("mask"),et.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=et},SVGStrokeEffect.prototype.renderFrame=function(_e){this.initialized||this.initialize();var j,et=this.paths.length,tt,nt;for(j=0;j<et;j+=1)if(this.paths[j].m!==-1&&(tt=this.elem.maskManager.viewData[this.paths[j].m],nt=this.paths[j].p,(_e||this.filterManager._mdf||tt.prop._mdf)&&nt.setAttribute("d",tt.lastPath),_e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||tt.prop._mdf)){var rt;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var it=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,st=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,at=nt.getTotalLength();rt="0 0 0 "+at*it+" ";var ot=at*(st-it),lt=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,ut=Math.floor(ot/lt),ct;for(ct=0;ct<ut;ct+=1)rt+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";rt+="0 "+at*10+" 0 0"}else rt="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;nt.setAttribute("stroke-dasharray",rt)}if((_e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(_e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(_e||this.filterManager.effectElements[3].p._mdf)){var ht=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(ht[0]*255)+","+bmFloor(ht[1]*255)+","+bmFloor(ht[2]*255)+")")}};function SVGTritoneFilter(_e,j){this.filterManager=j;var et=createNS("feColorMatrix");et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","linearRGB"),et.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),et.setAttribute("result","f1"),_e.appendChild(et);var tt=createNS("feComponentTransfer");tt.setAttribute("color-interpolation-filters","sRGB"),_e.appendChild(tt),this.matrixFilter=tt;var nt=createNS("feFuncR");nt.setAttribute("type","table"),tt.appendChild(nt),this.feFuncR=nt;var rt=createNS("feFuncG");rt.setAttribute("type","table"),tt.appendChild(rt),this.feFuncG=rt;var it=createNS("feFuncB");it.setAttribute("type","table"),tt.appendChild(it),this.feFuncB=it}SVGTritoneFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var j=this.filterManager.effectElements[0].p.v,et=this.filterManager.effectElements[1].p.v,tt=this.filterManager.effectElements[2].p.v,nt=tt[0]+" "+et[0]+" "+j[0],rt=tt[1]+" "+et[1]+" "+j[1],it=tt[2]+" "+et[2]+" "+j[2];this.feFuncR.setAttribute("tableValues",nt),this.feFuncG.setAttribute("tableValues",rt),this.feFuncB.setAttribute("tableValues",it)}};function SVGProLevelsFilter(_e,j){this.filterManager=j;var et=this.filterManager.effectElements,tt=createNS("feComponentTransfer");(et[10].p.k||et[10].p.v!==0||et[11].p.k||et[11].p.v!==1||et[12].p.k||et[12].p.v!==1||et[13].p.k||et[13].p.v!==0||et[14].p.k||et[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",tt)),(et[17].p.k||et[17].p.v!==0||et[18].p.k||et[18].p.v!==1||et[19].p.k||et[19].p.v!==1||et[20].p.k||et[20].p.v!==0||et[21].p.k||et[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",tt)),(et[24].p.k||et[24].p.v!==0||et[25].p.k||et[25].p.v!==1||et[26].p.k||et[26].p.v!==1||et[27].p.k||et[27].p.v!==0||et[28].p.k||et[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",tt)),(et[31].p.k||et[31].p.v!==0||et[32].p.k||et[32].p.v!==1||et[33].p.k||et[33].p.v!==1||et[34].p.k||et[34].p.v!==0||et[35].p.k||et[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",tt)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(tt.setAttribute("color-interpolation-filters","sRGB"),_e.appendChild(tt),tt=createNS("feComponentTransfer")),(et[3].p.k||et[3].p.v!==0||et[4].p.k||et[4].p.v!==1||et[5].p.k||et[5].p.v!==1||et[6].p.k||et[6].p.v!==0||et[7].p.k||et[7].p.v!==1)&&(tt.setAttribute("color-interpolation-filters","sRGB"),_e.appendChild(tt),this.feFuncRComposed=this.createFeFunc("feFuncR",tt),this.feFuncGComposed=this.createFeFunc("feFuncG",tt),this.feFuncBComposed=this.createFeFunc("feFuncB",tt))}SVGProLevelsFilter.prototype.createFeFunc=function(_e,j){var et=createNS(_e);return et.setAttribute("type","table"),j.appendChild(et),et},SVGProLevelsFilter.prototype.getTableValue=function(_e,j,et,tt,nt){for(var rt=0,it=256,st,at=Math.min(_e,j),ot=Math.max(_e,j),lt=Array.call(null,{length:it}),ut,ct=0,ht=nt-tt,pt=j-_e;rt<=256;)st=rt/256,st<=at?ut=pt<0?nt:tt:st>=ot?ut=pt<0?tt:nt:ut=tt+ht*Math.pow((st-_e)/pt,1/et),lt[ct]=ut,ct+=1,rt+=256/(it-1);return lt.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var j,et=this.filterManager.effectElements;this.feFuncRComposed&&(_e||et[3].p._mdf||et[4].p._mdf||et[5].p._mdf||et[6].p._mdf||et[7].p._mdf)&&(j=this.getTableValue(et[3].p.v,et[4].p.v,et[5].p.v,et[6].p.v,et[7].p.v),this.feFuncRComposed.setAttribute("tableValues",j),this.feFuncGComposed.setAttribute("tableValues",j),this.feFuncBComposed.setAttribute("tableValues",j)),this.feFuncR&&(_e||et[10].p._mdf||et[11].p._mdf||et[12].p._mdf||et[13].p._mdf||et[14].p._mdf)&&(j=this.getTableValue(et[10].p.v,et[11].p.v,et[12].p.v,et[13].p.v,et[14].p.v),this.feFuncR.setAttribute("tableValues",j)),this.feFuncG&&(_e||et[17].p._mdf||et[18].p._mdf||et[19].p._mdf||et[20].p._mdf||et[21].p._mdf)&&(j=this.getTableValue(et[17].p.v,et[18].p.v,et[19].p.v,et[20].p.v,et[21].p.v),this.feFuncG.setAttribute("tableValues",j)),this.feFuncB&&(_e||et[24].p._mdf||et[25].p._mdf||et[26].p._mdf||et[27].p._mdf||et[28].p._mdf)&&(j=this.getTableValue(et[24].p.v,et[25].p.v,et[26].p.v,et[27].p.v,et[28].p.v),this.feFuncB.setAttribute("tableValues",j)),this.feFuncA&&(_e||et[31].p._mdf||et[32].p._mdf||et[33].p._mdf||et[34].p._mdf||et[35].p._mdf)&&(j=this.getTableValue(et[31].p.v,et[32].p.v,et[33].p.v,et[34].p.v,et[35].p.v),this.feFuncA.setAttribute("tableValues",j))}};function SVGDropShadowEffect(_e,j){var et=j.container.globalData.renderConfig.filterSize;_e.setAttribute("x",et.x),_e.setAttribute("y",et.y),_e.setAttribute("width",et.width),_e.setAttribute("height",et.height),this.filterManager=j;var tt=createNS("feGaussianBlur");tt.setAttribute("in","SourceAlpha"),tt.setAttribute("result","drop_shadow_1"),tt.setAttribute("stdDeviation","0"),this.feGaussianBlur=tt,_e.appendChild(tt);var nt=createNS("feOffset");nt.setAttribute("dx","25"),nt.setAttribute("dy","0"),nt.setAttribute("in","drop_shadow_1"),nt.setAttribute("result","drop_shadow_2"),this.feOffset=nt,_e.appendChild(nt);var rt=createNS("feFlood");rt.setAttribute("flood-color","#00ff00"),rt.setAttribute("flood-opacity","1"),rt.setAttribute("result","drop_shadow_3"),this.feFlood=rt,_e.appendChild(rt);var it=createNS("feComposite");it.setAttribute("in","drop_shadow_3"),it.setAttribute("in2","drop_shadow_2"),it.setAttribute("operator","in"),it.setAttribute("result","drop_shadow_4"),_e.appendChild(it);var st=createNS("feMerge");_e.appendChild(st);var at;at=createNS("feMergeNode"),st.appendChild(at),at=createNS("feMergeNode"),at.setAttribute("in","SourceGraphic"),this.feMergeNode=at,this.feMerge=st,this.originalNodeAdded=!1,st.appendChild(at)}SVGDropShadowEffect.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){if((_e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),_e||this.filterManager.effectElements[0].p._mdf){var j=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(j[0]*255),Math.round(j[1]*255),Math.round(j[2]*255)))}if((_e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),_e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var et=this.filterManager.effectElements[3].p.v,tt=(this.filterManager.effectElements[2].p.v-90)*degToRads,nt=et*Math.cos(tt),rt=et*Math.sin(tt);this.feOffset.setAttribute("dx",nt),this.feOffset.setAttribute("dy",rt)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(_e,j,et){this.initialized=!1,this.filterManager=j,this.filterElem=_e,this.elem=et,et.matteElement=createNS("g"),et.matteElement.appendChild(et.layerElement),et.matteElement.appendChild(et.transformedElement),et.baseElement=et.matteElement}SVGMatte3Effect.prototype.findSymbol=function(_e){for(var j=0,et=_svgMatteSymbols.length;j<et;){if(_svgMatteSymbols[j]===_e)return _svgMatteSymbols[j];j+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(_e,j){var et=_e.layerElement.parentNode;if(et){for(var tt=et.children,nt=0,rt=tt.length;nt<rt&&tt[nt]!==_e.layerElement;)nt+=1;var it;nt<=rt-2&&(it=tt[nt+1]);var st=createNS("use");st.setAttribute("href","#"+j),it?et.insertBefore(st,it):et.appendChild(st)}},SVGMatte3Effect.prototype.setElementAsMask=function(_e,j){if(!this.findSymbol(j)){var et=createElementID(),tt=createNS("mask");tt.setAttribute("id",j.layerId),tt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(j);var nt=_e.globalData.defs;nt.appendChild(tt);var rt=createNS("symbol");rt.setAttribute("id",et),this.replaceInParent(j,et),rt.appendChild(j.layerElement),nt.appendChild(rt);var it=createNS("use");it.setAttribute("href","#"+et),tt.appendChild(it),j.data.hd=!1,j.show()}_e.setMatte(j.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var _e=this.filterManager.effectElements[0].p.v,j=this.elem.comp.elements,et=0,tt=j.length;et<tt;)j[et]&&j[et].data.ind===_e&&this.setElementAsMask(this.elem,j[et]),et+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGEffects(_e){var j,et=_e.data.ef?_e.data.ef.length:0,tt=createElementID(),nt=filtersFactory.createFilter(tt,!0),rt=0;this.filters=[];var it;for(j=0;j<et;j+=1)it=null,_e.data.ef[j].ty===20?(rt+=1,it=new SVGTintFilter(nt,_e.effectsManager.effectElements[j])):_e.data.ef[j].ty===21?(rt+=1,it=new SVGFillFilter(nt,_e.effectsManager.effectElements[j])):_e.data.ef[j].ty===22?it=new SVGStrokeEffect(_e,_e.effectsManager.effectElements[j]):_e.data.ef[j].ty===23?(rt+=1,it=new SVGTritoneFilter(nt,_e.effectsManager.effectElements[j])):_e.data.ef[j].ty===24?(rt+=1,it=new SVGProLevelsFilter(nt,_e.effectsManager.effectElements[j])):_e.data.ef[j].ty===25?(rt+=1,it=new SVGDropShadowEffect(nt,_e.effectsManager.effectElements[j])):_e.data.ef[j].ty===28?it=new SVGMatte3Effect(nt,_e.effectsManager.effectElements[j],_e):_e.data.ef[j].ty===29&&(rt+=1,it=new SVGGaussianBlurEffect(nt,_e.effectsManager.effectElements[j])),it&&this.filters.push(it);rt&&(_e.globalData.defs.appendChild(nt),_e.layerElement.setAttribute("filter","url("+locationHref+"#"+tt+")")),this.filters.length&&_e.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(_e){var j,et=this.filters.length;for(j=0;j<et;j+=1)this.filters[j].renderFrame(_e)};function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var _e,j=15;for(this.savedOp=createTypedArray("float32",j),_e=0;_e<j;_e+=1)this.saved[_e]=createTypedArray("float32",16);this._length=j}CVContextData.prototype.duplicate=function(){var _e=this._length*2,j=this.savedOp;this.savedOp=createTypedArray("float32",_e),this.savedOp.set(j);var et=0;for(et=this._length;et<_e;et+=1)this.saved[et]=createTypedArray("float32",16);this._length=_e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1};function CVBaseElement(){}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var _e=this.globalData;if(_e.blendMode!==this.data.bm){_e.blendMode=this.data.bm;var j=getBlendMode(this.data.bm);_e.canvasContext.globalCompositeOperation=j}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!(this.hidden||this.data.hd)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var _e=this.data.ty===0;this.globalData.renderer.save(_e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(_e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVImageElement(_e,j,et){this.assetData=j.getAssetData(_e.refId),this.img=j.imageLoader.getAsset(this.assetData),this.initElement(_e,j,et)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var _e=createTag("canvas");_e.width=this.assetData.w,_e.height=this.assetData.h;var j=_e.getContext("2d"),et=this.img.width,tt=this.img.height,nt=et/tt,rt=this.assetData.w/this.assetData.h,it,st,at=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;nt>rt&&at==="xMidYMid slice"||nt<rt&&at!=="xMidYMid slice"?(st=tt,it=st*rt):(it=et,st=it/rt),j.drawImage(this.img,(et-it)/2,(tt-st)/2,it,st,0,0,this.assetData.w,this.assetData.h),this.img=_e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVCompElement(_e,j,et){this.completeLayers=!1,this.layers=_e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(_e,j,et),this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,j.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var _e=this.canvasContext;_e.beginPath(),_e.moveTo(0,0),_e.lineTo(this.data.w,0),_e.lineTo(this.data.w,this.data.h),_e.lineTo(0,this.data.h),_e.lineTo(0,0),_e.clip();var j,et=this.layers.length;for(j=et-1;j>=0;j-=1)(this.completeLayers||this.elements[j])&&this.elements[j].renderFrame()},CVCompElement.prototype.destroy=function(){var _e,j=this.layers.length;for(_e=j-1;_e>=0;_e-=1)this.elements[_e]&&this.elements[_e].destroy();this.layers=null,this.elements=null};function CVMaskElement(_e,j){this.data=_e,this.element=j,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var et,tt=this.masksProperties.length,nt=!1;for(et=0;et<tt;et+=1)this.masksProperties[et].mode!=="n"&&(nt=!0),this.viewData[et]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[et],3);this.hasMasks=nt,nt&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var _e=this.element.finalTransform.mat,j=this.element.canvasContext,et,tt=this.masksProperties.length,nt,rt,it;for(j.beginPath(),et=0;et<tt;et+=1)if(this.masksProperties[et].mode!=="n"){this.masksProperties[et].inv&&(j.moveTo(0,0),j.lineTo(this.element.globalData.compSize.w,0),j.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),j.lineTo(0,this.element.globalData.compSize.h),j.lineTo(0,0)),it=this.viewData[et].v,nt=_e.applyToPointArray(it.v[0][0],it.v[0][1],0),j.moveTo(nt[0],nt[1]);var st,at=it._length;for(st=1;st<at;st+=1)rt=_e.applyToTriplePoints(it.o[st-1],it.i[st],it.v[st]),j.bezierCurveTo(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5]);rt=_e.applyToTriplePoints(it.o[st-1],it.i[0],it.v[0]),j.bezierCurveTo(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5])}this.element.globalData.renderer.save(!0),j.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVShapeElement(_e,j,et){this.shapes=[],this.shapesData=_e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(_e,j,et)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(_e,j){var et={data:_e,type:_e.ty,preTransforms:this.transformsManager.addTransformSequence(j),transforms:[],elements:[],closed:_e.hd===!0},tt={};if(_e.ty==="fl"||_e.ty==="st"?(tt.c=PropertyFactory.getProp(this,_e.c,1,255,this),tt.c.k||(et.co="rgb("+bmFloor(tt.c.v[0])+","+bmFloor(tt.c.v[1])+","+bmFloor(tt.c.v[2])+")")):(_e.ty==="gf"||_e.ty==="gs")&&(tt.s=PropertyFactory.getProp(this,_e.s,1,null,this),tt.e=PropertyFactory.getProp(this,_e.e,1,null,this),tt.h=PropertyFactory.getProp(this,_e.h||{k:0},0,.01,this),tt.a=PropertyFactory.getProp(this,_e.a||{k:0},0,degToRads,this),tt.g=new GradientProperty(this,_e.g,this)),tt.o=PropertyFactory.getProp(this,_e.o,0,.01,this),_e.ty==="st"||_e.ty==="gs"){if(et.lc=lineCapEnum[_e.lc||2],et.lj=lineJoinEnum[_e.lj||2],_e.lj==1&&(et.ml=_e.ml),tt.w=PropertyFactory.getProp(this,_e.w,0,null,this),tt.w.k||(et.wi=tt.w.v),_e.d){var nt=new DashProperty(this,_e.d,"canvas",this);tt.d=nt,tt.d.k||(et.da=tt.d.dashArray,et.do=tt.d.dashoffset[0])}}else et.r=_e.r===2?"evenodd":"nonzero";return this.stylesList.push(et),tt.style=et,tt},CVShapeElement.prototype.createGroupElement=function(){var _e={it:[],prevViewData:[]};return _e},CVShapeElement.prototype.createTransformElement=function(_e){var j={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,_e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,_e,this)}};return j},CVShapeElement.prototype.createShapeElement=function(_e){var j=new CVShapeData(this,_e,this.stylesList,this.transformsManager);return this.shapes.push(j),this.addShapeToModifiers(j),j},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var _e,j=this.itemsData.length;for(_e=0;_e<j;_e+=1)this.prevViewData[_e]=this.itemsData[_e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),j=this.dynamicProperties.length,_e=0;_e<j;_e+=1)this.dynamicProperties[_e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(_e){var j,et=this.stylesList.length;for(j=0;j<et;j+=1)this.stylesList[j].closed||this.stylesList[j].transforms.push(_e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var _e,j=this.stylesList.length;for(_e=0;_e<j;_e+=1)this.stylesList[_e].closed||this.stylesList[_e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(_e){var j,et=_e.length;for(j=0;j<et;j+=1)_e[j].closed=!0},CVShapeElement.prototype.searchShapes=function(_e,j,et,tt,nt){var rt,it=_e.length-1,st,at,ot=[],lt=[],ut,ct,ht,pt=[].concat(nt);for(rt=it;rt>=0;rt-=1){if(ut=this.searchProcessedElement(_e[rt]),ut?j[rt]=et[ut-1]:_e[rt]._shouldRender=tt,_e[rt].ty==="fl"||_e[rt].ty==="st"||_e[rt].ty==="gf"||_e[rt].ty==="gs")ut?j[rt].style.closed=!1:j[rt]=this.createStyleElement(_e[rt],pt),ot.push(j[rt].style);else if(_e[rt].ty==="gr"){if(!ut)j[rt]=this.createGroupElement(_e[rt]);else for(at=j[rt].it.length,st=0;st<at;st+=1)j[rt].prevViewData[st]=j[rt].it[st];this.searchShapes(_e[rt].it,j[rt].it,j[rt].prevViewData,tt,pt)}else _e[rt].ty==="tr"?(ut||(ht=this.createTransformElement(_e[rt]),j[rt]=ht),pt.push(j[rt]),this.addTransformToStyleList(j[rt])):_e[rt].ty==="sh"||_e[rt].ty==="rc"||_e[rt].ty==="el"||_e[rt].ty==="sr"?ut||(j[rt]=this.createShapeElement(_e[rt])):_e[rt].ty==="tm"||_e[rt].ty==="rd"||_e[rt].ty==="pb"?(ut?(ct=j[rt],ct.closed=!1):(ct=ShapeModifiers.getModifier(_e[rt].ty),ct.init(this,_e[rt]),j[rt]=ct,this.shapeModifiers.push(ct)),lt.push(ct)):_e[rt].ty==="rp"&&(ut?(ct=j[rt],ct.closed=!0):(ct=ShapeModifiers.getModifier(_e[rt].ty),j[rt]=ct,ct.init(this,_e,rt,j),this.shapeModifiers.push(ct),tt=!1),lt.push(ct));this.addProcessedElement(_e[rt],rt+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ot),it=lt.length,rt=0;rt<it;rt+=1)lt[rt].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(_e,j){(_e._opMdf||j.op._mdf||this._isFirstFrame)&&(j.opacity=_e.opacity,j.opacity*=j.op.v,j._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var _e,j=this.stylesList.length,et,tt,nt,rt,it,st,at=this.globalData.renderer,ot=this.globalData.canvasContext,lt,ut;for(_e=0;_e<j;_e+=1)if(ut=this.stylesList[_e],lt=ut.type,!((lt==="st"||lt==="gs")&&ut.wi===0||!ut.data._shouldRender||ut.coOp===0||this.globalData.currentGlobalAlpha===0)){for(at.save(),it=ut.elements,lt==="st"||lt==="gs"?(ot.strokeStyle=lt==="st"?ut.co:ut.grd,ot.lineWidth=ut.wi,ot.lineCap=ut.lc,ot.lineJoin=ut.lj,ot.miterLimit=ut.ml||0):ot.fillStyle=lt==="fl"?ut.co:ut.grd,at.ctxOpacity(ut.coOp),lt!=="st"&&lt!=="gs"&&ot.beginPath(),at.ctxTransform(ut.preTransforms.finalTransform.props),tt=it.length,et=0;et<tt;et+=1){for((lt==="st"||lt==="gs")&&(ot.beginPath(),ut.da&&(ot.setLineDash(ut.da),ot.lineDashOffset=ut.do)),st=it[et].trNodes,rt=st.length,nt=0;nt<rt;nt+=1)st[nt].t==="m"?ot.moveTo(st[nt].p[0],st[nt].p[1]):st[nt].t==="c"?ot.bezierCurveTo(st[nt].pts[0],st[nt].pts[1],st[nt].pts[2],st[nt].pts[3],st[nt].pts[4],st[nt].pts[5]):ot.closePath();(lt==="st"||lt==="gs")&&(ot.stroke(),ut.da&&ot.setLineDash(this.dashResetter))}lt!=="st"&&lt!=="gs"&&ot.fill(ut.r),at.restore()}},CVShapeElement.prototype.renderShape=function(_e,j,et,tt){var nt,rt=j.length-1,it;for(it=_e,nt=rt;nt>=0;nt-=1)j[nt].ty==="tr"?(it=et[nt].transform,this.renderShapeTransform(_e,it)):j[nt].ty==="sh"||j[nt].ty==="el"||j[nt].ty==="rc"||j[nt].ty==="sr"?this.renderPath(j[nt],et[nt]):j[nt].ty==="fl"?this.renderFill(j[nt],et[nt],it):j[nt].ty==="st"?this.renderStroke(j[nt],et[nt],it):j[nt].ty==="gf"||j[nt].ty==="gs"?this.renderGradientFill(j[nt],et[nt],it):j[nt].ty==="gr"?this.renderShape(it,j[nt].it,et[nt].it):j[nt].ty;tt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(_e,j){if(this._isFirstFrame||j._mdf||_e.transforms._mdf){var et=_e.trNodes,tt=j.paths,nt,rt,it,st=tt._length;et.length=0;var at=_e.transforms.finalTransform;for(it=0;it<st;it+=1){var ot=tt.shapes[it];if(ot&&ot.v){for(rt=ot._length,nt=1;nt<rt;nt+=1)nt===1&&et.push({t:"m",p:at.applyToPointArray(ot.v[0][0],ot.v[0][1],0)}),et.push({t:"c",pts:at.applyToTriplePoints(ot.o[nt-1],ot.i[nt],ot.v[nt])});rt===1&&et.push({t:"m",p:at.applyToPointArray(ot.v[0][0],ot.v[0][1],0)}),ot.c&&rt&&(et.push({t:"c",pts:at.applyToTriplePoints(ot.o[nt-1],ot.i[0],ot.v[0])}),et.push({t:"z"}))}}_e.trNodes=et}},CVShapeElement.prototype.renderPath=function(_e,j){if(_e.hd!==!0&&_e._shouldRender){var et,tt=j.styledShapes.length;for(et=0;et<tt;et+=1)this.renderStyledShape(j.styledShapes[et],j.sh)}},CVShapeElement.prototype.renderFill=function(_e,j,et){var tt=j.style;(j.c._mdf||this._isFirstFrame)&&(tt.co="rgb("+bmFloor(j.c.v[0])+","+bmFloor(j.c.v[1])+","+bmFloor(j.c.v[2])+")"),(j.o._mdf||et._opMdf||this._isFirstFrame)&&(tt.coOp=j.o.v*et.opacity)},CVShapeElement.prototype.renderGradientFill=function(_e,j,et){var tt=j.style,nt;if(!tt.grd||j.g._mdf||j.s._mdf||j.e._mdf||_e.t!==1&&(j.h._mdf||j.a._mdf)){var rt=this.globalData.canvasContext,it=j.s.v,st=j.e.v;if(_e.t===1)nt=rt.createLinearGradient(it[0],it[1],st[0],st[1]);else{var at=Math.sqrt(Math.pow(it[0]-st[0],2)+Math.pow(it[1]-st[1],2)),ot=Math.atan2(st[1]-it[1],st[0]-it[0]),lt=j.h.v;lt>=1?lt=.99:lt<=-1&&(lt=-.99);var ut=at*lt,ct=Math.cos(ot+j.a.v)*ut+it[0],ht=Math.sin(ot+j.a.v)*ut+it[1];nt=rt.createRadialGradient(ct,ht,0,it[0],it[1],at)}var pt,gt=_e.g.p,vt=j.g.c,ft=1;for(pt=0;pt<gt;pt+=1)j.g._hasOpacity&&j.g._collapsable&&(ft=j.g.o[pt*2+1]),nt.addColorStop(vt[pt*4]/100,"rgba("+vt[pt*4+1]+","+vt[pt*4+2]+","+vt[pt*4+3]+","+ft+")");tt.grd=nt}tt.coOp=j.o.v*et.opacity},CVShapeElement.prototype.renderStroke=function(_e,j,et){var tt=j.style,nt=j.d;nt&&(nt._mdf||this._isFirstFrame)&&(tt.da=nt.dashArray,tt.do=nt.dashoffset[0]),(j.c._mdf||this._isFirstFrame)&&(tt.co="rgb("+bmFloor(j.c.v[0])+","+bmFloor(j.c.v[1])+","+bmFloor(j.c.v[2])+")"),(j.o._mdf||et._opMdf||this._isFirstFrame)&&(tt.coOp=j.o.v*et.opacity),(j.w._mdf||this._isFirstFrame)&&(tt.wi=j.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVSolidElement(_e,j,et){this.initElement(_e,j,et)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var _e=this.canvasContext;_e.fillStyle=this.data.sc,_e.fillRect(0,0,this.data.sw,this.data.sh)};function CVTextElement(_e,j,et){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(_e,j,et)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var _e=this.textProperty.currentData;this.renderedLetters=createSizedArray(_e.l?_e.l.length:0);var j=!1;_e.fc?(j=!0,this.values.fill=this.buildColor(_e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=j;var et=!1;_e.sc&&(et=!0,this.values.stroke=this.buildColor(_e.sc),this.values.sWidth=_e.sw);var tt=this.globalData.fontManager.getFontByName(_e.f),nt,rt,it=_e.l,st=this.mHelper;this.stroke=et,this.values.fValue=_e.finalSize+"px "+this.globalData.fontManager.getFontByName(_e.f).fFamily,rt=_e.finalText.length;var at,ot,lt,ut,ct,ht,pt,gt,vt,ft,mt=this.data.singleShape,xt=_e.tr*.001*_e.finalSize,_t=0,Tt=0,wt=!0,bt=0;for(nt=0;nt<rt;nt+=1){for(at=this.globalData.fontManager.getCharData(_e.finalText[nt],tt.fStyle,this.globalData.fontManager.getFontByName(_e.f).fFamily),ot=at&&at.data||{},st.reset(),mt&&it[nt].n&&(_t=-xt,Tt+=_e.yOffset,Tt+=wt?1:0,wt=!1),ct=ot.shapes?ot.shapes[0].it:[],pt=ct.length,st.scale(_e.finalSize/100,_e.finalSize/100),mt&&this.applyTextPropertiesToMatrix(_e,st,it[nt].line,_t,Tt),vt=createSizedArray(pt),ht=0;ht<pt;ht+=1){for(ut=ct[ht].ks.k.i.length,gt=ct[ht].ks.k,ft=[],lt=1;lt<ut;lt+=1)lt===1&&ft.push(st.applyToX(gt.v[0][0],gt.v[0][1],0),st.applyToY(gt.v[0][0],gt.v[0][1],0)),ft.push(st.applyToX(gt.o[lt-1][0],gt.o[lt-1][1],0),st.applyToY(gt.o[lt-1][0],gt.o[lt-1][1],0),st.applyToX(gt.i[lt][0],gt.i[lt][1],0),st.applyToY(gt.i[lt][0],gt.i[lt][1],0),st.applyToX(gt.v[lt][0],gt.v[lt][1],0),st.applyToY(gt.v[lt][0],gt.v[lt][1],0));ft.push(st.applyToX(gt.o[lt-1][0],gt.o[lt-1][1],0),st.applyToY(gt.o[lt-1][0],gt.o[lt-1][1],0),st.applyToX(gt.i[0][0],gt.i[0][1],0),st.applyToY(gt.i[0][0],gt.i[0][1],0),st.applyToX(gt.v[0][0],gt.v[0][1],0),st.applyToY(gt.v[0][0],gt.v[0][1],0)),vt[ht]=ft}mt&&(_t+=it[nt].l,_t+=xt),this.textSpans[bt]?this.textSpans[bt].elem=vt:this.textSpans[bt]={elem:vt},bt+=1}},CVTextElement.prototype.renderInnerContent=function(){var _e=this.canvasContext;_e.font=this.values.fValue,_e.lineCap="butt",_e.lineJoin="miter",_e.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var j,et,tt,nt,rt,it,st=this.textAnimator.renderedLetters,at=this.textProperty.currentData.l;et=at.length;var ot,lt=null,ut=null,ct=null,ht,pt;for(j=0;j<et;j+=1)if(!at[j].n){if(ot=st[j],ot&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(ot.p),this.globalData.renderer.ctxOpacity(ot.o)),this.fill){for(ot&&ot.fc?lt!==ot.fc&&(lt=ot.fc,_e.fillStyle=ot.fc):lt!==this.values.fill&&(lt=this.values.fill,_e.fillStyle=this.values.fill),ht=this.textSpans[j].elem,nt=ht.length,this.globalData.canvasContext.beginPath(),tt=0;tt<nt;tt+=1)for(pt=ht[tt],it=pt.length,this.globalData.canvasContext.moveTo(pt[0],pt[1]),rt=2;rt<it;rt+=6)this.globalData.canvasContext.bezierCurveTo(pt[rt],pt[rt+1],pt[rt+2],pt[rt+3],pt[rt+4],pt[rt+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(ot&&ot.sw?ct!==ot.sw&&(ct=ot.sw,_e.lineWidth=ot.sw):ct!==this.values.sWidth&&(ct=this.values.sWidth,_e.lineWidth=this.values.sWidth),ot&&ot.sc?ut!==ot.sc&&(ut=ot.sc,_e.strokeStyle=ot.sc):ut!==this.values.stroke&&(ut=this.values.stroke,_e.strokeStyle=this.values.stroke),ht=this.textSpans[j].elem,nt=ht.length,this.globalData.canvasContext.beginPath(),tt=0;tt<nt;tt+=1)for(pt=ht[tt],it=pt.length,this.globalData.canvasContext.moveTo(pt[0],pt[1]),rt=2;rt<it;rt+=6)this.globalData.canvasContext.bezierCurveTo(pt[rt],pt[rt+1],pt[rt+2],pt[rt+3],pt[rt+4],pt[rt+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}ot&&this.globalData.renderer.restore()}};function CVEffects(){}CVEffects.prototype.renderFrame=function(){};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var _e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var j=this.finalTransform.mat.toCSS();_e.transform=j,_e.webkitTransform=j}this.finalTransform._opMdf&&(_e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting;function HSolidElement(_e,j,et){this.initElement(_e,j,et)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var _e;this.data.hasMask?(_e=createNS("rect"),_e.setAttribute("width",this.data.sw),_e.setAttribute("height",this.data.sh),_e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(_e=createTag("div"),_e.style.width=this.data.sw+"px",_e.style.height=this.data.sh+"px",_e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(_e)};function HCompElement(_e,j,et){this.layers=_e.layers,this.supports3d=!_e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(_e,j,et),this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,j.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(_e,j){for(var et=0,tt;et<j;)this.elements[et]&&this.elements[et].getBaseElement&&(tt=this.elements[et].getBaseElement()),et+=1;tt?this.layerElement.insertBefore(_e,tt):this.layerElement.appendChild(_e)};function HShapeElement(_e,j,et){this.shapes=[],this.shapesData=_e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(_e,j,et),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var _e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),_e=this.svgElement;else{_e=createNS("svg");var j=this.comp.data?this.comp.data:this.globalData.compSize;_e.setAttribute("width",j.w),_e.setAttribute("height",j.h),_e.appendChild(this.shapesContainer),this.layerElement.appendChild(_e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=_e},HShapeElement.prototype.getTransformedPoint=function(_e,j){var et,tt=_e.length;for(et=0;et<tt;et+=1)j=_e[et].mProps.v.applyToPointArray(j[0],j[1],0);return j},HShapeElement.prototype.calculateShapeBoundingBox=function(_e,j){var et=_e.sh.v,tt=_e.transformers,nt,rt=et._length,it,st,at,ot;if(!(rt<=1)){for(nt=0;nt<rt-1;nt+=1)it=this.getTransformedPoint(tt,et.v[nt]),st=this.getTransformedPoint(tt,et.o[nt]),at=this.getTransformedPoint(tt,et.i[nt+1]),ot=this.getTransformedPoint(tt,et.v[nt+1]),this.checkBounds(it,st,at,ot,j);et.c&&(it=this.getTransformedPoint(tt,et.v[nt]),st=this.getTransformedPoint(tt,et.o[nt]),at=this.getTransformedPoint(tt,et.i[0]),ot=this.getTransformedPoint(tt,et.v[0]),this.checkBounds(it,st,at,ot,j))}},HShapeElement.prototype.checkBounds=function(_e,j,et,tt,nt){this.getBoundsOfCurve(_e,j,et,tt);var rt=this.shapeBoundingBox;nt.x=bmMin(rt.left,nt.x),nt.xMax=bmMax(rt.right,nt.xMax),nt.y=bmMin(rt.top,nt.y),nt.yMax=bmMax(rt.bottom,nt.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(_e,j,et,tt){for(var nt=[[_e[0],tt[0]],[_e[1],tt[1]]],rt,it,st,at,ot,lt,ut,ct=0;ct<2;++ct)it=6*_e[ct]-12*j[ct]+6*et[ct],rt=-3*_e[ct]+9*j[ct]-9*et[ct]+3*tt[ct],st=3*j[ct]-3*_e[ct],it|=0,rt|=0,st|=0,rt===0&&it===0||(rt===0?(at=-st/it,at>0&&at<1&&nt[ct].push(this.calculateF(at,_e,j,et,tt,ct))):(ot=it*it-4*st*rt,ot>=0&&(lt=(-it+bmSqrt(ot))/(2*rt),lt>0&&lt<1&&nt[ct].push(this.calculateF(lt,_e,j,et,tt,ct)),ut=(-it-bmSqrt(ot))/(2*rt),ut>0&&ut<1&&nt[ct].push(this.calculateF(ut,_e,j,et,tt,ct)))));this.shapeBoundingBox.left=bmMin.apply(null,nt[0]),this.shapeBoundingBox.top=bmMin.apply(null,nt[1]),this.shapeBoundingBox.right=bmMax.apply(null,nt[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,nt[1])},HShapeElement.prototype.calculateF=function(_e,j,et,tt,nt,rt){return bmPow(1-_e,3)*j[rt]+3*bmPow(1-_e,2)*_e*et[rt]+3*(1-_e)*bmPow(_e,2)*tt[rt]+bmPow(_e,3)*nt[rt]},HShapeElement.prototype.calculateBoundingBox=function(_e,j){var et,tt=_e.length;for(et=0;et<tt;et+=1)_e[et]&&_e[et].sh?this.calculateShapeBoundingBox(_e[et],j):_e[et]&&_e[et].it&&this.calculateBoundingBox(_e[et].it,j)},HShapeElement.prototype.currentBoxContains=function(_e){return this.currentBBox.x<=_e.x&&this.currentBBox.y<=_e.y&&this.currentBBox.width+this.currentBBox.x>=_e.x+_e.width&&this.currentBBox.height+this.currentBBox.y>=_e.y+_e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var _e=this.tempBoundingBox,j=999999;if(_e.x=j,_e.xMax=-j,_e.y=j,_e.yMax=-j,this.calculateBoundingBox(this.itemsData,_e),_e.width=_e.xMax<_e.x?0:_e.xMax-_e.x,_e.height=_e.yMax<_e.y?0:_e.yMax-_e.y,this.currentBoxContains(_e))return;var et=!1;if(this.currentBBox.w!==_e.width&&(this.currentBBox.w=_e.width,this.shapeCont.setAttribute("width",_e.width),et=!0),this.currentBBox.h!==_e.height&&(this.currentBBox.h=_e.height,this.shapeCont.setAttribute("height",_e.height),et=!0),et||this.currentBBox.x!==_e.x||this.currentBBox.y!==_e.y){this.currentBBox.w=_e.width,this.currentBBox.h=_e.height,this.currentBBox.x=_e.x,this.currentBBox.y=_e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var tt=this.shapeCont.style,nt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";tt.transform=nt,tt.webkitTransform=nt}}};function HTextElement(_e,j,et){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(_e,j,et)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var _e=createNS("g");this.maskedElement.appendChild(_e),this.innerElem=_e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var _e=this.textProperty.currentData;this.renderedLetters=createSizedArray(_e.l?_e.l.length:0);var j=this.innerElem.style,et=_e.fc?this.buildColor(_e.fc):"rgba(0,0,0,0)";j.fill=et,j.color=et,_e.sc&&(j.stroke=this.buildColor(_e.sc),j.strokeWidth=_e.sw+"px");var tt=this.globalData.fontManager.getFontByName(_e.f);if(!this.globalData.fontManager.chars)if(j.fontSize=_e.finalSize+"px",j.lineHeight=_e.finalSize+"px",tt.fClass)this.innerElem.className=tt.fClass;else{j.fontFamily=tt.fFamily;var nt=_e.fWeight,rt=_e.fStyle;j.fontStyle=rt,j.fontWeight=nt}var it,st,at=_e.l;st=at.length;var ot,lt,ut,ct=this.mHelper,ht,pt="",gt=0;for(it=0;it<st;it+=1){if(this.globalData.fontManager.chars?(this.textPaths[gt]?ot=this.textPaths[gt]:(ot=createNS("path"),ot.setAttribute("stroke-linecap",lineCapEnum[1]),ot.setAttribute("stroke-linejoin",lineJoinEnum[2]),ot.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[gt]?(lt=this.textSpans[gt],ut=lt.children[0]):(lt=createTag("div"),lt.style.lineHeight=0,ut=createNS("svg"),ut.appendChild(ot),styleDiv(lt)))):this.isMasked?ot=this.textPaths[gt]?this.textPaths[gt]:createNS("text"):this.textSpans[gt]?(lt=this.textSpans[gt],ot=this.textPaths[gt]):(lt=createTag("span"),styleDiv(lt),ot=createTag("span"),styleDiv(ot),lt.appendChild(ot)),this.globalData.fontManager.chars){var vt=this.globalData.fontManager.getCharData(_e.finalText[it],tt.fStyle,this.globalData.fontManager.getFontByName(_e.f).fFamily),ft;if(vt?ft=vt.data:ft=null,ct.reset(),ft&&ft.shapes&&(ht=ft.shapes[0].it,ct.scale(_e.finalSize/100,_e.finalSize/100),pt=this.createPathShape(ct,ht),ot.setAttribute("d",pt)),this.isMasked)this.innerElem.appendChild(ot);else{if(this.innerElem.appendChild(lt),ft&&ft.shapes){document.body.appendChild(ut);var mt=ut.getBBox();ut.setAttribute("width",mt.width+2),ut.setAttribute("height",mt.height+2),ut.setAttribute("viewBox",mt.x-1+" "+(mt.y-1)+" "+(mt.width+2)+" "+(mt.height+2));var xt=ut.style,_t="translate("+(mt.x-1)+"px,"+(mt.y-1)+"px)";xt.transform=_t,xt.webkitTransform=_t,at[it].yOffset=mt.y-1}else ut.setAttribute("width",1),ut.setAttribute("height",1);lt.appendChild(ut)}}else if(ot.textContent=at[it].val,ot.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(ot);else{this.innerElem.appendChild(lt);var Tt=ot.style,wt="translate3d(0,"+-_e.finalSize/1.2+"px,0)";Tt.transform=wt,Tt.webkitTransform=wt}this.isMasked?this.textSpans[gt]=ot:this.textSpans[gt]=lt,this.textSpans[gt].style.display="block",this.textPaths[gt]=ot,gt+=1}for(;gt<this.textSpans.length;)this.textSpans[gt].style.display="none",gt+=1},HTextElement.prototype.renderInnerContent=function(){var _e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),_e=this.svgElement.style;var j="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";_e.transform=j,_e.webkitTransform=j}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var et,tt,nt=0,rt=this.textAnimator.renderedLetters,it=this.textProperty.currentData.l;tt=it.length;var st,at,ot;for(et=0;et<tt;et+=1)it[et].n?nt+=1:(at=this.textSpans[et],ot=this.textPaths[et],st=rt[nt],nt+=1,st._mdf.m&&(this.isMasked?at.setAttribute("transform",st.m):(at.style.webkitTransform=st.m,at.style.transform=st.m)),at.style.opacity=st.o,st.sw&&st._mdf.sw&&ot.setAttribute("stroke-width",st.sw),st.sc&&st._mdf.sc&&ot.setAttribute("stroke",st.sc),st.fc&&st._mdf.fc&&(ot.setAttribute("fill",st.fc),ot.style.color=st.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var lt=this.innerElem.getBBox();this.currentBBox.w!==lt.width&&(this.currentBBox.w=lt.width,this.svgElement.setAttribute("width",lt.width)),this.currentBBox.h!==lt.height&&(this.currentBBox.h=lt.height,this.svgElement.setAttribute("height",lt.height));var ut=1;if(this.currentBBox.w!==lt.width+ut*2||this.currentBBox.h!==lt.height+ut*2||this.currentBBox.x!==lt.x-ut||this.currentBBox.y!==lt.y-ut){this.currentBBox.w=lt.width+ut*2,this.currentBBox.h=lt.height+ut*2,this.currentBBox.x=lt.x-ut,this.currentBBox.y=lt.y-ut,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),_e=this.svgElement.style;var ct="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";_e.transform=ct,_e.webkitTransform=ct}}}};function HImageElement(_e,j,et){this.assetData=j.getAssetData(_e.refId),this.initElement(_e,j,et)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var _e=this.globalData.getAssetsPath(this.assetData),j=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",_e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(j),j.crossOrigin="anonymous",j.src=_e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HCameraElement(_e,j,et){this.initFrame(),this.initBaseData(_e,j,et),this.initHierarchy();var tt=PropertyFactory.getProp;if(this.pe=tt(this,_e.pe,0,0,this),_e.ks.p.s?(this.px=tt(this,_e.ks.p.x,1,0,this),this.py=tt(this,_e.ks.p.y,1,0,this),this.pz=tt(this,_e.ks.p.z,1,0,this)):this.p=tt(this,_e.ks.p,1,0,this),_e.ks.a&&(this.a=tt(this,_e.ks.a,1,0,this)),_e.ks.or.k.length&&_e.ks.or.k[0].to){var nt,rt=_e.ks.or.k.length;for(nt=0;nt<rt;nt+=1)_e.ks.or.k[nt].to=null,_e.ks.or.k[nt].ti=null}this.or=tt(this,_e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=tt(this,_e.ks.rx,0,degToRads,this),this.ry=tt(this,_e.ks.ry,0,degToRads,this),this.rz=tt(this,_e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var _e,j=this.comp.threeDElements.length,et,tt,nt;for(_e=0;_e<j;_e+=1)if(et=this.comp.threeDElements[_e],et.type==="3d"){tt=et.perspectiveElem.style,nt=et.container.style;var rt=this.pe.v+"px",it="0px 0px 0px",st="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";tt.perspective=rt,tt.webkitPerspective=rt,nt.transformOrigin=it,nt.mozTransformOrigin=it,nt.webkitTransformOrigin=it,tt.transform=st,tt.webkitTransform=st}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var _e=this._isFirstFrame,j,et;if(this.hierarchy)for(et=this.hierarchy.length,j=0;j<et;j+=1)_e=this.hierarchy[j].finalTransform.mProp._mdf||_e;if(_e||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(et=this.hierarchy.length-1,j=et;j>=0;j-=1){var tt=this.hierarchy[j].finalTransform.mProp;this.mat.translate(-tt.p.v[0],-tt.p.v[1],tt.p.v[2]),this.mat.rotateX(-tt.or.v[0]).rotateY(-tt.or.v[1]).rotateZ(tt.or.v[2]),this.mat.rotateX(-tt.rx.v).rotateY(-tt.ry.v).rotateZ(tt.rz.v),this.mat.scale(1/tt.s.v[0],1/tt.s.v[1],1/tt.s.v[2]),this.mat.translate(tt.a.v[0],tt.a.v[1],tt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var nt;this.p?nt=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:nt=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var rt=Math.sqrt(Math.pow(nt[0],2)+Math.pow(nt[1],2)+Math.pow(nt[2],2)),it=[nt[0]/rt,nt[1]/rt,nt[2]/rt],st=Math.sqrt(it[2]*it[2]+it[0]*it[0]),at=Math.atan2(it[1],st),ot=Math.atan2(it[0],-it[2]);this.mat.rotateY(ot).rotateX(-at)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var lt=!this._prevMat.equals(this.mat);if((lt||this.pe._mdf)&&this.comp.threeDElements){et=this.comp.threeDElements.length;var ut,ct,ht;for(j=0;j<et;j+=1)if(ut=this.comp.threeDElements[j],ut.type==="3d"){if(lt){var pt=this.mat.toCSS();ht=ut.container.style,ht.transform=pt,ht.webkitTransform=pt}this.pe._mdf&&(ct=ut.perspectiveElem.style,ct.perspective=this.pe.v+"px",ct.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(_e){this.prepareProperties(_e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};var animationManager=function(){var _e={},j=[],et=0,tt=0,nt=0,rt=!0,it=!1;function st(It){for(var Ot=0,Ut=It.target;Ot<tt;)j[Ot].animation===Ut&&(j.splice(Ot,1),Ot-=1,tt-=1,Ut.isPaused||ut()),Ot+=1}function at(It,Ot){if(!It)return null;for(var Ut=0;Ut<tt;){if(j[Ut].elem===It&&j[Ut].elem!==null)return j[Ut].animation;Ut+=1}var zt=new AnimationItem;return ct(zt,It),zt.setData(It,Ot),zt}function ot(){var It,Ot=j.length,Ut=[];for(It=0;It<Ot;It+=1)Ut.push(j[It].animation);return Ut}function lt(){nt+=1,$t()}function ut(){nt-=1}function ct(It,Ot){It.addEventListener("destroy",st),It.addEventListener("_active",lt),It.addEventListener("_idle",ut),j.push({elem:Ot,animation:It}),tt+=1}function ht(It){var Ot=new AnimationItem;return ct(Ot,null),Ot.setParams(It),Ot}function pt(It,Ot){var Ut;for(Ut=0;Ut<tt;Ut+=1)j[Ut].animation.setSpeed(It,Ot)}function gt(It,Ot){var Ut;for(Ut=0;Ut<tt;Ut+=1)j[Ut].animation.setDirection(It,Ot)}function vt(It){var Ot;for(Ot=0;Ot<tt;Ot+=1)j[Ot].animation.play(It)}function ft(It){var Ot=It-et,Ut;for(Ut=0;Ut<tt;Ut+=1)j[Ut].animation.advanceTime(Ot);et=It,nt&&!it?window.requestAnimationFrame(ft):rt=!0}function mt(It){et=It,window.requestAnimationFrame(ft)}function xt(It){var Ot;for(Ot=0;Ot<tt;Ot+=1)j[Ot].animation.pause(It)}function _t(It,Ot,Ut){var zt;for(zt=0;zt<tt;zt+=1)j[zt].animation.goToAndStop(It,Ot,Ut)}function Tt(It){var Ot;for(Ot=0;Ot<tt;Ot+=1)j[Ot].animation.stop(It)}function wt(It){var Ot;for(Ot=0;Ot<tt;Ot+=1)j[Ot].animation.togglePause(It)}function bt(It){var Ot;for(Ot=tt-1;Ot>=0;Ot-=1)j[Ot].animation.destroy(It)}function Ct(It,Ot,Ut){var zt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Ht,Vt=zt.length;for(Ht=0;Ht<Vt;Ht+=1)Ut&&zt[Ht].setAttribute("data-bm-type",Ut),at(zt[Ht],It);if(Ot&&Vt===0){Ut||(Ut="svg");var qt=document.getElementsByTagName("body")[0];qt.innerText="";var an=createTag("div");an.style.width="100%",an.style.height="100%",an.setAttribute("data-bm-type",Ut),qt.appendChild(an),at(an,It)}}function Lt(){var It;for(It=0;It<tt;It+=1)j[It].animation.resize()}function $t(){!it&&nt&&rt&&(window.requestAnimationFrame(mt),rt=!1)}function Rt(){it=!0}function Bt(){it=!1,$t()}function Gt(It,Ot){var Ut;for(Ut=0;Ut<tt;Ut+=1)j[Ut].animation.setVolume(It,Ot)}function Ft(It){var Ot;for(Ot=0;Ot<tt;Ot+=1)j[Ot].animation.mute(It)}function kt(It){var Ot;for(Ot=0;Ot<tt;Ot+=1)j[Ot].animation.unmute(It)}return _e.registerAnimation=at,_e.loadAnimation=ht,_e.setSpeed=pt,_e.setDirection=gt,_e.play=vt,_e.pause=xt,_e.stop=Tt,_e.togglePause=wt,_e.searchAnimations=Ct,_e.resize=Lt,_e.goToAndStop=_t,_e.destroy=bt,_e.freeze=Rt,_e.unfreeze=Bt,_e.setVolume=Gt,_e.mute=Ft,_e.unmute=kt,_e.getRegisteredAnimations=ot,_e}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(_e){(_e.wrapper||_e.container)&&(this.wrapper=_e.wrapper||_e.container);var j="svg";switch(_e.animType?j=_e.animType:_e.renderer&&(j=_e.renderer),j){case"canvas":this.renderer=new CanvasRenderer(this,_e.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,_e.rendererSettings);break;default:this.renderer=new HybridRenderer(this,_e.rendererSettings);break}this.imagePreloader.setCacheType(j,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=j,_e.loop===""||_e.loop===null||_e.loop===void 0||_e.loop===!0?this.loop=!0:_e.loop===!1?this.loop=!1:this.loop=parseInt(_e.loop,10),this.autoplay="autoplay"in _e?_e.autoplay:!0,this.name=_e.name?_e.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(_e,"autoloadSegments")?_e.autoloadSegments:!0,this.assetsPath=_e.assetsPath,this.initialSegment=_e.initialSegment,_e.audioFactory&&this.audioController.setAudioFactory(_e.audioFactory),_e.animationData?this.setupAnimation(_e.animationData):_e.path&&(_e.path.lastIndexOf("\\")!==-1?this.path=_e.path.substr(0,_e.path.lastIndexOf("\\")+1):this.path=_e.path.substr(0,_e.path.lastIndexOf("/")+1),this.fileName=_e.path.substr(_e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(_e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(_e){dataManager.completeAnimation(_e,this.configAnimation)},AnimationItem.prototype.setData=function(_e,j){j&&typeof j!="object"&&(j=JSON.parse(j));var et={wrapper:_e,animationData:j},tt=_e.attributes;et.path=tt.getNamedItem("data-animation-path")?tt.getNamedItem("data-animation-path").value:tt.getNamedItem("data-bm-path")?tt.getNamedItem("data-bm-path").value:tt.getNamedItem("bm-path")?tt.getNamedItem("bm-path").value:"",et.animType=tt.getNamedItem("data-anim-type")?tt.getNamedItem("data-anim-type").value:tt.getNamedItem("data-bm-type")?tt.getNamedItem("data-bm-type").value:tt.getNamedItem("bm-type")?tt.getNamedItem("bm-type").value:tt.getNamedItem("data-bm-renderer")?tt.getNamedItem("data-bm-renderer").value:tt.getNamedItem("bm-renderer")?tt.getNamedItem("bm-renderer").value:"canvas";var nt=tt.getNamedItem("data-anim-loop")?tt.getNamedItem("data-anim-loop").value:tt.getNamedItem("data-bm-loop")?tt.getNamedItem("data-bm-loop").value:tt.getNamedItem("bm-loop")?tt.getNamedItem("bm-loop").value:"";nt==="false"?et.loop=!1:nt==="true"?et.loop=!0:nt!==""&&(et.loop=parseInt(nt,10));var rt=tt.getNamedItem("data-anim-autoplay")?tt.getNamedItem("data-anim-autoplay").value:tt.getNamedItem("data-bm-autoplay")?tt.getNamedItem("data-bm-autoplay").value:tt.getNamedItem("bm-autoplay")?tt.getNamedItem("bm-autoplay").value:!0;et.autoplay=rt!=="false",et.name=tt.getNamedItem("data-name")?tt.getNamedItem("data-name").value:tt.getNamedItem("data-bm-name")?tt.getNamedItem("data-bm-name").value:tt.getNamedItem("bm-name")?tt.getNamedItem("bm-name").value:"";var it=tt.getNamedItem("data-anim-prerender")?tt.getNamedItem("data-anim-prerender").value:tt.getNamedItem("data-bm-prerender")?tt.getNamedItem("data-bm-prerender").value:tt.getNamedItem("bm-prerender")?tt.getNamedItem("bm-prerender").value:"";it==="false"&&(et.prerender=!1),this.setParams(et)},AnimationItem.prototype.includeLayers=function(_e){_e.op>this.animationData.op&&(this.animationData.op=_e.op,this.totalFrames=Math.floor(_e.op-this.animationData.ip));var j=this.animationData.layers,et,tt=j.length,nt=_e.layers,rt,it=nt.length;for(rt=0;rt<it;rt+=1)for(et=0;et<tt;){if(j[et].id===nt[rt].id){j[et]=nt[rt];break}et+=1}if((_e.chars||_e.fonts)&&(this.renderer.globalData.fontManager.addChars(_e.chars),this.renderer.globalData.fontManager.addFonts(_e.fonts,this.renderer.globalData.defs)),_e.assets)for(tt=_e.assets.length,et=0;et<tt;et+=1)this.animationData.assets.push(_e.assets[et]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(_e){this.animationData=_e,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var _e=this.animationData.segments;if(!_e||_e.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var j=_e.shift();this.timeCompleted=j.time*this.frameRate;var et=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(et,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var _e=this.animationData.segments;_e||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(_e){if(this.renderer)try{this.animationData=_e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(_e),_e.assets||(_e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(_e.assets),this.markers=markerParser(_e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(j){this.triggerConfigError(j)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(_e){this.isSubframeEnabled=!!_e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(_e){this.triggerRenderFrameError(_e)}},AnimationItem.prototype.play=function(_e){_e&&this.name!==_e||this.isPaused===!0&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(_e){_e&&this.name!==_e||this.isPaused===!1&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(_e){_e&&this.name!==_e||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(_e){_e&&this.name!==_e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(_e){for(var j,et=0;et<this.markers.length;et+=1)if(j=this.markers[et],j.payload&&j.payload.name===_e)return j;return null},AnimationItem.prototype.goToAndStop=function(_e,j,et){if(!(et&&this.name!==et)){var tt=Number(_e);if(isNaN(tt)){var nt=this.getMarkerData(_e);nt&&this.goToAndStop(nt.time,!0)}else j?this.setCurrentRawFrameValue(_e):this.setCurrentRawFrameValue(_e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(_e,j,et){if(!(et&&this.name!==et)){var tt=Number(_e);if(isNaN(tt)){var nt=this.getMarkerData(_e);nt&&(nt.duration?this.playSegments([nt.time,nt.time+nt.duration],!0):this.goToAndStop(nt.time,!0))}else this.goToAndStop(tt,j,et);this.play()}},AnimationItem.prototype.advanceTime=function(_e){if(!(this.isPaused===!0||this.isLoaded===!1)){var j=this.currentRawFrame+_e*this.frameModifier,et=!1;j>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(j>this.totalFrames?j%this.totalFrames:0)||(et=!0,j=this.totalFrames-1):j>=this.totalFrames?(this.playCount+=1,this.checkSegments(j%this.totalFrames)||(this.setCurrentRawFrameValue(j%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(j):j<0?this.checkSegments(j%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+j%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(et=!0,j=0)):this.setCurrentRawFrameValue(j),et&&(this.setCurrentRawFrameValue(j),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(_e,j){this.playCount=0,_e[1]<_e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=_e[0]-_e[1],this.timeCompleted=this.totalFrames,this.firstFrame=_e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-j)):_e[1]>_e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=_e[1]-_e[0],this.timeCompleted=this.totalFrames,this.firstFrame=_e[0],this.setCurrentRawFrameValue(.001+j)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(_e,j){var et=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<_e?et=_e:this.currentRawFrame+this.firstFrame>j&&(et=j-_e)),this.firstFrame=_e,this.totalFrames=j-_e,this.timeCompleted=this.totalFrames,et!==-1&&this.goToAndStop(et,!0)},AnimationItem.prototype.playSegments=function(_e,j){if(j&&(this.segments.length=0),typeof _e[0]=="object"){var et,tt=_e.length;for(et=0;et<tt;et+=1)this.segments.push(_e[et])}else this.segments.push(_e);this.segments.length&&j&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(_e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),_e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(_e){return this.segments.length?(this.adjustSegment(this.segments.shift(),_e),!0):!1},AnimationItem.prototype.destroy=function(_e){_e&&this.name!==_e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(_e){this.currentRawFrame=_e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(_e){this.playSpeed=_e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(_e){this.playDirection=_e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(_e,j){j&&this.name!==j||this.audioController.setVolume(_e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(_e){_e&&this.name!==_e||this.audioController.mute()},AnimationItem.prototype.unmute=function(_e){_e&&this.name!==_e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(_e){var j="";if(_e.e)j=_e.p;else if(this.assetsPath){var et=_e.p;et.indexOf("images/")!==-1&&(et=et.split("/")[1]),j=this.assetsPath+et}else j=this.path,j+=_e.u?_e.u:"",j+=_e.p;return j},AnimationItem.prototype.getAssetData=function(_e){for(var j=0,et=this.assets.length;j<et;){if(_e===this.assets[j].id)return this.assets[j];j+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(_e){return _e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(_e){if(this._cbs&&this._cbs[_e])switch(_e){case"enterFrame":case"drawnFrame":this.triggerEvent(_e,new BMEnterFrameEvent(_e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(_e,new BMCompleteLoopEvent(_e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(_e,new BMCompleteEvent(_e,this.frameMult));break;case"segmentStart":this.triggerEvent(_e,new BMSegmentStartEvent(_e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(_e,new BMDestroyEvent(_e,this));break;default:this.triggerEvent(_e)}_e==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(_e,this.currentFrame,this.totalFrames,this.frameMult)),_e==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(_e,this.loop,this.playCount,this.frameMult)),_e==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(_e,this.frameMult)),_e==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(_e,this.firstFrame,this.totalFrames)),_e==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(_e,this))},AnimationItem.prototype.triggerRenderFrameError=function(_e){var j=new BMRenderFrameErrorEvent(_e,this.currentFrame);this.triggerEvent("error",j),this.onError&&this.onError.call(this,j)},AnimationItem.prototype.triggerConfigError=function(_e){var j=new BMConfigErrorEvent(_e,this.currentFrame);this.triggerEvent("error",j),this.onError&&this.onError.call(this,j)};var Expressions=function(){var _e={};_e.initExpressions=j;function j(et){var tt=0,nt=[];function rt(){tt+=1}function it(){tt-=1,tt===0&&at()}function st(ot){nt.indexOf(ot)===-1&&nt.push(ot)}function at(){var ot,lt=nt.length;for(ot=0;ot<lt;ot+=1)nt[ot].release();nt.length=0}et.renderer.compInterface=CompExpressionInterface(et.renderer),et.renderer.globalData.projectInterface.registerComposition(et.renderer),et.renderer.globalData.pushExpression=rt,et.renderer.globalData.popExpression=it,et.renderer.globalData.registerExpressionProperty=st}return _e}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath;BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0,elem.data.ip/elem.comp.globalData.frameRate,elem.data.op/elem.comp.globalData.frameRate,elem.data.sw&&elem.data.sw,elem.data.sh&&elem.data.sh,elem.data.nm;var thisLayer,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0];property.kf&&data.k.length,!this.data||this.data.hd,function _e(j,et){var tt,nt,rt=this.pv.length?this.pv.length:1,it=createTypedArray("float32",rt);j=5;var st=Math.floor(time*j);for(tt=0,nt=0;tt<st;){for(nt=0;nt<rt;nt+=1)it[nt]+=-et+et*2*BMMath.random();tt+=1}var at=time*j,ot=at-Math.floor(at),lt=createTypedArray("float32",rt);if(rt>1){for(nt=0;nt<rt;nt+=1)lt[nt]=this.pv[nt]+it[nt]+(-et+et*2*BMMath.random())*ot;return lt}return this.pv+it[0]+(-et+et*2*BMMath.random())*ot}.bind(this),thisProperty.loopIn&&thisProperty.loopIn.bind(thisProperty),thisProperty.loopOut&&thisProperty.loopOut.bind(thisProperty),thisProperty.smooth&&thisProperty.smooth.bind(thisProperty),this.getValueAtTime&&this.getValueAtTime.bind(this),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this)),elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function seedRandom(_e){BMMath.seedrandom(randSeed+_e)}var time,value;elem.data.ind;var hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6);elem.globalData;function executeExpression(_e){return value=_e,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType,thisLayer||(elem.layerInterface.text,thisLayer=elem.layerInterface,elem.comp.compInterface,thisLayer.toWorld.bind(thisLayer),thisLayer.fromWorld.bind(thisLayer),thisLayer.fromComp.bind(thisLayer),thisLayer.toComp.bind(thisLayer),thisLayer.mask&&thisLayer.mask.bind(thisLayer)),transform||(transform=elem.layerInterface("ADBE Transform Group")),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&velocityAtTime(time),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt.propType,scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers=function(){function _e(it,st,at){st.x&&(at.k=!0,at.x=!0,at.initiateExpression=ExpressionManager.initiateExpression,at.effectsSequence.push(at.initiateExpression(it,st,at).bind(at)))}function j(it){return it*=this.elem.globalData.frameRate,it-=this.offsetTime,it!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<it?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(it,this._cachingAtTime),this._cachingAtTime.lastFrame=it),this._cachingAtTime.value}function et(it){var st=-.01,at=this.getValueAtTime(it),ot=this.getValueAtTime(it+st),lt=0;if(at.length){var ut;for(ut=0;ut<at.length;ut+=1)lt+=Math.pow(ot[ut]-at[ut],2);lt=Math.sqrt(lt)*100}else lt=0;return lt}function tt(it){if(this.vel!==void 0)return this.vel;var st=-.001,at=this.getValueAtTime(it),ot=this.getValueAtTime(it+st),lt;if(at.length){lt=createTypedArray("float32",at.length);var ut;for(ut=0;ut<at.length;ut+=1)lt[ut]=(ot[ut]-at[ut])/st}else lt=(ot-at)/st;return lt}function nt(){return this.pv}function rt(it){this.propertyGroup=it}return{searchExpressions:_e,getSpeedAtTime:et,getVelocityAtTime:tt,getValueAtTime:j,getStaticValueAtTime:nt,setGroupProperty:rt}}();(function _e(){function j(ht,pt,gt){if(!this.k||!this.keyframes)return this.pv;ht=ht?ht.toLowerCase():"";var vt=this.comp.renderedFrame,ft=this.keyframes,mt=ft[ft.length-1].t;if(vt<=mt)return this.pv;var xt,_t;gt?(pt?xt=Math.abs(mt-this.elem.comp.globalData.frameRate*pt):xt=Math.max(0,mt-this.elem.data.ip),_t=mt-xt):((!pt||pt>ft.length-1)&&(pt=ft.length-1),_t=ft[ft.length-1-pt].t,xt=mt-_t);var Tt,wt,bt;if(ht==="pingpong"){var Ct=Math.floor((vt-_t)/xt);if(Ct%2!==0)return this.getValueAtTime((xt-(vt-_t)%xt+_t)/this.comp.globalData.frameRate,0)}else if(ht==="offset"){var Lt=this.getValueAtTime(_t/this.comp.globalData.frameRate,0),$t=this.getValueAtTime(mt/this.comp.globalData.frameRate,0),Rt=this.getValueAtTime(((vt-_t)%xt+_t)/this.comp.globalData.frameRate,0),Bt=Math.floor((vt-_t)/xt);if(this.pv.length){for(bt=new Array(Lt.length),wt=bt.length,Tt=0;Tt<wt;Tt+=1)bt[Tt]=($t[Tt]-Lt[Tt])*Bt+Rt[Tt];return bt}return($t-Lt)*Bt+Rt}else if(ht==="continue"){var Gt=this.getValueAtTime(mt/this.comp.globalData.frameRate,0),Ft=this.getValueAtTime((mt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(bt=new Array(Gt.length),wt=bt.length,Tt=0;Tt<wt;Tt+=1)bt[Tt]=Gt[Tt]+(Gt[Tt]-Ft[Tt])*((vt-mt)/this.comp.globalData.frameRate)/5e-4;return bt}return Gt+(Gt-Ft)*((vt-mt)/.001)}return this.getValueAtTime(((vt-_t)%xt+_t)/this.comp.globalData.frameRate,0)}function et(ht,pt,gt){if(!this.k)return this.pv;ht=ht?ht.toLowerCase():"";var vt=this.comp.renderedFrame,ft=this.keyframes,mt=ft[0].t;if(vt>=mt)return this.pv;var xt,_t;gt?(pt?xt=Math.abs(this.elem.comp.globalData.frameRate*pt):xt=Math.max(0,this.elem.data.op-mt),_t=mt+xt):((!pt||pt>ft.length-1)&&(pt=ft.length-1),_t=ft[pt].t,xt=_t-mt);var Tt,wt,bt;if(ht==="pingpong"){var Ct=Math.floor((mt-vt)/xt);if(Ct%2===0)return this.getValueAtTime(((mt-vt)%xt+mt)/this.comp.globalData.frameRate,0)}else if(ht==="offset"){var Lt=this.getValueAtTime(mt/this.comp.globalData.frameRate,0),$t=this.getValueAtTime(_t/this.comp.globalData.frameRate,0),Rt=this.getValueAtTime((xt-(mt-vt)%xt+mt)/this.comp.globalData.frameRate,0),Bt=Math.floor((mt-vt)/xt)+1;if(this.pv.length){for(bt=new Array(Lt.length),wt=bt.length,Tt=0;Tt<wt;Tt+=1)bt[Tt]=Rt[Tt]-($t[Tt]-Lt[Tt])*Bt;return bt}return Rt-($t-Lt)*Bt}else if(ht==="continue"){var Gt=this.getValueAtTime(mt/this.comp.globalData.frameRate,0),Ft=this.getValueAtTime((mt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(bt=new Array(Gt.length),wt=bt.length,Tt=0;Tt<wt;Tt+=1)bt[Tt]=Gt[Tt]+(Gt[Tt]-Ft[Tt])*(mt-vt)/.001;return bt}return Gt+(Gt-Ft)*(mt-vt)/.001}return this.getValueAtTime((xt-((mt-vt)%xt+mt))/this.comp.globalData.frameRate,0)}function tt(ht,pt){if(!this.k)return this.pv;if(ht=(ht||.4)*.5,pt=Math.floor(pt||5),pt<=1)return this.pv;var gt=this.comp.renderedFrame/this.comp.globalData.frameRate,vt=gt-ht,ft=gt+ht,mt=pt>1?(ft-vt)/(pt-1):1,xt=0,_t=0,Tt;this.pv.length?Tt=createTypedArray("float32",this.pv.length):Tt=0;for(var wt;xt<pt;){if(wt=this.getValueAtTime(vt+xt*mt),this.pv.length)for(_t=0;_t<this.pv.length;_t+=1)Tt[_t]+=wt[_t];else Tt+=wt;xt+=1}if(this.pv.length)for(_t=0;_t<this.pv.length;_t+=1)Tt[_t]/=pt;else Tt/=pt;return Tt}function nt(ht){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var pt=this._transformCachingAtTime.v;if(pt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var gt=this.a.getValueAtTime(ht);pt.translate(-gt[0]*this.a.mult,-gt[1]*this.a.mult,gt[2]*this.a.mult)}if(this.appliedTransformations<2){var vt=this.s.getValueAtTime(ht);pt.scale(vt[0]*this.s.mult,vt[1]*this.s.mult,vt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var ft=this.sk.getValueAtTime(ht),mt=this.sa.getValueAtTime(ht);pt.skewFromAxis(-ft*this.sk.mult,mt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var xt=this.r.getValueAtTime(ht);pt.rotate(-xt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var _t=this.rz.getValueAtTime(ht),Tt=this.ry.getValueAtTime(ht),wt=this.rx.getValueAtTime(ht),bt=this.or.getValueAtTime(ht);pt.rotateZ(-_t*this.rz.mult).rotateY(Tt*this.ry.mult).rotateX(wt*this.rx.mult).rotateZ(-bt[2]*this.or.mult).rotateY(bt[1]*this.or.mult).rotateX(bt[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Ct=this.px.getValueAtTime(ht),Lt=this.py.getValueAtTime(ht);if(this.data.p.z){var $t=this.pz.getValueAtTime(ht);pt.translate(Ct*this.px.mult,Lt*this.py.mult,-$t*this.pz.mult)}else pt.translate(Ct*this.px.mult,Lt*this.py.mult,0)}else{var Rt=this.p.getValueAtTime(ht);pt.translate(Rt[0]*this.p.mult,Rt[1]*this.p.mult,-Rt[2]*this.p.mult)}return pt}function rt(){return this.v.clone(new Matrix)}var it=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ht,pt,gt){var vt=it(ht,pt,gt);return vt.dynamicProperties.length?vt.getValueAtTime=nt.bind(vt):vt.getValueAtTime=rt.bind(vt),vt.setGroupProperty=expressionHelpers.setGroupProperty,vt};var st=PropertyFactory.getProp;PropertyFactory.getProp=function(ht,pt,gt,vt,ft){var mt=st(ht,pt,gt,vt,ft);mt.kf?mt.getValueAtTime=expressionHelpers.getValueAtTime.bind(mt):mt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(mt),mt.setGroupProperty=expressionHelpers.setGroupProperty,mt.loopOut=j,mt.loopIn=et,mt.smooth=tt,mt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(mt),mt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(mt),mt.numKeys=pt.a===1?pt.k.length:0,mt.propertyIndex=pt.ix;var xt=0;return gt!==0&&(xt=createTypedArray("float32",pt.a===1?pt.k[0].s.length:pt.k.length)),mt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:xt},expressionHelpers.searchExpressions(ht,pt,mt),mt.k&&ft.addDynamicProperty(mt),mt};function at(ht){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ht*=this.elem.globalData.frameRate,ht-=this.offsetTime,ht!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ht?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ht,this.interpolateShape(ht,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var ot=ShapePropertyFactory.getConstructorFunction(),lt=ShapePropertyFactory.getKeyframedConstructorFunction();function ut(){}ut.prototype={vertices:function(ht,pt){this.k&&this.getValue();var gt=this.v;pt!==void 0&&(gt=this.getValueAtTime(pt,0));var vt,ft=gt._length,mt=gt[ht],xt=gt.v,_t=createSizedArray(ft);for(vt=0;vt<ft;vt+=1)ht==="i"||ht==="o"?_t[vt]=[mt[vt][0]-xt[vt][0],mt[vt][1]-xt[vt][1]]:_t[vt]=[mt[vt][0],mt[vt][1]];return _t},points:function(ht){return this.vertices("v",ht)},inTangents:function(ht){return this.vertices("i",ht)},outTangents:function(ht){return this.vertices("o",ht)},isClosed:function(){return this.v.c},pointOnPath:function(ht,pt){var gt=this.v;pt!==void 0&&(gt=this.getValueAtTime(pt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(gt));for(var vt=this._segmentsLength,ft=vt.lengths,mt=vt.totalLength*ht,xt=0,_t=ft.length,Tt=0,wt;xt<_t;){if(Tt+ft[xt].addedLength>mt){var bt=xt,Ct=gt.c&&xt===_t-1?0:xt+1,Lt=(mt-Tt)/ft[xt].addedLength;wt=bez.getPointInSegment(gt.v[bt],gt.v[Ct],gt.o[bt],gt.i[Ct],Lt,ft[xt]);break}else Tt+=ft[xt].addedLength;xt+=1}return wt||(wt=gt.c?[gt.v[0][0],gt.v[0][1]]:[gt.v[gt._length-1][0],gt.v[gt._length-1][1]]),wt},vectorOnPath:function(ht,pt,gt){ht==1?ht=this.v.c:ht==0&&(ht=.999);var vt=this.pointOnPath(ht,pt),ft=this.pointOnPath(ht+.001,pt),mt=ft[0]-vt[0],xt=ft[1]-vt[1],_t=Math.sqrt(Math.pow(mt,2)+Math.pow(xt,2));if(_t===0)return[0,0];var Tt=gt==="tangent"?[mt/_t,xt/_t]:[-xt/_t,mt/_t];return Tt},tangentOnPath:function(ht,pt){return this.vectorOnPath(ht,pt,"tangent")},normalOnPath:function(ht,pt){return this.vectorOnPath(ht,pt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ut],ot),extendPrototype([ut],lt),lt.prototype.getValueAtTime=at,lt.prototype.initiateExpression=ExpressionManager.initiateExpression;var ct=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ht,pt,gt,vt,ft){var mt=ct(ht,pt,gt,vt,ft);return mt.propertyIndex=pt.ix,mt.lock=!1,gt===3?expressionHelpers.searchExpressions(ht,pt.pt,mt):gt===4&&expressionHelpers.searchExpressions(ht,pt.ks,mt),mt.k&&ht.addDynamicProperty(mt),mt}})(),function _e(){function j(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(et,tt){var nt=this.calculateExpression(tt);if(et.t!==nt){var rt={};return this.copyData(rt,et),rt.t=nt.toString(),rt.__complete=!1,rt}return et},TextProperty.prototype.searchProperty=function(){var et=this.searchKeyframes(),tt=this.searchExpressions();return this.kf=et||tt,this.kf},TextProperty.prototype.searchExpressions=j}();var ShapePathInterface=function(){return function(_e,j,et){var tt=j.sh;function nt(it){return it==="Shape"||it==="shape"||it==="Path"||it==="path"||it==="ADBE Vector Shape"||it===2?nt.path:null}var rt=propertyGroupFactory(nt,et);return tt.setGroupProperty(PropertyInterface("Path",rt)),Object.defineProperties(nt,{path:{get:function(){return tt.k&&tt.getValue(),tt}},shape:{get:function(){return tt.k&&tt.getValue(),tt}},_name:{value:_e.nm},ix:{value:_e.ix},propertyIndex:{value:_e.ix},mn:{value:_e.mn},propertyGroup:{value:et}}),nt}}(),propertyGroupFactory=function(){return function(_e,j){return function(et){return et=et===void 0?1:et,et<=0?_e:j(et-1)}}}(),PropertyInterface=function(){return function(_e,j){var et={_name:_e};function tt(nt){return nt=nt===void 0?1:nt,nt<=0?et:j(nt-1)}return tt}}(),ShapeExpressionInterface=function(){function _e(pt,gt,vt){var ft=[],mt,xt=pt?pt.length:0;for(mt=0;mt<xt;mt+=1)pt[mt].ty==="gr"?ft.push(et(pt[mt],gt[mt],vt)):pt[mt].ty==="fl"?ft.push(tt(pt[mt],gt[mt],vt)):pt[mt].ty==="st"?ft.push(it(pt[mt],gt[mt],vt)):pt[mt].ty==="tm"?ft.push(st(pt[mt],gt[mt],vt)):pt[mt].ty==="tr"||(pt[mt].ty==="el"?ft.push(ot(pt[mt],gt[mt],vt)):pt[mt].ty==="sr"?ft.push(lt(pt[mt],gt[mt],vt)):pt[mt].ty==="sh"?ft.push(ShapePathInterface(pt[mt],gt[mt],vt)):pt[mt].ty==="rc"?ft.push(ut(pt[mt],gt[mt],vt)):pt[mt].ty==="rd"?ft.push(ct(pt[mt],gt[mt],vt)):pt[mt].ty==="rp"?ft.push(ht(pt[mt],gt[mt],vt)):pt[mt].ty==="gf"?ft.push(nt(pt[mt],gt[mt],vt)):ft.push(rt(pt[mt],gt[mt])));return ft}function j(pt,gt,vt){var ft,mt=function(_t){for(var Tt=0,wt=ft.length;Tt<wt;){if(ft[Tt]._name===_t||ft[Tt].mn===_t||ft[Tt].propertyIndex===_t||ft[Tt].ix===_t||ft[Tt].ind===_t)return ft[Tt];Tt+=1}return typeof _t=="number"?ft[_t-1]:null};mt.propertyGroup=propertyGroupFactory(mt,vt),ft=_e(pt.it,gt.it,mt.propertyGroup),mt.numProperties=ft.length;var xt=at(pt.it[pt.it.length-1],gt.it[gt.it.length-1],mt.propertyGroup);return mt.transform=xt,mt.propertyIndex=pt.cix,mt._name=pt.nm,mt}function et(pt,gt,vt){var ft=function(_t){switch(_t){case"ADBE Vectors Group":case"Contents":case 2:return ft.content;default:return ft.transform}};ft.propertyGroup=propertyGroupFactory(ft,vt);var mt=j(pt,gt,ft.propertyGroup),xt=at(pt.it[pt.it.length-1],gt.it[gt.it.length-1],ft.propertyGroup);return ft.content=mt,ft.transform=xt,Object.defineProperty(ft,"_name",{get:function(){return pt.nm}}),ft.numProperties=pt.np,ft.propertyIndex=pt.ix,ft.nm=pt.nm,ft.mn=pt.mn,ft}function tt(pt,gt,vt){function ft(mt){return mt==="Color"||mt==="color"?ft.color:mt==="Opacity"||mt==="opacity"?ft.opacity:null}return Object.defineProperties(ft,{color:{get:ExpressionPropertyInterface(gt.c)},opacity:{get:ExpressionPropertyInterface(gt.o)},_name:{value:pt.nm},mn:{value:pt.mn}}),gt.c.setGroupProperty(PropertyInterface("Color",vt)),gt.o.setGroupProperty(PropertyInterface("Opacity",vt)),ft}function nt(pt,gt,vt){function ft(mt){return mt==="Start Point"||mt==="start point"?ft.startPoint:mt==="End Point"||mt==="end point"?ft.endPoint:mt==="Opacity"||mt==="opacity"?ft.opacity:null}return Object.defineProperties(ft,{startPoint:{get:ExpressionPropertyInterface(gt.s)},endPoint:{get:ExpressionPropertyInterface(gt.e)},opacity:{get:ExpressionPropertyInterface(gt.o)},type:{get:function(){return"a"}},_name:{value:pt.nm},mn:{value:pt.mn}}),gt.s.setGroupProperty(PropertyInterface("Start Point",vt)),gt.e.setGroupProperty(PropertyInterface("End Point",vt)),gt.o.setGroupProperty(PropertyInterface("Opacity",vt)),ft}function rt(){function pt(){return null}return pt}function it(pt,gt,vt){var ft=propertyGroupFactory(bt,vt),mt=propertyGroupFactory(wt,ft);function xt(Ct){Object.defineProperty(wt,pt.d[Ct].nm,{get:ExpressionPropertyInterface(gt.d.dataProps[Ct].p)})}var _t,Tt=pt.d?pt.d.length:0,wt={};for(_t=0;_t<Tt;_t+=1)xt(_t),gt.d.dataProps[_t].p.setGroupProperty(mt);function bt(Ct){return Ct==="Color"||Ct==="color"?bt.color:Ct==="Opacity"||Ct==="opacity"?bt.opacity:Ct==="Stroke Width"||Ct==="stroke width"?bt.strokeWidth:null}return Object.defineProperties(bt,{color:{get:ExpressionPropertyInterface(gt.c)},opacity:{get:ExpressionPropertyInterface(gt.o)},strokeWidth:{get:ExpressionPropertyInterface(gt.w)},dash:{get:function(){return wt}},_name:{value:pt.nm},mn:{value:pt.mn}}),gt.c.setGroupProperty(PropertyInterface("Color",ft)),gt.o.setGroupProperty(PropertyInterface("Opacity",ft)),gt.w.setGroupProperty(PropertyInterface("Stroke Width",ft)),bt}function st(pt,gt,vt){function ft(xt){return xt===pt.e.ix||xt==="End"||xt==="end"?ft.end:xt===pt.s.ix?ft.start:xt===pt.o.ix?ft.offset:null}var mt=propertyGroupFactory(ft,vt);return ft.propertyIndex=pt.ix,gt.s.setGroupProperty(PropertyInterface("Start",mt)),gt.e.setGroupProperty(PropertyInterface("End",mt)),gt.o.setGroupProperty(PropertyInterface("Offset",mt)),ft.propertyIndex=pt.ix,ft.propertyGroup=vt,Object.defineProperties(ft,{start:{get:ExpressionPropertyInterface(gt.s)},end:{get:ExpressionPropertyInterface(gt.e)},offset:{get:ExpressionPropertyInterface(gt.o)},_name:{value:pt.nm}}),ft.mn=pt.mn,ft}function at(pt,gt,vt){function ft(xt){return pt.a.ix===xt||xt==="Anchor Point"?ft.anchorPoint:pt.o.ix===xt||xt==="Opacity"?ft.opacity:pt.p.ix===xt||xt==="Position"?ft.position:pt.r.ix===xt||xt==="Rotation"||xt==="ADBE Vector Rotation"?ft.rotation:pt.s.ix===xt||xt==="Scale"?ft.scale:pt.sk&&pt.sk.ix===xt||xt==="Skew"?ft.skew:pt.sa&&pt.sa.ix===xt||xt==="Skew Axis"?ft.skewAxis:null}var mt=propertyGroupFactory(ft,vt);return gt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",mt)),gt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",mt)),gt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",mt)),gt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",mt)),gt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",mt)),gt.transform.mProps.sk&&(gt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",mt)),gt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",mt))),gt.transform.op.setGroupProperty(PropertyInterface("Opacity",mt)),Object.defineProperties(ft,{opacity:{get:ExpressionPropertyInterface(gt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(gt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(gt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(gt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(gt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(gt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(gt.transform.mProps.sa)},_name:{value:pt.nm}}),ft.ty="tr",ft.mn=pt.mn,ft.propertyGroup=vt,ft}function ot(pt,gt,vt){function ft(_t){return pt.p.ix===_t?ft.position:pt.s.ix===_t?ft.size:null}var mt=propertyGroupFactory(ft,vt);ft.propertyIndex=pt.ix;var xt=gt.sh.ty==="tm"?gt.sh.prop:gt.sh;return xt.s.setGroupProperty(PropertyInterface("Size",mt)),xt.p.setGroupProperty(PropertyInterface("Position",mt)),Object.defineProperties(ft,{size:{get:ExpressionPropertyInterface(xt.s)},position:{get:ExpressionPropertyInterface(xt.p)},_name:{value:pt.nm}}),ft.mn=pt.mn,ft}function lt(pt,gt,vt){function ft(_t){return pt.p.ix===_t?ft.position:pt.r.ix===_t?ft.rotation:pt.pt.ix===_t?ft.points:pt.or.ix===_t||_t==="ADBE Vector Star Outer Radius"?ft.outerRadius:pt.os.ix===_t?ft.outerRoundness:pt.ir&&(pt.ir.ix===_t||_t==="ADBE Vector Star Inner Radius")?ft.innerRadius:pt.is&&pt.is.ix===_t?ft.innerRoundness:null}var mt=propertyGroupFactory(ft,vt),xt=gt.sh.ty==="tm"?gt.sh.prop:gt.sh;return ft.propertyIndex=pt.ix,xt.or.setGroupProperty(PropertyInterface("Outer Radius",mt)),xt.os.setGroupProperty(PropertyInterface("Outer Roundness",mt)),xt.pt.setGroupProperty(PropertyInterface("Points",mt)),xt.p.setGroupProperty(PropertyInterface("Position",mt)),xt.r.setGroupProperty(PropertyInterface("Rotation",mt)),pt.ir&&(xt.ir.setGroupProperty(PropertyInterface("Inner Radius",mt)),xt.is.setGroupProperty(PropertyInterface("Inner Roundness",mt))),Object.defineProperties(ft,{position:{get:ExpressionPropertyInterface(xt.p)},rotation:{get:ExpressionPropertyInterface(xt.r)},points:{get:ExpressionPropertyInterface(xt.pt)},outerRadius:{get:ExpressionPropertyInterface(xt.or)},outerRoundness:{get:ExpressionPropertyInterface(xt.os)},innerRadius:{get:ExpressionPropertyInterface(xt.ir)},innerRoundness:{get:ExpressionPropertyInterface(xt.is)},_name:{value:pt.nm}}),ft.mn=pt.mn,ft}function ut(pt,gt,vt){function ft(_t){return pt.p.ix===_t?ft.position:pt.r.ix===_t?ft.roundness:pt.s.ix===_t||_t==="Size"||_t==="ADBE Vector Rect Size"?ft.size:null}var mt=propertyGroupFactory(ft,vt),xt=gt.sh.ty==="tm"?gt.sh.prop:gt.sh;return ft.propertyIndex=pt.ix,xt.p.setGroupProperty(PropertyInterface("Position",mt)),xt.s.setGroupProperty(PropertyInterface("Size",mt)),xt.r.setGroupProperty(PropertyInterface("Rotation",mt)),Object.defineProperties(ft,{position:{get:ExpressionPropertyInterface(xt.p)},roundness:{get:ExpressionPropertyInterface(xt.r)},size:{get:ExpressionPropertyInterface(xt.s)},_name:{value:pt.nm}}),ft.mn=pt.mn,ft}function ct(pt,gt,vt){function ft(_t){return pt.r.ix===_t||_t==="Round Corners 1"?ft.radius:null}var mt=propertyGroupFactory(ft,vt),xt=gt;return ft.propertyIndex=pt.ix,xt.rd.setGroupProperty(PropertyInterface("Radius",mt)),Object.defineProperties(ft,{radius:{get:ExpressionPropertyInterface(xt.rd)},_name:{value:pt.nm}}),ft.mn=pt.mn,ft}function ht(pt,gt,vt){function ft(_t){return pt.c.ix===_t||_t==="Copies"?ft.copies:pt.o.ix===_t||_t==="Offset"?ft.offset:null}var mt=propertyGroupFactory(ft,vt),xt=gt;return ft.propertyIndex=pt.ix,xt.c.setGroupProperty(PropertyInterface("Copies",mt)),xt.o.setGroupProperty(PropertyInterface("Offset",mt)),Object.defineProperties(ft,{copies:{get:ExpressionPropertyInterface(xt.c)},offset:{get:ExpressionPropertyInterface(xt.o)},_name:{value:pt.nm}}),ft.mn=pt.mn,ft}return function(pt,gt,vt){var ft;function mt(_t){if(typeof _t=="number")return _t=_t===void 0?1:_t,_t===0?vt:ft[_t-1];for(var Tt=0,wt=ft.length;Tt<wt;){if(ft[Tt]._name===_t)return ft[Tt];Tt+=1}return null}function xt(){return vt}return mt.propertyGroup=propertyGroupFactory(mt,xt),ft=_e(pt,gt,mt.propertyGroup),mt.numProperties=ft.length,mt._name="Contents",mt}}(),TextExpressionInterface=function(){return function(_e){var j,et;function tt(nt){switch(nt){case"ADBE Text Document":return tt.sourceText;default:return null}}return Object.defineProperty(tt,"sourceText",{get:function(){_e.textProperty.getValue();var nt=_e.textProperty.currentData.t;return nt!==j&&(_e.textProperty.currentData.t=j,et=new String(nt),et.value=nt||new String(nt)),et}}),tt}}(),LayerExpressionInterface=function(){function _e(ot){var lt=new Matrix;if(ot!==void 0){var ut=this._elem.finalTransform.mProp.getValueAtTime(ot);ut.clone(lt)}else{var ct=this._elem.finalTransform.mProp;ct.applyToMatrix(lt)}return lt}function j(ot,lt){var ut=this.getMatrix(lt);return ut.props[12]=0,ut.props[13]=0,ut.props[14]=0,this.applyPoint(ut,ot)}function et(ot,lt){var ut=this.getMatrix(lt);return this.applyPoint(ut,ot)}function tt(ot,lt){var ut=this.getMatrix(lt);return ut.props[12]=0,ut.props[13]=0,ut.props[14]=0,this.invertPoint(ut,ot)}function nt(ot,lt){var ut=this.getMatrix(lt);return this.invertPoint(ut,ot)}function rt(ot,lt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ut,ct=this._elem.hierarchy.length;for(ut=0;ut<ct;ut+=1)this._elem.hierarchy[ut].finalTransform.mProp.applyToMatrix(ot)}return ot.applyToPointArray(lt[0],lt[1],lt[2]||0)}function it(ot,lt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ut,ct=this._elem.hierarchy.length;for(ut=0;ut<ct;ut+=1)this._elem.hierarchy[ut].finalTransform.mProp.applyToMatrix(ot)}return ot.inversePoint(lt)}function st(ot){var lt=new Matrix;if(lt.reset(),this._elem.finalTransform.mProp.applyToMatrix(lt),this._elem.hierarchy&&this._elem.hierarchy.length){var ut,ct=this._elem.hierarchy.length;for(ut=0;ut<ct;ut+=1)this._elem.hierarchy[ut].finalTransform.mProp.applyToMatrix(lt);return lt.inversePoint(ot)}return lt.inversePoint(ot)}function at(){return[1,1,1,1]}return function(ot){var lt;function ut(gt){ht.mask=new MaskManagerInterface(gt,ot)}function ct(gt){ht.effect=gt}function ht(gt){switch(gt){case"ADBE Root Vectors Group":case"Contents":case 2:return ht.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return lt;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return ht.effect;case"ADBE Text Properties":return ht.textInterface;default:return null}}ht.getMatrix=_e,ht.invertPoint=it,ht.applyPoint=rt,ht.toWorld=et,ht.toWorldVec=j,ht.fromWorld=nt,ht.fromWorldVec=tt,ht.toComp=et,ht.fromComp=st,ht.sampleImage=at,ht.sourceRectAtTime=ot.sourceRectAtTime.bind(ot),ht._elem=ot,lt=TransformExpressionInterface(ot.finalTransform.mProp);var pt=getDescriptor(lt,"anchorPoint");return Object.defineProperties(ht,{hasParent:{get:function(){return ot.hierarchy.length}},parent:{get:function(){return ot.hierarchy[0].layerInterface}},rotation:getDescriptor(lt,"rotation"),scale:getDescriptor(lt,"scale"),position:getDescriptor(lt,"position"),opacity:getDescriptor(lt,"opacity"),anchorPoint:pt,anchor_point:pt,transform:{get:function(){return lt}},active:{get:function(){return ot.isInRange}}}),ht.startTime=ot.data.st,ht.index=ot.data.ind,ht.source=ot.data.refId,ht.height=ot.data.ty===0?ot.data.h:100,ht.width=ot.data.ty===0?ot.data.w:100,ht.inPoint=ot.data.ip/ot.comp.globalData.frameRate,ht.outPoint=ot.data.op/ot.comp.globalData.frameRate,ht._name=ot.data.nm,ht.registerMaskInterface=ut,ht.registerEffectsInterface=ct,ht}}(),FootageInterface=function(){var _e=function(et){var tt="",nt=et.getFootageData();function rt(){return tt="",nt=et.getFootageData(),it}function it(st){if(nt[st])return tt=st,nt=nt[st],typeof nt=="object"?it:nt;var at=st.indexOf(tt);if(at!==-1){var ot=parseInt(st.substr(at+tt.length),10);return nt=nt[ot],typeof nt=="object"?it:nt}return""}return rt},j=function(et){function tt(nt){return nt==="Outline"?tt.outlineInterface():null}return tt._name="Outline",tt.outlineInterface=_e(et),tt};return function(et){function tt(nt){return nt==="Data"?tt.dataInterface:null}return tt._name="Data",tt.dataInterface=j(et),tt}}(),CompExpressionInterface=function(){return function(_e){function j(et){for(var tt=0,nt=_e.layers.length;tt<nt;){if(_e.layers[tt].nm===et||_e.layers[tt].ind===et)return _e.elements[tt].layerInterface;tt+=1}return null}return Object.defineProperty(j,"_name",{value:_e.data.nm}),j.layer=j,j.pixelAspect=1,j.height=_e.data.h||_e.globalData.compSize.h,j.width=_e.data.w||_e.globalData.compSize.w,j.pixelAspect=1,j.frameDuration=1/_e.globalData.frameRate,j.displayStartTime=0,j.numLayers=_e.layers.length,j}}(),TransformExpressionInterface=function(){return function(_e){function j(it){switch(it){case"scale":case"Scale":case"ADBE Scale":case 6:return j.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return j.rotation;case"ADBE Rotate X":return j.xRotation;case"ADBE Rotate Y":return j.yRotation;case"position":case"Position":case"ADBE Position":case 2:return j.position;case"ADBE Position_0":return j.xPosition;case"ADBE Position_1":return j.yPosition;case"ADBE Position_2":return j.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return j.anchorPoint;case"opacity":case"Opacity":case 11:return j.opacity;default:return null}}Object.defineProperty(j,"rotation",{get:ExpressionPropertyInterface(_e.r||_e.rz)}),Object.defineProperty(j,"zRotation",{get:ExpressionPropertyInterface(_e.rz||_e.r)}),Object.defineProperty(j,"xRotation",{get:ExpressionPropertyInterface(_e.rx)}),Object.defineProperty(j,"yRotation",{get:ExpressionPropertyInterface(_e.ry)}),Object.defineProperty(j,"scale",{get:ExpressionPropertyInterface(_e.s)});var et,tt,nt,rt;return _e.p?rt=ExpressionPropertyInterface(_e.p):(et=ExpressionPropertyInterface(_e.px),tt=ExpressionPropertyInterface(_e.py),_e.pz&&(nt=ExpressionPropertyInterface(_e.pz))),Object.defineProperty(j,"position",{get:function(){return _e.p?rt():[et(),tt(),nt?nt():0]}}),Object.defineProperty(j,"xPosition",{get:ExpressionPropertyInterface(_e.px)}),Object.defineProperty(j,"yPosition",{get:ExpressionPropertyInterface(_e.py)}),Object.defineProperty(j,"zPosition",{get:ExpressionPropertyInterface(_e.pz)}),Object.defineProperty(j,"anchorPoint",{get:ExpressionPropertyInterface(_e.a)}),Object.defineProperty(j,"opacity",{get:ExpressionPropertyInterface(_e.o)}),Object.defineProperty(j,"skew",{get:ExpressionPropertyInterface(_e.sk)}),Object.defineProperty(j,"skewAxis",{get:ExpressionPropertyInterface(_e.sa)}),Object.defineProperty(j,"orientation",{get:ExpressionPropertyInterface(_e.or)}),j}}(),ProjectInterface=function(){function _e(j){this.compositions.push(j)}return function(){function j(et){for(var tt=0,nt=this.compositions.length;tt<nt;){if(this.compositions[tt].data&&this.compositions[tt].data.nm===et)return this.compositions[tt].prepareFrame&&this.compositions[tt].data.xt&&this.compositions[tt].prepareFrame(this.currentFrame),this.compositions[tt].compInterface;tt+=1}return null}return j.compositions=[],j.currentFrame=0,j.registerComposition=_e,j}}(),EffectsExpressionInterface=function(){var _e={createEffectsInterface:j};function j(nt,rt){if(nt.effectsManager){var it=[],st=nt.data.ef,at,ot=nt.effectsManager.effectElements.length;for(at=0;at<ot;at+=1)it.push(et(st[at],nt.effectsManager.effectElements[at],rt,nt));var lt=nt.data.ef||[],ut=function(ct){for(at=0,ot=lt.length;at<ot;){if(ct===lt[at].nm||ct===lt[at].mn||ct===lt[at].ix)return it[at];at+=1}return null};return Object.defineProperty(ut,"numProperties",{get:function(){return lt.length}}),ut}return null}function et(nt,rt,it,st){function at(ht){for(var pt=nt.ef,gt=0,vt=pt.length;gt<vt;){if(ht===pt[gt].nm||ht===pt[gt].mn||ht===pt[gt].ix)return pt[gt].ty===5?lt[gt]:lt[gt]();gt+=1}throw new Error}var ot=propertyGroupFactory(at,it),lt=[],ut,ct=nt.ef.length;for(ut=0;ut<ct;ut+=1)nt.ef[ut].ty===5?lt.push(et(nt.ef[ut],rt.effectElements[ut],rt.effectElements[ut].propertyGroup,st)):lt.push(tt(rt.effectElements[ut],nt.ef[ut].ty,st,ot));return nt.mn==="ADBE Color Control"&&Object.defineProperty(at,"color",{get:function(){return lt[0]()}}),Object.defineProperties(at,{numProperties:{get:function(){return nt.np}},_name:{value:nt.nm},propertyGroup:{value:ot}}),at.enabled=nt.en!==0,at.active=at.enabled,at}function tt(nt,rt,it,st){var at=ExpressionPropertyInterface(nt.p);function ot(){return rt===10?it.comp.compInterface(nt.p.v):at()}return nt.p.setGroupProperty&&nt.p.setGroupProperty(PropertyInterface("",st)),ot}return _e}(),MaskManagerInterface=function(){function _e(et,tt){this._mask=et,this._data=tt}Object.defineProperty(_e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(_e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var j=function(et){var tt=createSizedArray(et.viewData.length),nt,rt=et.viewData.length;for(nt=0;nt<rt;nt+=1)tt[nt]=new _e(et.viewData[nt],et.masksProperties[nt]);var it=function(st){for(nt=0;nt<rt;){if(et.masksProperties[nt].nm===st)return tt[nt];nt+=1}return null};return it};return j}(),ExpressionPropertyInterface=function(){var _e={pv:0,v:0,mult:1},j={pv:[0,0,0],v:[0,0,0],mult:1};function et(it,st,at){Object.defineProperty(it,"velocity",{get:function(){return st.getVelocityAtTime(st.comp.currentFrame)}}),it.numKeys=st.keyframes?st.keyframes.length:0,it.key=function(ot){if(!it.numKeys)return 0;var lt="";"s"in st.keyframes[ot-1]?lt=st.keyframes[ot-1].s:"e"in st.keyframes[ot-2]?lt=st.keyframes[ot-2].e:lt=st.keyframes[ot-2].s;var ut=at==="unidimensional"?new Number(lt):Object.assign({},lt);return ut.time=st.keyframes[ot-1].t/st.elem.comp.globalData.frameRate,ut.value=at==="unidimensional"?lt[0]:lt,ut},it.valueAtTime=st.getValueAtTime,it.speedAtTime=st.getSpeedAtTime,it.velocityAtTime=st.getVelocityAtTime,it.propertyGroup=st.propertyGroup}function tt(it){(!it||!("pv"in it))&&(it=_e);var st=1/it.mult,at=it.pv*st,ot=new Number(at);return ot.value=at,et(ot,it,"unidimensional"),function(){return it.k&&it.getValue(),at=it.v*st,ot.value!==at&&(ot=new Number(at),ot.value=at,et(ot,it,"unidimensional")),ot}}function nt(it){(!it||!("pv"in it))&&(it=j);var st=1/it.mult,at=it.data&&it.data.l||it.pv.length,ot=createTypedArray("float32",at),lt=createTypedArray("float32",at);return ot.value=lt,et(ot,it,"multidimensional"),function(){it.k&&it.getValue();for(var ut=0;ut<at;ut+=1)lt[ut]=it.v[ut]*st,ot[ut]=lt[ut];return ot}}function rt(){return _e}return function(it){return it?it.propType==="unidimensional"?tt(it):nt(it):rt}}(),TextExpressionSelectorPropFactory=function(){function _e(j,et){return this.textIndex=j+1,this.textTotal=et,this.v=this.getValue()*this.mult,this.v}return function(j,et){this.pv=1,this.comp=j.comp,this.elem=j,this.mult=.01,this.propType="textSelector",this.textTotal=et.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(j,et,this),this.getMult=_e,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp;TextSelectorProp.getTextSelectorProp=function(_e,j,et){return j.t===1?new TextExpressionSelectorPropFactory(_e,j,et):propertyGetTextProp(_e,j,et)};function SliderEffect(_e,j,et){this.p=PropertyFactory.getProp(j,_e.v,0,0,et)}function AngleEffect(_e,j,et){this.p=PropertyFactory.getProp(j,_e.v,0,0,et)}function ColorEffect(_e,j,et){this.p=PropertyFactory.getProp(j,_e.v,1,0,et)}function PointEffect(_e,j,et){this.p=PropertyFactory.getProp(j,_e.v,1,0,et)}function LayerIndexEffect(_e,j,et){this.p=PropertyFactory.getProp(j,_e.v,0,0,et)}function MaskIndexEffect(_e,j,et){this.p=PropertyFactory.getProp(j,_e.v,0,0,et)}function CheckboxEffect(_e,j,et){this.p=PropertyFactory.getProp(j,_e.v,0,0,et)}function NoValueEffect(){this.p={}}function EffectsManager(_e,j){var et=_e.ef||[];this.effectElements=[];var tt,nt=et.length,rt;for(tt=0;tt<nt;tt+=1)rt=new GroupEffect(et[tt],j),this.effectElements.push(rt)}function GroupEffect(_e,j){this.init(_e,j)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(_e,j){this.data=_e,this.effectElements=[],this.initDynamicPropertyContainer(j);var et,tt=this.data.ef.length,nt,rt=this.data.ef;for(et=0;et<tt;et+=1){switch(nt=null,rt[et].ty){case 0:nt=new SliderEffect(rt[et],j,this);break;case 1:nt=new AngleEffect(rt[et],j,this);break;case 2:nt=new ColorEffect(rt[et],j,this);break;case 3:nt=new PointEffect(rt[et],j,this);break;case 4:case 7:nt=new CheckboxEffect(rt[et],j,this);break;case 10:nt=new LayerIndexEffect(rt[et],j,this);break;case 11:nt=new MaskIndexEffect(rt[et],j,this);break;case 5:nt=new EffectsManager(rt[et],j);break;default:nt=new NoValueEffect(rt[et]);break}nt&&this.effectElements.push(nt)}};var lottie={};function setLocationHref(_e){locationHref=_e}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(_e){subframeEnabled=_e}function setIDPrefix(_e){idPrefix=_e}function loadAnimation(_e){return animationManager.loadAnimation(_e)}function setQuality(_e){if(typeof _e=="string")switch(_e){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10;break}else!isNaN(_e)&&_e>1&&(defaultCurveSegments=_e)}function inBrowser(){return typeof navigator!="undefined"}function installPlugin(_e,j){_e==="expressions"&&(expressionsPlugin=j)}function getFactory(_e){switch(_e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=function(_e){_useWebWorker=_e},lottie.setIDPrefix=setIDPrefix,lottie.__getFactory=getFactory,lottie.version="5.8.1";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(_e){for(var j=queryString.split("&"),et=0;et<j.length;et+=1){var tt=j[et].split("=");if(decodeURIComponent(tt[0])==_e)return decodeURIComponent(tt[1])}return null}var queryString;{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie})})(lottie$1);var lottie=lottie$1.exports;/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const n$2=_e=>j=>typeof j=="function"?((et,tt)=>(window.customElements.define(et,tt),tt))(_e,j):((et,tt)=>{const{kind:nt,elements:rt}=tt;return{kind:nt,elements:rt,finisher(it){window.customElements.define(et,it)}}})(_e,j);/**
* @license
* Copyright 2021 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/var n$1;((n$1=window.HTMLSlotElement)===null||n$1===void 0?void 0:n$1.prototype.assignedElements)!=null;const defineElement=_e=>j=>{window.customElements.get(_e)?console.warn(`${_e}\u5DF2\u88AB\u6CE8\u518C\u540C\u540D\u7EC4\u4EF6,\u65E0\u6CD5\u91CD\u590D\u6CE8\u518C,\u8BF7\u68C0\u67E5`):n$2(_e)(j)},createExports=()=>{window.exports=window.exports||{}};var __defProp$3=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__decorateClass$3=(_e,j,et,tt)=>{for(var nt=tt>1?void 0:tt?__getOwnPropDesc$3(j,et):j,rt=_e.length-1,it;rt>=0;rt--)(it=_e[rt])&&(nt=(tt?it(j,et,nt):it(nt))||nt);return tt&&nt&&__defProp$3(j,et,nt),nt};let WcLottie=class extends s$1{constructor(){super(),this.lottieInstance={},this.onLottieClick=()=>{console.error("lottieClick")}}firstUpdated(_e){this.lottieInstance=lottie.loadAnimation({name:this.name,container:this.lottieContainer,renderer:"svg",loop:this.loop,autoplay:!0,path:this.path,animationData:this.animationData})}render(){return $`<div id="lottie-root"></div>`}};__decorateClass$3([state()],WcLottie.prototype,"lottieInstance",2),__decorateClass$3([property({attribute:!1})],WcLottie.prototype,"name",2),__decorateClass$3([property({attribute:!1})],WcLottie.prototype,"path",2),__decorateClass$3([property({type:Boolean,attribute:!1})],WcLottie.prototype,"loop",2),__decorateClass$3([property({attribute:!1})],WcLottie.prototype,"animationData",2),__decorateClass$3([property({attribute:!1})],WcLottie.prototype,"onLottieClick",2),__decorateClass$3([query("#lottie-root")],WcLottie.prototype,"lottieContainer",2),WcLottie=__decorateClass$3([defineElement("wc-lottie")],WcLottie);var baseCss=`@keyframes fadeIn {
  from {
    transform: scale(0.3) translate(-50%, -50%);
    transform-origin: 0 0;
  }
  to {
    transform: scale(1) translate(-50%, -50%);
    transform-origin: 0 0;
  }
}
.wc-modal {
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
}
.wc-modal-mask {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.45);
}
.wc-modal-content {
  position: absolute;
  border: none;
  top: 50%;
  left: 50%;
  min-width: 300px;
  border-radius: 8px;
  background-color: #fff;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  padding-bottom: 18px;
  transform: translate(-50%, -50%);
  animation: fadeIn 0.7s;
}
.wc-modal-header {
  padding: 8px 12px;
  display: flex;
}
.wc-modal-header-title {
  flex: 1;
  font-size: 18px;
  font-weight: 500;
}
.wc-modal-close {
  display: block;
  font-size: 20px;
  cursor: pointer;
  color: #9ca2a9;
}
.wc-modal-container {
  padding: 0 18px 15px;
}
.wc-modal-footer {
  padding: 0 20px;
  text-align: right;
}
.wc-modal-footer button {
  border-color: transparent;
  padding: 3px 15px;
  background-color: #fff;
  border: 1px solid #e4e5e7;
  border-radius: 4px;
  cursor: pointer;
}
.wc-modal-footer button + button {
  margin-left: 12px;
}
.wc-modal-footer button[btn-type='primary'] {
  color: #fff;
  background-color: #3370ff;
}
`,__defProp$2=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__decorateClass$2=(_e,j,et,tt)=>{for(var nt=tt>1?void 0:tt?__getOwnPropDesc$2(j,et):j,rt=_e.length-1,it;rt>=0;rt--)(it=_e[rt])&&(nt=(tt?it(j,et,nt):it(nt))||nt);return tt&&nt&&__defProp$2(j,et,nt),nt};let WcModal=class extends s$1{constructor(){super(),this.compName="wc-modal",this.visible=!1,this.hideMask=!1,this.maskClose=!1,this.title="",this.hideFooter=!1,this.width="auto"}updated(_e){_e.has("visible")&&_e.get("visible")&&!this.visible&&this.afterClose&&this.afterClose()}handleOk(){this.visible=!1,this.dispatchEvent(new Event("ok"))}handleCancel(){this.visible=!1,this.dispatchEvent(new Event("cancel"))}handleClose(){this.visible=!1,this.dispatchEvent(new Event("cancel"))}handleMaskClick(){this.maskClose&&this.handleClose()}render(){return $`
      <div
        style="display: ${this.visible?"block":"none"}"
        class="${this.compName}"
        part="modal-wrapper"
      >
        ${this.hideMask?"":$`<div
              class="${this.compName}-mask"
              part="modal-mask"
              @click=${this.handleMaskClick}
            ></div>`}
        <div
          class="${this.compName}-content"
          style="width: ${this.width}"
          part="modal-content"
        >
          <div class="${this.compName}-header" part="modal-header">
            <div class="${this.compName}-header-title">${this.title}</div>
            <i class="${this.compName}-close" @click=${this.handleClose}>
              <svg
                width="1em"
                height="1em"
                fill="currentColor"
                aria-hidden="true"
                viewBox="64 64 896 896"
                focusable="false"
              >
                <path
                  d="M808.36 183.8a44.97 44.97 0 00-63.49 0L512 416.69 279.13 183.81a44.97 44.97 0 00-63.5 0l-31.82 31.83a44.97 44.97 0 000 63.49L416.68 512 183.81 744.87a44.97 44.97 0 000 63.5l31.83 31.82a44.97 44.97 0 0063.49 0L512 607.32l232.87 232.87c17.5 17.5 46 17.5 63.5 0l31.82-31.83a44.97 44.97 0 000-63.49L607.32 512l232.87-232.87a44.97 44.97 0 000-63.5l-31.83-31.82z"
                ></path>
              </svg>
            </i>
          </div>

          <div class="${this.compName}-container">
            <slot></slot>
          </div>

          ${this.hideFooter?"":$`
                <div class="${this.compName}-footer">
                  <slot name="footer">
                    <button @click=${this.handleCancel}></button>
                    <button btn-type="primary" @click=${this.handleOk}>
                      
                    </button>
                  </slot>
                </div>
              `}
        </div>
      </div>
    `}};WcModal.styles=[r$2`
      ${o$3(baseCss)}
    `],__decorateClass$2([property({type:Boolean,attribute:!0})],WcModal.prototype,"visible",2),__decorateClass$2([property({type:Boolean,attribute:"mask-hide"})],WcModal.prototype,"hideMask",2),__decorateClass$2([property({type:Boolean,attribute:"mask-close"})],WcModal.prototype,"maskClose",2),__decorateClass$2([property({type:String,attribute:"modal-title"})],WcModal.prototype,"title",2),__decorateClass$2([property({type:Boolean,attribute:"footer-hide"})],WcModal.prototype,"hideFooter",2),__decorateClass$2([property({type:Number,attribute:!0,converter:_e=>_e?Number(_e)>100?`${_e}px`:`${_e}%`:"auto"})],WcModal.prototype,"width",2),__decorateClass$2([property({attribute:!1})],WcModal.prototype,"afterClose",2),WcModal=__decorateClass$2([defineElement("wc-modal")],WcModal);var __defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__decorateClass$1=(_e,j,et,tt)=>{for(var nt=tt>1?void 0:tt?__getOwnPropDesc$1(j,et):j,rt=_e.length-1,it;rt>=0;rt--)(it=_e[rt])&&(nt=(tt?it(j,et,nt):it(nt))||nt);return tt&&nt&&__defProp$1(j,et,nt),nt};let WcEggModal=class extends s$1{constructor(){super(),this.type="img",this._config={},this.modalVisible=!1,this.config={},this.extraInfo={},this.validTime=(_e,j=`${getTimestamp()}`)=>{let et=!1;return _e.forEach(tt=>{if(validatorTimeInterval(tt,formatTime(j,SECOND_FORMAT))){et=!0;return}}),et},this.validTrigger=_e=>{var j,et;const{programId:tt,eggId:nt}=this.extraInfo,rt=`${tt}-${nt}`,it=getLocalStorage(rt),st=(et=(j=this.config)==null?void 0:j.validType)!=null?et:"once";let at=!0;if(it)switch(st){case"once":this.validTime(_e,it)?at=!1:setLocalStorage(rt,getTimestamp());break}else setLocalStorage(rt,getTimestamp());return at}}shouldUpdate(_e){var j,et,tt,nt;if(_e.has("config")&&!isEmptyObj(this.config)){const rt=(j=this.config.timeList)!=null?j:[];switch(this.type=(et=this.config.type)!=null?et:"img",this.modalVisible=this.validTrigger(rt),this.type){case"lottie":this._config=(tt=this.config.lottie)!=null?tt:{};break;case"img":this._config=(nt=this.config.img)!=null?nt:{};break}}return!0}updated(_e){}getContentHTML(_e){var j,et;let tt={};switch(_e){case"lottie":return tt=this._config,$`<wc-lottie
          .path=${tt.path}
          .loop=${tt.loop}
        ></wc-lottie>`;case"img":return tt=this._config,$`
            <div style="display: flex; justify-content: center; align-items: center;">
              <img
                src=${tt.url}
                width=${(j=tt==null?void 0:tt.width)!=null?j:""} 
                height=${(et=tt==null?void 0:tt.height)!=null?et:""}>
              </img>
            </div>
          `}}render(){return $`<wc-modal
      class="egg-modal-wrapper"
      ?visible="${this.modalVisible}"
      ?mask-hide=${!0}
      .afterClose=${this.afterClose}
    >
      <div>${this.getContentHTML(this.type)}</div>

      <div slot="footer"></div>
    </wc-modal>`}};WcEggModal.styles=[r$2`
      ${o$3(style)}
    `],__decorateClass$1([state()],WcEggModal.prototype,"type",2),__decorateClass$1([state()],WcEggModal.prototype,"_config",2),__decorateClass$1([state()],WcEggModal.prototype,"modalVisible",2),__decorateClass$1([property({attribute:!1})],WcEggModal.prototype,"config",2),__decorateClass$1([property({attribute:!1})],WcEggModal.prototype,"extraInfo",2),__decorateClass$1([property({attribute:!1})],WcEggModal.prototype,"afterClose",2),WcEggModal=__decorateClass$1([defineElement("wc-egg-modal")],WcEggModal);var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(_e,j,et,tt)=>{for(var nt=tt>1?void 0:tt?__getOwnPropDesc(j,et):j,rt=_e.length-1,it;rt>=0;rt--)(it=_e[rt])&&(nt=(tt?it(j,et,nt):it(nt))||nt);return tt&&nt&&__defProp(j,et,nt),nt};createExports();let WcEgg=class extends s$1{constructor(){super(),this.modalMap=new Map,this.handleAfterClose=_e=>{this.modalMap.set(_e,!1),Array.from(this.modalMap.values()).includes(!0)||this.maskSD&&(this.maskSD.style.display="none")},this.getEggComponents=_e=>{const j=[],et=[],tt={programName:_e.programName,programId:_e.programId};_e.config.forEach(rt=>{rt.eggTimes.forEach(it=>{validatorTimeInterval(it)&&et.push(rt)})});const nt={modalMask:!1};return et.forEach(rt=>{eggTypes.forEach(it=>{if(Reflect.get(rt,it)){const st={eggName:rt.eggName,eggId:rt.id},at=Object.assign(st,tt);switch(it){case"modal":const ot=`${at.programId}-${at.eggId}-modal`;this.modalMap.set(ot,!0),nt.modalMask||(j.push($`<div
                    id="wc-egg-modal-mask"
                    style="display: ${this.modalMap.get(ot)}"
                  ></div>`),nt.modalMask=!0),j.push($`
                <wc-egg-modal
                  .extraInfo=${at}
                  .config=${rt[it]}
                  .afterClose=${()=>{this.handleAfterClose(ot)}}
                >
                </wc-egg-modal>
              `);break}}})}),j}}render(){return $` ${this.config&&this.getEggComponents(this.config)} `}};WcEgg.styles=[r$2`
      ${o$3(style$1)}
    `],__decorateClass([property({attribute:!1})],WcEgg.prototype,"config",2),__decorateClass([state()],WcEgg.prototype,"modalMap",2),__decorateClass([query("#wc-egg-modal-mask")],WcEgg.prototype,"maskSD",2),WcEgg=__decorateClass([defineElement("wc-egg")],WcEgg);/**
* @license
* Copyright 2018 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const t=new Set(["children","localName","ref","style","className"]),e=new WeakMap,n=(_e,j,et,tt,nt)=>{const rt=nt==null?void 0:nt[j];rt!==void 0?et!==tt&&((it,st,at)=>{let ot=e.get(it);ot===void 0&&e.set(it,ot=new Map);let lt=ot.get(st);at!==void 0?lt===void 0?(ot.set(st,lt={handleEvent:at}),it.addEventListener(st,lt)):lt.handleEvent=at:lt!==void 0&&(ot.delete(st),it.removeEventListener(st,lt))})(_e,rt,et):_e[j]=et},s=(_e,j,et,tt,nt)=>{const rt=_e.Component,it=_e.createElement,st=new Set(Object.keys(tt!=null?tt:{}));for(const lt in et.prototype)lt in HTMLElement.prototype||(t.has(lt)?console.warn(`${j} contains property ${lt} which is a React reserved property. It will be used by React and not set on the element.`):st.add(lt));class at extends rt{constructor(){super(...arguments),this.t=null}o(ut){if(this.t!==null)for(const ct in this.i)n(this.t,ct,this.props[ct],ut?ut[ct]:void 0,tt)}componentDidMount(){this.o()}componentDidUpdate(ut){this.o(ut)}render(){const ut=this.props.l;this.h!==void 0&&this.u===ut||(this.h=ht=>{this.t===null&&(this.t=ht),ut!==null&&((pt,gt)=>{typeof pt=="function"?pt(gt):pt.current=gt})(ut,ht),this.u=ut});const ct={ref:this.h};this.i={};for(const[ht,pt]of Object.entries(this.props))st.has(ht)?this.i[ht]=pt:ct[ht==="className"?"class":ht]=pt;return it(j,ct)}}at.displayName=nt!=null?nt:et.name;const ot=_e.forwardRef((lt,ut)=>it(at,Zt(Jt({},lt),{l:ut}),lt==null?void 0:lt.children));return ot.displayName=at.displayName,ot};var react=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",createComponent:s}),require$$0=getAugmentedNamespace(react);reactWrapperHOC_1=void 0;var react_1=require$$0,react_2=require$$1__default.default,reactWrapperHOC=function(_e,j,et){return react_2.default?(0,react_1.createComponent)(react_2.default,_e,j,et):function(tt){return(0,react_1.createComponent)(tt,_e,j,et)}},reactWrapperHOC_1=reactWrapperHOC;const PackageNameReact=reactWrapperHOC_1("wc-egg",WcEgg,{onCustomEvent:"custom"});return PackageNameReact})})(dist);var WcEgg=getDefaultExportFromCjs(dist.exports);const programId="program1",programName="TestProgram",config=[{id:"egg1",eggName:"2022 spring egg",eggTimes:[["2022-02-11","2022-05-14"],["2022-02-15 13:01:32","2022-02-17 12:10:23"]],modal:{timeList:[["2022-02-11","2022-05-14"]],type:"lottie",lottie:{path:"https://tosv.byted.org/obj/eden-internal/uhyuhalo/remote/images/modal.json",loop:!1},img:{url:"https://t8.baidu.com/it/u=140853020,441746622&fm=167&app=3000&f=JPEG&fmt=auto&q=100&size=f720_560"}}},{id:"egg2",eggName:"2023 spring egg",eggTimes:[["2022-02-17 12:11:00","2022-05-26"]],modal:{timeList:[["2022-02-17 12:11:00","2022-02-25"],["2022-02-20","2022-05-26"]],type:"lottie",lottie:{path:"https://tosv.byted.org/obj/eden-internal/uhyuhalo/remote/images/modal2.json",loop:!1},img:{url:"https://t8.baidu.com/it/u=140853020,441746622&fm=167&app=3000&f=JPEG&fmt=auto&q=100&size=f720_560"}}}];var eggConfig={programId,programName,config};const WcEggP=react.exports.memo(()=>jsx(WcEgg,{config:eggConfig}));var __glob_1_18=Object.freeze(Object.defineProperty({__proto__:null,default:WcEggP},Symbol.toStringTag,{value:"Module"}));const getKeyPathStartPos=_e=>{if(!_e||!_e.length)return 0;const j=_e.includes("pages")?"pages":"views";return _e.indexOf(j)},routerFilter=(_e,j)=>{const et=j.split("/"),tt=et.slice(getKeyPathStartPos(et)+1,-1)[0];return _e.includes(tt)},getModules=(_e=[])=>{const j={"../../pages/cron/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_0}),void 0),"../../pages/d3-force/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_1}),void 0),"../../pages/main/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_2}),void 0),"../../pages/matter-js/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_3}),void 0),"../../pages/pixi-js/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_4}),void 0),"../../pages/socket/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_5}),void 0),"../../pages/test/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_6}),void 0),"../../pages/three-js/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_7}),void 0),"../../pages/web-component/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_8}),void 0),"../../pages/web-sitemap/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_9}),void 0),"../../pages/matter-js/scene/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_10}),void 0),"../../pages/pixi-js/scene/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_11}),void 0),"../../pages/socket/chat-room/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_12}),void 0),"../../pages/socket/game-demo/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_13}),void 0),"../../pages/socket/socket-init-demo/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_14}),void 0),"../../pages/three-js/example-scene/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_15}),void 0),"../../pages/three-js/line-scene/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_16}),void 0),"../../pages/web-component/wc-d3-force/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_17}),void 0),"../../pages/web-component/wc-egg/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(function(){return __glob_1_18}),void 0)};let et={};if(!j)return et;for(const tt in j)!routerFilter(_e,tt)&&!tt.includes("components")&&Reflect.set(et,tt,j[tt]);return et},getComponents=()=>{const _e={"../../pages/cron/index.tsx":__glob_1_0,"../../pages/d3-force/index.tsx":__glob_1_1,"../../pages/main/index.tsx":__glob_1_2,"../../pages/matter-js/index.tsx":__glob_1_3,"../../pages/pixi-js/index.tsx":__glob_1_4,"../../pages/socket/index.tsx":__glob_1_5,"../../pages/test/index.tsx":__glob_1_6,"../../pages/three-js/index.tsx":__glob_1_7,"../../pages/web-component/index.tsx":__glob_1_8,"../../pages/web-sitemap/index.tsx":__glob_1_9,"../../pages/matter-js/scene/index.tsx":__glob_1_10,"../../pages/pixi-js/scene/index.tsx":__glob_1_11,"../../pages/socket/chat-room/index.tsx":__glob_1_12,"../../pages/socket/game-demo/index.tsx":__glob_1_13,"../../pages/socket/socket-init-demo/index.tsx":__glob_1_14,"../../pages/three-js/example-scene/index.tsx":__glob_1_15,"../../pages/three-js/line-scene/index.tsx":__glob_1_16,"../../pages/web-component/wc-d3-force/index.tsx":__glob_1_17,"../../pages/web-component/wc-egg/index.tsx":__glob_1_18};let j={};if(!_e)return j;for(const et in _e)et.includes("components")||Reflect.set(j,et,_e[et]);return j},serializeRoutes=_e=>{_e=Object.values(_e);const j=[..._e];for(;j.length;){const et=j.pop();Reflect.get(et,subRoutesKey)&&(Reflect.set(et,subRoutesKey,Object.values(Reflect.get(et,subRoutesKey))),j.push(...Reflect.get(et,subRoutesKey)))}return _e},getRoutes=(_e=[])=>{var nt,rt,it;let j=[];const et=getModules(_e),tt=getComponents();for(const st in et){if(!tt[st])return[];const at=st.split("/"),ot=at.slice(getKeyPathStartPos(at)+1,-1);let lt=ot.join(`/${subRoutesKey}/`).split("/");const{name:ut="",isAutoRegisterRoute:ct=!0,dynamicRouteParams:ht,redirectUri:pt,exact:gt=!0}=(it=(rt=(nt=tt[st])==null?void 0:nt.default)==null?void 0:rt.type)!=null?it:{};if(ct){const vt={key:`${prefixStr}${ot.join("-")}`,path:`${baseUrl}/${ot.join("/")}`,name:ut,component:react.exports.lazy(et[st]),exact:gt},ft=!!(ht!=null&&ht.length);if(ft&&(vt.path=`${baseUrl}/${ot.join("/")}/:${ht.join("/:")}`),pt)if(ft){const mt={key:`redirect-${ot.join("-")}`,path:`${baseUrl}/${ot.join("/")}`,name:st},xt=`${baseUrl}/${ot.join("/")}/${pt}`;Reflect.set(mt,"redirect",xt),lodash.exports.set(j,"",mt)}else{const mt=`${baseUrl}/${ot.join("/")}/${pt}`;Reflect.set(vt,"redirect",mt)}lodash.exports.set(j,lt,vt)}}return serializeRoutes(j)},blackRouterList=[],routes=[...getRoutes(blackRouterList),{path:"*",render:()=>jsx(Redirect,{to:"/demo/main"})}];console.log("routes",routes);const App=()=>jsx(react.exports.Suspense,{fallback:jsx("div",{children:"\u52A0\u8F7D\u4E2D..."}),children:jsx(BrowserRouter,{children:renderRoutes(routes)})});var App$1=react.exports.memo(App),index="";ReactDOM.render(jsx(App$1,{}),document.getElementById("root"))});export default gS();
